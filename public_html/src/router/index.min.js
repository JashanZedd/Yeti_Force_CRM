/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */
import e from"./routes.min.js";import s from"/src/store/getters.min.js";Vue.use(VueRouter);export default function({store:r}){const o=new VueRouter({scrollBehavior:()=>({y:0}),routes:e,mode:"hash",base:"/"});return o.beforeEach((e,o,n)=>{Quasar.plugins.Loading.show({spinner:Quasar.components.QSpinnerGears});let t=r.getters[s.Core.Users.isLoggedIn];void 0===t&&(t=window.env.Users.isLoggedIn),t||e.path.startsWith("/core/users/login")?n():n({name:"Core.Users.Login"})}),o.afterEach(()=>{Quasar.plugins.Loading.hide()}),o}