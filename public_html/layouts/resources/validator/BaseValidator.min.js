"use strict";jQuery.Class("Vtiger_Base_Validator_Js",{moduleName:!1,invokeValidation:function(field,rules,k,options){if(void 0===options||!0!==options.isError)for(var listOfValidators=Vtiger_Base_Validator_Js.getValidator(field),i=0;i<listOfValidators.length;i++){var validatorList=listOfValidators[i],validatorInstance=new(0,validatorList.name);if(validatorInstance.setElement(field),!(validatorList.hasOwnProperty("params")?validatorInstance.validate(validatorList.params):validatorInstance.validate()))return validatorInstance.getError()}},getValidator:function(field){var listOfValidators=[],fieldData=field.data(),fieldInfo=fieldData.fieldinfo;"string"==typeof fieldInfo&&(fieldInfo=JSON.parse(fieldInfo));var moduleEle=field.closest("form").find('[name="module"]');!1===Vtiger_Base_Validator_Js.moduleName&&moduleEle.length>0&&(Vtiger_Base_Validator_Js.moduleName=moduleEle.val());var fieldInstance=Vtiger_Field_Js.getInstance(fieldInfo),validatorsOfType=Vtiger_Base_Validator_Js.getValidatorsFromFieldType(fieldInstance),key=void 0,value=void 0;for(key in validatorsOfType)validatorsOfType.hasOwnProperty(key)&&""!==(value=validatorsOfType[key])&&listOfValidators.push({name:value});if(fieldData.hasOwnProperty("validator")){var specialValidators=fieldData.validator;for(key in specialValidators)if(specialValidators.hasOwnProperty(key)){var specialValidator=specialValidators[key],tempSpecialValidator=jQuery.extend({},specialValidator),validatorOfNames=Vtiger_Base_Validator_Js.getValidatorClassName(specialValidator.name);""!==validatorOfNames&&(tempSpecialValidator.name=validatorOfNames,jQuery.isEmptyObject(tempSpecialValidator)||listOfValidators.push(tempSpecialValidator))}}return listOfValidators},getValidatorsFromFieldType:function(fieldInstance){var fieldType=fieldInstance.getType(),validatorsOfType=[];return fieldType=fieldType.charAt(0).toUpperCase()+fieldType.slice(1).toLowerCase(),validatorsOfType.push(Vtiger_Base_Validator_Js.getValidatorClassName(fieldType)),validatorsOfType},getValidatorClassName:function(validatorName){var validatorsOfType="",className=Vtiger_Base_Validator_Js.getClassName(validatorName),fallBackClassName=Vtiger_Base_Validator_Js.getFallBackClassName(validatorName);return void 0!==window[className]?validatorsOfType=window[className]:void 0!==window[fallBackClassName]&&(validatorsOfType=window[fallBackClassName]),validatorsOfType},getClassName:function(validatorName){return(0!=Vtiger_Base_Validator_Js.moduleName?Vtiger_Base_Validator_Js.moduleName:app.getModuleName())+"_"+validatorName+"_Validator_Js"},getFallBackClassName:function(validatorName){return"Vtiger_"+validatorName+"_Validator_Js"}},{field:"",error:"",validate:function(){return!0},getError:function(){return null!=this.error?this.error:"Validation Failed"},setError:function(errorInfo){return this.error=errorInfo,this},setElement:function(field){return this.field=field,this},getElement:function(){return this.field},getFieldValue:function(){var field=this.getElement();return jQuery.trim(field.val())}});
//# sourceMappingURL=BaseValidator.min.js.map
