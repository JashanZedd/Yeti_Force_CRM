'use strict';

jQuery.Class("Vtiger_Base_Validator_Js",{moduleName:!1,invokeValidation:function g(a,b,c,d){if("undefined"==typeof d||!0!==d.isError)for(var e=Vtiger_Base_Validator_Js.getValidator(a),f=0;f<e.length;f++){var h=e[f],j=h.name,k=new j,l=void 0;if(k.setElement(a),l=h.hasOwnProperty("params")?k.validate(h.params):k.validate(),!l)return k.getError()}},getValidator:function m(a){var b=[],c=a.data(),d=c.fieldinfo;"string"==typeof d&&(d=JSON.parse(d));var e=a.closest("form").find("[name=\"module\"]");!1===Vtiger_Base_Validator_Js.moduleName&&0<e.length&&(Vtiger_Base_Validator_Js.moduleName=e.val());var f,g,h=Vtiger_Field_Js.getInstance(d),i=Vtiger_Base_Validator_Js.getValidatorsFromFieldType(h);for(f in i)i.hasOwnProperty(f)&&(g=i[f],""!==g&&b.push({name:g}));if(c.hasOwnProperty("validator")){var n=c.validator;for(f in n)if(n.hasOwnProperty(f)){var j=n[f],k=jQuery.extend({},j),l=Vtiger_Base_Validator_Js.getValidatorClassName(j.name);""!==l&&(k.name=l,!jQuery.isEmptyObject(k)&&b.push(k));}}return b},getValidatorsFromFieldType:function d(a){var b=a.getType(),c=[];return b=b.charAt(0).toUpperCase()+b.slice(1).toLowerCase(),c.push(Vtiger_Base_Validator_Js.getValidatorClassName(b)),c},getValidatorClassName:function e(a){var b="",c=Vtiger_Base_Validator_Js.getClassName(a),d=Vtiger_Base_Validator_Js.getFallBackClassName(a);return "undefined"==typeof window[c]?"undefined"!=typeof window[d]&&(b=window[d]):b=window[c],b},getClassName:function c(a){var b;return b=!1==Vtiger_Base_Validator_Js.moduleName?app.getModuleName():Vtiger_Base_Validator_Js.moduleName,"Events"===b&&(b="Calendar"),b+"_"+a+"_Validator_Js"},getFallBackClassName:function b(a){return "Vtiger_"+a+"_Validator_Js"}},{field:"",error:"",validate:function a(){return !0},getError:function a(){return null==this.error?"Validation Failed":this.error},setError:function b(a){return this.error=a,this},setElement:function b(a){return this.field=a,this},getElement:function a(){return this.field},getFieldValue:function b(){var a=this.getElement();return jQuery.trim(a.val())}});
//# sourceMappingURL=BaseValidator.min.js.map
