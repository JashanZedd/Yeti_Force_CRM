{"version":3,"file":"FieldValidator.min.js","sources":["FieldValidator.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce Sp. z o.o.\n *************************************************************************************/\n'use strict';\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Email_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar emailInstance = new Vtiger_Email_Validator_Js();\n\t\t\temailInstance.setElement(field);\n\t\t\tvar response = emailInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn emailInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t *Overwrites base function to avoid trimming and validate white spaces\n\t\t * @return fieldValue\n\t\t * */\n\t\tgetFieldValue: function() {\n\t\t\treturn this.getElement().val();\n\t\t},\n\t\t/**\n\t\t * Function to validate the email field data\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\t/**\n\t\t * Function to validate the email field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidateValue: function(fieldValue) {\n\t\t\tvar emailFilter = /^[_/a-zA-Z0-9*]+([!\"#$%&'()*+,./:;<=>?\\^_`{|}~-]?[a-zA-Z0-9/_/-])*@[a-zA-Z0-9]+([\\_\\-\\.]?[a-zA-Z0-9]+)*\\.([\\-\\_]?[a-zA-Z0-9])+(\\.?[a-zA-Z0-9]+)?$/;\n\t\t\tvar illegalChars = /[\\(\\)\\<\\>\\,\\;\\:\\\\\\\"\\[\\]]/;\n\n\t\t\tif (!emailFilter.test(fieldValue)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_PLEASE_ENTER_VALID_EMAIL_ADDRESS'));\n\t\t\t\treturn false;\n\t\t\t} else if (fieldValue.match(illegalChars)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tif (\n\t\t\t\tfieldInfo &&\n\t\t\t\tfieldInfo.restrictedDomains &&\n\t\t\t\tfieldInfo.restrictedDomains.indexOf(fieldValue.split('@').pop()) !== -1\n\t\t\t) {\n\t\t\t\tthis.setError(app.vtranslate('JS_EMAIL_RESTRICTED_DOMAINS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Phone_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the phone field data\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\t/**\n\t\t * Function to validate the phone field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidateValue: function(fieldValue) {\n\t\t\tif (fieldValue == '') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar form = field.closest('form');\n\t\t\tvar fieldData = field.data();\n\t\t\tvar result = true;\n\t\t\tif (fieldData.advancedVerification == 1) {\n\t\t\t\tvar thisInstance = this;\n\t\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\t\tvar group = field.closest('.input-group');\n\t\t\t\tvar phoneCountryList = group.find('.phoneCountryList');\n\t\t\t\tfield.attr('readonly', true);\n\t\t\t\tlet moduleName = form.find('[name=\"module\"]').length\n\t\t\t\t\t? form.find('[name=\"module\"]').val()\n\t\t\t\t\t: app.getModuleName();\n\t\t\t\tif (moduleName === 'LayoutEditor') {\n\t\t\t\t\tmoduleName = $('#selectedModuleName').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\tmode: 'verifyPhoneNumber',\n\t\t\t\t\t\tfieldName: fieldInfo.name,\n\t\t\t\t\t\tphoneNumber: fieldValue,\n\t\t\t\t\t\tphoneCountry: phoneCountryList.val()\n\t\t\t\t\t}\n\t\t\t\t}).done(function(data) {\n\t\t\t\t\tif (data.result.isValidNumber == false) {\n\t\t\t\t\t\tthisInstance.setError(data.result.message);\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfield.val(data.result.number);\n\t\t\t\t\t\tfield.attr('title', data.result.geocoding + ' ' + data.result.carrier);\n\t\t\t\t\t\tif (phoneCountryList.val() != data.result.country) {\n\t\t\t\t\t\t\tphoneCountryList.val(data.result.country).trigger('change');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfield.attr('readonly', false);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_UserName_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tlet usernameInstance = new Vtiger_UserName_Validator_Js();\n\t\t\tusernameInstance.setElement(field);\n\t\t\tlet response = usernameInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn usernameInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the User Name\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\tlet fieldData = this.getElement().data();\n\t\t\tconst maximumLength =\n\t\t\t\ttypeof fieldData.fieldinfo !== 'undefined' ? fieldData.fieldinfo.maximumlength : '3,64';\n\t\t\tlet ranges = maximumLength.split(',');\n\t\t\tif (fieldValue.length < parseInt(ranges[0])) {\n\t\t\t\tthis.setError(app.vtranslate('JS_ENTERED_VALUE_IS_TOO_SHORT'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (fieldValue.length > parseInt(ranges[1])) {\n\t\t\t\tthis.setError(app.vtranslate('JS_ENTERED_VALUE_IS_TOO_LONG'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet negativeRegex = /^[a-zA-Z0-9_.@-]+$/;\n\t\t\tif (!negativeRegex.test(fieldValue)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Integer_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar integerInstance = new Vtiger_Integer_Validator_Js();\n\t\t\tintegerInstance.setElement(field);\n\t\t\tvar response = integerInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn integerInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Integre field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet fieldValue = this.getFieldValue(),\n\t\t\t\tgroupSeperator = CONFIG.currencyGroupingSeparator,\n\t\t\t\tintegerRegex = new RegExp('(^[-+]?[\\\\d\\\\' + groupSeperator + ']+)$', 'g');\n\t\t\tif (!fieldValue.match(integerRegex)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_INTEGER_VALUE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet fieldInfo = this.getElement().data().fieldinfo;\n\t\t\tif (!fieldInfo || !fieldInfo.maximumlength) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet ranges = fieldInfo.maximumlength.split(',');\n\t\t\tif (ranges.length === 2) {\n\t\t\t\tif (fieldValue > parseFloat(ranges[1]) || fieldValue < parseFloat(ranges[0])) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (fieldValue > parseFloat(ranges[0]) || fieldValue < 0) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Double_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar doubleValidator = new Vtiger_Double_Validator_Js();\n\t\t\tdoubleValidator.setElement(field);\n\t\t\tvar response = doubleValidator.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn doubleValidator.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Decimal field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response === true) {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tvar doubleRegex = /(^[-+]?\\d+)(\\.\\d+)?$/;\n\t\t\t\tif (!fieldValue.toString().match(doubleRegex)) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_DECIMAL_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet fieldInfo = this.getElement().data().fieldinfo;\n\t\t\t\tif (!fieldInfo || !fieldInfo.maximumlength) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tlet maximumLength = fieldInfo.maximumlength;\n\t\t\t\tfieldValue = parseFloat(fieldValue);\n\t\t\t\tif (fieldValue > parseFloat(maximumLength) || fieldValue < -parseFloat(maximumLength)) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn response;\n\t\t},\n\t\t/**\n\t\t * Overwrites base function to avoid trimming and validate white spaces\n\t\t * @return fieldValue\n\t\t * */\n\t\tgetFieldValue: function() {\n\t\t\treturn App.Fields.Double.formatToDb(this.getElement().val());\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_PositiveNumber_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar positiveNumberInstance = new Vtiger_PositiveNumber_Validator_Js();\n\t\t\tpositiveNumberInstance.setElement(field);\n\t\t\tvar response = positiveNumberInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn positiveNumberInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar response = this._super();\n\t\t\tif (response !== true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tvar negativeRegex = /(^[-]+\\d+)$/;\n\t\t\tvar parseFieldValue = App.Fields.Double.formatToDb(this.getFieldValue());\n\t\t\tif (isNaN(parseFieldValue) || fieldValue < 0 || fieldValue.match(negativeRegex)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_ACCEPT_POSITIVE_NUMBER');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar maximumLength = null;\n\t\t\tif (this.getElement().data().fieldinfo) {\n\t\t\t\tmaximumLength = this.getElement().data().fieldinfo.maximumlength;\n\t\t\t} else {\n\t\t\t\tmaximumLength = this.getElement().data('maximumlength');\n\t\t\t}\n\t\t\tif (!maximumLength) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tlet ranges = maximumLength.split(',');\n\t\t\tif (ranges.length === 2) {\n\t\t\t\tif (fieldValue > parseFloat(ranges[1]) || fieldValue < parseFloat(ranges[0])) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (fieldValue > parseFloat(ranges[0]) || fieldValue < 0) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_PositiveNumber_Validator_Js(\n\t'Vtiger_Percentage_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar percentageInstance = new Vtiger_Percentage_Validator_Js();\n\t\t\tpercentageInstance.setElement(field);\n\t\t\tvar response = percentageInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn percentageInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the percentage field data\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate() {\n\t\t\tconst response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tif (App.Fields.Double.formatToDb(this.getFieldValue()) > 100) {\n\t\t\t\t\tthis.setError(app.vtranslate('JS_PERCENTAGE_VALUE_SHOULD_BE_LESS_THAN_100'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Url_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar validatorInstance = new Vtiger_Url_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tconst result = validatorInstance.validate();\n\t\t\tif (result === true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Url\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tvar regexp = /(^|\\s)((https?:\\/\\/)?[\\w-]+(\\.[\\w-]+)+\\.?(:\\d+)?(\\/\\S*)?)/gi;\n\t\t\tvar result = regexp.test(fieldValue);\n\t\t\tif (!result) {\n\t\t\t\tif (\n\t\t\t\t\tfieldValue.indexOf('http://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('https://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('ftp://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('ftps://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('telnet://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('smb://') === 0 ||\n\t\t\t\t\tfieldValue.indexOf('www.') === 0\n\t\t\t\t) {\n\t\t\t\t\tresult = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!result) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'); //\"Please enter valid url\";\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_MultiSelect_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar validatorInstance = new Vtiger_MultiSelect_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi select\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldInstance = this.getElement();\n\t\t\tvar selectElementValue = fieldInstance.val();\n\t\t\tif (selectElementValue == null) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_OPTION');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Email_Validator_Js(\n\t'Vtiger_MultiEmails_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field) {\n\t\t\tvar validatorInstance = new Vtiger_MultiEmails_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (!result) {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi select\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldInstance = this.getElement();\n\t\t\tvar fieldInstanceValue = fieldInstance.val();\n\t\t\tif (fieldInstanceValue != '') {\n\t\t\t\tvar emailsArr = fieldInstanceValue.split(',');\n\t\t\t\tvar i;\n\t\t\t\tfor (i = 0; i < emailsArr.length; ++i) {\n\t\t\t\t\tvar result = this.validateValue(emailsArr[i]);\n\t\t\t\t\tif (result == false) {\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_MultiDomain_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst validatorInstance = new Vtiger_MultiDomain_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tconst result = validatorInstance.validate();\n\t\t\tif (result === true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi Domain select\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate() {\n\t\t\tconst fieldInstance = this.getElement();\n\t\t\tconst selectElementValue = fieldInstance.val();\n\t\t\tif (Array.isArray(selectElementValue)) {\n\t\t\t\tfor (let value of selectElementValue) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tvalue &&\n\t\t\t\t\t\t!/(?:[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]/iu.test(value)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.setError(app.vtranslate('JS_PLEASE_SELECT_VALID_DOMAIN_NAMES'));\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Double_Validator_Js(\n\t'Vtiger_GreaterThanZero_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar GreaterThanZeroInstance = new Vtiger_GreaterThanZero_Validator_Js();\n\t\t\tGreaterThanZeroInstance.setElement(field);\n\t\t\tvar response = GreaterThanZeroInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn GreaterThanZeroInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and greater than zero value\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue <= 0) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_VALUE_SHOULD_BE_GREATER_THAN_ZERO');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_PositiveNumber_Validator_Js(\n\t'Vtiger_WholeNumber_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_WholeNumber_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return boolean true if validation is successful or false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response !== true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tlet field = this.getElement(),\n\t\t\t\tfieldValue = this.getFieldValue(),\n\t\t\t\tfieldData = field.data(),\n\t\t\t\tfieldInfo = fieldData.fieldinfo,\n\t\t\t\terrorInfo;\n\t\t\tif (fieldValue % 1 !== 0) {\n\t\t\t\tif (!jQuery.isEmptyObject(fieldInfo)) {\n\t\t\t\t\terrorInfo = app.vtranslate('INVALID_NUMBER_OF') + ' ' + fieldInfo.label;\n\t\t\t\t} else {\n\t\t\t\t\terrorInfo = app.vtranslate('INVALID_NUMBER');\n\t\t\t\t}\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal <= 0) {\n\t\t\t\tvar errorInfo = fieldInfo.label + ' ' + app.vtranslate('JS_SHOULD_BE_LESS_THAN_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanOrEqualToToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the datesold field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal < 0) {\n\t\t\t\tvar errorInfo =\n\t\t\t\t\tfieldInfo.label +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.vtranslate('JS_SHOULD_BE_LESS_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.vtranslate('JS_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_greaterThanOrEqualToToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the dateinservice field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal > 0) {\n\t\t\t\tvar errorInfo =\n\t\t\t\t\tfieldInfo.label +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.vtranslate('JS_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t' ' +\n\t\t\t\t\tapp.vtranslate('JS_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_greaterThanDependentField_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar fieldForValidation = field[0];\n\t\t\tif (jQuery(fieldForValidation).attr('name') == 'followup_date_start') {\n\t\t\t\tvar dependentFieldList = new Array('date_start');\n\t\t\t}\n\t\t\tvar instance = new Vtiger_greaterThanDependentField_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate(dependentFieldList);\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function(dependentFieldList) {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldInfo = field.data('fieldinfo');\n\t\t\tvar fieldLabel;\n\t\t\tif (typeof fieldInfo === 'undefined') {\n\t\t\t\tfieldLabel = jQuery(field).attr('name');\n\t\t\t} else {\n\t\t\t\tfieldLabel = fieldInfo.label;\n\t\t\t}\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\tvar fieldDateInstance = this.getDateTimeInstance(field);\n\t\t\t\t\tvar dependentFieldDateInstance = this.getDateTimeInstance(dependentFieldInContext);\n\t\t\t\t\tvar comparedDateVal = fieldDateInstance - dependentFieldDateInstance;\n\t\t\t\t\tif (comparedDateVal < 0) {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_SHOULD_BE_GREATER_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tdependentFieldLabel +\n\t\t\t\t\t\t\t'';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tgetDateTimeInstance: function(field) {\n\t\t\tvar dateFormat = field.data('dateFormat');\n\t\t\tvar fieldValue = field.val();\n\t\t\ttry {\n\t\t\t\tvar dateTimeInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn dateTimeInstance;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_dateAndTimeGreaterThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\tfieldDateTime: '',\n\t\tfieldDateTimeInstance: [],\n\t\tdateFormat: '',\n\t\t/**\n\t\t * Function to validate the date field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function(dependentFieldList) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldDateTime = '';\n\t\t\tvar fieldDateTimeInstance = [];\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tvar view = contextFormElem.attr('name');\n\t\t\tif (view == 'EditView') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar j = 0;\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tif (typeof dependentFieldInContext.data('dateFormat') === 'undefined' && fieldDateTime) {\n\t\t\t\t\t\tfieldDateTime += ' ' + dependentFieldInContext.val();\n\t\t\t\t\t\tfieldDateTimeInstance[j] = Vtiger_Helper_Js.getDateInstance(fieldDateTime, dateFormat);\n\t\t\t\t\t\tj++;\n\t\t\t\t\t} else if (typeof dependentFieldInContext.data('dateFormat') !== 'undefined') {\n\t\t\t\t\t\tvar dateFormat = dependentFieldInContext.data('dateFormat');\n\t\t\t\t\t\tfieldDateTime = dependentFieldInContext.val();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisInstance.difference(fieldDateTimeInstance);\n\t\t},\n\t\tdifference: function(fieldDateTimeInstance) {\n\t\t\tif (fieldDateTimeInstance.length == 2) {\n\t\t\t\tvar comparedDateVal = fieldDateTimeInstance[1] - fieldDateTimeInstance[0];\n\t\t\t\tif (comparedDateVal < 0) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_AN_INCORRECT_RANGE_OF_DATES_WAS_ENTERED');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_futureEventCannotBeHeld_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate event status , which cannot be held for future events\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function(dependentFieldList) {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldLabel = field.data('fieldinfo').label;\n\t\t\tvar status = field.val();\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\tvar todayDateInstance = new Date();\n\t\t\t\t\tvar dateFormat = dependentFieldInContext.data('dateFormat');\n\t\t\t\t\tvar time = jQuery('input[name=time_start]', contextFormElem);\n\t\t\t\t\tvar fieldValue = dependentFieldInContext.val() + ' ' + time.val();\n\t\t\t\t\tvar dependentFieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t\t\tvar comparedDateVal = todayDateInstance - dependentFieldDateInstance;\n\t\t\t\t\tif (comparedDateVal < 0 && status == 'Held') {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_FUTURE_EVENT_CANNOT_BE_HELD') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tdependentFieldLabel +\n\t\t\t\t\t\t\t'';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_lessThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function(dependentFieldList) {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldLabel = field.data('fieldinfo').label;\n\t\t\tvar contextFormElem = field.closest('form');\n\t\t\t//No need to validate if value is empty\n\t\t\tif (field.val().length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < dependentFieldList.length; i++) {\n\t\t\t\tvar dependentField = dependentFieldList[i];\n\t\t\t\tvar dependentFieldInContext = jQuery('input[name=' + dependentField + ']', contextFormElem);\n\t\t\t\tif (dependentFieldInContext.length > 0) {\n\t\t\t\t\tvar dependentFieldLabel = dependentFieldInContext.data('fieldinfo').label;\n\t\t\t\t\tvar fieldDateInstance = this.getDateTimeInstance(field);\n\t\t\t\t\t//No need to validate if value is empty\n\t\t\t\t\tif (dependentFieldInContext.val().length == 0) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar dependentFieldDateInstance = this.getDateTimeInstance(dependentFieldInContext);\n\t\t\t\t\tvar comparedDateVal = fieldDateInstance - dependentFieldDateInstance;\n\t\t\t\t\tif (comparedDateVal > 0) {\n\t\t\t\t\t\tvar errorInfo =\n\t\t\t\t\t\t\tfieldLabel +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_SHOULD_BE_LESS_THAN_OR_EQUAL_TO') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tdependentFieldLabel +\n\t\t\t\t\t\t\t'';\n\t\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tgetDateTimeInstance: function(field) {\n\t\t\tvar dateFormat = field.data('dateFormat');\n\t\t\tvar fieldValue = field.val();\n\t\t\ttry {\n\t\t\t\tvar dateTimeInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, dateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn dateTimeInstance;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Currency_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar currencyValidatorInstance = new Vtiger_Currency_Validator_Js();\n\t\t\tcurrencyValidatorInstance.setElement(field);\n\t\t\tvar response = currencyValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn currencyValidatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Currency Field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tlet fieldData = this.getElement().data();\n\t\t\tlet decimalSeparator = fieldData.decimalSeparator\n\t\t\t\t? fieldData.decimalSeparator\n\t\t\t\t: CONFIG.currencyDecimalSeparator;\n\t\t\tlet groupSeparator = fieldData.groupSeparator ? fieldData.groupSeparator : CONFIG.currencyGroupingSeparator;\n\n\t\t\tlet strippedValue = this.getFieldValue().replace(decimalSeparator, '');\n\t\t\tlet spacePattern = /\\s/;\n\t\t\tif (spacePattern.test(decimalSeparator) || spacePattern.test(groupSeparator))\n\t\t\t\tstrippedValue = strippedValue.replace(/ /g, '');\n\t\t\tlet errorInfo;\n\n\t\t\tif (groupSeparator === '$') {\n\t\t\t\tgroupSeparator = '\\\\$';\n\t\t\t}\n\t\t\tif (groupSeparator === '.') {\n\t\t\t\tgroupSeparator = '\\\\.';\n\t\t\t}\n\t\t\tlet regex = new RegExp(groupSeparator, 'g');\n\t\t\tstrippedValue = strippedValue.replace(regex, '');\n\t\t\t//Note: Need to review if we should allow only positive values in currencies\n\t\t\t/*if(strippedValue < 0){\n\t\t var errorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');//\"currency value should be greater than or equal to zero\";\n\t\t this.setError(errorInfo);\n\t\t return false;\n\t\t }*/\n\t\t\tif (isNaN(strippedValue)) {\n\t\t\t\terrorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (strippedValue < 0) {\n\t\t\t\terrorInfo = app.vtranslate('JS_ACCEPT_POSITIVE_NUMBER');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst maximumLength = typeof fieldData.fieldinfo !== 'undefined' ? fieldData.fieldinfo.maximumlength : null;\n\t\t\tif (maximumLength && strippedValue > parseFloat(maximumLength)) {\n\t\t\t\terrorInfo = app.vtranslate('JS_ERROR_MAX_VALUE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Currency_Validator_Js('Vtiger_NumberUserFormat_Validator_Js', {\n\t/**\n\t *Function which invokes field validation\n\t * @param accepts field element as parameter\n\t * @return error if validation fails true on success\n\t */\n\tinvokeValidation: function(field, rules, i, options) {\n\t\tlet instance = new Vtiger_Currency_Validator_Js();\n\t\tinstance.setElement(field);\n\t\tif (instance.validate() !== true) {\n\t\t\treturn instance.getError();\n\t\t}\n\t}\n});\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_ReferenceField_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar parentElement = field.closest('.fieldValue');\n\t\t\tvar referenceField = parentElement.find('.sourceField');\n\t\t\tvar referenceFieldValue = referenceField.val();\n\t\t\tif (referenceFieldValue == '') {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_REQUIRED_FIELD');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Date_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar dateValidatorInstance = new Vtiger_Date_Validator_Js();\n\t\t\tdateValidatorInstance.setElement(field);\n\t\t\tvar response = dateValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn dateValidatorInstance.getError();\n\t\t\t}\n\t\t\treturn response;\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tif (fieldData.calendarType === 'range') {\n\t\t\t\t\tfieldValue = fieldValue.split(',');\n\t\t\t\t\tif (fieldValue.length !== 2) {\n\t\t\t\t\t\tthrow new Error();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfieldValue = [fieldValue];\n\t\t\t\t}\n\t\t\t\tfieldValue.forEach(key => {\n\t\t\t\t\tVtiger_Helper_Js.getDateInstance(key, fieldDateFormat);\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_VALID_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Date_Validator_Js('Vtiger_Datetime_Validator_Js', {}, {});\nVtiger_Base_Validator_Js(\n\t'Vtiger_Time_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar validatorInstance = new Vtiger_Time_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tvar result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Time Fields\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet format = CONFIG.hourFormat;\n\t\t\tif (this.field.data('format') && [12, 24].indexOf(this.field.data('format')) != -1) {\n\t\t\t\tformat = this.field.data('format');\n\t\t\t}\n\t\t\tlet regexp = '';\n\t\t\tswitch (format) {\n\t\t\t\tcase 12:\n\t\t\t\t\tregexp = new RegExp('^([0][0-9]|1[0-2]):([0-5][0-9])([ ]PM|[ ]AM|PM|AM)$');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tregexp = new RegExp('^(2[0-3]|[0][0-9]|1[0-9]):([0-5][0-9])$');\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (!regexp.test(this.getFieldValue())) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_VALID_TIME');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_Twitter_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param {jQuery} field - accepts field element as parameter\n\t\t * @return string|true - error text if validation fails, true on success\n\t\t */\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tlet validatorInstance = new Vtiger_Twitter_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tlet result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Twwiter Account\n\t\t * @return bool true if validation is successfull\n\t\t */\n\t\tvalidate() {\n\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\tif (!fieldValue.match(/^[a-zA-Z0-9_]{1,15}$/g)) {\n\t\t\t\tthis.setError(app.vtranslate('JS_PLEASE_ENTER_VALID_TWITTER_ACCOUNT'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Email_Validator_Js(\n\t'Vtiger_MultiEmail_Validator_Js',\n\t{\n\t\t/**\n\t\t * Function which invokes field validation\n\t\t * @param {jQuery} field - accepts field element as parameter\n\t\t * @return string|true - error text if validation fails, true on success\n\t\t */\n\t\tinvokeValidation(field) {\n\t\t\tlet validatorInstance = new Vtiger_MultiEmail_Validator_Js();\n\t\t\tvalidatorInstance.setElement(field);\n\t\t\tlet result = validatorInstance.validate();\n\t\t\tif (result == true) {\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn validatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Multi email. Check if the email address is duplicated.\n\t\t * @return bool true if validation is successfull\n\t\t */\n\t\tvalidate() {\n\t\t\tlet fieldValue = this.getFieldValue();\n\t\t\tif (fieldValue === '') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (this.validateValue(fieldValue) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet allFields = $(this.field)\n\t\t\t\t.closest('div.js-multi-email')\n\t\t\t\t.eq(0)\n\t\t\t\t.find('[class*=js-multi-email-row]');\n\t\t\tlet arrayLength = allFields.length;\n\t\t\tfor (let i = 0; i < arrayLength; ++i) {\n\t\t\t\tlet inputField = $(allFields[i])\n\t\t\t\t\t.find('input.js-email')\n\t\t\t\t\t.eq(0);\n\t\t\t\tif (inputField.val() === '') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet inputClass1 = $(allFields[i])\n\t\t\t\t\t.closest('div[class*=js-multi-email-row-]')\n\t\t\t\t\t.eq(0)\n\t\t\t\t\t.attr('class');\n\t\t\t\tlet inputClass2 = $(this.field)\n\t\t\t\t\t.closest('div[class*=js-multi-email-row-]')\n\t\t\t\t\t.eq(0)\n\t\t\t\t\t.attr('class');\n\t\t\t\tif (inputClass1 !== inputClass2 && inputField.val() === fieldValue) {\n\t\t\t\t\tthis.setError(app.vtranslate('JS_EMAIL_DUPLICATED'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\n//Calendar Specific validators\n// We have placed it here since quick create will not load module specific validators\n\nVtiger_greaterThanDependentField_Validator_Js(\n\t'Calendar_greaterThanDependentField_Validator_Js',\n\t{},\n\t{\n\t\tgetDateTimeInstance: function(field) {\n\t\t\tlet form = field.closest('form'),\n\t\t\t\ttimeField,\n\t\t\t\ttimeFieldValue;\n\t\t\tif (field.attr('name') === 'date_start') {\n\t\t\t\ttimeField = form.find('[name=\"time_start\"]');\n\t\t\t\ttimeFieldValue = timeField.val();\n\t\t\t} else if (field.attr('name') === 'due_date') {\n\t\t\t\ttimeField = form.find('[name=\"time_end\"]');\n\t\t\t\tif (timeField.length > 0) {\n\t\t\t\t\ttimeFieldValue = timeField.val();\n\t\t\t\t} else {\n\t\t\t\t\t//Max value for the day\n\t\t\t\t\ttimeFieldValue = '11:59 PM';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet dateFieldValue = field.val() + ' ' + timeFieldValue,\n\t\t\t\tdateFormat = field.data('dateFormat');\n\t\t\treturn Vtiger_Helper_Js.getDateInstance(dateFieldValue, dateFormat);\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Calendar_greaterThanToday_Validator_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to validate the birthday field\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldData = field.data();\n\t\t\tvar fieldDateFormat = fieldData.dateFormat;\n\t\t\tvar fieldInfo = fieldData.fieldinfo;\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\ttry {\n\t\t\t\tvar fieldDateInstance = Vtiger_Helper_Js.getDateInstance(fieldValue, fieldDateFormat);\n\t\t\t} catch (err) {\n\t\t\t\tthis.setError(err);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfieldDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar todayDateInstance = new Date();\n\t\t\ttodayDateInstance.setHours(0, 0, 0, 0);\n\t\t\tvar comparedDateVal = todayDateInstance - fieldDateInstance;\n\t\t\tif (comparedDateVal >= 0) {\n\t\t\t\tvar errorInfo = fieldInfo.label + ' ' + app.vtranslate('JS_SHOULD_BE_GREATER_THAN_CURRENT_DATE');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Calendar_RepeatMonthDate_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar repeatMonthDateValidatorInstance = new Calendar_RepeatMonthDate_Validator_Js();\n\t\t\trepeatMonthDateValidatorInstance.setElement(field);\n\t\t\tvar response = repeatMonthDateValidatorInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn repeatMonthDateValidatorInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and whole Number\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\n\t\t\tif (\n\t\t\t\tparseInt(parseFloat(fieldValue)) != fieldValue ||\n\t\t\t\tfieldValue == '' ||\n\t\t\t\tparseInt(fieldValue) > '31' ||\n\t\t\t\tparseInt(fieldValue) <= 0\n\t\t\t) {\n\t\t\t\tvar result = app.vtranslate('JS_NUMBER_SHOULD_BE_LESS_THAN_32');\n\t\t\t\tthis.setError(result);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_WholeNumber_Validator_Js(\n\t'Vtiger_WholeNumberGreaterThanZero_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar WholeNumberGreaterThanZero = new Vtiger_WholeNumberGreaterThanZero_Validator_Js();\n\t\t\tWholeNumberGreaterThanZero.setElement(field);\n\t\t\tvar response = WholeNumberGreaterThanZero.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn WholeNumberGreaterThanZero.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers and greater than zero value\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue == 0) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_VALUE_SHOULD_BE_GREATER_THAN_ZERO');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_AlphaNumeric_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar alphaNumericInstance = new Vtiger_AlphaNumeric_Validator_Js();\n\t\t\talphaNumericInstance.setElement(field);\n\t\t\tvar response = alphaNumericInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn alphaNumericInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tvar alphaNumericRegex = /^[a-z0-9 _-]*$/i;\n\t\t\tif (!fieldValue.match(alphaNumericRegex)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar alphaNumericInstance = new Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js();\n\t\t\talphaNumericInstance.setElement(field);\n\t\t\tvar response = alphaNumericInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn alphaNumericInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tvar alphaNumericRegex = /^[\\/a-z\\\\0-9{}: _-]*$/i;\n\t\t\tif (!fieldValue.match(alphaNumericRegex)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_InputMask_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar maskInstance = new Vtiger_InputMask_Validator_Js();\n\t\t\tmaskInstance.setElement(field);\n\t\t\tvar response = maskInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn maskInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the Positive Numbers\n\t\t * @return  boolean true if validation is successful false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response !== true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tlet field = this.getElement(),\n\t\t\t\terrorInfo;\n\t\t\tif (field.attr('data-inputmask')) {\n\t\t\t\tlet unMaskedValue = field.inputmask('unmaskedvalue'),\n\t\t\t\t\tgetMetaData = field.inputmask('getmetadata'),\n\t\t\t\t\tmaskLength =\n\t\t\t\t\t\t(getMetaData.match(/9/g) || []).length +\n\t\t\t\t\t\t(getMetaData.match(/A/g) || []).length +\n\t\t\t\t\t\t(getMetaData.match(/'*'/g) || []).length;\n\t\t\t\tif (unMaskedValue.length !== 0 && maskLength > unMaskedValue.length) {\n\t\t\t\t\terrorInfo = app.vtranslate('JS_INVALID_LENGTH');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\twindow.inputMaskValidation = true;\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\twindow.inputMaskValidation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (window.inputMaskValidation) {\n\t\t\t\terrorInfo = app.vtranslate('JS_INVALID_LENGTH');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_Textparser_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_TextParser_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate: function() {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tvar field = this.getElement();\n\t\t\tvar fieldValue = field.val();\n\t\t\tvar regex = /^\\$\\((\\w+) : ([,\"\\+\\-\\[\\]\\&\\w\\s\\|]+)\\)\\$$/;\n\t\t\tif (!regex.test(fieldValue)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_INVALID_LENGTH');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_YetiForceCompanyName_Validator_Js',\n\t{\n\t\tinvokeValidation: function(field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_YetiForceCompanyName_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate: function() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tconst field = this.getElement();\n\t\t\tconst fieldValue = field.val();\n\t\t\tif (fieldValue.toLowerCase().indexOf('yetiforce') >= 0) {\n\t\t\t\tthis.setError(app.vtranslate('JS_YETIFORCE_COMPANY_NAME_NOT_ALLOWED'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_MultiImage_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst instance = new Vtiger_MultiImage_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tif (instance.validate() != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tconst field = this.getElement();\n\t\t\tconst fieldValue = field.val();\n\t\t\tif (field.data('fieldinfo').mandatory && JSON.parse(fieldValue).length === 0) {\n\t\t\t\tthis.setError(app.vtranslate('JS_REQUIRED_FIELD'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_MaxSizeInByte_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst instance = new Vtiger_MaxSizeInByte_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tif (instance.validate() != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tvalidate() {\n\t\t\tlet response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t}\n\t\t\tconst field = this.getElement();\n\t\t\tconst fieldValue = field.val();\n\t\t\tif (\n\t\t\t\tfield.data('fieldinfo').maximumlength &&\n\t\t\t\tnew TextEncoder().encode(fieldValue).byteLength > field.data('fieldinfo').maximumlength\n\t\t\t) {\n\t\t\t\tthis.setError(\n\t\t\t\t\tapp.vtranslate('JS_MAXIMUM_TEXT_SIZE_IN_BYTES') + ' ' + field.data('fieldinfo').maximumlength\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldName_Validator_Js',\n\t{\n\t\tinvokeValidation(field, rules, i, options) {\n\t\t\tconst instance = new Vtiger_FieldName_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tif (instance.validate() != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field name\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function() {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\tif (fieldValue === 'data') {\n\t\t\t\tthis.setError(app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\nVtiger_Double_Validator_Js('Vtiger_Advpercentage_Validator_Js', {});\n"],"names":["Vtiger_Base_Validator_Js","field","rules","i","options","emailInstance","Vtiger_Email_Validator_Js","setElement","response","validate","getError","getElement","val","fieldValue","getFieldValue","validateValue","emailFilter","illegalChars","test","setError","app","vtranslate","match","fieldData","data","fieldInfo","fieldinfo","restrictedDomains","indexOf","split","pop","form","closest","result","advancedVerification","thisInstance","group","phoneCountryList","find","attr","moduleName","length","getModuleName","$","request","name","done","isValidNumber","message","number","geocoding","carrier","country","trigger","usernameInstance","Vtiger_UserName_Validator_Js","maximumLength","maximumlength","ranges","parseInt","negativeRegex","integerInstance","Vtiger_Integer_Validator_Js","groupSeperator","CONFIG","currencyGroupingSeparator","integerRegex","RegExp","errorInfo","parseFloat","doubleValidator","Vtiger_Double_Validator_Js","_super","doubleRegex","toString","App","Fields","Double","formatToDb","positiveNumberInstance","Vtiger_PositiveNumber_Validator_Js","parseFieldValue","isNaN","percentageInstance","Vtiger_Percentage_Validator_Js","validatorInstance","Vtiger_Url_Validator_Js","regexp","Vtiger_MultiSelect_Validator_Js","fieldInstance","selectElementValue","Vtiger_MultiEmails_Validator_Js","fieldInstanceValue","emailsArr","Vtiger_MultiDomain_Validator_Js","Array","isArray","value","GreaterThanZeroInstance","Vtiger_GreaterThanZero_Validator_Js","instance","Vtiger_WholeNumber_Validator_Js","jQuery","isEmptyObject","label","fieldDateFormat","dateFormat","fieldDateInstance","Vtiger_Helper_Js","getDateInstance","err","setHours","todayDateInstance","Date","comparedDateVal","fieldForValidation","dependentFieldList","Vtiger_greaterThanDependentField_Validator_Js","fieldLabel","contextFormElem","dependentField","dependentFieldInContext","dependentFieldLabel","getDateTimeInstance","dependentFieldDateInstance","dateTimeInstance","fieldDateTime","fieldDateTimeInstance","view","j","difference","status","time","currencyValidatorInstance","Vtiger_Currency_Validator_Js","decimalSeparator","currencyDecimalSeparator","groupSeparator","strippedValue","replace","spacePattern","regex","parentElement","referenceField","referenceFieldValue","dateValidatorInstance","Vtiger_Date_Validator_Js","calendarType","Error","forEach","key","Vtiger_Time_Validator_Js","format","hourFormat","Vtiger_Twitter_Validator_Js","Vtiger_MultiEmail_Validator_Js","allFields","eq","arrayLength","inputField","inputClass1","inputClass2","timeField","timeFieldValue","dateFieldValue","repeatMonthDateValidatorInstance","Calendar_RepeatMonthDate_Validator_Js","WholeNumberGreaterThanZero","Vtiger_WholeNumberGreaterThanZero_Validator_Js","alphaNumericInstance","Vtiger_AlphaNumeric_Validator_Js","alphaNumericRegex","Vtiger_AlphaNumericWithSlashesCurlyBraces_Validator_Js","maskInstance","Vtiger_InputMask_Validator_Js","unMaskedValue","inputmask","getMetaData","maskLength","inputMaskValidation","window","Vtiger_TextParser_Validator_Js","Vtiger_YetiForceCompanyName_Validator_Js","toLowerCase","Vtiger_MultiImage_Validator_Js","mandatory","JSON","parse","Vtiger_MaxSizeInByte_Validator_Js","TextEncoder","encode","byteLength","Vtiger_FieldName_Validator_Js"],"mappings":"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"}