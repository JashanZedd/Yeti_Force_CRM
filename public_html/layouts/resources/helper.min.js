"use strict";$.Class("Vtiger_Helper_Js",{checkServerConfigResponseCache:"",langCode:"",setLangCode:function(){var htmlTag=document.getElementsByTagName("html")[0];this.langCode=htmlTag.getAttribute("lang")?htmlTag.getAttribute("lang"):"en"},getLangCode:function(){return this.langCode||this.setLangCode(),this.langCode},getEmailMassEditInstance:function(){return new window.Emails_MassEdit_Js},getDayFromDate:function(date){var dayOfWeek=this.getDay(date);return this.getLabelDayFromDate(dayOfWeek)},getDay:function(date){var dateObj=new Date(date);return isNaN(dateObj.getDay())&&(dateObj=Date.parse(date)),dateObj.getDay()},getLabelDayFromDate:function(day){var dayOfWeekLabel="";switch(day){case 0:dayOfWeekLabel="JS_SUN";break;case 1:dayOfWeekLabel="JS_MON";break;case 2:dayOfWeekLabel="JS_TUE";break;case 3:dayOfWeekLabel="JS_WED";break;case 4:dayOfWeekLabel="JS_THU";break;case 5:dayOfWeekLabel="JS_FRI";break;case 6:dayOfWeekLabel="JS_SAT"}return app.vtranslate(dayOfWeekLabel)},getDateInstance:function(dateTime,dateFormat){var dateTimeComponents=dateTime.split(" "),dateComponent=dateTimeComponents[0],timeComponent=dateTimeComponents[1],seconds="00",dotMode="-";-1!==dateFormat.indexOf("-")&&(dotMode="-"),-1!==dateFormat.indexOf(".")&&(dotMode="."),-1!==dateFormat.indexOf("/")&&(dotMode="/");var splittedDate=dateComponent.split(dotMode),splittedDateFormat=dateFormat.split(dotMode),year=splittedDate[splittedDateFormat.indexOf("yyyy")],month=splittedDate[splittedDateFormat.indexOf("mm")],date=splittedDate[splittedDateFormat.indexOf("dd")],dateInstance=Date.parse(year+"/"+month+"/"+date);if(isNaN(dateInstance)||year.length>4||month.length>2||date.length>2||null==dateInstance)throw app.vtranslate("JS_INVALID_DATE");void 0===timeComponent&&(timeComponent="00:00:00");var timeSections=timeComponent.split(":");return void 0!==timeSections[2]&&(seconds=timeSections[2]),void 0!==dateTimeComponents[2]&&("pm"===dateTimeComponents[2].toLowerCase()&&"12"!==timeSections[0]&&(timeSections[0]=parseInt(timeSections[0],10)+12),"am"===dateTimeComponents[2].toLowerCase()&&"12"===timeSections[0]&&(timeSections[0]="00")),month-=1,dateInstance=new Date(year,month,date,timeSections[0],timeSections[1],seconds)},showConfirmationBox:function(params){var aDeferred=$.Deferred(),baseParams={callback:function(result){result?aDeferred.resolve():aDeferred.reject()}};return bootbox.confirm($.extend(baseParams,params)).on("hidden",(function(e){$("#"+Window.lastModalId).length>0&&$("body").addClass("modal-open")})),aDeferred.promise()},showMessage:function(params){void 0===params.type&&(params.type="info"),void 0===params.title&&(params.title=app.vtranslate("JS_MESSAGE")),Vtiger_Helper_Js.showPnotify(params)},showPnotify:function(customParams){var userParams=customParams;"string"==typeof customParams&&((userParams={}).text=customParams);var params={target:document.body,data:{type:"error",hide:!1,delay:"2000",modules:{Buttons:{closerHover:!1,labels:{close:app.vtranslate("JS_CLOSE")}},Animate:{animate:!0,inClass:"zoomInLeft",outClass:"zoomOutRight"}}}};return void 0!==customParams.type&&"error"!=customParams.type&&(params.data.hide=!0),params.data=$.extend(params.data,userParams),new PNotify(params)},hidePnotify:function(notice){void 0===notice&&(notice=$(".ui-pnotify")),notice.remove()},addClickOutSideEvent:function(element,callbackFunction){element.one("clickoutside",callbackFunction)},showHorizontalTopScrollBar:function(){var container=$(".contentsDiv"),topScroll=$(".contents-topscroll",container),bottomScroll=$(".contents-bottomscroll",container);$(".bottomscroll-div",container).attr("style",""),$(".topscroll-div",container).css("width",$(".bottomscroll-div",container).outerWidth()),$(".bottomscroll-div",container).css("width",$(".topscroll-div",container).outerWidth()),topScroll.on("scroll",(function(){bottomScroll.scrollLeft(topScroll.scrollLeft())})),bottomScroll.on("scroll",(function(){topScroll.scrollLeft(bottomScroll.scrollLeft())}))},convertToDateString:function(stringDate,dateFormat,modDay,type){var dotMode="-";-1!==dateFormat.indexOf("-")&&(dotMode="-"),-1!==dateFormat.indexOf(".")&&(dotMode="."),-1!==dateFormat.indexOf("/")&&(dotMode="/");var splittedDate=stringDate.split(dotMode),splittedDateFormat=dateFormat.split(dotMode),year=splittedDate[splittedDateFormat.indexOf("yyyy")],month=splittedDate[splittedDateFormat.indexOf("mm")],date=splittedDate[splittedDateFormat.indexOf("dd")],dateInstance=new Date(year,month-1,date);if(year.length>4||month.length>2||date.length>2||null==dateInstance)throw app.vtranslate("JS_INVALID_DATE");var newDate=dateInstance;return"0"==modDay?"Calendar"==type&&newDate.setDate(dateInstance.getDate()-1):"-1"==modDay?"Calendar"==type?newDate.setDate(dateInstance.getDate()-2):newDate.setDate(dateInstance.getDate()-1):"Calendar"!=type&&newDate.setTime(dateInstance.getTime()+24*parseInt(modDay)*60*60*1e3),app.getStringDate(newDate)},hideOptions:function(element,attr,value){var opval="";element.find("option").each((function(index,option){option=$(option),value!=option.data(attr)?(option.addClass("d-none"),option.attr("disabled","disabled")):(""==opval&&(opval=option.val()),option.removeClass("d-none"),option.removeAttr("disabled"))})),element.val(opval).trigger("change")},unique:function(array){return array.filter((function(el,index,arr){return index===arr.indexOf(el)}))}},{});
//# sourceMappingURL=helper.min.js.map
