{"version":3,"file":"Fields.min.js","sources":["Fields.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nwindow.App.Fields = {\n\tDate: {\n\t\tmonths: [\n\t\t\t'JS_JAN',\n\t\t\t'JS_FEB',\n\t\t\t'JS_MAR',\n\t\t\t'JS_APR',\n\t\t\t'JS_MAY_SHORT',\n\t\t\t'JS_JUN',\n\t\t\t'JS_JUL',\n\t\t\t'JS_AUG',\n\t\t\t'JS_SEP',\n\t\t\t'JS_OCT',\n\t\t\t'JS_NOV',\n\t\t\t'JS_DEC'\n\t\t],\n\t\tmonthsTranslated: [\n\t\t\t'JS_JAN',\n\t\t\t'JS_FEB',\n\t\t\t'JS_MAR',\n\t\t\t'JS_APR',\n\t\t\t'JS_MAY_SHORT',\n\t\t\t'JS_JUN',\n\t\t\t'JS_JUL',\n\t\t\t'JS_AUG',\n\t\t\t'JS_SEP',\n\t\t\t'JS_OCT',\n\t\t\t'JS_NOV',\n\t\t\t'JS_DEC'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\t\tfullMonths: [\n\t\t\t'JS_JANUARY',\n\t\t\t'JS_FEBRUARY',\n\t\t\t'JS_MARCH',\n\t\t\t'JS_APRIL',\n\t\t\t'JS_MAY',\n\t\t\t'JS_JUNE',\n\t\t\t'JS_JULY',\n\t\t\t'JS_AUGUST',\n\t\t\t'JS_SEPTEMBER',\n\t\t\t'JS_OCTOBER',\n\t\t\t'JS_NOVEMBER',\n\t\t\t'JS_DECEMBER'\n\t\t],\n\t\tfullMonthsTranslated: [\n\t\t\t'JS_JANUARY',\n\t\t\t'JS_FEBRUARY',\n\t\t\t'JS_MARCH',\n\t\t\t'JS_APRIL',\n\t\t\t'JS_MAY',\n\t\t\t'JS_JUNE',\n\t\t\t'JS_JULY',\n\t\t\t'JS_AUGUST',\n\t\t\t'JS_SEPTEMBER',\n\t\t\t'JS_OCTOBER',\n\t\t\t'JS_NOVEMBER',\n\t\t\t'JS_DECEMBER'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\t\tdays: ['JS_SUN', 'JS_MON', 'JS_TUE', 'JS_WED', 'JS_THU', 'JS_FRI', 'JS_SAT'],\n\t\tdaysTranslated: ['JS_SUN', 'JS_MON', 'JS_TUE', 'JS_WED', 'JS_THU', 'JS_FRI', 'JS_SAT'].map((monthName) =>\n\t\t\tapp.vtranslate(monthName)\n\t\t),\n\t\tfullDays: ['JS_SUNDAY', 'JS_MONDAY', 'JS_TUESDAY', 'JS_WEDNESDAY', 'JS_THURSDAY', 'JS_FRIDAY', 'JS_SATURDAY'],\n\t\tfullDaysTranslated: [\n\t\t\t'JS_SUNDAY',\n\t\t\t'JS_MONDAY',\n\t\t\t'JS_TUESDAY',\n\t\t\t'JS_WEDNESDAY',\n\t\t\t'JS_THURSDAY',\n\t\t\t'JS_FRIDAY',\n\t\t\t'JS_SATURDAY'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\n\t\t/**\n\t\t * Register DatePicker\n\t\t * @param {$} parentElement\n\t\t * @param {boolean} registerForAddon\n\t\t * @param {object} customParams\n\t\t */\n\t\tregister(parentElement, registerForAddon, customParams, className = 'dateField') {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tif (typeof registerForAddon === 'undefined') {\n\t\t\t\tregisterForAddon = true;\n\t\t\t}\n\t\t\tlet elements = $('.' + className, parentElement);\n\t\t\tif (parentElement.hasClass(className)) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (registerForAddon === true) {\n\t\t\t\tconst parentDateElem = elements.closest('.date');\n\t\t\t\t$('.js-date__btn', parentDateElem).on('click', function inputGroupAddonClickHandler(e) {\n\t\t\t\t\t// Using focus api of DOM instead of jQuery because show api of datePicker is calling e.preventDefault\n\t\t\t\t\t// which is stopping from getting focus to input element\n\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t.closest('.date')\n\t\t\t\t\t\t.find('input.' + className)\n\t\t\t\t\t\t.get(0)\n\t\t\t\t\t\t.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet format = CONFIG.dateFormat;\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tformat = elementDateFormat;\n\t\t\t}\n\t\t\tif (typeof $.fn.datepicker.dates[CONFIG.langKey] === 'undefined') {\n\t\t\t\t$.fn.datepicker.dates[CONFIG.langKey] = {\n\t\t\t\t\tdays: App.Fields.Date.fullDaysTranslated,\n\t\t\t\t\tdaysShort: App.Fields.Date.daysTranslated,\n\t\t\t\t\tdaysMin: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonths: App.Fields.Date.fullMonthsTranslated,\n\t\t\t\t\tmonthsShort: App.Fields.Date.monthsTranslated,\n\t\t\t\t\ttoday: app.vtranslate('JS_TODAY'),\n\t\t\t\t\tclear: app.vtranslate('JS_CLEAR'),\n\t\t\t\t\tformat: format,\n\t\t\t\t\ttitleFormat: 'MM yyyy' /* Leverages same syntax as 'format' */,\n\t\t\t\t\tweekStart: CONFIG.firstDayOfWeekNo\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\ttodayBtn: 'linked',\n\t\t\t\tclearBtn: true,\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tweekStart: CONFIG.firstDayOfWeekNo,\n\t\t\t\tautoclose: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tformat: format\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\telements.each((_index, element) => {\n\t\t\t\t$(element).datepicker(\n\t\t\t\t\t$.extend(\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tObject.assign(params, { enableOnReadonly: !element.hasAttribute('readonly') }),\n\t\t\t\t\t\t$(element).data('params')\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t});\n\t\t\tApp.Fields.Utils.hideMobileKeyboard(elements);\n\t\t\treturn elements;\n\t\t},\n\n\t\t/**\n\t\t * Register dateRangePicker\n\t\t * @param {jQuery} parentElement\n\t\t * @param {object} customParams\n\t\t */\n\t\tregisterRange(parentElement, customParams = {}) {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tlet elements = $('.dateRangeField', parentElement);\n\t\t\tif (parentElement.hasClass('dateRangeField')) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet format = CONFIG.dateFormat.toUpperCase();\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tformat = elementDateFormat.toUpperCase();\n\t\t\t}\n\t\t\tlet ranges = {};\n\t\t\tranges[app.vtranslate('JS_TODAY')] = [moment(), moment()];\n\t\t\tranges[app.vtranslate('JS_TOMORROW')] = [moment().add(1, 'days'), moment().add(1, 'days')];\n\t\t\tranges[app.vtranslate('JS_YESTERDAY')] = [moment().subtract(1, 'days'), moment().subtract(1, 'days')];\n\t\t\tranges[app.vtranslate('JS_LAST_7_DAYS')] = [moment().subtract(6, 'days'), moment()];\n\t\t\tranges[app.vtranslate('JS_NEXT_7_DAYS')] = [moment(), moment().add(6, 'days')];\n\t\t\tranges[app.vtranslate('JS_CURRENT_MONTH')] = [moment().startOf('month'), moment().endOf('month')];\n\t\t\tranges[app.vtranslate('JS_NEXT_MONTH')] = [\n\t\t\t\tmoment().add(1, 'month').startOf('month'),\n\t\t\t\tmoment().add(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_LAST_MONTH')] = [\n\t\t\t\tmoment().subtract(1, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_MONTH')] = [\n\t\t\t\tmoment().add(1, 'month').startOf('month'),\n\t\t\t\tmoment().add(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_LAST_3_MONTHS')] = [\n\t\t\t\tmoment().subtract(3, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_3_MONTHS')] = [moment().startOf('month'), moment().add(3, 'month').endOf('month')];\n\t\t\tranges[app.vtranslate('JS_LAST_6_MONTHS')] = [\n\t\t\t\tmoment().subtract(6, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_6_MONTHS')] = [moment().startOf('month'), moment().add(6, 'month').endOf('month')];\n\n\t\t\tlet locale = App.Fields.DateTime.getDefaultLocale();\n\t\t\tlocale.format = format;\n\t\t\tlet params = {\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tautoUpdateInput: false,\n\t\t\t\tautoApply: true,\n\t\t\t\tranges: ranges,\n\t\t\t\tlocale: locale\n\t\t\t};\n\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\tparentElement\n\t\t\t\t.find('.js-date__btn')\n\t\t\t\t.off()\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\t$(e.currentTarget).parent().next('.dateRangeField')[0].focus();\n\t\t\t\t});\n\t\t\telements.each((_index, element) => {\n\t\t\t\tlet el = $(element);\n\t\t\t\tlet currentParams = $.extend(true, params, el.data('params'));\n\t\t\t\tel.daterangepicker(currentParams)\n\t\t\t\t\t.on('apply.daterangepicker', function (_ev, picker) {\n\t\t\t\t\t\t$(this).val(\n\t\t\t\t\t\t\tpicker.startDate.format(currentParams.locale.format) +\n\t\t\t\t\t\t\t\t',' +\n\t\t\t\t\t\t\t\tpicker.endDate.format(currentParams.locale.format)\n\t\t\t\t\t\t);\n\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t})\n\t\t\t\t\t.on('show.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\t})\n\t\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t\t})\n\t\t\t\t\t.on('hide.daterangepicker', (_ev, picker) => {\n\t\t\t\t\t\tpicker.container.removeClass('js-visible');\n\t\t\t\t\t});\n\t\t\t\tApp.Fields.Utils.registerMobileDateRangePicker(el);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to get Date Instance\n\t\t * @param {string} dateTime\n\t\t * @param {string} dateFormat user date format\n\t\t * @returns {Date}\n\t\t */\n\t\tgetDateInstance: function (dateTime, dateFormat = CONFIG.dateFormat) {\n\t\t\tlet dateTimeComponents = dateTime.split(' '),\n\t\t\t\tdateComponent = dateTimeComponents[0],\n\t\t\t\ttimeComponent = dateTimeComponents[1],\n\t\t\t\tseconds = '00',\n\t\t\t\tdotMode = '-';\n\t\t\tif (dateFormat.indexOf('.') !== -1) {\n\t\t\t\tdotMode = '.';\n\t\t\t} else if (dateFormat.indexOf('/') !== -1) {\n\t\t\t\tdotMode = '/';\n\t\t\t}\n\t\t\tlet splittedDate = dateComponent.split(dotMode),\n\t\t\t\tsplittedDateFormat = dateFormat.split(dotMode),\n\t\t\t\tyear = splittedDate[splittedDateFormat.indexOf('yyyy')],\n\t\t\t\tmonth = splittedDate[splittedDateFormat.indexOf('mm')],\n\t\t\t\tday = splittedDate[splittedDateFormat.indexOf('dd')],\n\t\t\t\tdateInstance = Date.parse(year + '/' + month + '/' + day);\n\n\t\t\tif (isNaN(dateInstance) || year.length !== 4 || month.length > 2 || day.length > 2 || dateInstance == null) {\n\t\t\t\tthrow app.vtranslate('JS_INVALID_DATE');\n\t\t\t}\n\t\t\t//Before creating date object time is set to 00\n\t\t\t//because as while calculating date object it depends system timezone\n\t\t\tif (typeof timeComponent === 'undefined') {\n\t\t\t\ttimeComponent = '00:00:00';\n\t\t\t}\n\t\t\tlet timeSections = timeComponent.split(':');\n\t\t\tif (typeof timeSections[2] !== 'undefined') {\n\t\t\t\tseconds = timeSections[2];\n\t\t\t}\n\t\t\t//Am/Pm component exits\n\t\t\tif (typeof dateTimeComponents[2] !== 'undefined') {\n\t\t\t\tif (dateTimeComponents[2].toLowerCase() === 'pm' && timeSections[0] !== '12') {\n\t\t\t\t\ttimeSections[0] = parseInt(timeSections[0], 10) + 12;\n\t\t\t\t}\n\t\t\t\tif (dateTimeComponents[2].toLowerCase() === 'am' && timeSections[0] === '12') {\n\t\t\t\t\ttimeSections[0] = '00';\n\t\t\t\t}\n\t\t\t}\n\t\t\tmonth = month - 1;\n\t\t\treturn new Date(year, month, day, timeSections[0], timeSections[1], seconds);\n\t\t},\n\t\t/**\n\t\t * Format the Date object to a date in the format DB format, example: `2018-07-23`\n\t\t * @param {Date} date\n\t\t * @returns {string}\n\t\t */\n\t\tdateToDbFormat: function (date) {\n\t\t\tlet d = date.getDate();\n\t\t\tlet m = date.getMonth() + 1;\n\t\t\tlet y = date.getFullYear();\n\t\t\td = d <= 9 ? '0' + d : d;\n\t\t\tm = m <= 9 ? '0' + m : m;\n\t\t\treturn y + '-' + m + '-' + d;\n\t\t},\n\t\t/**\n\t\t * Format the Date object to a date in the format user format, example: `2018/07/23`\n\t\t * @param {Date} date\n\t\t * @returns {string}\n\t\t */\n\t\tdateToUserFormat: function (date, format = CONFIG.dateFormat) {\n\t\t\tif (typeof date === 'string') {\n\t\t\t\tdate = new Date(date);\n\t\t\t}\n\t\t\tlet m = date.getMonth() + 1,\n\t\t\t\td = date.getDate();\n\t\t\td = d <= 9 ? '0' + d : d;\n\t\t\tm = m <= 9 ? '0' + m : m;\n\t\t\treturn format.replace('yyyy', date.getFullYear()).replace('mm', m).replace('dd', d);\n\t\t},\n\t\t/**\n\t\t * Get last day of month\n\t\t * @param {integer} year\n\t\t * @param {integer} month\n\t\t * @returns {integer}\n\t\t */\n\t\tgetLastMonthDay: function (year, month) {\n\t\t\tlet date = new Date(year, month, 0);\n\t\t\treturn date.getDate();\n\t\t},\n\t\t/**\n\t\t * Get number of days from a given date to now\n\t\t * @param {Date} dateTime\n\t\t * @returns {integer}\n\t\t */\n\t\thowManyDaysFromDate: function (dateTime) {\n\t\t\tlet today = new Date();\n\t\t\tlet toTime = new Date(today.getFullYear(), today.getMonth(), today.getDate()).getTime();\n\t\t\treturn Math.floor((toTime - dateTime.getTime()) / (1000 * 60 * 60 * 24)) + 1;\n\t\t},\n\t\t/**\n\t\t * Converting the date format to the format supported in the DatePicker, example: `yyyy-mm-dd` >> `Y-m-d`\n\t\t * @param {string} dateFormat\n\t\t * @returns {string}\n\t\t */\n\t\tconvertToDatePickerFormat: function (dateFormat) {\n\t\t\tswitch (dateFormat) {\n\t\t\t\tcase 'yyyy-mm-dd':\n\t\t\t\t\treturn 'Y-m-d';\n\t\t\t\tcase 'mm-dd-yyyy':\n\t\t\t\t\treturn 'm-d-Y';\n\t\t\t\tcase 'dd-mm-yyyy':\n\t\t\t\t\treturn 'd-m-Y';\n\t\t\t\tcase 'yyyy.mm.dd':\n\t\t\t\t\treturn 'Y.m.d';\n\t\t\t\tcase 'mm.dd.yyyy':\n\t\t\t\t\treturn 'm.d.Y';\n\t\t\t\tcase 'dd.mm.yyyy':\n\t\t\t\t\treturn 'd.m.Y';\n\t\t\t\tcase 'yyyy/mm/dd':\n\t\t\t\t\treturn 'Y/m/d';\n\t\t\t\tcase 'mm/dd/yyyy':\n\t\t\t\t\treturn 'm/d/Y';\n\t\t\t\tcase 'dd/mm/yyyy':\n\t\t\t\t\treturn 'd/m/Y';\n\t\t\t}\n\t\t}\n\t},\n\tDateTime: class DateTime {\n\t\tconstructor(container, params) {\n\t\t\tthis.container = container;\n\t\t\tthis.init(params);\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t * @param {Object} params\n\t\t */\n\t\tstatic register(container, params) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = $('body');\n\t\t\t}\n\t\t\tif (container.hasClass('dateTimePickerField') && !container.prop('disabled')) {\n\t\t\t\treturn new DateTime(container, params);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.dateTimePickerField:not([disabled])').each((_, e) => {\n\t\t\t\tlet element = $(e);\n\t\t\t\tinstances.push(new DateTime(element, params));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Format the Date object to a date in the format user format, example: `2018/07/23 03:00`\n\t\t * @param {Date} dateTime Date object\n\t\t * @returns {string} `2018/07/23 03:00`\n\t\t */\n\t\tstatic dateToUserFormat(dateTime, format = CONFIG.dateFormat) {\n\t\t\tformat = format.toUpperCase();\n\t\t\tif (CONFIG.hourFormat == 24) {\n\t\t\t\tformat += ' HH:mm';\n\t\t\t} else {\n\t\t\t\tformat += ' hh:mm A';\n\t\t\t}\n\t\t\treturn moment(dateTime).format(format);\n\t\t}\n\t\t/**\n\t\t * Gets default locale data\n\t\t * @returns {Object}\n\t\t */\n\t\tstatic getDefaultLocale() {\n\t\t\tif (!this.locale) {\n\t\t\t\tthis.locale = {\n\t\t\t\t\tseparator: ',',\n\t\t\t\t\tapplyLabel: app.vtranslate('JS_APPLY'),\n\t\t\t\t\tcancelLabel: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\tfromLabel: app.vtranslate('JS_FROM'),\n\t\t\t\t\ttoLabel: app.vtranslate('JS_TO'),\n\t\t\t\t\tcustomRangeLabel: app.vtranslate('JS_CUSTOM'),\n\t\t\t\t\tweekLabel: app.vtranslate('JS_WEEK').substr(0, 1),\n\t\t\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\t\t\tdaysOfWeek: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonthNames: App.Fields.Date.fullMonthsTranslated\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn { ...this.locale };\n\t\t}\n\n\t\t/**\n\t\t * Initialization datetime\n\t\t */\n\t\tinit(customParams) {\n\t\t\t$('.input-group-text', this.container.closest('.dateTime')).on('click', function (e) {\n\t\t\t\t$(e.currentTarget).closest('.dateTime').find('input.dateTimePickerField').get(0).focus();\n\t\t\t});\n\t\t\tlet dateFormat = CONFIG.dateFormat.toUpperCase();\n\t\t\tconst elementDateFormat = this.container.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tdateFormat = elementDateFormat.toUpperCase();\n\t\t\t}\n\t\t\tlet hourFormat = CONFIG.hourFormat;\n\t\t\tconst elementHourFormat = this.container.data('hourFormat');\n\t\t\tif (typeof elementHourFormat !== 'undefined') {\n\t\t\t\thourFormat = elementHourFormat;\n\t\t\t}\n\t\t\tlet timePicker24Hour = true;\n\t\t\tlet timeFormat = 'HH:mm';\n\t\t\tif (hourFormat != '24') {\n\t\t\t\ttimePicker24Hour = false;\n\t\t\t\ttimeFormat = 'hh:mm A';\n\t\t\t}\n\t\t\tconst format = dateFormat + ' ' + timeFormat;\n\t\t\tlet isDateRangePicker = this.container.data('calendarType') !== 'range';\n\t\t\tlet locale = App.Fields.DateTime.getDefaultLocale();\n\t\t\tlocale.format = format;\n\t\t\tlet params = {\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tparentEl: this.container.closest('.dateTime'),\n\t\t\t\tsingleDatePicker: isDateRangePicker,\n\t\t\t\tshowDropdowns: true,\n\t\t\t\ttimePicker: true,\n\t\t\t\tautoUpdateInput: false,\n\t\t\t\ttimePicker24Hour: timePicker24Hour,\n\t\t\t\ttimePickerIncrement: 1,\n\t\t\t\tautoApply: true,\n\t\t\t\topens: 'left',\n\t\t\t\tlocale: locale\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\tthis.container\n\t\t\t\t.daterangepicker(params)\n\t\t\t\t.on('apply.daterangepicker', function applyDateRangePickerHandler(_ev, picker) {\n\t\t\t\t\tif (isDateRangePicker) {\n\t\t\t\t\t\t$(this).val(picker.startDate.format(format));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this).val(picker.startDate.format(format) + ',' + picker.endDate.format(format));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t});\n\t\t\tApp.Fields.Utils.registerMobileDateRangePicker(this.container);\n\t\t}\n\t},\n\tTime: {\n\t\t/**\n\t\t * Format the Date object to a date in the format user format, example: `2018/07/23`\n\t\t * @param {Date} date\n\t\t * @returns {string}\n\t\t */\n\t\tdateToUserFormat: function (date, timeFormat) {\n\t\t\tif (typeof date === 'string') {\n\t\t\t\tdate = new Date(date);\n\t\t\t}\n\t\t\tif (!timeFormat) {\n\t\t\t\tif (CONFIG.hourFormat == 24) {\n\t\t\t\t\ttimeFormat = 'HH:mm';\n\t\t\t\t} else {\n\t\t\t\t\ttimeFormat = 'hh:mm A';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn moment(date).format(timeFormat);\n\t\t}\n\t},\n\tColors: {\n\t\t/**\n\t\t * Function to check whether the color is dark or light\n\t\t */\n\t\tgetColorContrast: function (hexcolor) {\n\t\t\tvar r = parseInt(hexcolor.substr(0, 2), 16);\n\t\t\tvar g = parseInt(hexcolor.substr(2, 2), 16);\n\t\t\tvar b = parseInt(hexcolor.substr(4, 2), 16);\n\t\t\tvar yiq = (r * 299 + g * 587 + b * 114) / 1000;\n\t\t\treturn yiq >= 128 ? 'light' : 'dark';\n\t\t},\n\t\tgetRandomColor: function () {\n\t\t\tvar letters = '0123456789ABCDEF'.split('');\n\t\t\tvar color = '#';\n\t\t\tfor (var i = 0; i < 6; i++) {\n\t\t\t\tcolor += letters[Math.floor(Math.random() * 16)];\n\t\t\t}\n\t\t\treturn color;\n\t\t},\n\t\tgetRandomColors: function (count) {\n\t\t\tconst colors = [];\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tcolors.push(this.getRandomColor());\n\t\t\t}\n\t\t\treturn colors;\n\t\t},\n\t\tshowPicker({ color, fieldToUpdate, bgToUpdate, cb }) {\n\t\t\tlet registerPickerEvents = (modalContainer) => {\n\t\t\t\tlet picker = window.ColorPicker.mount({\n\t\t\t\t\tel: modalContainer.find('.js-color-picker')[0],\n\t\t\t\t\tcurrentColor: color\n\t\t\t\t});\n\t\t\t\tmodalContainer.find('.js-modal__save').on('click', (_) => {\n\t\t\t\t\tlet newColor = picker.getColor().hex;\n\t\t\t\t\tcb && cb(newColor);\n\t\t\t\t\tbgToUpdate && bgToUpdate.css('background', newColor);\n\t\t\t\t\tfieldToUpdate && fieldToUpdate.val(newColor);\n\t\t\t\t\tapp.hideModalWindow(false, modalContainer.closest('.js-modal-container')[0].id);\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet url = `index.php?module=AppComponents&view=ColorPickerModal${color ? '&color=' + color : ''}`;\n\t\t\tapp.showModalWindow({ url, cb: registerPickerEvents.bind(this) });\n\t\t}\n\t},\n\tText: {\n\t\t/**\n\t\t * Register clip\n\t\t * @param {HTMLElement|jQuery} container\n\t\t * @param {string} key\n\t\t * @returns {ClipboardJS|undefined}\n\t\t */\n\t\tregisterCopyClipboard: function (container, key = '.clipboard') {\n\t\t\tif (typeof container !== 'object' || $(container).length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer = $(container).get(0);\n\t\t\tlet elements = container.querySelectorAll(key);\n\t\t\tif (elements.length === 0) {\n\t\t\t\telements = key;\n\t\t\t\tcontainer = '';\n\t\t\t}\n\t\t\treturn new ClipboardJS(elements, {\n\t\t\t\tcontainer: container,\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\ttrigger = $(trigger);\n\t\t\t\t\tconst element = $(trigger.data('copyTarget'), container);\n\t\t\t\t\tlet val;\n\t\t\t\t\tif (typeof trigger.data('copyType') !== 'undefined') {\n\t\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\t\tval = element.find('option:selected').data(trigger.data('copyType'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tval = element.data(trigger.data('copyType'));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof trigger.data('copy-attribute') !== 'undefined') {\n\t\t\t\t\t\tval = trigger.data(trigger.data('copy-attribute'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = element.val();\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tEditor: class {\n\t\t\tstatic initialization = false;\n\t\t\tconstructor(container, params) {\n\t\t\t\tif (window.App.Fields.Text.Editor.initialization === false) {\n\t\t\t\t\tCKEDITOR.disableAutoInline = true;\n\t\t\t\t\tCKEDITOR.plugins.addExternal(\n\t\t\t\t\t\t'base64image',\n\t\t\t\t\t\tapp.getMainParams('siteUrl') + 'layouts/resources/libraries/ckeditor/base64image/'\n\t\t\t\t\t);\n\t\t\t\t\twindow.App.Fields.Text.Editor.initialization = true;\n\t\t\t\t}\n\t\t\t\tthis.container = container;\n\t\t\t\tthis.init(container, params);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register function\n\t\t\t * @param {jQuery} container\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tstatic register(container, params) {\n\t\t\t\tif (typeof container === 'undefined') {\n\t\t\t\t\tcontainer = $('body');\n\t\t\t\t}\n\t\t\t\tif (container.hasClass('js-editor') && !container.prop('disabled')) {\n\t\t\t\t\treturn new App.Fields.Text.Editor(container, $.extend(params, container.data()));\n\t\t\t\t}\n\t\t\t\tconst instances = [];\n\t\t\t\tcontainer.find('.js-editor:not([disabled])').each((_, e) => {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tinstances.push(new App.Fields.Text.Editor(element, $.extend(params, element.data())));\n\t\t\t\t});\n\t\t\t\treturn instances;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Initiation\n\t\t\t * @param {jQuery} element\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tinit(element, params) {\n\t\t\t\tlet config = {};\n\t\t\t\tif (element.hasClass('js-editor--basic')) {\n\t\t\t\t\tconfig.toolbar = 'Min';\n\t\t\t\t}\n\t\t\t\tif (element.data('height')) {\n\t\t\t\t\tconfig.height = element.data('height');\n\t\t\t\t}\n\t\t\t\tparams = $.extend(config, params);\n\t\t\t\tthis.isModal = element.closest('.js-modal-container').length;\n\t\t\t\tif (this.isModal && element.is(':visible')) {\n\t\t\t\t\tlet self = this;\n\t\t\t\t\tthis.progressInstance = $.progressIndicator({\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\tonBlock: () => {\n\t\t\t\t\t\t\t\tself.loadEditor(element, params);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tApp.Fields.Text.destroyEditor(element);\n\t\t\t\t\tthis.loadEditor(element, params);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t *Function to set the textArea element\n\t\t\t */\n\t\t\tsetElement(element) {\n\t\t\t\tthis.element = $(element);\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t *Function to get the textArea element\n\t\t\t */\n\t\t\tgetElement() {\n\t\t\t\treturn this.element;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to return Element's id atrribute value\n\t\t\t */\n\t\t\tgetElementId() {\n\t\t\t\treturn this.getElement().attr('id');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to get the instance of ckeditor\n\t\t\t */\n\t\t\tgetEditorInstanceFromName() {\n\t\t\t\treturn CKEDITOR.instances[this.getElementId()];\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to load CkEditor\n\t\t\t * @param {HTMLElement|jQuery} element on which CkEditor has to be loaded\n\t\t\t * @param {Object} customConfig custom configurations for ckeditor\n\t\t\t */\n\t\t\tloadEditor(element, customConfig) {\n\t\t\t\tthis.setElement(element);\n\t\t\t\tconst instance = this.getEditorInstanceFromName();\n\t\t\t\tlet config = {\n\t\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\t\tallowedContent: true,\n\t\t\t\t\tdisableNativeSpellChecker: false,\n\t\t\t\t\textraAllowedContent: 'div{page-break-after*}',\n\t\t\t\t\tformat_tags: 'p;h1;h2;h3;h4;h5;h6;pre;address;div',\n\t\t\t\t\tremoveButtons: '',\n\t\t\t\t\tenterMode: CKEDITOR.ENTER_BR,\n\t\t\t\t\tshiftEnterMode: CKEDITOR.ENTER_P,\n\t\t\t\t\temojiEnabled: false,\n\t\t\t\t\tmentionsEnabled: false,\n\t\t\t\t\tclipboard_handleImages: false,\n\t\t\t\t\ton: {\n\t\t\t\t\t\tinstanceReady: (evt) => {\n\t\t\t\t\t\t\tevt.editor.on('blur', function () {\n\t\t\t\t\t\t\t\tevt.editor.updateElement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (this.isModal && this.progressInstance) {\n\t\t\t\t\t\t\t\tthis.progressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeCommandExec: (e) => {\n\t\t\t\t\t\t\tif (e.editor.mode === 'source') {\n\t\t\t\t\t\t\t\treturn this.validate(element, e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tremovePlugins: 'scayt',\n\t\t\t\t\textraPlugins:\n\t\t\t\t\t\t'colorbutton,pagebreak,colordialog,find,selectall,showblocks,div,print,font,justify,bidi,base64image',\n\t\t\t\t\ttoolbar: 'Full',\n\t\t\t\t\ttoolbar_Full: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'insert',\n\t\t\t\t\t\t\titems: ['base64image', 'Table', 'HorizontalRule', 'SpecialChar', 'PageBreak']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'paragraph', items: ['Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source', 'Print'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t'NumberedList',\n\t\t\t\t\t\t\t\t'BulletedList',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'JustifyLeft',\n\t\t\t\t\t\t\t\t'JustifyCenter',\n\t\t\t\t\t\t\t\t'JustifyRight',\n\t\t\t\t\t\t\t\t'JustifyBlock',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'BidiLtr',\n\t\t\t\t\t\t\t\t'BidiRtl'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Min: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t'NumberedList',\n\t\t\t\t\t\t\t\t'BulletedList',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'JustifyLeft',\n\t\t\t\t\t\t\t\t'JustifyCenter',\n\t\t\t\t\t\t\t\t'JustifyRight',\n\t\t\t\t\t\t\t\t'JustifyBlock',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'BidiLtr',\n\t\t\t\t\t\t\t\t'BidiRtl'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat', 'Source'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Micro: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['NumberedList', 'BulletedList', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Clipboard: [\n\t\t\t\t\t\t{ name: 'document', items: ['Print'] },\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_PDF: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll', '-'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'insert',\n\t\t\t\t\t\t\titems: ['base64image', 'Table', 'HorizontalRule', 'PageBreak']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['JustifyLeft', 'JustifyCenter', 'JustifyRight']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t\tif (typeof customConfig !== 'undefined') {\n\t\t\t\t\tconfig = $.extend(config, customConfig);\n\t\t\t\t}\n\t\t\t\tconfig = Object.assign(config, element.data());\n\t\t\t\tif (config.emojiEnabled) {\n\t\t\t\t\tlet emojiToolbar = { name: 'links', items: ['EmojiPanel'] };\n\t\t\t\t\tif (typeof config.toolbar === 'string') {\n\t\t\t\t\t\tconfig[`toolbar_${config.toolbar}`].push(emojiToolbar);\n\t\t\t\t\t} else if (Array.isArray(config.toolbar)) {\n\t\t\t\t\t\tconfig.toolbar.push(emojiToolbar);\n\t\t\t\t\t}\n\t\t\t\t\tconfig.extraPlugins = config.extraPlugins + ',emoji';\n\t\t\t\t\tconfig.outputTemplate = '{id}';\n\t\t\t\t}\n\t\t\t\tif (config.mentionsEnabled) {\n\t\t\t\t\tconfig.extraPlugins = config.extraPlugins + ',mentions';\n\t\t\t\t\tconfig.mentions = this.registerMentions();\n\t\t\t\t}\n\t\t\t\tif (instance) {\n\t\t\t\t\tCKEDITOR.remove(instance);\n\t\t\t\t}\n\t\t\t\telement.ckeditor(config);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register mentions\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tregisterMentions() {\n\t\t\t\tlet minSerchTextLength = app.getMainParams('gsMinLength');\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tfeed: this.getMentionUsersData.bind(this),\n\t\t\t\t\t\titemTemplate: `<li data-id=\"{id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 c-img__completion__container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"{icon} m-auto u-w-fit u-fs-14px\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"{image}\" class=\"c-img__completion mr-2\" alt=\"{label}\" title=\"{label}\">\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col row-10 no-gutters u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">{label}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">{category}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>`,\n\t\t\t\t\t\toutputTemplate: '<a href=\"#\" data-id=\"@{id}\" data-module=\"{module}\">{label}</a>',\n\t\t\t\t\t\tminChars: minSerchTextLength\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfeed: App.Fields.Text.getMentionData,\n\t\t\t\t\t\tmarker: '#',\n\t\t\t\t\t\tpattern: /#[wа-я]{1,}|#\\w{3,}$/,\n\t\t\t\t\t\titemTemplate: `<li data-id=\"{id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 c-circle-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"yfm-{module}\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-10 row no-gutters pl-1 u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">{label}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">{category}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>`,\n\t\t\t\t\t\toutputTemplate: '<a href=\"#\" data-id=\"#{id}\" data-module=\"{module}\">{label}</a>',\n\t\t\t\t\t\tminChars: minSerchTextLength\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Get mention Users data (invoked by ck editor mentions plugin)\n\t\t\t * @param {object} opts\n\t\t\t * @param {function} callback\n\t\t\t */\n\t\t\tgetMentionUsersData(opts, callback) {\n\t\t\t\tApp.Fields.Text.getMentionData(opts, callback, 'owners');\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Function to validate the field value\n\t\t\t * @param {jQuery} element\n\t\t\t * @param {object} e\n\t\t\t */\n\t\t\tvalidate(element) {\n\t\t\t\tlet status = true,\n\t\t\t\t\tparams;\n\t\t\t\tif (element.data('purifyMode')) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tmodule: 'Users',\n\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\tmode: 'validateByMode',\n\t\t\t\t\t\tpurifyMode: element.data('purifyMode'),\n\t\t\t\t\t\tvalue: element.val()\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tmodule: element.closest('form').find('[name=\"module\"]').val(),\n\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\tmode: 'validateForField',\n\t\t\t\t\t\tfieldName: element.attr('name'),\n\t\t\t\t\t\tfieldValue: element.val()\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdata: params\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\telement.val(data.result.raw);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_UNEXPECTED_ERROR')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstatus = false;\n\t\t\t\t\t});\n\t\t\t\treturn status;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Completions class for contenteditable html element for records, users and emojis. Params can be passed in data-completions- of contenteditable element or as argument. Default params:\n\t\t * {\n\t\t\t\t\tcompletionsCollection: {\n\t\t\t\t\t\trecords: true,\n\t\t\t\t\t\tusers: true,\n\t\t\t\t\t\temojis: true\n\t\t\t\t\t}\n\t\t\t}\n\t\t */\n\t\tCompletions: class {\n\t\t\t/**\n\t\t\t * Constructor\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t * @param params\n\t\t\t */\n\t\t\tconstructor(inputDiv = $('.js-completions').eq(0), params = {}) {\n\t\t\t\tif (typeof inputDiv === 'undefined' || inputDiv.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (inputDiv.length === undefined) {\n\t\t\t\t\tinputDiv = $(inputDiv);\n\t\t\t\t}\n\t\t\t\tlet basicParams = {\n\t\t\t\t\tcompletionsCollection: {\n\t\t\t\t\t\trecords: true,\n\t\t\t\t\t\tusers: true,\n\t\t\t\t\t\temojis: true\n\t\t\t\t\t},\n\t\t\t\t\tautolink: true\n\t\t\t\t};\n\t\t\t\tthis.params = Object.assign(basicParams, inputDiv.data(), params);\n\t\t\t\tthis.inputDiv = inputDiv;\n\t\t\t\tthis.collection = [];\n\t\t\t\tif (this.params.completionsCollection.records) {\n\t\t\t\t\tthis.collection.push(this.registerMentionCollection('#'));\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsCollection.users) {\n\t\t\t\t\tthis.collection.push(this.registerMentionCollection('@', 'owners'));\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsCollection.emojis) {\n\t\t\t\t\tthis.collection.push(this.registerEmojiCollection());\n\t\t\t\t}\n\t\t\t\tthis.register(inputDiv);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register mention collection for tribute.js\n\t\t\t * @param {string} symbol\n\t\t\t * @param {string} searchModule\n\t\t\t * @returns {{trigger: *, selectTemplate: selectTemplate, values: values, menuItemTemplate: (function(*): string), lookup: string, fillAttr: string}}\n\t\t\t */\n\t\t\tregisterMentionCollection(symbol, searchModule = '-') {\n\t\t\t\tlet self = this;\n\t\t\t\treturn {\n\t\t\t\t\ttrigger: symbol,\n\t\t\t\t\tselectTemplate: function (item) {\n\t\t\t\t\t\tif (this.range.isContentEditable(this.current.element)) {\n\t\t\t\t\t\t\treturn `<a href=\"#\" data-id=\"${symbol + item.original.id}\" data-module=\"${\n\t\t\t\t\t\t\t\titem.original.module\n\t\t\t\t\t\t\t}\">${item.original.label.split('(')[0].trim()}</a>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn symbol + item.original.label;\n\t\t\t\t\t},\n\t\t\t\t\tvalues: (text, cb) => {\n\t\t\t\t\t\tif (text.length >= CONFIG.globalSearchAutocompleteMinLength) {\n\t\t\t\t\t\t\tApp.Fields.Text.getMentionData(text, (users) => cb(users), searchModule);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmenuItemTemplate: function (item) {\n\t\t\t\t\t\treturn self.mentionTemplate({\n\t\t\t\t\t\t\tid: item.original.id,\n\t\t\t\t\t\t\tmodule: item.original.module,\n\t\t\t\t\t\t\tcategory: item.original.category,\n\t\t\t\t\t\t\timage: item.original.image,\n\t\t\t\t\t\t\tlabel: item.original.label,\n\t\t\t\t\t\t\ticon: item.original.icon\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlookup: 'label',\n\t\t\t\t\tfillAttr: 'label'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register emoji collection for tribute.js\n\t\t\t * @returns {{trigger: string, selectTemplate: selectTemplate, menuItemTemplate: (function(*): string), lookup: string, fillAttr: string, values: Array}}\n\t\t\t */\n\t\t\tregisterEmojiCollection() {\n\t\t\t\treturn {\n\t\t\t\t\ttrigger: ':',\n\t\t\t\t\tselectTemplate: function (item) {\n\t\t\t\t\t\tif (this.range.isContentEditable(this.current.element)) {\n\t\t\t\t\t\t\treturn `<span data-id=\"${item.original.id}\">${item.original.symbol}</span>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn item.original.symbol;\n\t\t\t\t\t},\n\t\t\t\t\tmenuItemTemplate: function (item) {\n\t\t\t\t\t\treturn `<span data-id=\"${item.original.id}\">${item.original.symbol} ${item.original.id}</span>`;\n\t\t\t\t\t},\n\t\t\t\t\tlookup: 'id',\n\t\t\t\t\tfillAttr: 'keywords',\n\t\t\t\t\tvalues: (text, cb) => {\n\t\t\t\t\t\tif (text.length >= 2) {\n\t\t\t\t\t\t\tcb(App.emoji);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\t/*\n\t\t\t * Mention template\n\t\t\t */\n\t\t\tmentionTemplate(params) {\n\t\t\t\tlet icon = '';\n\t\t\t\tif (params.module !== undefined) {\n\t\t\t\t\ticon = `yfm-${params.module}`;\n\t\t\t\t}\n\t\t\t\tif (params.icon !== undefined && params.icon !== '') {\n\t\t\t\t\ticon = params.icon;\n\t\t\t\t}\n\t\t\t\tlet avatar = `<div class=\"col-2 c-circle-icon\">\n\t\t\t\t\t\t\t\t<span class=\"${icon}\"></span>\n\t\t\t\t\t\t\t</div>`;\n\t\t\t\tif (params.image !== undefined && params.image !== '') {\n\t\t\t\t\tavatar = `<div class=\"col-2 c-img__completion__container m-0\"><img src=\"${params.image}\" class=\"c-img__completion\" alt=${params.label}\" title=\"${params.label}\"></div>`;\n\t\t\t\t}\n\t\t\t\treturn `<div data-id=\"${params.id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t${avatar}\n\t\t\t\t\t\t\t<div class=\"col-10 row no-gutters pl-1 u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">${params.label}</strong>\n\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">${params.category}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Auto link\n\t\t\t */\n\t\t\tautoLink() {\n\t\t\t\tlet fillChar = '\\u200B';\n\t\t\t\tlet sel = window.getSelection(),\n\t\t\t\t\trange = sel.getRangeAt(0).cloneRange(),\n\t\t\t\t\toffset,\n\t\t\t\t\tcharCode,\n\t\t\t\t\tgetParentByTagName = function (node, tags) {\n\t\t\t\t\t\tif (node && !isBody(node)) {\n\t\t\t\t\t\t\twhile (node) {\n\t\t\t\t\t\t\t\tif (tags[node.tagName] || isBody(node)) {\n\t\t\t\t\t\t\t\t\treturn !tags[node.tagName] && isBody(node) ? null : node;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tnode = node.parentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t},\n\t\t\t\t\tisBody = function (node) {\n\t\t\t\t\t\treturn node && node.nodeType == 1 && node.tagName.toLowerCase() == 'body';\n\t\t\t\t\t},\n\t\t\t\t\thtml = function (str) {\n\t\t\t\t\t\treturn str.replace(/&((g|l|quo)t|amp|#39);/g, function (m) {\n\t\t\t\t\t\t\treturn { '&lt;': '<', '&amp;': '&', '&quot;': '\"', '&gt;': '>', '&#39;': \"'\" }[m];\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tisFillChar = function (node) {\n\t\t\t\t\t\treturn node.nodeType == 3 && !node.nodeValue.replace(new RegExp('' + fillChar), '').length;\n\t\t\t\t\t};\n\n\t\t\t\tlet start = range.startContainer;\n\t\t\t\twhile (start.nodeType == 1 && range.startOffset > 0) {\n\t\t\t\t\tstart = range.startContainer.childNodes[range.startOffset - 1];\n\t\t\t\t\tif (!start) break;\n\t\t\t\t\trange.setStart(start, start.nodeType == 1 ? start.childNodes.length : start.nodeValue.length);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tstart = range.startContainer;\n\t\t\t\t}\n\t\t\t\tdo {\n\t\t\t\t\tif (range.startOffset == 0) {\n\t\t\t\t\t\tstart = range.startContainer.previousSibling;\n\t\t\t\t\t\twhile (start && start.nodeType == 1) {\n\t\t\t\t\t\t\tstart = start.lastChild;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!start || isFillChar(start)) break;\n\t\t\t\t\t\toffset = start.nodeValue.length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstart = range.startContainer;\n\t\t\t\t\t\toffset = range.startOffset;\n\t\t\t\t\t}\n\t\t\t\t\trange.setStart(start, offset - 1);\n\t\t\t\t\tcharCode = range.toString().charCodeAt(0);\n\t\t\t\t} while (charCode != 160 && charCode != 32);\n\t\t\t\tif (\n\t\t\t\t\trange\n\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t.replace(new RegExp(fillChar, 'g'), '')\n\t\t\t\t\t\t.match(/(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i)\n\t\t\t\t) {\n\t\t\t\t\twhile (range.toString().length) {\n\t\t\t\t\t\tif (/^(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i.test(range.toString())) break;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\trange.setStart(range.startContainer, range.startOffset + 1);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlet startCont = range.startContainer,\n\t\t\t\t\t\t\t\tnext;\n\t\t\t\t\t\t\twhile (!(next = startCont.nextSibling)) {\n\t\t\t\t\t\t\t\tif (isBody(startCont)) return;\n\t\t\t\t\t\t\t\tstartCont = startCont.parentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trange.setStart(next, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (getParentByTagName(range.startContainer, { a: 1, A: 1 })) return;\n\t\t\t\t\tlet href = range\n\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t.replace(/<[^>]+>/g, '')\n\t\t\t\t\t\t\t.replace(new RegExp(fillChar, 'g'), ''),\n\t\t\t\t\t\threfFull = /^(?:https?:\\/\\/)/gi.test(href) ? href : 'http://' + href,\n\t\t\t\t\t\turl = new URL(hrefFull);\n\t\t\t\t\tlet allowedHosts = CONFIG.purifierAllowedDomains;\n\t\t\t\t\tif (allowedHosts !== false && allowedHosts.indexOf(url.host) === -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet a = document.createElement('a'),\n\t\t\t\t\t\ttext = document.createTextNode(' ');\n\t\t\t\t\ta.appendChild(range.extractContents());\n\t\t\t\t\ta.innerHTML = href;\n\t\t\t\t\ta.href = hrefFull ? html(hrefFull) : '';\n\t\t\t\t\ta.setAttribute('rel', 'noopener noreferrer');\n\t\t\t\t\ta.setAttribute('target', '_blank');\n\n\t\t\t\t\trange.insertNode(a);\n\t\t\t\t\ta.parentNode.insertBefore(text, a.nextSibling);\n\t\t\t\t\trange.setStart(text.nextSibling, 0);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregister(inputDiv) {\n\t\t\t\tconst self = this;\n\t\t\t\tthis.completionsCollection = new Tribute({\n\t\t\t\t\tcollection: self.collection,\n\t\t\t\t\tallowSpaces: true\n\t\t\t\t});\n\t\t\t\tthis.completionsCollection.attach(inputDiv[0]);\n\t\t\t\tif (this.params.completionsTextarea !== undefined) {\n\t\t\t\t\tthis.registerCompletionsTextArea(inputDiv);\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsButtons !== undefined) {\n\t\t\t\t\tthis.registerCompletionsButtons();\n\t\t\t\t}\n\t\t\t\tif (this.params.autolink) {\n\t\t\t\t\tthis.registerAutoLinker(inputDiv);\n\t\t\t\t}\n\t\t\t\tif (App.emoji === undefined) {\n\t\t\t\t\tfetch(`${CONFIG.siteUrl}/vendor/ckeditor/ckeditor/plugins/emoji/emoji.json`)\n\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tApp.emoji = response;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => console.error('Error:', error));\n\t\t\t\t}\n\t\t\t\tthis.registerTagClick(inputDiv);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register autolink\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregisterAutoLinker(inputDiv) {\n\t\t\t\tinputDiv.on('keypress', (e) => {\n\t\t\t\t\tif (e.keyCode === 32 || e.keyCode === 13) {\n\t\t\t\t\t\tthis.autoLink();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register completons hidden textarea - useful with forms\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregisterCompletionsTextArea(inputDiv) {\n\t\t\t\tlet textarea = inputDiv.siblings(`[name=${inputDiv.attr('id')}]`);\n\t\t\t\tinputDiv\n\t\t\t\t\t.on('focus', function () {\n\t\t\t\t\t\ttextarea.val(inputDiv.html());\n\t\t\t\t\t})\n\t\t\t\t\t.on('blur keyup paste input', function () {\n\t\t\t\t\t\ttextarea.val(inputDiv.html());\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register tag click\n\t\t\t * @param inputDiv\n\t\t\t */\n\t\t\tregisterTagClick(inputDiv) {\n\t\t\t\tinputDiv\n\t\t\t\t\t.closest('.js-completions__container')\n\t\t\t\t\t.find('.js-completions__messages')\n\t\t\t\t\t.on('click', '.js-completions__tag', (e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tinputDiv.append($(e.target).clone());\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register completions buttons\n\t\t\t */\n\t\t\tregisterCompletionsButtons() {\n\t\t\t\tlet completionsContainer = this.inputDiv.parents().eq(3);\n\t\t\t\tcompletionsContainer.find('.js-completions__users').on('click', (e) => {\n\t\t\t\t\tthis.completionsCollection.showMenuForCollection(this.inputDiv[0], 1);\n\t\t\t\t});\n\t\t\t\tcompletionsContainer.find('.js-completions__records').on('click', (e) => {\n\t\t\t\t\tthis.completionsCollection.showMenuForCollection(this.inputDiv[0], 0);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get mention data (invoked by ck editor mentions plugin and tribute.js)\n\t\t * @param {object} opts\n\t\t * @param {function} callback\n\t\t * @param {string} searchModule\n\t\t */\n\t\tgetMentionData(text, callback, searchModule = '-') {\n\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\tbasicSearch.returnHtml = false;\n\t\t\tbasicSearch.searchModule = searchModule;\n\t\t\tif (typeof text === 'object') {\n\t\t\t\ttext = text.query.toLowerCase();\n\t\t\t}\n\t\t\tif (searchModule === 'owners') {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\taction: 'Search',\n\t\t\t\t\tmode: 'owners',\n\t\t\t\t\tvalue: text\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tcallback(data.result);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbasicSearch.search(text).done(function (data) {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\tlet serverDataFormat = data.result,\n\t\t\t\t\t\treponseDataList = [];\n\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(reponseDataList);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Destroy ckEditor\n\t\t * @param {jQuery} element\n\t\t */\n\t\tdestroyEditor(element) {\n\t\t\tif (typeof CKEDITOR !== 'undefined' && CKEDITOR.instances && element.attr('id') in CKEDITOR.instances) {\n\t\t\t\tCKEDITOR.instances[element.attr('id')].destroy();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Generate random character\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateRandomChar() {\n\t\t\tconst chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ';\n\t\t\tconst rand = Math.floor(Math.random() * chars.length);\n\t\t\treturn chars.substring(rand, rand + 1);\n\t\t},\n\n\t\t/**\n\t\t * generate random hash\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateRandomHash(prefix = '') {\n\t\t\tprefix = prefix.toString();\n\t\t\tconst hash =\n\t\t\t\tMath.random().toString(36).substr(2, 10) +\n\t\t\t\tMath.random().toString(36).substr(2, 10) +\n\t\t\t\tnew Date().valueOf() +\n\t\t\t\tMath.random().toString(36).substr(2, 6);\n\t\t\treturn prefix ? prefix + hash : hash;\n\t\t}\n\t},\n\tPicklist: {\n\t\t/**\n\t\t * Function which will convert ui of select boxes.\n\t\t * @params parent - select element\n\t\t * @params view - select2\n\t\t * @params viewParams - select2 params\n\t\t * @returns jquery object list which represents changed select elements\n\t\t */\n\t\tchangeSelectElementView: function (parent, view, viewParams) {\n\t\t\tif (typeof parent === 'undefined') {\n\t\t\t\tparent = $('body');\n\t\t\t}\n\t\t\tif (typeof view === 'undefined') {\n\t\t\t\tconst select2Elements = $('select.select2', parent).toArray();\n\t\t\t\tselect2Elements.forEach((elem) => {\n\t\t\t\t\tthis.changeSelectElementView($(elem), 'select2', viewParams);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//If view is select2, This will convert the ui of select boxes to select2 elements.\n\t\t\tif (view === 'select2') {\n\t\t\t\treturn App.Fields.Picklist.showSelect2ElementView(parent, viewParams);\n\t\t\t} else {\n\t\t\t\tapp.errorLog(new Error(`Unknown select type [${view}]`));\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will show the select2 element for select boxes . This will use select2 library\n\t\t */\n\t\tshowSelect2ElementView(selectElement, params) {\n\t\t\tlet self = this;\n\t\t\tselectElement = $(selectElement);\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tif ($(selectElement).length > 1) {\n\t\t\t\treturn $(selectElement).each((_, element) => {\n\t\t\t\t\tthis.showSelect2ElementView($(element).eq(0), params);\n\t\t\t\t});\n\t\t\t}\n\t\t\tparams = this.registerParams(selectElement, params);\n\t\t\tif (params.selectLazy && !selectElement.hasClass('js-lazy-select-active')) {\n\t\t\t\treturn App.Fields.Picklist.showLazySelect(selectElement, {\n\t\t\t\t\tlazyElements: app.getMainParams('picklistLimit'),\n\t\t\t\t\tdata: this.registerLazySelectOptions(selectElement),\n\t\t\t\t\tselectParams: params\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst computeDropdownHeight = (e, dropdownContainer) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (!dropdownContainer.find('.select2-dropdown--above').length) {\n\t\t\t\t\t\tconst dropdownList = dropdownContainer.find('.select2-results > .select2-results__options');\n\t\t\t\t\t\tconst marginBottom = 35;\n\t\t\t\t\t\tconst selectOffsetTop = $(e.currentTarget).offset().top;\n\t\t\t\t\t\tdropdownList.css({\n\t\t\t\t\t\t\t'max-height':\n\t\t\t\t\t\t\t\t$(window).height() - selectOffsetTop - marginBottom - (dropdownList.offset().top - selectOffsetTop)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\t\t\t};\n\t\t\tselectElement.each(function () {\n\t\t\t\tlet select = $(this);\n\t\t\t\tlet htmlBoolParams = select.data('select');\n\t\t\t\tif (htmlBoolParams === 'tags') {\n\t\t\t\t\tparams.tags = true;\n\t\t\t\t\tparams.tokenSeparators = [','];\n\t\t\t\t} else {\n\t\t\t\t\tparams[htmlBoolParams] = true;\n\t\t\t\t}\n\t\t\t\tselect\n\t\t\t\t\t.select2(params)\n\t\t\t\t\t.on('select2:open', (e) => {\n\t\t\t\t\t\tcomputeDropdownHeight(e, $('.select2-container--open:not(.select2-container--below)'));\n\t\t\t\t\t\tif (select.data('unselecting')) {\n\t\t\t\t\t\t\tselect.removeData('unselecting');\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tselect.each(function () {\n\t\t\t\t\t\t\t\t\t$(this).select2('close');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet instance = $(e.currentTarget).data('select2');\n\t\t\t\t\t\tinstance.$dropdown.css('z-index', 1000002);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Fix auto focusing in select2 with jQuery 3.6.0\n\t\t\t\t\t\t * see: https://github.com/select2/select2/issues/5993\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif (instance.dropdown.$search) {\n\t\t\t\t\t\t\tinstance.dropdown.$search.get(0).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.on('select2:unselect', () => {\n\t\t\t\t\t\tselect.data('unselecting', true);\n\t\t\t\t\t});\n\t\t\t\tif (typeof self[params.selectCb] === 'function') {\n\t\t\t\t\tself[params.selectCb](select, params);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn selectElement;\n\t\t},\n\t\t/**\n\t\t * Register params\n\t\t * @param selectElement\n\t\t * @param params\n\t\t * @returns {*}\n\t\t */\n\t\tregisterParams(selectElement, params) {\n\t\t\tif (typeof params.dropdownParent === 'undefined') {\n\t\t\t\tconst modalParent = $(selectElement).closest('.modal-body');\n\t\t\t\tif (modalParent.length) {\n\t\t\t\t\tparams.dropdownParent = modalParent;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = selectElement.data();\n\t\t\tif (data != null) {\n\t\t\t\tparams = $.extend(data, params);\n\t\t\t}\n\t\t\tparams.language = {};\n\t\t\tparams.theme = 'bootstrap';\n\t\t\tconst width = $(selectElement).data('width');\n\t\t\tif (typeof width !== 'undefined') {\n\t\t\t\tparams.width = width;\n\t\t\t} else {\n\t\t\t\tparams.width = '100%';\n\t\t\t}\n\t\t\tparams.containerCssClass = 'form-control w-100';\n\t\t\tconst containerCssClass = selectElement.data('containerCssClass');\n\t\t\tif (typeof containerCssClass !== 'undefined') {\n\t\t\t\tparams.containerCssClass += ' ' + containerCssClass;\n\t\t\t}\n\t\t\tparams.language.noResults = function () {\n\t\t\t\treturn app.vtranslate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\t\t\tparams.language.removeAllItems = function () {\n\t\t\t\treturn app.vtranslate('JS_REMOVE_ALL_ITEMS');\n\t\t\t};\n\t\t\t// Sort DOM nodes alphabetically in select box.\n\t\t\tif (typeof params['customSortOptGroup'] !== 'undefined' && params['customSortOptGroup']) {\n\t\t\t\t$('optgroup', selectElement).each(function () {\n\t\t\t\t\tlet optgroup = $(this);\n\t\t\t\t\tlet options = optgroup\n\t\t\t\t\t\t.children()\n\t\t\t\t\t\t.toArray()\n\t\t\t\t\t\t.sort(function (a, b) {\n\t\t\t\t\t\t\tvar aText = $(a).text();\n\t\t\t\t\t\t\tvar bText = $(b).text();\n\t\t\t\t\t\t\treturn aText < bText ? 1 : -1;\n\t\t\t\t\t\t});\n\t\t\t\t\t$.each(options, function (i, v) {\n\t\t\t\t\t\toptgroup.prepend(v);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tdelete params['customSortOptGroup'];\n\t\t\t}\n\n\t\t\t//formatSelectionTooBig param is not defined even it has the maximumSelectionLength,\n\t\t\t//then we should send our custom function for formatSelectionTooBig\n\t\t\tif (typeof params.maximumSelectionLength !== 'undefined' && typeof params.formatSelectionTooBig === 'undefined') {\n\t\t\t\t//custom function which will return the maximum selection size exceeds message.\n\t\t\t\tparams.language.maximumSelected = function (limit) {\n\t\t\t\t\treturn app.vtranslate('JS_YOU_CAN_SELECT_ONLY') + ' ' + limit.maximum + ' ' + app.vtranslate('JS_ITEMS');\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (typeof selectElement.attr('multiple') !== 'undefined' && !params.placeholder) {\n\t\t\t\tparams.placeholder = app.vtranslate('JS_SELECT_SOME_OPTIONS');\n\t\t\t} else if (!params.placeholder) {\n\t\t\t\tparams.placeholder = app.vtranslate('JS_SELECT_AN_OPTION');\n\t\t\t}\n\t\t\tif (typeof params.templateResult === 'undefined') {\n\t\t\t\tparams.templateResult = function (data, container) {\n\t\t\t\t\tif (data.element && data.element.className) {\n\t\t\t\t\t\t$(container).addClass(data.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tconst resultContainer = document.createElement('span');\n\t\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\t\tresultContainer.innerText = data.text;\n\t\t\t\t\t} else if (data.type == 'optgroup') {\n\t\t\t\t\t\tconst strong = document.createElement('strong');\n\t\t\t\t\t\tstrong.innerText = data.name;\n\t\t\t\t\t\tstrong.appendChild(document.createTextNode(file.name));\n\t\t\t\t\t\tresultContainer.appendChild(strong);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresultContainer.innerText = data.name;\n\t\t\t\t\t}\n\t\t\t\t\treturn resultContainer;\n\t\t\t\t};\n\t\t\t} else if (typeof this[params.templateResult] === 'function') {\n\t\t\t\tparams.templateResult = this[params.templateResult];\n\t\t\t}\n\t\t\tif (typeof params.templateSelection === 'undefined') {\n\t\t\t\tparams.templateSelection = function (item, container) {\n\t\t\t\t\tif (item.element && item.element.className) {\n\t\t\t\t\t\t$(container).addClass(item.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tconst span = document.createElement('span');\n\t\t\t\t\tif (item.text === '') {\n\t\t\t\t\t\tspan.innerText = item.name;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tspan.innerText = item.text;\n\t\t\t\t\t}\n\t\t\t\t\treturn span;\n\t\t\t\t};\n\t\t\t} else if (typeof this[params.templateSelection] === 'function') {\n\t\t\t\tparams.templateSelection = this[params.templateSelection];\n\t\t\t}\n\t\t\tif (selectElement.data('ajaxSearch') === 1) {\n\t\t\t\tparams = this.registerAjaxParams(selectElement, params);\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Register ajax params\n\t\t * @param {jQuery} selectElement\n\t\t * @param {Object} params\n\t\t * @returns {Object}\n\t\t */\n\t\tregisterAjaxParams(selectElement, params) {\n\t\t\tparams.tags = false;\n\t\t\tparams.language.searching = function () {\n\t\t\t\treturn app.vtranslate('JS_SEARCHING');\n\t\t\t};\n\t\t\tparams.language.inputTooShort = function (args) {\n\t\t\t\tvar remainingChars = args.minimum - args.input.length;\n\t\t\t\treturn app.vtranslate('JS_INPUT_TOO_SHORT').replace('_LENGTH_', remainingChars);\n\t\t\t};\n\t\t\tparams.language.errorLoading = function () {\n\t\t\t\treturn app.vtranslate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\t\t\tparams.placeholder = '';\n\t\t\tparams.ajax = {\n\t\t\t\turl: selectElement.data('ajaxUrl'),\n\t\t\t\tdataType: 'json',\n\t\t\t\tdelay: 250,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata:\n\t\t\t\t\tparams['ajax'] && params['ajax']['data']\n\t\t\t\t\t\t? params['ajax']['data']\n\t\t\t\t\t\t: function (item) {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tvalue: item.term, // search term\n\t\t\t\t\t\t\t\t\tpage: item.page\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t  },\n\t\t\t\tprocessResults:\n\t\t\t\t\tparams['ajax'] && params['ajax']['processResults']\n\t\t\t\t\t\t? params['ajax']['processResults']\n\t\t\t\t\t\t: function (data, _params) {\n\t\t\t\t\t\t\t\tvar items = new Array();\n\t\t\t\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\t\t\t\tselectElement.find('option').each(function () {\n\t\t\t\t\t\t\t\t\t\tvar currentTarget = $(this);\n\t\t\t\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\t\t\t\tlabel: currentTarget.html(),\n\t\t\t\t\t\t\t\t\t\t\tvalue: currentTarget.val()\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\titems = items.concat(data.result.items);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tresults: items,\n\t\t\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\t\t\tmore: false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t  },\n\t\t\t\tcache: false\n\t\t\t};\n\t\t\tparams.escapeMarkup = function (markup) {\n\t\t\t\tif (markup !== 'undefined') return markup;\n\t\t\t};\n\t\t\tparams.minimumInputLength = 3;\n\t\t\tif (selectElement.data('minimumInput') !== 'undefined') {\n\t\t\t\tparams.minimumInputLength = selectElement.data('minimumInput');\n\t\t\t}\n\t\t\tparams.templateResult = function (data) {\n\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\treturn data.text;\n\t\t\t\t}\n\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t} else {\n\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t}\n\t\t\t};\n\t\t\tparams.templateSelection = function (data, _container) {\n\t\t\t\tconst span = document.createElement('span');\n\t\t\t\tif (data.text === '') {\n\t\t\t\t\tspan.innerText = data.name;\n\t\t\t\t} else {\n\t\t\t\t\tspan.innerText = data.text;\n\t\t\t\t}\n\t\t\t\treturn span;\n\t\t\t};\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Prepend template with a flag, function is called select2\n\t\t * @param optionData\n\t\t * @returns {Mixed|jQuery|HTMLElement}\n\t\t */\n\t\tprependDataTemplate(optionData) {\n\t\t\tconst span = document.createElement('span');\n\t\t\tif (optionData.id !== undefined && optionData.id !== '') {\n\t\t\t\tspan.innerHTML = optionData.element.dataset.template;\n\t\t\t\tif (optionData.element.dataset.state !== undefined) {\n\t\t\t\t\tconst icon = span.querySelector('.js-select-option-event');\n\t\t\t\t\t//check if element has icons with different states\n\t\t\t\t\tif (optionData.element.dataset.state === 'active') {\n\t\t\t\t\t\ticon.classList.replace(optionData.element.dataset.iconInactive, optionData.element.dataset.iconActive);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ticon.classList.replace(optionData.element.dataset.iconActive, optionData.element.dataset.iconInactive);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tspan.innerText = optionData.text;\n\t\t\t}\n\t\t\treturn span;\n\t\t},\n\t\t/**\n\t\t * Register select sortable\n\t\t * @param select\n\t\t * @param params\n\t\t */\n\t\tregisterSelectSortable(select, params) {\n\t\t\tthis.sortSelectOptions(select);\n\t\t\tthis.registerSortEvent(select, params.sortableCb);\n\t\t},\n\t\t/**\n\t\t * Sort elements (options) in select by data-sort-index\n\t\t * @param {jQuery} select2 element\n\t\t */\n\t\tsortSelectOptions(select) {\n\t\t\tselect\n\t\t\t\t.find('option[data-sort-index]')\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\treturn $(b).data('sort-index') < $(a).data('sort-index') ? 1 : -1;\n\t\t\t\t})\n\t\t\t\t.appendTo(select);\n\t\t},\n\t\t/**\n\t\t * Register select drag and drop sorting\n\t\t * @param {jQuery} select2 element\n\t\t * @param {function} callback function\n\t\t */\n\t\tregisterSortEvent(select, cb = () => {}) {\n\t\t\tlet ul = select.next('.select2-container').first('ul.select2-selection__rendered');\n\t\t\tul.sortable({\n\t\t\t\titems: 'li:not(.select2-search__field)',\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\t$(ul.find('.select2-selection__choice').get().reverse()).each(function () {\n\t\t\t\t\t\tlet optionTitle = $(this).attr('title');\n\t\t\t\t\t\tselect.find('option').each(function () {\n\t\t\t\t\t\t\tif ($(this).text() === optionTitle) {\n\t\t\t\t\t\t\t\tselect.prepend($(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tcb(select);\n\t\t\t\t\tselect.trigger('sortable:change');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register icons events in select2 options\n\t\t * @param selectElement\n\t\t */\n\t\tregisterIconsEvents(selectElement) {\n\t\t\tselectElement.on('select2:selecting', (event) => {\n\t\t\t\tlet currentTarget = $(event.params.args.originalEvent.target);\n\t\t\t\tif (!currentTarget.hasClass('js-select-option-event') && !currentTarget.is('path')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (currentTarget.is('path')) {\n\t\t\t\t\t//svg target fix\n\t\t\t\t\tcurrentTarget = currentTarget.closest('.js-select-option-event');\n\t\t\t\t}\n\t\t\t\tlet currentElementData = $(event.params.args.data.element).data(),\n\t\t\t\t\toptionElement = $(event.params.args.data.element),\n\t\t\t\t\tprogressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(currentElementData.url)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tconst icon = currentTarget.get(0);\n\t\t\t\t\t\t//check if element has icons with different states\n\t\t\t\t\t\tif (response && response.result) {\n\t\t\t\t\t\t\tif (optionElement.attr('data-state') === 'active') {\n\t\t\t\t\t\t\t\toptionElement.attr('data-state', 'inactive');\n\t\t\t\t\t\t\t\ticon.classList.replace(currentElementData.iconActive, currentElementData.iconInactive);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toptionElement.attr('data-state', 'active');\n\t\t\t\t\t\t\t\ticon.classList.replace(currentElementData.iconInactive, currentElementData.iconActive);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (response.message) {\n\t\t\t\t\t\t\t\tapp.showNotify({ text: response.message, type: 'success' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (response && response.message) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: response.message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show lazy select based on data passed in js.\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t * @param   {object}  params         contains selectParams object, lazyElements number, data array\n\t\t */\n\t\tshowLazySelect(selectElement, params) {\n\t\t\t$.fn.select2.amd.require(['select2/data/array', 'select2/utils'], (ArrayData, Utils) => {\n\t\t\t\tfunction CustomData($element, params) {\n\t\t\t\t\tCustomData.__super__.constructor.call(this, $element, params);\n\t\t\t\t}\n\t\t\t\tUtils.Extend(CustomData, ArrayData);\n\t\t\t\tCustomData.prototype.query = (options, callback) => {\n\t\t\t\t\tlet results = [];\n\t\t\t\t\tif (options.term && options.term !== '') {\n\t\t\t\t\t\tresults = params.data.filter((e) => {\n\t\t\t\t\t\t\treturn e.text.toUpperCase().indexOf(options.term.toUpperCase()) >= 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresults = params.data;\n\t\t\t\t\t}\n\t\t\t\t\tif (!('page' in options)) {\n\t\t\t\t\t\toptions.page = 1;\n\t\t\t\t\t}\n\t\t\t\t\tlet data = {};\n\t\t\t\t\tdata.results = results.slice((options.page - 1) * params.lazyElements, options.page * params.lazyElements);\n\t\t\t\t\tdata.pagination = {};\n\t\t\t\t\tdata.pagination.more = options.page * params.lazyElements < results.length;\n\t\t\t\t\tcallback(data);\n\t\t\t\t};\n\t\t\t\tparams.selectParams = Object.assign(params.selectParams, {\n\t\t\t\t\tajax: {},\n\t\t\t\t\tdataAdapter: CustomData\n\t\t\t\t});\n\t\t\t\tselectElement.addClass('js-lazy-select-active');\n\t\t\t\tthis.showSelect2ElementView(selectElement, params.selectParams);\n\t\t\t\tlet selectedOption = selectElement.data('selected-value');\n\t\t\t\tif (selectedOption) {\n\t\t\t\t\tlet text = selectedOption;\n\t\t\t\t\tif (\n\t\t\t\t\t\tselectElement.data('fieldinfo').picklistvalues.hasOwnProperty(selectedOption) &&\n\t\t\t\t\t\t!selectElement.get(0).dataset.templateResult\n\t\t\t\t\t) {\n\t\t\t\t\t\ttext = selectElement.data('fieldinfo').picklistvalues[selectedOption];\n\t\t\t\t\t}\n\t\t\t\t\tthis.createSelectedOption(selectElement, text, selectedOption);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register lazy select options\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t *\n\t\t * @return  {object}                 [return description]\n\t\t */\n\t\tregisterLazySelectOptions(selectElement) {\n\t\t\tlet options = [];\n\t\t\tif (\n\t\t\t\tselectElement.data('fieldinfo') &&\n\t\t\t\tselectElement.data('fieldinfo').picklistvalues &&\n\t\t\t\t!selectElement.get(0).dataset.templateResult\n\t\t\t) {\n\t\t\t\toptions = $.map(selectElement.data('fieldinfo').picklistvalues, function (val, key) {\n\t\t\t\t\treturn { id: key, text: val };\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toptions = $.map(selectElement.find('option'), (item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: item.value,\n\t\t\t\t\t\telement: item,\n\t\t\t\t\t\ttext: item.text,\n\t\t\t\t\t\tselected: item.selected,\n\t\t\t\t\t\tdisabled: item.disabled\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn options;\n\t\t},\n\t\t/**\n\t\t * Set a value for the field\n\t\t *\n\t\t * @param   {jQuery}  field Field element\n\t\t * @param   {mixed}  value The value to set\n\t\t * @param   {object}  params Additional parameters [optional]\n\t\t *\n\t\t * @return  {mixed} The value that has been set\n\t\t */\n\t\tsetValue(field, value, params) {\n\t\t\tlet type = 'value';\n\t\t\tif (params && params['type']) {\n\t\t\t\ttype = params['type'];\n\t\t\t}\n\t\t\tconst option = this.findOption(field, value, type);\n\t\t\tif (!option) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (field.hasClass('js-lazy-select-active')) {\n\t\t\t\tthis.createSelectedOption(field, option.text, option.value);\n\t\t\t} else {\n\t\t\t\tfield.val(option.value).trigger('change');\n\t\t\t}\n\t\t\treturn option.value;\n\t\t},\n\t\t/**\n\t\t * Find option.\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t * @param   {string}  searchValue\n\t\t * @param   {string}  type           value|text|all\n\t\t *\n\t\t * @return  {boolean|object}         false or option object\n\t\t */\n\t\tfindOption(selectElement, searchValue, type = 'value') {\n\t\t\tlet foundOption = false;\n\t\t\tconst selectValues = this.getSelectOptions(selectElement);\n\t\t\tconst getFieldValueFromText = () => Object.keys(selectValues).find((key) => selectValues[key] === searchValue);\n\t\t\tconst valueExists = () => selectValues.hasOwnProperty(searchValue);\n\t\t\tconst createOption = () => {\n\t\t\t\treturn { text: selectValues[foundOption], value: foundOption };\n\t\t\t};\n\t\t\tswitch (type) {\n\t\t\t\tcase 'value':\n\t\t\t\t\tif (valueExists()) {\n\t\t\t\t\t\tfoundOption = searchValue;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tfoundOption = getFieldValueFromText();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\t\tif (valueExists()) {\n\t\t\t\t\t\tfoundOption = searchValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfoundOption = getFieldValueFromText();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn foundOption ? createOption() : false;\n\t\t},\n\t\t/**\n\t\t * Get select options\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t *\n\t\t * @return  {object}                 [return description]\n\t\t */\n\t\tgetSelectOptions(selectElement) {\n\t\t\tif (selectElement.data('fieldinfo') && selectElement.data('fieldinfo').picklistvalues) {\n\t\t\t\treturn selectElement.data('fieldinfo').picklistvalues;\n\t\t\t} else {\n\t\t\t\tlet optionsObject = {};\n\t\t\t\tselectElement.find('option').each((_i, element) => {\n\t\t\t\t\toptionsObject[element.value] = element.text;\n\t\t\t\t});\n\t\t\t\treturn optionsObject;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Create selected option\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t * @param   {string}  text\n\t\t * @param   {string}  value\n\t\t */\n\t\tcreateSelectedOption(selectElement, text, value) {\n\t\t\tconst newOption = new Option(text, value, true, true);\n\t\t\tselectElement.append(newOption).trigger('change');\n\t\t}\n\t},\n\tMultiImage: {\n\t\tcurrentFileUploads: 0,\n\t\tregister(container) {\n\t\t\t$('.js-multi-image', container).each(function () {\n\t\t\t\tnew MultiImage($(this));\n\t\t\t});\n\t\t}\n\t},\n\tMultiEmail: {\n\t\tregister($container) {\n\t\t\t$('.js-multi-email', $container).each((idx, multiEmailField) => {\n\t\t\t\tlet $multiEmailField = $(multiEmailField);\n\t\t\t\t$multiEmailField.on('change', '.js-multi-email', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-consenticon', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.toggleConsent($(e.target));\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-add', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.addItem($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-remove', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.removeItem($(e.target));\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Converts data to json and set MultiEmail field value\n\t\t * @param $multiEmailField\n\t\t */\n\t\tparseToJSON($multiEmailField) {\n\t\t\tlet value = [];\n\t\t\t$('.js-multi-email-item', $multiEmailField).each((idx, item) => {\n\t\t\t\tlet $item = $(item);\n\t\t\t\tlet email = $('.js-multi-email', $item).val();\n\t\t\t\tlet consent = $('.js-multi-email-consent', $item).is(':visible') ? 1 : 0;\n\t\t\t\tif (email) {\n\t\t\t\t\tvalue.push({\n\t\t\t\t\t\te: email,\n\t\t\t\t\t\to: consent\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-multi-email-value', $multiEmailField).val(JSON.stringify(value));\n\t\t},\n\t\t/**\n\t\t * Adds a new item: email box and consent checkbox\n\t\t * @param $multiEmailField\n\t\t */\n\t\taddItem($multiEmailField) {\n\t\t\tlet $newItem = $('.js-multi-email-item', $multiEmailField).first().clone(false, false);\n\t\t\tif ($newItem) {\n\t\t\t\t$('.js-multi-email', $newItem).attr('value', '').val('');\n\t\t\t\t$('.js-multi-email-consent', $newItem).val('');\n\t\t\t\t$('.js-multi-email-consenticon', $newItem).hide();\n\t\t\t\t$('.js-multi-email-consenticon', $newItem).first().show();\n\t\t\t\t$('.js-multi-email-items', $multiEmailField).append($newItem);\n\t\t\t\t$('.js-multi-email-remove', $multiEmailField).show();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Removes an item: email box and consent checkbox\n\t\t * @param $deleteBtn\n\t\t */\n\t\tremoveItem($deleteBtn) {\n\t\t\tlet $multiEmailField = $deleteBtn.closest('.js-multi-email');\n\t\t\tif (1 < $('.js-multi-email-item', $multiEmailField).length) {\n\t\t\t\t$deleteBtn.closest('.js-multi-email-item').remove();\n\t\t\t}\n\t\t\tif (1 == $('.js-multi-email-item', $multiEmailField).length) {\n\t\t\t\t$('.js-multi-email-remove', $multiEmailField).hide();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Toggle consent boxes\n\t\t * @param $consentBox\n\t\t */\n\t\ttoggleConsent($consentBox) {\n\t\t\tlet $item = $consentBox.closest('.js-multi-email-item');\n\t\t\t$('.js-multi-email-consenticon', $item).toggle();\n\t\t}\n\t},\n\tMultiDependField: {\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregister(container) {\n\t\t\tcontainer.find('.js-multi-field').each((index, element) => {\n\t\t\t\tconst inputElement = $(element);\n\t\t\t\tconst fields = inputElement.find('.js-multi-field-val').data('fields');\n\t\t\t\tinputElement.find('.js-multi-field-add-item').on('click', (e) => {\n\t\t\t\t\tApp.Fields.MultiDependField.addRow(inputElement, fields);\n\t\t\t\t});\n\t\t\t\tApp.Fields.MultiDependField.registerRow(inputElement, fields);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register row\n\t\t * @param {jQuery} inputElement\n\t\t * @param {Object} fields\n\t\t */\n\t\tregisterRow(inputElement, fields) {\n\t\t\tfor (let i in fields) {\n\t\t\t\tinputElement.find('[name=\"' + fields[i] + '\"]').on('change', (e) => {\n\t\t\t\t\tApp.Fields.MultiDependField.parseToJson(inputElement, fields);\n\t\t\t\t});\n\t\t\t}\n\t\t\tinputElement.find('.js-remove-item').on('click', (e) => {\n\t\t\t\tApp.Fields.MultiDependField.removeRow($(e.target), inputElement);\n\t\t\t\tApp.Fields.MultiDependField.parseToJson(inputElement.closest('.js-multi-field'), fields);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Invoked after clicking the remove button\n\t\t * @param {jQuery} element\n\t\t * @param {jQuery} container\n\t\t */\n\t\tremoveRow(element, container) {\n\t\t\tif (container.find('.js-multi-field-row').length > 1) {\n\t\t\t\telement.closest('.js-multi-field-row').remove();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Convert data to json\n\t\t * @param {jQuery} element\n\t\t * @param {Object} fields\n\t\t */\n\t\tparseToJson(element, fields) {\n\t\t\tlet arr = [];\n\t\t\tlet allFields = $(element).find('.js-multi-field-row');\n\t\t\tlet arrayLength = allFields.length;\n\t\t\tfor (let i = 0; i < arrayLength; ++i) {\n\t\t\t\tlet partData = {},\n\t\t\t\t\tskip = false;\n\t\t\t\tfor (let k in fields) {\n\t\t\t\t\tpartData[fields[k]] = $(allFields[i])\n\t\t\t\t\t\t.find('[name=\"' + fields[k] + '\"]')\n\t\t\t\t\t\t.val();\n\t\t\t\t\tif (k == 0 && partData[fields[k]] === '') {\n\t\t\t\t\t\tskip = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!skip) {\n\t\t\t\t\tarr.push(partData);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$(element).find('input.js-multi-field-val').val(JSON.stringify(arr));\n\t\t},\n\t\t/**\n\t\t * Invoked after clicking the add button\n\t\t * @param {jQuery} container\n\t\t * @param {Object} fields\n\t\t */\n\t\taddRow(container, fields) {\n\t\t\tlet newField;\n\t\t\tlet lastField = container.find('.js-multi-field-row').last();\n\t\t\tlet selectFields = lastField.find('select.select2');\n\t\t\tif (selectFields.length) {\n\t\t\t\tselectFields.select2('destroy').removeAttr('data-select2-id').find('option').removeAttr('data-select2-id');\n\t\t\t\tnewField = lastField.clone(false, false);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(lastField.find('select.select2'));\n\t\t\t} else {\n\t\t\t\tnewField = lastField.clone(false, false);\n\t\t\t}\n\t\t\tfor (let i in fields) {\n\t\t\t\tnewField.find('[name=\"' + fields[i] + '\"]').val('');\n\t\t\t}\n\t\t\tnewField.insertAfter(container.find('.js-multi-field-row').last());\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(newField.find('select.select2'));\n\t\t\tApp.Fields.Date.register(newField);\n\t\t\tApp.Fields.MultiDependField.registerRow(container, fields);\n\t\t}\n\t},\n\tDependentSelect: {\n\t\t/**\n\t\t * Get options for select from array of items (exclude children)\n\t\t * @param {Array} data {value,text,selected, children => data[]}\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateOptionsFromData(data) {\n\t\t\tlet html = '';\n\t\t\tfor (let item of data) {\n\t\t\t\tlet selected = false;\n\t\t\t\tif (typeof item.selected !== 'undefined' && item.selected) {\n\t\t\t\t\tselected = true;\n\t\t\t\t}\n\t\t\t\thtml += `<option value=${item.value}${selected ? ' selected' : ''}>${item.text}</option>`;\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\t/**\n\t\t * Register dependent selects\n\t\t *\n\t\t * @param {jQuery} container with data- options:\n\t\t * data-slave: selector for slave element\n\t\t * data-data: array of options with children elements for slave select (see getOptions for data format)\n\t\t * data-sort: do we want to sort slave options by text when master has two items selected? if not - just append options to slave\n\t\t */\n\t\tregister(container) {\n\t\t\tif (typeof container === 'undefined' || typeof container.length === 'undefined' || !container.length) {\n\t\t\t\treturn app.errorLog('Dependend select field container is missing.');\n\t\t\t}\n\t\t\tcontainer.each(function () {\n\t\t\t\tconst masterSelect = $(this),\n\t\t\t\t\tslaveSelect = $(masterSelect.data('slave')),\n\t\t\t\t\tdata = masterSelect.data('data');\n\t\t\t\tif (!slaveSelect.length) {\n\t\t\t\t\treturn app.errorLog('Could not find slave select element (data-slave attribute)');\n\t\t\t\t}\n\t\t\t\tif (!data) {\n\t\t\t\t\treturn app.errorLog('Could not load data (data-data attribute)');\n\t\t\t\t}\n\t\t\t\tmasterSelect.on('change', (e) => {\n\t\t\t\t\tlet values = $(e.target).val();\n\t\t\t\t\tif (!Array.isArray(values)) {\n\t\t\t\t\t\tvalues = [values];\n\t\t\t\t\t}\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor (let value of values) {\n\t\t\t\t\t\tfor (let item of data) {\n\t\t\t\t\t\t\tif (item.value === value) {\n\t\t\t\t\t\t\t\tif (typeof item.children !== 'undefined') {\n\t\t\t\t\t\t\t\t\titem.children.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchildren.push(child);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (masterSelect.data('sort')) {\n\t\t\t\t\t\tchildren.sort((a, b) => {\n\t\t\t\t\t\t\treturn a.text.localeCompare(b.text);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tslaveSelect.html(App.Fields.DependentSelect.generateOptionsFromData(children));\n\t\t\t\t});\n\t\t\t\tmasterSelect.html(App.Fields.DependentSelect.generateOptionsFromData(data));\n\t\t\t});\n\t\t}\n\t},\n\tGantt: {\n\t\tregister(container, data) {\n\t\t\treturn new GanttField(container, data);\n\t\t}\n\t},\n\tInteger: {\n\t\t/**\n\t\t * Function returns the integer in user specified format.\n\t\t * @param {number} value\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet groupSeparator = CONFIG.currencyGroupingSeparator;\n\t\t\tlet groupingPattern = CONFIG.currencyGroupingPattern;\n\t\t\tvalue = parseFloat(value).toFixed(1);\n\t\t\tlet integer = value.toString().split('.')[0];\n\t\t\tif (integer.length > 3) {\n\t\t\t\tif (groupingPattern === '123,456,789') {\n\t\t\t\t\tinteger = integer.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1' + groupSeparator);\n\t\t\t\t} else if (groupingPattern === '123456,789') {\n\t\t\t\t\tinteger = integer.slice(0, -3) + groupSeparator + integer.slice(-3);\n\t\t\t\t} else if (groupingPattern === '12,34,56,789') {\n\t\t\t\t\tinteger =\n\t\t\t\t\t\tinteger.slice(0, -3).replace(/(\\d)(?=(\\d\\d)+(?!\\d))/g, '$1' + groupSeparator) +\n\t\t\t\t\t\tgroupSeparator +\n\t\t\t\t\t\tinteger.slice(-3);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t}\n\t},\n\tDouble: {\n\t\t/**\n\t\t * Function returns the currency in user specified format.\n\t\t * @param {number} value\n\t\t * @param {boolean} numberOfDecimal\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value, fixed = true, numberOfDecimal = CONFIG.noOfCurrencyDecimals) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet strDecimal = value.toString().split('.')[1];\n\t\t\tlet numberOfZerosAtTheEnd = 0;\n\t\t\tif (typeof strDecimal !== 'undefined') {\n\t\t\t\tfor (let i = strDecimal.length - 1; i > 0; --i) {\n\t\t\t\t\tif (strDecimal[i] == '0') {\n\t\t\t\t\t\tnumberOfZerosAtTheEnd++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = parseFloat(value);\n\t\t\tif (fixed) {\n\t\t\t\tlet base = 10 ** numberOfDecimal;\n\t\t\t\tvalue =\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tvalue * base + Math.sign(value) * 0.1 ** (17 - 2 - (Math.round(value * base) / base).toString().length)\n\t\t\t\t\t) / base;\n\t\t\t}\n\t\t\tlet splittedFloat = value.toString().split('.');\n\t\t\tlet integer = splittedFloat[0];\n\t\t\tif (integer !== '-0' && integer !== '0') {\n\t\t\t\tinteger = App.Fields.Integer.formatToDisplay(integer);\n\t\t\t}\n\t\t\tlet decimal = splittedFloat[1];\n\t\t\tif (numberOfDecimal) {\n\t\t\t\tif (!CONFIG.truncateTrailingZeros && decimal) {\n\t\t\t\t\tfor (let i = 0; i < numberOfZerosAtTheEnd && decimal.length < numberOfDecimal; ++i) {\n\t\t\t\t\t\tdecimal += '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (decimal) {\n\t\t\t\t\treturn integer + CONFIG.currencyDecimalSeparator + decimal;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t},\n\t\t/**\n\t\t * Function to get value for db format.\n\t\t * @param {string} value\n\t\t * @returns {number}\n\t\t */\n\t\tformatToDb(value) {\n\t\t\tif (value == undefined || value == '') {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tvalue = value.toString();\n\t\t\tvalue = value.split(CONFIG.currencyGroupingSeparator).join('');\n\t\t\tvalue = value.replace(/\\s/g, '').replace(CONFIG.currencyDecimalSeparator, '.');\n\t\t\treturn parseFloat(value);\n\t\t}\n\t},\n\t/**\n\t * Tree\n\t */\n\tTree: class Tree {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-tree-container')) {\n\t\t\t\treturn new Tree(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-tree-container').each((n, e) => {\n\t\t\t\tinstances.push(new Tree($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tthis.modalEvent();\n\t\t\tthis.autoCompleteEvent();\n\t\t\tthis.clearSelectionEvent();\n\t\t}\n\t\t/**\n\t\t * Function which will handle modal view with tree\n\t\t */\n\t\tmodalEvent() {\n\t\t\t$('.js-tree-modal', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (_) => {\n\t\t\t\t\tlet sourceFieldElement = this.container.find('input.sourceField'),\n\t\t\t\t\t\tfieldDisplayElement = this.container.find('input[name=\"' + sourceFieldElement.attr('name') + '_display\"]');\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: sourceFieldElement.data('module-name'),\n\t\t\t\t\t\tview: 'TreeModal',\n\t\t\t\t\t\ttemplate: sourceFieldElement.data('treetemplate'),\n\t\t\t\t\t\tfieldName: sourceFieldElement.attr('name'),\n\t\t\t\t\t\tmultiple: sourceFieldElement.data('multiple'),\n\t\t\t\t\t\tvalue: sourceFieldElement.val()\n\t\t\t\t\t}).done(function (requestData) {\n\t\t\t\t\t\tapp.modalEvents['treeModal'] = function (modal, instance) {\n\t\t\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\t\t\tsourceFieldElement.val(responseData.id);\n\t\t\t\t\t\t\t\tfieldDisplayElement.val(responseData.name).attr('readonly', true);\n\t\t\t\t\t\t\t\tsourceFieldElement.trigger('change');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showModalWindow(requestData, { modalId: 'treeModal' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t */\n\t\tautoCompleteEvent() {\n\t\t\tlet autoCompleteElement = $('input.treeAutoComplete', this.container);\n\t\t\tif (autoCompleteElement.hasClass('ui-autocomplete-input')) {\n\t\t\t\tautoCompleteElement.autocomplete('destroy');\n\t\t\t}\n\t\t\tautoCompleteElement.autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term.toLowerCase();\n\t\t\t\t\tlet parentElem = inputElement.closest('.js-tree-container');\n\t\t\t\t\tlet sourceFieldElement = $('input.sourceField', parentElem);\n\t\t\t\t\tlet fieldInfo = sourceFieldElement.data('fieldinfo');\n\t\t\t\t\tlet allValues = fieldInfo.picklistvalues;\n\t\t\t\t\tlet responseDataList = [];\n\t\t\t\t\tfor (let id in allValues) {\n\t\t\t\t\t\tif (allValues[id].toLowerCase().indexOf(searchValue) >= 0) {\n\t\t\t\t\t\t\tresponseDataList.push({ label: allValues[id], value: id, id: id });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (responseDataList.length <= 0) {\n\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\tresponseDataList.push({\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tthis.value = selectedItemData.label;\n\t\t\t\t\tlet element = $(this).attr('readonly', true);\n\t\t\t\t\telement.closest('.js-tree-container').find('input.sourceField').val(selectedItemData.id).trigger('change');\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t */\n\t\tclearSelectionEvent() {\n\t\t\t$('.clearTreeSelection', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tlet fieldElement = this.container.find('.sourceField');\n\t\t\t\t\t$('input[name=\"' + fieldElement.attr('name') + '_display\"]', this.container)\n\t\t\t\t\t\t.removeAttr('readonly')\n\t\t\t\t\t\t.val('');\n\t\t\t\t\tfieldElement.val('').trigger('change');\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * TimePeriod class\n\t *\n\t * Save value as time period in 00:m format where '0' is a number of units\n\t * ':' is just separator\n\t * and 'm' is time scale/period in php date format - available formats are [m, d, H, i, s]\n\t * @example 10:i = 10 minutes, 2:m = 2 months, 20:H = 20 hours and so on...\n\t */\n\tTimePeriod: class TimePeriod {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.value = container.val();\n\t\t\tif (this.value) {\n\t\t\t\tconst split = this.value.split(':');\n\t\t\t\tthis.time = Number(split[0]);\n\t\t\t\tthis.period = split[1];\n\t\t\t} else {\n\t\t\t\tthis.time = 0;\n\t\t\t\tthis.period = 'H';\n\t\t\t\tthis.value = '0:H';\n\t\t\t\tcontainer.val(this.value);\n\t\t\t}\n\t\t\tthis.injectContent();\n\t\t}\n\n\t\t/**\n\t\t * Register time period field/s\n\t\t *\n\t\t * @param {jQuery} container it could be input type hidden with js-time-period class\n\t\t *                           or container that contains multiple js-time-period inputs\n\t\t *\n\t\t * @example <input type=\"hidden\" name=\"field_name\" class=\"js-time-period\">\n\t\t *\n\t\t * @returns {TimePeriod|TimePeriod[]} instance/s\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('c-time-period')) {\n\t\t\t\treturn new TimePeriod(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.c-time-period').each((index, value) => {\n\t\t\t\tinstances.push(new TimePeriod($(value)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\n\t\t/**\n\t\t * Inject content next to container\n\t\t *\n\t\t * @returns  {jQuery}  created element with input and select\n\t\t */\n\t\tinjectContent() {\n\t\t\tlet content = `<div class=\"input-group c-time-period\" data-js=\"container\">\n\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t<a href class=\"btn btn-default c-time-period-input-modifier c-time-period-input-modifier--minus-1\"><span class=\"fas fa-minus\"></span></a>\n\t\t\t\t</div>\n\t\t\t\t<input type=\"number\" class=\"form-control c-time-period-input\" min=\"0\" value=\"${this.time}\"\n\t\t\t\t\tdata-validation-engine=\"validate[required,funcCall[Vtiger_Integer_Validator_Js.invokeValidation]]\">\n\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t<a href class=\"btn btn-default c-time-period-input-modifier c-time-period-input-modifier--plus-1\"><span class=\"fas fa-plus\"></span></a>\n\t\t\t\t\t<select class=\"select2 js-time-period-select time-period-${this.container.attr('name')}\">\n\t\t\t\t\t\t<option value=\"d\"${this.period === 'd' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_DAYS_FULL')}</option>\n\t\t\t\t\t\t<option value=\"H\"${this.period === 'H' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_HOURS_FULL')}</option>\n\t\t\t\t\t\t<option value=\"i\"${this.period === 'i' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_MINUTES_FULL')}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\tthis.element = this.container.parent().append(content);\n\t\t\tthis.input = this.element.find('.c-time-period-input').eq(0);\n\t\t\tthis.select = this.element.find('.select2').eq(0);\n\t\t\tthis.plus1btn = this.element.find('.c-time-period-input-modifier--plus-1').eq(0);\n\t\t\tthis.minus1btn = this.element.find('.c-time-period-input-modifier--minus-1').eq(0);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.select, { width: '100px' });\n\t\t\tthis.registerEvents();\n\t\t\treturn this.element;\n\t\t}\n\n\t\t/**\n\t\t * Register events\n\t\t */\n\t\tregisterEvents() {\n\t\t\tthis.input.on('input', this.onChange.bind(this));\n\t\t\tthis.select.on('change', this.onChange.bind(this));\n\t\t\tthis.plus1btn.on('click', this.onPlus1Click.bind(this));\n\t\t\tthis.minus1btn.on('click', this.onMinus1Click.bind(this));\n\t\t}\n\n\t\t/**\n\t\t * On change event\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonChange(event) {\n\t\t\tthis.time = this.input.val();\n\t\t\tthis.period = this.select.val();\n\t\t\tthis.value = this.input.val() + ':' + this.select.val();\n\t\t\tthis.container.val(this.value);\n\t\t}\n\n\t\t/**\n\t\t * Plus 1 button click event handler\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonPlus1Click(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tthis.input.val(Number(this.input.val()) + 1);\n\t\t\tthis.onChange();\n\t\t}\n\n\t\t/**\n\t\t * Minus 1 button click event handler\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonMinus1Click(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tif (Number(this.input.val()) > 0) {\n\t\t\t\tthis.input.val(Number(this.input.val()) - 1);\n\t\t\t\tthis.onChange();\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Multi currency\n\t */\n\tMultiCurrency: class MultiCurrency {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-multicurrency-container')) {\n\t\t\t\treturn new MultiCurrency(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multicurrency-container').each((n, e) => {\n\t\t\t\tinstances.push(new MultiCurrency($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-multicurrency-event', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet modal = $('<form>').append(this.container.find('.js-currencies-container .js-currencies-modal').clone());\n\t\t\t\t\tthis.registerEnableCurrencyEvent(modal);\n\t\t\t\t\tthis.registerResetCurrencyEvent(modal);\n\t\t\t\t\tthis.loadData(modal);\n\t\t\t\t\tthis.calculateConversionRate(modal);\n\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\tdata: modal,\n\t\t\t\t\t\tcss: {},\n\t\t\t\t\t\tcb: (data) => {\n\t\t\t\t\t\t\tlet form = data.parent();\n\t\t\t\t\t\t\tform.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t\t\t\tform.on('submit', (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (form.validationEngine('validate') && this.saveCurrencies(form)) {\n\t\t\t\t\t\t\t\t\tlet id = form.closest('.js-modal-container').attr('id');\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(null, id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tthis.getField().on('focusout', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\telement.formatNumber();\n\t\t\t\tthis.setPrice(element.val());\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Loading data\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tloadData(modalContainer) {\n\t\t\tlet values = JSON.parse(this.getFieldToSave().val());\n\t\t\tlet baseCurrencyId = values['currencyId'] || CONFIG.currencyId;\n\t\t\tif (values['currencies'] === undefined) {\n\t\t\t\tvalues['currencies'] = [];\n\t\t\t\tvalues['currencies'][baseCurrencyId] = { price: 0 };\n\t\t\t}\n\t\t\tfor (let i in values['currencies']) {\n\t\t\t\tlet row = modalContainer.find('[data-currency-id=\"' + i + '\"]');\n\t\t\t\tif (row.length) {\n\t\t\t\t\trow.find('.js-enable-currency').prop('checked', true);\n\t\t\t\t\trow.find('.js-currency-reset,.js-base-currency,[name^=\"currencies[\"]').prop('disabled', false);\n\t\t\t\t\trow.find('.js-converted-price').val(values['currencies'][i]['price']);\n\t\t\t\t\tif (i == baseCurrencyId) {\n\t\t\t\t\t\trow.find('.js-base-currency').prop('checked', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Set value\n\t\t * @param {number} value\n\t\t */\n\t\tsetPrice(value) {\n\t\t\tlet values = JSON.parse(this.getFieldToSave().val());\n\t\t\tlet baseCurrencyId = values['currencyId'] || CONFIG.currencyId;\n\t\t\tvalues['currencies'] = values['currencies'] || {};\n\t\t\tvalues['currencies'][baseCurrencyId] = { price: value };\n\t\t\tvalues['currencyId'] = baseCurrencyId;\n\t\t\tvalues = $.extend({}, values);\n\t\t\tthis.getFieldToSave().val(JSON.stringify($.extend({}, values)));\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-multicurrency-field');\n\t\t}\n\t\t/**\n\t\t * Gets field to save\n\t\t */\n\t\tgetFieldToSave() {\n\t\t\treturn this.container.find('.js-multicurrency-field-to-save');\n\t\t}\n\t\t/**\n\t\t * Save\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tsaveCurrencies(modalContainer) {\n\t\t\tlet enabledBaseCurrency = modalContainer.find('.js-enable-currency').filter(':checked');\n\t\t\tif (enabledBaseCurrency.length < 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_BASE_CURRENCY_FOR_PRODUCT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet selectedBaseCurrency = modalContainer.find('.js-base-currency').filter(':checked');\n\t\t\tif (selectedBaseCurrency.length < 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_ENABLE_BASE_CURRENCY_FOR_PRODUCT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet selectedRow = selectedBaseCurrency.closest('tr');\n\t\t\tlet symbol = selectedRow.data('currency-symbol');\n\t\t\tthis.container.find('.js-currency').text(symbol);\n\t\t\tlet data = {};\n\t\t\tdata['currencies'] = {};\n\t\t\tenabledBaseCurrency.closest('tr').each((n, e) => {\n\t\t\t\tlet row = $(e),\n\t\t\t\t\tcurrencyId = row.data('currencyId');\n\t\t\t\tdata['currencies'][currencyId] = {};\n\t\t\t\tdata['currencies'][currencyId]['price'] = row.find('.js-converted-price').val();\n\t\t\t\tif (row.find('.js-base-currency:checked').length) {\n\t\t\t\t\tdata['currencyId'] = currencyId;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.getFieldToSave().val(JSON.stringify(data));\n\t\t\tthis.getField().val(selectedRow.find('.js-converted-price').val());\n\t\t\tselectedBaseCurrency.prop('checked', false);\n\t\t\treturn true;\n\t\t}\n\t\t/**\n\t\t * Calculate\n\t\t * @param {jQuery} container\n\t\t */\n\t\tcalculateConversionRate(container) {\n\t\t\tlet baseCurrencyConversionRate = container\n\t\t\t\t.find('.js-base-currency')\n\t\t\t\t.filter(':checked')\n\t\t\t\t.closest('tr')\n\t\t\t\t.find('.js-conversion-rate');\n\t\t\tif (baseCurrencyConversionRate.val() == '1') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet baseCurrencyRatePrevValue = baseCurrencyConversionRate.getNumberFromValue();\n\t\t\tcontainer.find('.js-conversion-rate').each(function (key, domElement) {\n\t\t\t\tlet element = $(domElement);\n\t\t\t\tif (!element.is(baseCurrencyConversionRate)) {\n\t\t\t\t\telement.val(\n\t\t\t\t\t\tApp.Fields.Double.formatToDisplay(element.getNumberFromValue() / baseCurrencyRatePrevValue, false)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tbaseCurrencyConversionRate.val('1');\n\t\t}\n\t\t/**\n\t\t * Function to register event for enabling currency on checkbox checked\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterEnableCurrencyEvent(container) {\n\t\t\tcontainer.on('change', '.js-enable-currency', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentRow = element.closest('tr');\n\t\t\t\tif (element.is(':checked')) {\n\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\tlet price = this.getField().getNumberFromValue() * parentRow.find('.js-conversion-rate').getNumberFromValue();\n\t\t\t\t\t$('input', parentRow).removeAttr('disabled');\n\t\t\t\t\tparentRow.find('.js-currency-reset').removeAttr('disabled');\n\t\t\t\t\tparentRow.find('.js-converted-price').val(App.Fields.Double.formatToDisplay(price));\n\t\t\t\t} else {\n\t\t\t\t\tif (parentRow.find('.js-base-currency').is(':checked')) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t'\"' +\n\t\t\t\t\t\t\t\tparentRow.find('.js-currency-name').text() +\n\t\t\t\t\t\t\t\t'\" ' +\n\t\t\t\t\t\t\t\tapp.vtranslate('JS_BASE_CURRENCY_CHANGED_TO_DISABLE_CURRENCY')\n\t\t\t\t\t\t});\n\t\t\t\t\t\telement.prop('checked', true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tparentRow.find('input').attr('disabled', 'disabled');\n\t\t\t\t\tparentRow.find('.js-currency-reset').attr('disabled', 'disabled');\n\t\t\t\t\telement.removeAttr('disabled checked');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Function to register event for reseting the currencies\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterResetCurrencyEvent(container) {\n\t\t\tcontainer.on('click', '.js-currency-reset', (e) => {\n\t\t\t\tlet parentElem = $(e.currentTarget).closest('tr');\n\t\t\t\tlet price = this.getField().getNumberFromValue() * parentElem.find('.js-conversion-rate').getNumberFromValue();\n\t\t\t\t$('.js-converted-price', parentElem).val(App.Fields.Double.formatToDisplay(price));\n\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * Meeting URL\n\t */\n\tMeetingUrl: class MeetingUrl {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-meeting-container')) {\n\t\t\t\treturn new MeetingUrl(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-meeting-container').each((n, e) => {\n\t\t\t\tinstances.push(new MeetingUrl($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tlet addButton = $('.js-meeting-add', this.container);\n\t\t\tif (!addButton.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet valElement = $('.js-meeting-val', this.container);\n\t\t\taddButton.off('click').on('click', (e) => {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(this.getUrl(e))\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tlet result = data.result;\n\t\t\t\t\t\tif (result && result.success && result.url) {\n\t\t\t\t\t\t\tvalElement.attr('readonly', true).val(result.url);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t})\n\t\t\t\t\t.fail((_) => {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t\t$('.js-meeting-clear', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tvalElement.attr('readonly', false).val('');\n\t\t\t\t});\n\t\t\tthis.addEventsForDependentFields();\n\t\t}\n\t\t/**\n\t\t * Gets URL\n\t\t */\n\t\tgetUrl(e) {\n\t\t\tlet url = e.currentTarget.dataset.url;\n\t\t\tlet formData = $(e.currentTarget).closest('form').serializeFormData();\n\t\t\tlet expField = e.currentTarget.dataset.expField;\n\t\t\tif (expField && formData && formData[expField]) {\n\t\t\t\tlet date = formData[expField].split(' ');\n\t\t\t\turl += '&exp=' + encodeURIComponent(date[0]);\n\t\t\t}\n\t\t\tlet roomName = e.currentTarget.dataset.roomName;\n\t\t\tif (roomName && formData && formData[roomName]) {\n\t\t\t\turl += '&roomName=' + encodeURIComponent(formData[roomName]);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\t\t/**\n\t\t * Add events for dependent fields\n\t\t */\n\t\taddEventsForDependentFields() {\n\t\t\tlet addButton = $('.js-meeting-add', this.container);\n\t\t\tlet valElement = $('.js-meeting-val', this.container);\n\t\t\tlet data = addButton.data();\n\t\t\tlet formElement = this.container.closest('form');\n\t\t\tfor (let name of ['expField', 'roomName']) {\n\t\t\t\tlet fieldName = data[name];\n\t\t\t\tif (!fieldName) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tformElement.on('change', `[name=${fieldName}]`, (_) => {\n\t\t\t\t\tif (data['domain'] && valElement.val().indexOf(data['domain']) === 0) {\n\t\t\t\t\t\taddButton.trigger('click');\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_MEETING_URL_CHANGED')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Changes Json\n\t */\n\tChangesJson: class ChangesJson {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-changesjson-container')) {\n\t\t\t\treturn new ChangesJson(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-changesjson-container').each((_, e) => {\n\t\t\t\tinstances.push(new ChangesJson($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-changesjson-edit', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet field = this.getField();\n\t\t\t\t\tlet value = field.val() ? JSON.parse(field.val()) : { record: 0, module: '', changes: [] };\n\t\t\t\t\tlet relatedField = this.getRelatedField();\n\t\t\t\t\tif (relatedField.length) {\n\t\t\t\t\t\tvalue.record = relatedField.val();\n\t\t\t\t\t\tvalue.module = $('input[name=\"popupReferenceModule\"]', relatedField.closest('.fieldValue')).val();\n\t\t\t\t\t}\n\t\t\t\t\tif (!value.record || value.record == 0) {\n\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_LACK_INFORMATION_ABOUT_RECORD') });\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: value.module,\n\t\t\t\t\t\trecord: value.record,\n\t\t\t\t\t\tchanges: value.changes,\n\t\t\t\t\t\tsourceModule: field.data('module'),\n\t\t\t\t\t\tsourceField: field.attr('name'),\n\t\t\t\t\t\tview: 'ChangesJsonModal'\n\t\t\t\t\t})\n\t\t\t\t\t\t.done((requestData) => {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\t\t\tdata: requestData,\n\t\t\t\t\t\t\t\tcss: {},\n\t\t\t\t\t\t\t\tcb: (data) => {\n\t\t\t\t\t\t\t\t\tthis.saveData(data, value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((_) => {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Save data to field\n\t\t */\n\t\tsaveData(container, data) {\n\t\t\tlet form = container.find('form');\n\t\t\tcontainer.on('click', '.js-modal__save', (e) => {\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (!form.find('input[id^=\"selectRow\"]:checked').length) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_NONE_FIELD_MARKED_IN_MASS_EDIT'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\t\tif (invalidFields.length !== 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tform.find('[id^=\"selectRow\"]').each(function (_, checkbox) {\n\t\t\t\t\t\tcheckbox = $(checkbox);\n\t\t\t\t\t\tif (!checkbox.prop('checked')) {\n\t\t\t\t\t\t\tcheckbox\n\t\t\t\t\t\t\t\t.closest('.js-form-row-container')\n\t\t\t\t\t\t\t\t.find('.fieldValue [name]')\n\t\t\t\t\t\t\t\t.each(function (_, element) {\n\t\t\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet changeData = form.serializeFormData();\n\t\t\t\t\tdelete changeData['_csrf'];\n\t\t\t\t\tfor (let fieldName in changeData) {\n\t\t\t\t\t\tif (fieldName.substr(-2) === '[]') {\n\t\t\t\t\t\t\tlet fieldNameShort = fieldName.substr(0, fieldName.length - 2);\n\t\t\t\t\t\t\tchangeData[fieldNameShort] = changeData[fieldName];\n\t\t\t\t\t\t\tdelete changeData[fieldName];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata.changes = changeData;\n\t\t\t\t\tthis.getField().val(JSON.stringify(data));\n\t\t\t\t\tapp.hideModalWindow(null, form.closest('.js-modal-container').attr('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-changesjson-value');\n\t\t}\n\t\t/**\n\t\t * Gets related field\n\t\t */\n\t\tgetRelatedField() {\n\t\t\tlet relatedFieldName = this.getField().data('related-field');\n\t\t\treturn this.container.closest('form').find(`[name=${relatedFieldName}]`);\n\t\t}\n\t},\n\t/**\n\t * MultiReference\n\t */\n\tMultiReference: class MultiReference {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.select = container.find('.js-multi-reference');\n\t\t\tthis.form = container.closest('form');\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-multiReference-container')) {\n\t\t\t\treturn new MultiReference(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multiReference-container').each((_, e) => {\n\t\t\t\tinstances.push(new MultiReference($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Set a value for the field\n\t\t *\n\t\t * @param   {jQuery}  field Field element\n\t\t * @param   {mixed}  value The value to set\n\t\t * @param   {object}  params Additional parameters [optional]\n\t\t *\n\t\t * @return  {mixed} The value that has been set\n\t\t */\n\t\tstatic setValue(field, value, params) {\n\t\t\tif (!(params && params['extend'])) {\n\t\t\t\tfield.val(null);\n\t\t\t}\n\t\t\tconst values = field.val();\n\t\t\t$.each(value, (id, label) => {\n\t\t\t\tif (!values.includes(id)) {\n\t\t\t\t\tfield.append(new Option(label, id, true, true));\n\t\t\t\t}\n\t\t\t});\n\t\t\tfield.trigger('change');\n\t\t\treturn field.val();\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-related-popup', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tapp.showRecordsList(this.getParams(), (_modal, instance) => {\n\t\t\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\t\t\tthis.setReferenceFieldValue(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t$('.js-create-reference-record', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.createHandler();\n\t\t\t\t});\n\t\t\tthis.registerAutoComplete();\n\t\t}\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t */\n\t\tregisterAutoComplete() {\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.select, {\n\t\t\t\tajax: {\n\t\t\t\t\tdata: function (item) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tsearch_value: item.term ?? '',\n\t\t\t\t\t\t\tpage: item.page\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tprocessResults: (data, params) => {\n\t\t\t\t\t\tlet items = new Array();\n\t\t\t\t\t\tif (!params.term) {\n\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\ttype: 'optgroup',\n\t\t\t\t\t\t\t\tname: this.select.attr('placeholder')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (data.success) {\n\t\t\t\t\t\t\t$.each(data.result, (_, item) => {\n\t\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\t\tname: item.label,\n\t\t\t\t\t\t\t\t\tid: item.id\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tresults: items,\n\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\tmore: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Set reference field value\n\t\t */\n\t\tcreateHandler() {\n\t\t\tlet formData = this.form.serializeFormData();\n\t\t\tdelete formData['action'];\n\t\t\tApp.Components.QuickCreate.createRecord($('.js-popup-reference-module', this.container).val(), {\n\t\t\t\tdata: {\n\t\t\t\t\tsourceRecordData: formData\n\t\t\t\t},\n\t\t\t\tcallbackFunction: (data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tthis.select.append(new Option(data.result._recordLabel, data.result._recordId, true, true));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Set reference field value\n\t\t * @param {object} data\n\t\t */\n\t\tsetReferenceFieldValue(data) {\n\t\t\tconst values = this.select.val();\n\t\t\t$.each(data, (id, label) => {\n\t\t\t\tif (!values.includes(id)) {\n\t\t\t\t\tthis.select.append(new Option(label, id, true, true));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Gets params\n\t\t * @returns {Object}\n\t\t */\n\t\tgetParams() {\n\t\t\tconst referenceModule = $('.js-popup-reference-module', this.container).val(),\n\t\t\t\tsourceFieldName = this.select.attr('name').slice(0, -2),\n\t\t\t\tsourceRecordElement = $('input[name=\"record\"]', this.form),\n\t\t\t\tlistFilterFieldsJson = this.form.find('input[name=\"listFilterFields\"]').val(),\n\t\t\t\tlistFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\t\t\tlet filterFields = {};\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceFieldName] != undefined &&\n\t\t\t\tlistFilterFields[sourceFieldName][referenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceFieldName][referenceModule], (index) => {\n\t\t\t\t\tlet mapFieldElement = this.form.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tmodule: referenceModule,\n\t\t\t\tsrc_module: $('input[name=\"module\"]', this.form).val(),\n\t\t\t\tsrc_field: sourceFieldName,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t}\n\t},\n\t/**\n\t * Password\n\t */\n\tPassword: class Password {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-pwd-container')) {\n\t\t\t\treturn new Password(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-pwd-container').each((_, e) => {\n\t\t\t\tinstances.push(new Password($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Get strength meter\n\t\t * @returns {Object}\n\t\t */\n\t\tstatic getStrengthLevels() {\n\t\t\tif (!this.strengthLevels) {\n\t\t\t\tthis.strengthLevels = {\n\t\t\t\t\t0: app.vtranslate('JS_PWD_RIDICULOUS'),\n\t\t\t\t\t1: app.vtranslate('JS_PWD_VERY_WEAK'),\n\t\t\t\t\t2: app.vtranslate('JS_PWD_WEAK'),\n\t\t\t\t\t3: app.vtranslate('JS_PWD_MEDIUM'),\n\t\t\t\t\t4: app.vtranslate('JS_PWD_STRONG'),\n\t\t\t\t\t5: app.vtranslate('JS_PWD_VERY_STRONG')\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn { ...this.strengthLevels };\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tconst field = this.getField();\n\t\t\t$('.js-pwd-auto-generate', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tthis.getResponse($(e.currentTarget).data('url')).then((response) => {\n\t\t\t\t\t\tif (response.success && response.result && response.result.pwd) {\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\tfield.val(response.result.pwd).trigger('keyup').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t$('.js-pwd-validate', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tthis.getResponse($(e.currentTarget).data('url') + '&password=' + field.val()).then((response) => {\n\t\t\t\t\t\tif (response.success && response.result) {\n\t\t\t\t\t\t\tlet message = response.result.message;\n\t\t\t\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t\t\t\tmessage = message.join('<br>');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfield.validationEngine('showPrompt', message, response.result.type, 'topLeft', true);\n\t\t\t\t\t\t\tfield.validationEngine('updatePromptsPosition');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t$('.js-pwd-clear', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.clear();\n\t\t\t\t});\n\t\t\t$('.js-pwd-copy', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tif (this.container.find('.js-pwd-show').attr('disabled') === 'disabled') {\n\t\t\t\t\t\tthis.getPassword().then((response) => {\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\tfield.val(response.result.text);\n\t\t\t\t\t\t\tClipboardJS.copy(response.result.text);\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tClipboardJS.copy(this.getField().val());\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t$('.js-pwd-get', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.getPassword().then((response) => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tfield.val(response.result.text);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tif (field.data('strengthMeter')) {\n\t\t\t\tfield.off('keyup').on('keyup', (e) => {\n\t\t\t\t\tlet score = this.strengthMeter(e.target.value || '');\n\t\t\t\t\tfield\n\t\t\t\t\t\t.attr('data-original-title', App.Fields.Password.getStrengthLevels()[score])\n\t\t\t\t\t\t.tooltip('show')\n\t\t\t\t\t\t.validationEngine('hide');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Get decoded password\n\t\t * @returns {Promise}\n\t\t */\n\t\tgetPassword() {\n\t\t\tconst field = this.getField();\n\t\t\treturn this.getResponse({\n\t\t\t\tmodule: field.data('module'),\n\t\t\t\tfield: field.attr('name'),\n\t\t\t\trecord: $('input[name=\"record\"]', this.container.closest('form')).val() || app.getRecordId(),\n\t\t\t\taction: 'Password',\n\t\t\t\tmode: 'getPwd'\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Clear data\n\t\t */\n\t\tclear() {\n\t\t\tthis.getField().val('').attr('disabled', false).tooltip('dispose').validationEngine('hide');\n\t\t\tthis.container.find('.js-pwd-validate, .js-pwd-show').attr('disabled', false);\n\t\t}\n\t\t/**\n\t\t * Get response\n\t\t * @param {Object|string} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tgetResponse(params) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\taDeferred.resolve(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taDeferred.reject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail((_) => {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(_);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\t/**\n\t\t * Get strength meter score\n\t\t * @param {string} pwd\n\t\t * @returns {int}\n\t\t */\n\t\tstrengthMeter(pwd) {\n\t\t\tlet score = 0;\n\t\t\tif (pwd.length > 6) score++;\n\t\t\tif (pwd.match(/[a-z]/) && pwd.match(/[A-Z]/)) score++;\n\t\t\tif (pwd.match(/\\d+/)) score++;\n\t\t\tif (pwd.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)) score++;\n\t\t\tif (pwd.length > 12) score++;\n\n\t\t\treturn score;\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-pwd-field');\n\t\t}\n\t},\n\t/**\n\t * Multi Attachment\n\t */\n\tMultiAttachment: class MultiAttachment {\n\t\t/**\n\t\t * Constructor\n\t\t * @param {jQuery} container\n\t\t * @param {Object} options\n\t\t */\n\t\tconstructor(container, options) {\n\t\t\tthis.container = container;\n\t\t\tthis.fileInput = container.find('.js-multi-attachment__file').eq(0);\n\t\t\tthis.dataInput = container.find('.js-multi-attachment__values');\n\t\t\tthis.form = container.closest('form');\n\n\t\t\tthis.progressBar = container.find('.js-multi-attachment__progress-bar');\n\t\t\tthis.progress = container.find('.js-multi-attachment__progress');\n\t\t\tthis.result = container.find('.js-multi-attachment__result');\n\t\t\tthis.files = this.dataInput.is('input') ? JSON.parse(this.dataInput.val()) : this.dataInput.data('value');\n\n\t\t\tlet fieldInfo = this.dataInput.data('fieldinfo') || {};\n\t\t\tthis.options = {\n\t\t\t\tformats: fieldInfo.formats || [],\n\t\t\t\tlimit: fieldInfo.limit || 1,\n\t\t\t\tmaxFileSize: fieldInfo.maxFileSize,\n\t\t\t\tmaxFileSizeDisplay: fieldInfo.maxFileSizeDisplay || '',\n\t\t\t\t...options\n\t\t\t};\n\t\t\tif (this.form.length && this.fileInput.length) {\n\t\t\t\tthis.initEditView();\n\t\t\t} else {\n\t\t\t\tthis.initDetailView();\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t * @param {Object} options\n\t\t */\n\t\tstatic register(container, options = {}) {\n\t\t\tif (container.hasClass('js-multi-attachment')) {\n\t\t\t\treturn new MultiAttachment(container, options);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multi-attachment').each((_, e) => {\n\t\t\t\tinstances.push(new MultiAttachment($(e), options));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation for detail view\n\t\t */\n\t\tinitDetailView() {\n\t\t\tthis.files.forEach((fileInfo) => {\n\t\t\t\tthis.createItem(fileInfo);\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Initiation for edit view\n\t\t */\n\t\tinitEditView() {\n\t\t\tthis.fileInput.detach();\n\t\t\tthis.container.on('mouseup', this.openBrowser.bind(this));\n\t\t\tthis.fileInput.fileupload({\n\t\t\t\tdataType: 'json',\n\t\t\t\treplaceFileInput: false,\n\t\t\t\tfileInput: this.fileInput,\n\t\t\t\tautoUpload: false,\n\t\t\t\tsubmit: this.submit.bind(this),\n\t\t\t\tadd: this.add.bind(this),\n\t\t\t\tprogressall: this.progressAll.bind(this),\n\t\t\t\tchange: this.change.bind(this),\n\t\t\t\tdrop: this.change.bind(this),\n\t\t\t\tdragover: this.dragOver.bind(this),\n\t\t\t\tfail: this.uploadError.bind(this),\n\t\t\t\tdone: this.uploadSuccess.bind(this)\n\t\t\t});\n\t\t\tthis.container.on('dragleave', this.dragLeave.bind(this));\n\t\t\tthis.container.on('dragend', this.dragLeave.bind(this));\n\t\t\tthis.fileInput.fileupload('option', 'dropZone', this.container);\n\t\t\tthis.enableDragNDrop();\n\t\t\tthis.form.on('submit', this.onFormSubmit.bind(this));\n\t\t\tthis.deleteButtonActive = true;\n\t\t\tthis.container.on('click', '.js-multi-attachment__file-buttons-delete', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.deleteFile(e.currentTarget.dataset.key);\n\t\t\t});\n\t\t\tthis.files.forEach((fileInfo) => {\n\t\t\t\tthis.createItem(fileInfo);\n\t\t\t});\n\t\t\tthis.filesActive = 0;\n\t\t}\n\t\t/**\n\t\t * Add event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tadd(e, data) {\n\t\t\tif (data.files.length > 0) {\n\t\t\t\tdata.submit();\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Submit event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tsubmit(e, data) {\n\t\t\tthis.filesActive++;\n\t\t\tthis.progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'replace',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: this.container\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Prevent form submission before file upload end\n\t\t * @param e\n\t\t */\n\t\tonFormSubmit(e) {\n\t\t\tif (this.filesActive) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tapp.showAlert(app.vtranslate('JS_WAIT_FOR_FILE_UPLOAD'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\t/**\n\t\t * Progressall event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tprogressAll(e, data) {\n\t\t\tconst progress = parseInt((data.loaded / data.total) * 100, 10);\n\t\t\tthis.progressBar.css({ width: progress + '%' });\n\t\t\tif (progress === 100) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.progress.addClass('d-none');\n\t\t\t\t\tthis.progressBar.css({ width: '0%' });\n\t\t\t\t}, 1000);\n\t\t\t} else {\n\t\t\t\tthis.progress.removeClass('d-none');\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * File change event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {object} data\n\t\t */\n\t\tchange(e, data) {\n\t\t\tlet { valid, error } = this.filterFiles(data.files);\n\t\t\tdata.files = valid;\n\t\t\tif (!valid.length) {\n\t\t\t\tthis.fileInput.val('');\n\t\t\t}\n\t\t\tif (error.length) {\n\t\t\t\tthis.showErrors(error);\n\t\t\t}\n\t\t\tthis.dragLeave(e);\n\t\t}\n\t\t/**\n\t\t * Get only valid files from list\n\t\t *\n\t\t * @param {Array} files\n\t\t * @returns {Object}\n\t\t */\n\t\tfilterFiles(files) {\n\t\t\tlet valid = [],\n\t\t\t\terror = [];\n\t\t\tif (files.length + this.files.length > this.options.limit) {\n\t\t\t\terror.push({ error: { text: `${app.vtranslate('JS_FILE_LIMIT')} [${this.options.limit}]` } });\n\t\t\t} else {\n\t\t\t\tfor (let file of files) {\n\t\t\t\t\tthis.validateFileType(file) && this.validateFileSize(file) ? valid.push(file) : error.push(file);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn { valid, error };\n\t\t}\n\t\t/**\n\t\t * Validate maximum file size\n\t\t * @param {Object} file\n\t\t * @returns {Boolean}\n\t\t */\n\t\tvalidateFileSize(file) {\n\t\t\tlet result = typeof file.size === 'number' && file.size < this.options.maxFileSize;\n\t\t\tif (!result) {\n\t\t\t\tfile.error = {\n\t\t\t\t\ttitle: `${app.vtranslate('JS_UPLOADED_FILE_SIZE_EXCEEDS')} <br> [${this.options.maxFileSizeDisplay}]`,\n\t\t\t\t\ttext: file.name\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t/**\n\t\t * Validate file\n\t\t *\n\t\t * @param {Object} file\n\t\t * @returns {boolean}\n\t\t */\n\t\tvalidateFileType(file) {\n\t\t\tlet result =\n\t\t\t\t!this.options.formats.length ||\n\t\t\t\tthis.options.formats.filter((format) => {\n\t\t\t\t\treturn file.type === format || (format.slice(-2) === '/*' && file.type.indexOf(format.slice(0, -1)) === 0);\n\t\t\t\t}).length > 0;\n\t\t\tif (!result) {\n\t\t\t\tfile.error = { title: app.vtranslate('JS_INVALID_FILE_TYPE'), text: file.name };\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t/**\n\t\t * Show errors\n\t\t */\n\t\tshowErrors(errors = []) {\n\t\t\tfor (let info of errors) {\n\t\t\t\tthis.showError(info.error);\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Show error\n\t\t */\n\t\tshowError(error) {\n\t\t\tif (typeof error.type === 'undefined') {\n\t\t\t\terror.type = 'error';\n\t\t\t}\n\t\t\terror.textTrusted = false;\n\t\t\tapp.showNotify(error);\n\t\t}\n\t\t/**\n\t\t * Dragover event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t */\n\t\tdragOver(_e) {\n\t\t\tthis.container.addClass('c-multi-image__drop-effect');\n\t\t}\n\t\t/**\n\t\t * Dragleave event handler\n\t\t * @param {Event} e\n\t\t */\n\t\tdragLeave(_e) {\n\t\t\tthis.container.removeClass('c-multi-image__drop-effect');\n\t\t}\n\t\t/**\n\t\t * Error event handler from file upload request\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tuploadError(_e, data) {\n\t\t\tthis.progressInstance.progressIndicator({ mode: 'hide' });\n\t\t\tthis.filesActive--;\n\t\t\tapp.errorLog('File upload error.');\n\t\t\tconst { jqXHR, files } = data;\n\t\t\tif (typeof jqXHR.responseJSON === 'undefined' || jqXHR.responseJSON === null) {\n\t\t\t\treturn this.showError({\n\t\t\t\t\ttitle: app.vtranslate('JS_FILE_UPLOAD_ERROR'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t\tfiles.forEach((file) => {\n\t\t\t\tthis.showError({\n\t\t\t\t\ttitle: app.vtranslate('JS_FILE_UPLOAD_ERROR'),\n\t\t\t\t\ttext: file.name,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.updateFormValues();\n\t\t}\n\t\t/**\n\t\t * Success event handler from file upload request\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tuploadSuccess(e, data) {\n\t\t\tthis.progressInstance.progressIndicator({ mode: 'hide' });\n\t\t\tconst { result } = data;\n\t\t\tconst attach = result.result.attach;\n\t\t\tattach.forEach((fileAttach) => {\n\t\t\t\tthis.filesActive--;\n\t\t\t\tif (typeof fileAttach.key === 'undefined') {\n\t\t\t\t\treturn this.uploadError(e, data);\n\t\t\t\t}\n\t\t\t\tif (typeof fileAttach.info !== 'undefined' && fileAttach.info) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'notice',\n\t\t\t\t\t\ttext: fileAttach.info\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.files.push(fileAttach);\n\t\t\t\tconst fileInfo = this.getFileInfo(fileAttach.key);\n\t\t\t\tthis.createItem(fileInfo);\n\t\t\t});\n\t\t\tthis.updateFormValues();\n\t\t}\n\t\t/**\n\t\t * Get file information\n\t\t *\n\t\t * @param {String} key - file id\n\t\t * @returns {Object}\n\t\t */\n\t\tgetFileInfo(key) {\n\t\t\tfor (let i = 0, len = this.files.length; i < len; i++) {\n\t\t\t\tconst file = this.files[i];\n\t\t\t\tif (file.key === key) {\n\t\t\t\t\treturn file;\n\t\t\t\t}\n\t\t\t}\n\t\t\tapp.errorLog(`File '${key}' not found.`);\n\t\t\tapp.showNotify({\n\t\t\t\ttext: app.vtranslate('JS_INVALID_FILE_HASH'),\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Generate preview of image as html string from existing values\n\t\t * @param {Object} file\n\t\t */\n\t\tcreateItem(file) {\n\t\t\tconst item = document.createElement('fieldset');\n\t\t\titem.setAttribute('class', 'c-multi-attachment--file bg-light js-handle');\n\t\t\titem.setAttribute('data-key', file.key);\n\n\t\t\tconst legend = document.createElement('legend');\n\t\t\tlegend.appendChild(document.createTextNode(file.name));\n\t\t\titem.appendChild(legend);\n\n\t\t\tconst icon = document.createElement('div');\n\t\t\ticon.setAttribute('class', 'c-multi-attachment--file-icon');\n\t\t\tconst span = document.createElement('span');\n\t\t\tspan.setAttribute('class', file.icon);\n\t\t\ticon.appendChild(span);\n\t\t\titem.appendChild(icon);\n\n\t\t\tconst fileInfo = document.createElement('div');\n\t\t\tfileInfo.setAttribute('class', 'c-multi-attachment--file-info');\n\t\t\tconst name = document.createElement('span');\n\t\t\tname.setAttribute('class', 'c-multi-attachment--file-info-main');\n\t\t\tname.setAttribute('aria-hidden', true);\n\t\t\tname.appendChild(document.createTextNode(file.name));\n\t\t\tfileInfo.appendChild(name);\n\t\t\tconst size = document.createElement('span');\n\t\t\tsize.setAttribute('class', 'c-multi-attachment--file-info-sub');\n\t\t\tsize.appendChild(document.createTextNode(file.sizeDisplay));\n\t\t\tfileInfo.appendChild(size);\n\t\t\titem.appendChild(fileInfo);\n\n\t\t\tconst buttons = document.createElement('div');\n\t\t\tbuttons.setAttribute('class', 'js-multi-attachment__file-buttons');\n\n\t\t\tif (file.url) {\n\t\t\t\tconst downloadBtn = document.createElement('a');\n\t\t\t\tdownloadBtn.setAttribute('class', 'btn btn-sm btn-outline-success js-multi-attachment__file-buttons-download');\n\t\t\t\tdownloadBtn.setAttribute('href', file.url);\n\t\t\t\tdownloadBtn.setAttribute('download', file.name);\n\t\t\t\tdownloadBtn.setAttribute('title', $('<textarea />').html(app.vtranslate('JS_DOWNLOAD')).text());\n\t\t\t\tconst downloadBtnIcon = document.createElement('span');\n\t\t\t\tdownloadBtnIcon.setAttribute('class', 'fa fa-download');\n\t\t\t\tdownloadBtn.appendChild(downloadBtnIcon);\n\t\t\t\tbuttons.appendChild(downloadBtn);\n\t\t\t}\n\t\t\tif (this.deleteButtonActive && !file.lock) {\n\t\t\t\tconst deleteBtn = document.createElement('button');\n\t\t\t\tdeleteBtn.setAttribute('class', 'btn btn-sm btn-outline-danger js-multi-attachment__file-buttons-delete ml-1');\n\t\t\t\tdeleteBtn.setAttribute('data-key', file.key);\n\t\t\t\tdeleteBtn.setAttribute('title', $('<textarea />').html(app.vtranslate('JS_DELETE')).text());\n\t\t\t\tconst deleteBtnIcon = document.createElement('span');\n\t\t\t\tdeleteBtnIcon.setAttribute('class', 'fa fa-trash-alt');\n\t\t\t\tdeleteBtn.appendChild(deleteBtnIcon);\n\t\t\t\tbuttons.appendChild(deleteBtn);\n\t\t\t}\n\n\t\t\titem.appendChild(buttons);\n\t\t\tthis.result.append(item);\n\t\t}\n\t\t/**\n\t\t * Enable drag and drop files repositioning\n\t\t */\n\t\tenableDragNDrop() {\n\t\t\tthis.result\n\t\t\t\t.sortable({\n\t\t\t\t\tcontainment: this.container,\n\t\t\t\t\titems: '.js-handle',\n\t\t\t\t\tstop: this.sortStop.bind(this)\n\t\t\t\t})\n\t\t\t\t.disableSelection();\n\t\t}\n\t\t/**\n\t\t * Prevent form submission\n\t\t *\n\t\t * @param {Event} e\n\t\t */\n\t\topenBrowser(e) {\n\t\t\tif (!e.target.closest('fieldset')) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.fileInput.trigger('click');\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Update file position according to elements order\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} ui\n\t\t */\n\t\tsortStop(e, ui) {\n\t\t\tconst actualElements = this.result.find('fieldset').toArray();\n\t\t\tthis.files = actualElements.map((element) => {\n\t\t\t\tfor (let i = 0, len = this.files.length; i < len; i++) {\n\t\t\t\t\tconst elementHash = $(element).data('key');\n\t\t\t\t\tif (this.files[i].key === elementHash) {\n\t\t\t\t\t\treturn this.files[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.updateFormValues();\n\t\t}\n\t\t/**\n\t\t * Remove file from preview and from file list\n\t\t *\n\t\t * @param {String} key\n\t\t */\n\t\tdeleteFile(key) {\n\t\t\tconst fileInfo = this.getFileInfo(key);\n\t\t\tthis.result.find(`[data-key=\"${fileInfo.key}\"]`).remove();\n\t\t\tthis.files = this.files.filter((file) => file.key !== fileInfo.key);\n\t\t\tthis.updateFormValues();\n\t\t}\n\n\t\t/**\n\t\t * Update form input values\n\t\t */\n\t\tupdateFormValues() {\n\t\t\tthis.fileInput.val('');\n\t\t\tconst formValues = this.files.map((file) => {\n\t\t\t\treturn { key: file.key, name: file.name, size: file.size, type: file.type };\n\t\t\t});\n\t\t\tthis.dataInput.val(JSON.stringify(formValues));\n\t\t}\n\t},\n\t/**\n\t * Icon\n\t */\n\tIcon: class Icon {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-icon-container')) {\n\t\t\t\treturn new Icon(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-icon-container').each((_, e) => {\n\t\t\t\tinstances.push(new Icon($(e)));\n\t\t\t});\n\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tthis.iconElement = $('.js-icon-show', this.container);\n\t\t\t$('.js-clear-selection', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.clear();\n\t\t\t\t});\n\t\t\t$('.js-icon-select', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tApp.Components.Icons.modalView().done((data) => {\n\t\t\t\t\t\tif (data.type === 'icon') {\n\t\t\t\t\t\t\tconst span = document.createElement('span');\n\t\t\t\t\t\t\tspan.setAttribute('class', data.name);\n\t\t\t\t\t\t\tthis.iconElement.html('').append(span);\n\t\t\t\t\t\t} else if (data.type === 'image') {\n\t\t\t\t\t\t\tconst image = document.createElement('img');\n\t\t\t\t\t\t\timage.setAttribute('class', 'icon-img--picklist');\n\t\t\t\t\t\t\timage.setAttribute('src', data.src);\n\t\t\t\t\t\t\tthis.iconElement.html('').append(image);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setValue(data);\n\t\t\t\t\t\tthis.setDisplayValue(data.name);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Clear selection\n\t\t */\n\t\tclear() {\n\t\t\tlet element = this.getField();\n\t\t\tlet fieldName = element.attr('name');\n\t\t\telement.val('');\n\t\t\tthis.container.find(`#${fieldName}_display`).val('');\n\t\t\tthis.iconElement.html('');\n\t\t}\n\t\t/**\n\t\t * Set icon name\n\t\t * @param {string} data\n\t\t */\n\t\tsetDisplayValue(name) {\n\t\t\tlet fieldName = this.getField().attr('name');\n\t\t\tthis.container.find(`#${fieldName}_display`).val(name).attr('readonly', true);\n\t\t}\n\t\t/**\n\t\t * Set value\n\t\t * @param {Object} data\n\t\t */\n\t\tsetValue(data) {\n\t\t\tlet { type, name } = data;\n\t\t\tif (data.key) {\n\t\t\t\tname = data.key;\n\t\t\t}\n\t\t\tthis.getField().val(JSON.stringify({ type: type, name: name }));\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-source-field');\n\t\t}\n\t},\n\tPhone: {\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregister(container) {\n\t\t\tIntegrations_Pbx_Base.getInstance(container).registerEvents();\n\t\t}\n\t},\n\tMail: {\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregister(container) {\n\t\t\tIntegrations_Mail_Base.getInstance(container).registerEvents();\n\t\t}\n\t},\n\tUtils: {\n\t\tregisterMobileDateRangePicker(element) {\n\t\t\tthis.hideMobileKeyboard(element);\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\telement\n\t\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t\t})\n\t\t\t\t\t.on('hide.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.removeClass('js-visible');\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\thideMobileKeyboard(element) {\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\telement.attr('readonly', 'true').addClass('bg-white');\n\t\t\t}\n\t\t},\n\t\tpositionPicker(ev, picker) {\n\t\t\tlet offset = picker.element.offset();\n\t\t\tlet $window = $(window);\n\t\t\tif (offset.left - $window.scrollLeft() + picker.container.outerWidth() > $window.width()) {\n\t\t\t\tpicker.opens = 'left';\n\t\t\t} else {\n\t\t\t\tpicker.opens = 'right';\n\t\t\t}\n\t\t\tpicker.move();\n\t\t\tif (offset.top - $window.scrollTop() + picker.container.outerHeight() > $window.height()) {\n\t\t\t\tpicker.drops = 'up';\n\t\t\t} else {\n\t\t\t\tpicker.drops = 'down';\n\t\t\t}\n\t\t\tpicker.move();\n\t\t},\n\t\t/**\n\t\t * Set a value for the field\n\t\t *\n\t\t * @param   {jQuery}  field Field element\n\t\t * @param   {mixed}  value The value to set\n\t\t * @param   {object}  params Additional parameters [optional]\n\t\t * @param   {boolean}  animation\n\t\t */\n\t\tsetValue(field, value, params, animation = true) {\n\t\t\tconst fieldInfo = field.data('fieldinfo');\n\t\t\tswitch (fieldInfo['type']) {\n\t\t\t\tcase 'picklist':\n\t\t\t\tcase 'languages':\n\t\t\t\tcase 'country':\n\t\t\t\tcase 'currencyList':\n\t\t\t\tcase 'modules':\n\t\t\t\t\tApp.Fields.Picklist.setValue(field, value, params);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'multiReference':\n\t\t\t\t\tApp.Fields.MultiReference.setValue(field, value, params);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tfield.val(value);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (animation) {\n\t\t\t\tconst fieldValue = field.closest('.fieldValue');\n\t\t\t\tfieldValue.addClass('border border-info');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tfieldValue.removeClass('border border-info');\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t}\n\t}\n};\n"],"names":["window","App","Fields","Date","months","monthsTranslated","map","monthName","vtranslate","fullMonths","fullMonthsTranslated","days","daysTranslated","fullDays","fullDaysTranslated","app","register","parentElement","registerForAddon","customParams","className","$","elements","hasClass","length","closest","parentDateElem","on","e","currentTarget","find","get","focus","CONFIG","dateFormat","elementDateFormat","data","format","fn","datepicker","dates","langKey","daysShort","daysMin","monthsShort","today","clear","titleFormat","weekStart","firstDayOfWeekNo","params","todayBtn","clearBtn","language","autoclose","todayHighlight","extend","each","_index","element","Object","assign","enableOnReadonly","hasAttribute","Utils","hideMobileKeyboard","registerRange","toUpperCase","ranges","moment","add","subtract","startOf","endOf","locale","DateTime","getDefaultLocale","autoUpdateInput","autoApply","off","parent","next","currentParams","el","daterangepicker","_ev","picker","val","startDate","endDate","trigger","ev","positionPicker","container","addClass","removeClass","registerMobileDateRangePicker","getDateInstance","dateTime","dateTimeComponents","split","dateComponent","timeComponent","seconds","dotMode","indexOf","splittedDateFormat","year","splittedDate","month","day","dateInstance","parse","isNaN","timeSections","toLowerCase","parseInt","dateToDbFormat","date","getDate","m","getMonth","y","getFullYear","d","dateToUserFormat","replace","getLastMonthDay","howManyDaysFromDate","toTime","getTime","floor","convertToDatePickerFormat","init","hourFormat","elementHourFormat","timePicker24Hour","timeFormat","isDateRangePicker","parentEl","singleDatePicker","showDropdowns","timePicker","timePickerIncrement","opens","prop","_","instances","push","separator","applyLabel","cancelLabel","fromLabel","toLabel","customRangeLabel","weekLabel","substr","firstDay","daysOfWeek","monthNames","Time","Colors","getColorContrast","hexcolor","r","g","b","getRandomColor","letters","color","i","Math","random","getRandomColors","count","colors","showPicker","fieldToUpdate","bgToUpdate","cb","url","showModalWindow","registerPickerEvents","modalContainer","ColorPicker","mount","currentColor","newColor","getColor","hex","css","hideModalWindow","id","bind","Text","registerCopyClipboard","querySelectorAll","key","ClipboardJS","text","showNotify","type","is","Editor","initialization","CKEDITOR","disableAutoInline","plugins","addExternal","getMainParams","config","toolbar","height","isModal","self","progressInstance","progressIndicator","blockInfo","enabled","onBlock","loadEditor","destroyEditor","getElement","attr","getElementId","customConfig","setElement","instance","getEditorInstanceFromName","allowedContent","disableNativeSpellChecker","extraAllowedContent","format_tags","removeButtons","enterMode","ENTER_BR","shiftEnterMode","ENTER_P","emojiEnabled","mentionsEnabled","clipboard_handleImages","instanceReady","evt","editor","updateElement","mode","beforeCommandExec","validate","removePlugins","extraPlugins","toolbar_Full","name","items","toolbar_Min","toolbar_Micro","toolbar_Clipboard","toolbar_PDF","emojiToolbar","Array","isArray","outputTemplate","mentions","registerMentions","remove","ckeditor","feed","getMentionUsersData","itemTemplate","minChars","minSerchTextLength","getMentionData","marker","pattern","opts","callback","status","module","action","purifyMode","value","fieldName","fieldValue","AppConnector","request","async","done","result","raw","fail","Completions","inputDiv","eq","completionsCollection","records","users","emojis","autolink","collection","registerMentionCollection","registerEmojiCollection","symbol","searchModule","selectTemplate","item","range","isContentEditable","current","original","label","trim","values","globalSearchAutocompleteMinLength","menuItemTemplate","mentionTemplate","category","image","icon","lookup","fillAttr","emoji","avatar","charCode","fillChar","sel","getSelection","getRangeAt","cloneRange","getParentByTagName","node","tags","isBody","tagName","parentNode","nodeType","html","str","isFillChar","nodeValue","start","startContainer","startOffset","childNodes","setStart","collapse","previousSibling","lastChild","offset","toString","charCodeAt","RegExp","match","test","startCont","nextSibling","a","A","href","hrefFull","allowedHosts","purifierAllowedDomains","host","document","createElement","createTextNode","appendChild","extractContents","innerHTML","setAttribute","insertNode","insertBefore","removeAllRanges","addRange","allowSpaces","attach","completionsTextarea","registerCompletionsTextArea","completionsButtons","registerCompletionsButtons","registerAutoLinker","fetch","siteUrl","then","response","json","catch","error","registerTagClick","keyCode","autoLink","textarea","siblings","preventDefault","append","target","clone","completionsContainer","parents","showMenuForCollection","basicSearch","reduceNumberResults","returnHtml","query","search","JSON","reponseDataList","serverDataFormat","responseData","destroy","generateRandomChar","rand","substring","generateRandomHash","prefix","valueOf","hash","Picklist","changeSelectElementView","view","viewParams","toArray","forEach","elem","showSelect2ElementView","errorLog","selectElement","registerParams","selectLazy","showLazySelect","lazyElements","registerLazySelectOptions","selectParams","dropdownContainer","setTimeout","dropdownList","selectOffsetTop","top","select","htmlBoolParams","tokenSeparators","select2","computeDropdownHeight","removeData","$dropdown","dropdown","$search","selectCb","dropdownParent","modalParent","theme","width","containerCssClass","noResults","removeAllItems","options","optgroup","children","sort","aText","bText","v","prepend","maximumSelectionLength","formatSelectionTooBig","maximumSelected","limit","maximum","placeholder","templateResult","resultContainer","innerText","strong","file","templateSelection","span","registerAjaxParams","searching","inputTooShort","args","minimum","input","remainingChars","errorLoading","ajax","dataType","delay","method","term","page","processResults","success","concat","results","pagination","more","cache","escapeMarkup","markup","minimumInputLength","prependDataTemplate","optionData","dataset","template","state","querySelector","classList","iconInactive","iconActive","registerSelectSortable","sortSelectOptions","registerSortEvent","sortableCb","appendTo","ul","first","sortable","tolerance","stop","reverse","optionTitle","registerIconsEvents","event","originalEvent","optionElement","progressIndicatorElement","currentElementData","message","amd","require","ArrayData","$element","CustomData","__super__","constructor","call","Extend","prototype","filter","slice","dataAdapter","selectedOption","picklistvalues","hasOwnProperty","createSelectedOption","selected","disabled","setValue","field","findOption","option","searchValue","foundOption","selectValues","getSelectOptions","getFieldValueFromText","keys","valueExists","createOption","optionsObject","_i","newOption","MultiImage","currentFileUploads","MultiEmail","$container","idx","multiEmailField","$multiEmailField","parseToJSON","toggleConsent","addItem","removeItem","$item","email","consent","o","stringify","$newItem","hide","show","$deleteBtn","$consentBox","toggle","MultiDependField","index","fields","inputElement","addRow","registerRow","parseToJson","removeRow","allFields","arrayLength","partData","skip","k","arr","newField","lastField","last","selectFields","removeAttr","insertAfter","DependentSelect","generateOptionsFromData","slaveSelect","masterSelect","child","localeCompare","Gantt","Integer","formatToDisplay","currencyGroupingSeparator","groupingPattern","currencyGroupingPattern","parseFloat","toFixed","integer","groupSeparator","Double","numberOfDecimal","noOfCurrencyDecimals","numberOfZerosAtTheEnd","strDecimal","fixed","round","base","sign","splittedFloat","truncateTrailingZeros","decimal","currencyDecimalSeparator","formatToDb","join","Tree","modalEvent","autoCompleteEvent","clearSelectionEvent","sourceFieldElement","fieldDisplayElement","multiple","requestData","modalEvents","modal","setSelectEvent","modalId","autoCompleteElement","autocomplete","minLength","source","parentElem","fieldInfo","allValues","responseDataList","ui","selectedItemData","change","open","menu","fieldElement","n","TimePeriod","time","Number","period","injectContent","content","plus1btn","minus1btn","registerEvents","onChange","onPlus1Click","onMinus1Click","stopPropagation","MultiCurrency","registerEnableCurrencyEvent","registerResetCurrencyEvent","loadData","calculateConversionRate","form","validationEngine","validationEngineOptionsForRecord","saveCurrencies","getField","formatNumber","setPrice","getFieldToSave","baseCurrencyId","currencyId","price","row","enabledBaseCurrency","showMessage","selectedBaseCurrency","Vtiger_Helper_Js","selectedRow","baseCurrencyConversionRate","getNumberFromValue","domElement","baseCurrencyRatePrevValue","parentRow","title","MeetingUrl","addButton","valElement","getUrl","addEventsForDependentFields","formData","serializeFormData","expField","encodeURIComponent","roomName","formElement","ChangesJson","record","changes","relatedField","getRelatedField","sourceModule","sourceField","saveData","invalidFields","InvalidFields","checkbox","changeData","fieldNameShort","relatedFieldName","MultiReference","showRecordsList","getParams","_modal","setReferenceFieldValue","createHandler","registerAutoComplete","search_value","Components","QuickCreate","createRecord","sourceRecordData","callbackFunction","Option","_recordLabel","_recordId","includes","referenceModule","sourceFieldName","sourceRecordElement","listFilterFieldsJson","listFilterFields","sourceRecordId","mapFieldElement","filterFields","src_module","src_field","src_record","multi_select","Password","getResponse","pwd","getPassword","copy","strengthMeter","getStrengthLevels","score","tooltip","getRecordId","Deferred","aDeferred","resolve","reject","promise","strengthLevels","MultiAttachment","fileInput","dataInput","progressBar","progress","files","formats","maxFileSize","maxFileSizeDisplay","initEditView","initDetailView","fileInfo","createItem","detach","openBrowser","fileupload","replaceFileInput","autoUpload","submit","progressall","progressAll","drop","dragover","dragOver","uploadError","uploadSuccess","dragLeave","enableDragNDrop","onFormSubmit","deleteButtonActive","deleteFile","filesActive","position","elementToBlock","stopImmediatePropagation","showAlert","loaded","total","filterFiles","valid","showErrors","validateFileType","validateFileSize","size","errors","showError","info","textTrusted","_e","jqXHR","responseJSON","updateFormValues","fileAttach","getFileInfo","len","legend","sizeDisplay","buttons","downloadBtn","downloadBtnIcon","lock","deleteBtn","deleteBtnIcon","containment","sortStop","disableSelection","actualElements","elementHash","formValues","Icon","iconElement","Icons","modalView","src","setDisplayValue","Phone","Integrations_Pbx_Base","getInstance","Mail","Integrations_Mail_Base","Quasar","Platform","desktop","$window","left","scrollLeft","outerWidth","move","drops","scrollTop","outerHeight","animation"],"mappings":"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"}