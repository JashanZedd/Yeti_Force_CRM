{"version":3,"file":"Fields.min.js","sources":["Fields.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nwindow.App.Fields = {\n\tDate: {\n\t\tmonths: [\n\t\t\t'JS_JAN',\n\t\t\t'JS_FEB',\n\t\t\t'JS_MAR',\n\t\t\t'JS_APR',\n\t\t\t'JS_MAY_SHORT',\n\t\t\t'JS_JUN',\n\t\t\t'JS_JUL',\n\t\t\t'JS_AUG',\n\t\t\t'JS_SEP',\n\t\t\t'JS_OCT',\n\t\t\t'JS_NOV',\n\t\t\t'JS_DEC'\n\t\t],\n\t\tmonthsTranslated: [\n\t\t\t'JS_JAN',\n\t\t\t'JS_FEB',\n\t\t\t'JS_MAR',\n\t\t\t'JS_APR',\n\t\t\t'JS_MAY_SHORT',\n\t\t\t'JS_JUN',\n\t\t\t'JS_JUL',\n\t\t\t'JS_AUG',\n\t\t\t'JS_SEP',\n\t\t\t'JS_OCT',\n\t\t\t'JS_NOV',\n\t\t\t'JS_DEC'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\t\tfullMonths: [\n\t\t\t'JS_JANUARY',\n\t\t\t'JS_FEBRUARY',\n\t\t\t'JS_MARCH',\n\t\t\t'JS_APRIL',\n\t\t\t'JS_MAY',\n\t\t\t'JS_JUNE',\n\t\t\t'JS_JULY',\n\t\t\t'JS_AUGUST',\n\t\t\t'JS_SEPTEMBER',\n\t\t\t'JS_OCTOBER',\n\t\t\t'JS_NOVEMBER',\n\t\t\t'JS_DECEMBER'\n\t\t],\n\t\tfullMonthsTranslated: [\n\t\t\t'JS_JANUARY',\n\t\t\t'JS_FEBRUARY',\n\t\t\t'JS_MARCH',\n\t\t\t'JS_APRIL',\n\t\t\t'JS_MAY',\n\t\t\t'JS_JUNE',\n\t\t\t'JS_JULY',\n\t\t\t'JS_AUGUST',\n\t\t\t'JS_SEPTEMBER',\n\t\t\t'JS_OCTOBER',\n\t\t\t'JS_NOVEMBER',\n\t\t\t'JS_DECEMBER'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\t\tdays: ['JS_SUN', 'JS_MON', 'JS_TUE', 'JS_WED', 'JS_THU', 'JS_FRI', 'JS_SAT'],\n\t\tdaysTranslated: ['JS_SUN', 'JS_MON', 'JS_TUE', 'JS_WED', 'JS_THU', 'JS_FRI', 'JS_SAT'].map((monthName) =>\n\t\t\tapp.vtranslate(monthName)\n\t\t),\n\t\tfullDays: ['JS_SUNDAY', 'JS_MONDAY', 'JS_TUESDAY', 'JS_WEDNESDAY', 'JS_THURSDAY', 'JS_FRIDAY', 'JS_SATURDAY'],\n\t\tfullDaysTranslated: [\n\t\t\t'JS_SUNDAY',\n\t\t\t'JS_MONDAY',\n\t\t\t'JS_TUESDAY',\n\t\t\t'JS_WEDNESDAY',\n\t\t\t'JS_THURSDAY',\n\t\t\t'JS_FRIDAY',\n\t\t\t'JS_SATURDAY'\n\t\t].map((monthName) => app.vtranslate(monthName)),\n\n\t\t/**\n\t\t * Register DatePicker\n\t\t * @param {$} parentElement\n\t\t * @param {boolean} registerForAddon\n\t\t * @param {object} customParams\n\t\t */\n\t\tregister(parentElement, registerForAddon, customParams, className = 'dateField') {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tif (typeof registerForAddon === 'undefined') {\n\t\t\t\tregisterForAddon = true;\n\t\t\t}\n\t\t\tlet elements = $('.' + className, parentElement);\n\t\t\tif (parentElement.hasClass(className)) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (registerForAddon === true) {\n\t\t\t\tconst parentDateElem = elements.closest('.date');\n\t\t\t\t$('.js-date__btn', parentDateElem).on('click', function inputGroupAddonClickHandler(e) {\n\t\t\t\t\t// Using focus api of DOM instead of jQuery because show api of datePicker is calling e.preventDefault\n\t\t\t\t\t// which is stopping from getting focus to input element\n\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t.closest('.date')\n\t\t\t\t\t\t.find('input.' + className)\n\t\t\t\t\t\t.get(0)\n\t\t\t\t\t\t.focus();\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet format = CONFIG.dateFormat;\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tformat = elementDateFormat;\n\t\t\t}\n\t\t\tif (typeof $.fn.datepicker.dates[CONFIG.langKey] === 'undefined') {\n\t\t\t\t$.fn.datepicker.dates[CONFIG.langKey] = {\n\t\t\t\t\tdays: App.Fields.Date.fullDaysTranslated,\n\t\t\t\t\tdaysShort: App.Fields.Date.daysTranslated,\n\t\t\t\t\tdaysMin: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonths: App.Fields.Date.fullMonthsTranslated,\n\t\t\t\t\tmonthsShort: App.Fields.Date.monthsTranslated,\n\t\t\t\t\ttoday: app.vtranslate('JS_TODAY'),\n\t\t\t\t\tclear: app.vtranslate('JS_CLEAR'),\n\t\t\t\t\tformat: format,\n\t\t\t\t\ttitleFormat: 'MM yyyy' /* Leverages same syntax as 'format' */,\n\t\t\t\t\tweekStart: CONFIG.firstDayOfWeekNo\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\ttodayBtn: 'linked',\n\t\t\t\tclearBtn: true,\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tweekStart: CONFIG.firstDayOfWeekNo,\n\t\t\t\tautoclose: true,\n\t\t\t\ttodayHighlight: true,\n\t\t\t\tformat: format\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\telements.each((_index, element) => {\n\t\t\t\t$(element).datepicker(\n\t\t\t\t\t$.extend(\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\tObject.assign(params, { enableOnReadonly: !element.hasAttribute('readonly') }),\n\t\t\t\t\t\t$(element).data('params')\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t});\n\t\t\tApp.Fields.Utils.hideMobileKeyboard(elements);\n\t\t\treturn elements;\n\t\t},\n\n\t\t/**\n\t\t * Register dateRangePicker\n\t\t * @param {jQuery} parentElement\n\t\t * @param {object} customParams\n\t\t */\n\t\tregisterRange(parentElement, customParams = {}) {\n\t\t\tif (typeof parentElement === 'undefined') {\n\t\t\t\tparentElement = $('body');\n\t\t\t} else {\n\t\t\t\tparentElement = $(parentElement);\n\t\t\t}\n\t\t\tlet elements = $('.dateRangeField', parentElement);\n\t\t\tif (parentElement.hasClass('dateRangeField')) {\n\t\t\t\telements = parentElement;\n\t\t\t}\n\t\t\tif (elements.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet format = CONFIG.dateFormat.toUpperCase();\n\t\t\tconst elementDateFormat = elements.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tformat = elementDateFormat.toUpperCase();\n\t\t\t}\n\t\t\tlet ranges = {};\n\t\t\tranges[app.vtranslate('JS_TODAY')] = [moment(), moment()];\n\t\t\tranges[app.vtranslate('JS_TOMORROW')] = [moment().add(1, 'days'), moment().add(1, 'days')];\n\t\t\tranges[app.vtranslate('JS_YESTERDAY')] = [moment().subtract(1, 'days'), moment().subtract(1, 'days')];\n\t\t\tranges[app.vtranslate('JS_LAST_7_DAYS')] = [moment().subtract(6, 'days'), moment()];\n\t\t\tranges[app.vtranslate('JS_NEXT_7_DAYS')] = [moment(), moment().add(6, 'days')];\n\t\t\tranges[app.vtranslate('JS_CURRENT_MONTH')] = [moment().startOf('month'), moment().endOf('month')];\n\t\t\tranges[app.vtranslate('JS_NEXT_MONTH')] = [\n\t\t\t\tmoment().add(1, 'month').startOf('month'),\n\t\t\t\tmoment().add(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_LAST_MONTH')] = [\n\t\t\t\tmoment().subtract(1, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_MONTH')] = [\n\t\t\t\tmoment().add(1, 'month').startOf('month'),\n\t\t\t\tmoment().add(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_LAST_3_MONTHS')] = [\n\t\t\t\tmoment().subtract(3, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_3_MONTHS')] = [moment().startOf('month'), moment().add(3, 'month').endOf('month')];\n\t\t\tranges[app.vtranslate('JS_LAST_6_MONTHS')] = [\n\t\t\t\tmoment().subtract(6, 'month').startOf('month'),\n\t\t\t\tmoment().subtract(1, 'month').endOf('month')\n\t\t\t];\n\t\t\tranges[app.vtranslate('JS_NEXT_6_MONTHS')] = [moment().startOf('month'), moment().add(6, 'month').endOf('month')];\n\n\t\t\tlet locale = App.Fields.DateTime.getDefaultLocale();\n\t\t\tlocale.format = format;\n\t\t\tlet params = {\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tautoUpdateInput: false,\n\t\t\t\tautoApply: true,\n\t\t\t\tranges: ranges,\n\t\t\t\tlocale: locale\n\t\t\t};\n\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\tparentElement\n\t\t\t\t.find('.js-date__btn')\n\t\t\t\t.off()\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\t$(e.currentTarget).parent().next('.dateRangeField')[0].focus();\n\t\t\t\t});\n\t\t\telements.each((_index, element) => {\n\t\t\t\tlet el = $(element);\n\t\t\t\tlet currentParams = $.extend(true, params, el.data('params'));\n\t\t\t\tel.daterangepicker(currentParams)\n\t\t\t\t\t.on('apply.daterangepicker', function (_ev, picker) {\n\t\t\t\t\t\t$(this).val(\n\t\t\t\t\t\t\tpicker.startDate.format(currentParams.locale.format) +\n\t\t\t\t\t\t\t\t',' +\n\t\t\t\t\t\t\t\tpicker.endDate.format(currentParams.locale.format)\n\t\t\t\t\t\t);\n\t\t\t\t\t\t$(this).trigger('change');\n\t\t\t\t\t})\n\t\t\t\t\t.on('show.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\t})\n\t\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t\t})\n\t\t\t\t\t.on('hide.daterangepicker', (_ev, picker) => {\n\t\t\t\t\t\tpicker.container.removeClass('js-visible');\n\t\t\t\t\t});\n\t\t\t\tApp.Fields.Utils.registerMobileDateRangePicker(el);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to get Date Instance\n\t\t * @param {string} dateTime\n\t\t * @param {string} dateFormat user date format\n\t\t * @returns {Date}\n\t\t */\n\t\tgetDateInstance: function (dateTime, dateFormat = CONFIG.dateFormat) {\n\t\t\tlet dateTimeComponents = dateTime.split(' '),\n\t\t\t\tdateComponent = dateTimeComponents[0],\n\t\t\t\ttimeComponent = dateTimeComponents[1],\n\t\t\t\tseconds = '00',\n\t\t\t\tdotMode = '-';\n\t\t\tif (dateFormat.indexOf('.') !== -1) {\n\t\t\t\tdotMode = '.';\n\t\t\t} else if (dateFormat.indexOf('/') !== -1) {\n\t\t\t\tdotMode = '/';\n\t\t\t}\n\t\t\tlet splittedDate = dateComponent.split(dotMode),\n\t\t\t\tsplittedDateFormat = dateFormat.split(dotMode),\n\t\t\t\tyear = splittedDate[splittedDateFormat.indexOf('yyyy')],\n\t\t\t\tmonth = splittedDate[splittedDateFormat.indexOf('mm')],\n\t\t\t\tday = splittedDate[splittedDateFormat.indexOf('dd')],\n\t\t\t\tdateInstance = Date.parse(year + '/' + month + '/' + day);\n\n\t\t\tif (isNaN(dateInstance) || year.length !== 4 || month.length > 2 || day.length > 2 || dateInstance == null) {\n\t\t\t\tthrow app.vtranslate('JS_INVALID_DATE');\n\t\t\t}\n\t\t\t//Before creating date object time is set to 00\n\t\t\t//because as while calculating date object it depends system timezone\n\t\t\tif (typeof timeComponent === 'undefined') {\n\t\t\t\ttimeComponent = '00:00:00';\n\t\t\t}\n\t\t\tlet timeSections = timeComponent.split(':');\n\t\t\tif (typeof timeSections[2] !== 'undefined') {\n\t\t\t\tseconds = timeSections[2];\n\t\t\t}\n\t\t\t//Am/Pm component exits\n\t\t\tif (typeof dateTimeComponents[2] !== 'undefined') {\n\t\t\t\tif (dateTimeComponents[2].toLowerCase() === 'pm' && timeSections[0] !== '12') {\n\t\t\t\t\ttimeSections[0] = parseInt(timeSections[0], 10) + 12;\n\t\t\t\t}\n\t\t\t\tif (dateTimeComponents[2].toLowerCase() === 'am' && timeSections[0] === '12') {\n\t\t\t\t\ttimeSections[0] = '00';\n\t\t\t\t}\n\t\t\t}\n\t\t\tmonth = month - 1;\n\t\t\treturn new Date(year, month, day, timeSections[0], timeSections[1], seconds);\n\t\t},\n\t\t/**\n\t\t * Format the Date object to a date in the format DB format, example: `2018-07-23`\n\t\t * @param {Date} date\n\t\t * @returns {string}\n\t\t */\n\t\tdateToDbFormat: function (date) {\n\t\t\tlet d = date.getDate();\n\t\t\tlet m = date.getMonth() + 1;\n\t\t\tlet y = date.getFullYear();\n\t\t\td = d <= 9 ? '0' + d : d;\n\t\t\tm = m <= 9 ? '0' + m : m;\n\t\t\treturn y + '-' + m + '-' + d;\n\t\t},\n\t\t/**\n\t\t * Format the Date object to a date in the format user format, example: `2018/07/23`\n\t\t * @param {Date} date\n\t\t * @returns {string}\n\t\t */\n\t\tdateToUserFormat: function (date, format = CONFIG.dateFormat) {\n\t\t\tif (typeof date === 'string') {\n\t\t\t\tdate = new Date(date);\n\t\t\t}\n\t\t\tlet m = date.getMonth() + 1,\n\t\t\t\td = date.getDate();\n\t\t\td = d <= 9 ? '0' + d : d;\n\t\t\tm = m <= 9 ? '0' + m : m;\n\t\t\treturn format.replace('yyyy', date.getFullYear()).replace('mm', m).replace('dd', d);\n\t\t},\n\t\t/**\n\t\t * Get last day of month\n\t\t * @param {integer} year\n\t\t * @param {integer} month\n\t\t * @returns {integer}\n\t\t */\n\t\tgetLastMonthDay: function (year, month) {\n\t\t\tlet date = new Date(year, month, 0);\n\t\t\treturn date.getDate();\n\t\t},\n\t\t/**\n\t\t * Get number of days from a given date to now\n\t\t * @param {Date} dateTime\n\t\t * @returns {integer}\n\t\t */\n\t\thowManyDaysFromDate: function (dateTime) {\n\t\t\tlet today = new Date();\n\t\t\tlet toTime = new Date(today.getFullYear(), today.getMonth(), today.getDate()).getTime();\n\t\t\treturn Math.floor((toTime - dateTime.getTime()) / (1000 * 60 * 60 * 24)) + 1;\n\t\t},\n\t\t/**\n\t\t * Converting the date format to the format supported in the DatePicker, example: `yyyy-mm-dd` >> `Y-m-d`\n\t\t * @param {string} dateFormat\n\t\t * @returns {string}\n\t\t */\n\t\tconvertToDatePickerFormat: function (dateFormat) {\n\t\t\tswitch (dateFormat) {\n\t\t\t\tcase 'yyyy-mm-dd':\n\t\t\t\t\treturn 'Y-m-d';\n\t\t\t\tcase 'mm-dd-yyyy':\n\t\t\t\t\treturn 'm-d-Y';\n\t\t\t\tcase 'dd-mm-yyyy':\n\t\t\t\t\treturn 'd-m-Y';\n\t\t\t\tcase 'yyyy.mm.dd':\n\t\t\t\t\treturn 'Y.m.d';\n\t\t\t\tcase 'mm.dd.yyyy':\n\t\t\t\t\treturn 'm.d.Y';\n\t\t\t\tcase 'dd.mm.yyyy':\n\t\t\t\t\treturn 'd.m.Y';\n\t\t\t\tcase 'yyyy/mm/dd':\n\t\t\t\t\treturn 'Y/m/d';\n\t\t\t\tcase 'mm/dd/yyyy':\n\t\t\t\t\treturn 'm/d/Y';\n\t\t\t\tcase 'dd/mm/yyyy':\n\t\t\t\t\treturn 'd/m/Y';\n\t\t\t}\n\t\t}\n\t},\n\tDateTime: class DateTime {\n\t\tconstructor(container, params) {\n\t\t\tthis.container = container;\n\t\t\tthis.init(params);\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t * @param {Object} params\n\t\t */\n\t\tstatic register(container, params) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = $('body');\n\t\t\t}\n\t\t\tif (container.hasClass('dateTimePickerField') && !container.prop('disabled')) {\n\t\t\t\treturn new DateTime(container, params);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.dateTimePickerField:not([disabled])').each((_, e) => {\n\t\t\t\tlet element = $(e);\n\t\t\t\tinstances.push(new DateTime(element, params));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Format the Date object to a date in the format user format, example: `2018/07/23 03:00`\n\t\t * @param {Date} dateTime Date object\n\t\t * @returns {string} `2018/07/23 03:00`\n\t\t */\n\t\tstatic dateToUserFormat(dateTime, format = CONFIG.dateFormat) {\n\t\t\tformat = format.toUpperCase();\n\t\t\tif (CONFIG.hourFormat == 24) {\n\t\t\t\tformat += ' HH:mm';\n\t\t\t} else {\n\t\t\t\tformat += ' hh:mm A';\n\t\t\t}\n\t\t\treturn moment(dateTime).format(format);\n\t\t}\n\t\t/**\n\t\t * Gets default locale data\n\t\t * @returns {Object}\n\t\t */\n\t\tstatic getDefaultLocale() {\n\t\t\tif (!this.locale) {\n\t\t\t\tthis.locale = {\n\t\t\t\t\tseparator: ',',\n\t\t\t\t\tapplyLabel: app.vtranslate('JS_APPLY'),\n\t\t\t\t\tcancelLabel: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\tfromLabel: app.vtranslate('JS_FROM'),\n\t\t\t\t\ttoLabel: app.vtranslate('JS_TO'),\n\t\t\t\t\tcustomRangeLabel: app.vtranslate('JS_CUSTOM'),\n\t\t\t\t\tweekLabel: app.vtranslate('JS_WEEK').substr(0, 1),\n\t\t\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\t\t\tdaysOfWeek: App.Fields.Date.daysTranslated,\n\t\t\t\t\tmonthNames: App.Fields.Date.fullMonthsTranslated\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn { ...this.locale };\n\t\t}\n\n\t\t/**\n\t\t * Initialization datetime\n\t\t */\n\t\tinit(customParams) {\n\t\t\t$('.input-group-text', this.container.closest('.dateTime')).on('click', function (e) {\n\t\t\t\t$(e.currentTarget).closest('.dateTime').find('input.dateTimePickerField').get(0).focus();\n\t\t\t});\n\t\t\tlet dateFormat = CONFIG.dateFormat.toUpperCase();\n\t\t\tconst elementDateFormat = this.container.data('dateFormat');\n\t\t\tif (typeof elementDateFormat !== 'undefined') {\n\t\t\t\tdateFormat = elementDateFormat.toUpperCase();\n\t\t\t}\n\t\t\tlet hourFormat = CONFIG.hourFormat;\n\t\t\tconst elementHourFormat = this.container.data('hourFormat');\n\t\t\tif (typeof elementHourFormat !== 'undefined') {\n\t\t\t\thourFormat = elementHourFormat;\n\t\t\t}\n\t\t\tlet timePicker24Hour = true;\n\t\t\tlet timeFormat = 'HH:mm';\n\t\t\tif (hourFormat != '24') {\n\t\t\t\ttimePicker24Hour = false;\n\t\t\t\ttimeFormat = 'hh:mm A';\n\t\t\t}\n\t\t\tconst format = dateFormat + ' ' + timeFormat;\n\t\t\tlet isDateRangePicker = this.container.data('calendarType') !== 'range';\n\t\t\tlet locale = App.Fields.DateTime.getDefaultLocale();\n\t\t\tlocale.format = format;\n\t\t\tlet params = {\n\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\tparentEl: this.container.closest('.dateTime'),\n\t\t\t\tsingleDatePicker: isDateRangePicker,\n\t\t\t\tshowDropdowns: true,\n\t\t\t\ttimePicker: true,\n\t\t\t\tautoUpdateInput: false,\n\t\t\t\ttimePicker24Hour: timePicker24Hour,\n\t\t\t\ttimePickerIncrement: 1,\n\t\t\t\tautoApply: true,\n\t\t\t\topens: 'left',\n\t\t\t\tlocale: locale\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\tthis.container\n\t\t\t\t.daterangepicker(params)\n\t\t\t\t.on('apply.daterangepicker', function applyDateRangePickerHandler(_ev, picker) {\n\t\t\t\t\tif (isDateRangePicker) {\n\t\t\t\t\t\t$(this).val(picker.startDate.format(format));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this).val(picker.startDate.format(format) + ',' + picker.endDate.format(format));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\tApp.Fields.Utils.positionPicker(ev, picker);\n\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t});\n\t\t\tApp.Fields.Utils.registerMobileDateRangePicker(this.container);\n\t\t}\n\t},\n\tTime: {\n\t\t/**\n\t\t * Format the Date object to a date in the format user format, example: `2018/07/23`\n\t\t * @param {Date} date\n\t\t * @returns {string}\n\t\t */\n\t\tdateToUserFormat: function (date, timeFormat) {\n\t\t\tif (typeof date === 'string') {\n\t\t\t\tdate = new Date(date);\n\t\t\t}\n\t\t\tif (!timeFormat) {\n\t\t\t\tif (CONFIG.hourFormat == 24) {\n\t\t\t\t\ttimeFormat = 'HH:mm';\n\t\t\t\t} else {\n\t\t\t\t\ttimeFormat = 'hh:mm A';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn moment(date).format(timeFormat);\n\t\t}\n\t},\n\tColors: {\n\t\t/**\n\t\t * Function to check whether the color is dark or light\n\t\t */\n\t\tgetColorContrast: function (hexcolor) {\n\t\t\tvar r = parseInt(hexcolor.substr(0, 2), 16);\n\t\t\tvar g = parseInt(hexcolor.substr(2, 2), 16);\n\t\t\tvar b = parseInt(hexcolor.substr(4, 2), 16);\n\t\t\tvar yiq = (r * 299 + g * 587 + b * 114) / 1000;\n\t\t\treturn yiq >= 128 ? 'light' : 'dark';\n\t\t},\n\t\tgetRandomColor: function () {\n\t\t\tvar letters = '0123456789ABCDEF'.split('');\n\t\t\tvar color = '#';\n\t\t\tfor (var i = 0; i < 6; i++) {\n\t\t\t\tcolor += letters[Math.floor(Math.random() * 16)];\n\t\t\t}\n\t\t\treturn color;\n\t\t},\n\t\tgetRandomColors: function (count) {\n\t\t\tconst colors = [];\n\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\tcolors.push(this.getRandomColor());\n\t\t\t}\n\t\t\treturn colors;\n\t\t},\n\t\tshowPicker({ color, fieldToUpdate, bgToUpdate, cb }) {\n\t\t\tlet registerPickerEvents = (modalContainer) => {\n\t\t\t\tlet picker = window.ColorPicker.mount({\n\t\t\t\t\tel: modalContainer.find('.js-color-picker')[0],\n\t\t\t\t\tcurrentColor: color\n\t\t\t\t});\n\t\t\t\tmodalContainer.find('.js-modal__save').on('click', (_) => {\n\t\t\t\t\tlet newColor = picker.getColor().hex;\n\t\t\t\t\tcb && cb(newColor);\n\t\t\t\t\tbgToUpdate && bgToUpdate.css('background', newColor);\n\t\t\t\t\tfieldToUpdate && fieldToUpdate.val(newColor);\n\t\t\t\t\tapp.hideModalWindow(false, modalContainer.closest('.js-modal-container')[0].id);\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet url = `index.php?module=AppComponents&view=ColorPickerModal${color ? '&color=' + color : ''}`;\n\t\t\tapp.showModalWindow({ url, cb: registerPickerEvents.bind(this) });\n\t\t}\n\t},\n\tText: {\n\t\t/**\n\t\t * Register clip\n\t\t * @param {HTMLElement|jQuery} container\n\t\t * @param {string} key\n\t\t * @returns {ClipboardJS|undefined}\n\t\t */\n\t\tregisterCopyClipboard: function (container, key = '.clipboard') {\n\t\t\tif (typeof container !== 'object' || $(container).length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer = $(container).get(0);\n\t\t\tlet elements = container.querySelectorAll(key);\n\t\t\tif (elements.length === 0) {\n\t\t\t\telements = key;\n\t\t\t\tcontainer = '';\n\t\t\t}\n\t\t\treturn new ClipboardJS(elements, {\n\t\t\t\tcontainer: container,\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\ttrigger = $(trigger);\n\t\t\t\t\tconst element = $(trigger.data('copyTarget'), container);\n\t\t\t\t\tlet val;\n\t\t\t\t\tif (typeof trigger.data('copyType') !== 'undefined') {\n\t\t\t\t\t\tif (element.is('select')) {\n\t\t\t\t\t\t\tval = element.find('option:selected').data(trigger.data('copyType'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tval = element.data(trigger.data('copyType'));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof trigger.data('copy-attribute') !== 'undefined') {\n\t\t\t\t\t\tval = trigger.data(trigger.data('copy-attribute'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tval = element.val();\n\t\t\t\t\t}\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tEditor: class {\n\t\t\tstatic initialization = false;\n\t\t\tconstructor(container, params) {\n\t\t\t\tif (window.App.Fields.Text.Editor.initialization === false) {\n\t\t\t\t\tCKEDITOR.disableAutoInline = true;\n\t\t\t\t\tCKEDITOR.plugins.addExternal(\n\t\t\t\t\t\t'base64image',\n\t\t\t\t\t\tapp.getMainParams('siteUrl') + 'layouts/resources/libraries/ckeditor/base64image/'\n\t\t\t\t\t);\n\t\t\t\t\twindow.App.Fields.Text.Editor.initialization = true;\n\t\t\t\t}\n\t\t\t\tthis.container = container;\n\t\t\t\tthis.init(container, params);\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register function\n\t\t\t * @param {jQuery} container\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tstatic register(container, params) {\n\t\t\t\tif (typeof container === 'undefined') {\n\t\t\t\t\tcontainer = $('body');\n\t\t\t\t}\n\t\t\t\tif (container.hasClass('js-editor') && !container.prop('disabled')) {\n\t\t\t\t\treturn new App.Fields.Text.Editor(container, $.extend(params, container.data()));\n\t\t\t\t}\n\t\t\t\tconst instances = [];\n\t\t\t\tcontainer.find('.js-editor:not([disabled])').each((_, e) => {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tinstances.push(new App.Fields.Text.Editor(element, $.extend(params, element.data())));\n\t\t\t\t});\n\t\t\t\treturn instances;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Initiation\n\t\t\t * @param {jQuery} element\n\t\t\t * @param {Object} params\n\t\t\t */\n\t\t\tinit(element, params) {\n\t\t\t\tlet config = {};\n\t\t\t\tif (element.hasClass('js-editor--basic')) {\n\t\t\t\t\tconfig.toolbar = 'Min';\n\t\t\t\t}\n\t\t\t\tif (element.data('height')) {\n\t\t\t\t\tconfig.height = element.data('height');\n\t\t\t\t}\n\t\t\t\tparams = $.extend(config, params);\n\t\t\t\tthis.isModal = element.closest('.js-modal-container').length;\n\t\t\t\tif (this.isModal && element.is(':visible')) {\n\t\t\t\t\tlet self = this;\n\t\t\t\t\tthis.progressInstance = $.progressIndicator({\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\tonBlock: () => {\n\t\t\t\t\t\t\t\tself.loadEditor(element, params);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tApp.Fields.Text.destroyEditor(element);\n\t\t\t\t\tthis.loadEditor(element, params);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*\n\t\t\t *Function to set the textArea element\n\t\t\t */\n\t\t\tsetElement(element) {\n\t\t\t\tthis.element = $(element);\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t *Function to get the textArea element\n\t\t\t */\n\t\t\tgetElement() {\n\t\t\t\treturn this.element;\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to return Element's id atrribute value\n\t\t\t */\n\t\t\tgetElementId() {\n\t\t\t\treturn this.getElement().attr('id');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to get the instance of ckeditor\n\t\t\t */\n\t\t\tgetEditorInstanceFromName() {\n\t\t\t\treturn CKEDITOR.instances[this.getElementId()];\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Function to load CkEditor\n\t\t\t * @param {HTMLElement|jQuery} element on which CkEditor has to be loaded\n\t\t\t * @param {Object} customConfig custom configurations for ckeditor\n\t\t\t */\n\t\t\tloadEditor(element, customConfig) {\n\t\t\t\tthis.setElement(element);\n\t\t\t\tconst instance = this.getEditorInstanceFromName();\n\t\t\t\tlet config = {\n\t\t\t\t\tlanguage: CONFIG.langKey,\n\t\t\t\t\tallowedContent: true,\n\t\t\t\t\tdisableNativeSpellChecker: false,\n\t\t\t\t\textraAllowedContent: 'div{page-break-after*}',\n\t\t\t\t\tformat_tags: 'p;h1;h2;h3;h4;h5;h6;pre;address;div',\n\t\t\t\t\tremoveButtons: '',\n\t\t\t\t\tenterMode: CKEDITOR.ENTER_BR,\n\t\t\t\t\tshiftEnterMode: CKEDITOR.ENTER_P,\n\t\t\t\t\temojiEnabled: false,\n\t\t\t\t\tmentionsEnabled: false,\n\t\t\t\t\tclipboard_handleImages: false,\n\t\t\t\t\ton: {\n\t\t\t\t\t\tinstanceReady: (evt) => {\n\t\t\t\t\t\t\tevt.editor.on('blur', function () {\n\t\t\t\t\t\t\t\tevt.editor.updateElement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (this.isModal && this.progressInstance) {\n\t\t\t\t\t\t\t\tthis.progressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbeforeCommandExec: (e) => {\n\t\t\t\t\t\t\tif (e.editor.mode === 'source') {\n\t\t\t\t\t\t\t\treturn this.validate(element, e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tremovePlugins: 'scayt',\n\t\t\t\t\textraPlugins:\n\t\t\t\t\t\t'colorbutton,pagebreak,colordialog,find,selectall,showblocks,div,print,font,justify,bidi,base64image',\n\t\t\t\t\ttoolbar: 'Full',\n\t\t\t\t\ttoolbar_Full: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'insert',\n\t\t\t\t\t\t\titems: ['base64image', 'Table', 'HorizontalRule', 'SpecialChar', 'PageBreak']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'paragraph', items: ['Outdent', 'Indent', '-', 'Blockquote', 'CreateDiv'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source', 'Print'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t'NumberedList',\n\t\t\t\t\t\t\t\t'BulletedList',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'JustifyLeft',\n\t\t\t\t\t\t\t\t'JustifyCenter',\n\t\t\t\t\t\t\t\t'JustifyRight',\n\t\t\t\t\t\t\t\t'JustifyBlock',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'BidiLtr',\n\t\t\t\t\t\t\t\t'BidiRtl'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Min: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t'NumberedList',\n\t\t\t\t\t\t\t\t'BulletedList',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'JustifyLeft',\n\t\t\t\t\t\t\t\t'JustifyCenter',\n\t\t\t\t\t\t\t\t'JustifyRight',\n\t\t\t\t\t\t\t\t'JustifyBlock',\n\t\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t\t'BidiLtr',\n\t\t\t\t\t\t\t\t'BidiRtl'\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat', 'Source'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Micro: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['NumberedList', 'BulletedList', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_Clipboard: [\n\t\t\t\t\t\t{ name: 'document', items: ['Print'] },\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_PDF: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll', '-'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'insert',\n\t\t\t\t\t\t\titems: ['base64image', 'Table', 'HorizontalRule', 'PageBreak']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['JustifyLeft', 'JustifyCenter', 'JustifyRight']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t\tif (typeof customConfig !== 'undefined') {\n\t\t\t\t\tconfig = $.extend(config, customConfig);\n\t\t\t\t}\n\t\t\t\tconfig = Object.assign(config, element.data());\n\t\t\t\tif (config.emojiEnabled) {\n\t\t\t\t\tlet emojiToolbar = { name: 'links', items: ['EmojiPanel'] };\n\t\t\t\t\tif (typeof config.toolbar === 'string') {\n\t\t\t\t\t\tconfig[`toolbar_${config.toolbar}`].push(emojiToolbar);\n\t\t\t\t\t} else if (Array.isArray(config.toolbar)) {\n\t\t\t\t\t\tconfig.toolbar.push(emojiToolbar);\n\t\t\t\t\t}\n\t\t\t\t\tconfig.extraPlugins = config.extraPlugins + ',emoji';\n\t\t\t\t\tconfig.outputTemplate = '{id}';\n\t\t\t\t}\n\t\t\t\tif (config.mentionsEnabled) {\n\t\t\t\t\tconfig.extraPlugins = config.extraPlugins + ',mentions';\n\t\t\t\t\tconfig.mentions = this.registerMentions();\n\t\t\t\t}\n\t\t\t\tif (instance) {\n\t\t\t\t\tCKEDITOR.remove(instance);\n\t\t\t\t}\n\t\t\t\telement.ckeditor(config);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register mentions\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tregisterMentions() {\n\t\t\t\tlet minSerchTextLength = app.getMainParams('gsMinLength');\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tfeed: this.getMentionUsersData.bind(this),\n\t\t\t\t\t\titemTemplate: `<li data-id=\"{id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 c-img__completion__container\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"{icon} m-auto u-w-fit u-fs-14px\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<img src=\"{image}\" class=\"c-img__completion mr-2\" alt=\"{label}\" title=\"{label}\">\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col row-10 no-gutters u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">{label}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">{category}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>`,\n\t\t\t\t\t\toutputTemplate: '<a href=\"#\" data-id=\"@{id}\" data-module=\"{module}\">{label}</a>',\n\t\t\t\t\t\tminChars: minSerchTextLength\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfeed: App.Fields.Text.getMentionData,\n\t\t\t\t\t\tmarker: '#',\n\t\t\t\t\t\tpattern: /#[wа-я]{1,}|#\\w{3,}$/,\n\t\t\t\t\t\titemTemplate: `<li data-id=\"{id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-2 c-circle-icon\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"yfm-{module}\"></span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-10 row no-gutters pl-1 u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">{label}</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">{category}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>`,\n\t\t\t\t\t\toutputTemplate: '<a href=\"#\" data-id=\"#{id}\" data-module=\"{module}\">{label}</a>',\n\t\t\t\t\t\tminChars: minSerchTextLength\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Get mention Users data (invoked by ck editor mentions plugin)\n\t\t\t * @param {object} opts\n\t\t\t * @param {function} callback\n\t\t\t */\n\t\t\tgetMentionUsersData(opts, callback) {\n\t\t\t\tApp.Fields.Text.getMentionData(opts, callback, 'owners');\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Function to validate the field value\n\t\t\t * @param {jQuery} element\n\t\t\t * @param {object} e\n\t\t\t */\n\t\t\tvalidate(element) {\n\t\t\t\tlet status = true,\n\t\t\t\t\tparams;\n\t\t\t\tif (element.data('purifyMode')) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tmodule: 'Users',\n\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\tmode: 'validateByMode',\n\t\t\t\t\t\tpurifyMode: element.data('purifyMode'),\n\t\t\t\t\t\tvalue: element.val()\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tmodule: element.closest('form').find('[name=\"module\"]').val(),\n\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\tmode: 'validateForField',\n\t\t\t\t\t\tfieldName: element.attr('name'),\n\t\t\t\t\t\tfieldValue: element.val()\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdata: params\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\telement.val(data.result.raw);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_UNEXPECTED_ERROR')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tstatus = false;\n\t\t\t\t\t});\n\t\t\t\treturn status;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Completions class for contenteditable html element for records, users and emojis. Params can be passed in data-completions- of contenteditable element or as argument. Default params:\n\t\t * {\n\t\t\t\t\tcompletionsCollection: {\n\t\t\t\t\t\trecords: true,\n\t\t\t\t\t\tusers: true,\n\t\t\t\t\t\temojis: true\n\t\t\t\t\t}\n\t\t\t}\n\t\t */\n\t\tCompletions: class {\n\t\t\t/**\n\t\t\t * Constructor\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t * @param params\n\t\t\t */\n\t\t\tconstructor(inputDiv = $('.js-completions').eq(0), params = {}) {\n\t\t\t\tif (typeof inputDiv === 'undefined' || inputDiv.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t} else if (inputDiv.length === undefined) {\n\t\t\t\t\tinputDiv = $(inputDiv);\n\t\t\t\t}\n\t\t\t\tlet basicParams = {\n\t\t\t\t\tcompletionsCollection: {\n\t\t\t\t\t\trecords: true,\n\t\t\t\t\t\tusers: true,\n\t\t\t\t\t\temojis: true\n\t\t\t\t\t},\n\t\t\t\t\tautolink: true\n\t\t\t\t};\n\t\t\t\tthis.params = Object.assign(basicParams, inputDiv.data(), params);\n\t\t\t\tthis.inputDiv = inputDiv;\n\t\t\t\tthis.collection = [];\n\t\t\t\tif (this.params.completionsCollection.records) {\n\t\t\t\t\tthis.collection.push(this.registerMentionCollection('#'));\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsCollection.users) {\n\t\t\t\t\tthis.collection.push(this.registerMentionCollection('@', 'owners'));\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsCollection.emojis) {\n\t\t\t\t\tthis.collection.push(this.registerEmojiCollection());\n\t\t\t\t}\n\t\t\t\tthis.register(inputDiv);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register mention collection for tribute.js\n\t\t\t * @param {string} symbol\n\t\t\t * @param {string} searchModule\n\t\t\t * @returns {{trigger: *, selectTemplate: selectTemplate, values: values, menuItemTemplate: (function(*): string), lookup: string, fillAttr: string}}\n\t\t\t */\n\t\t\tregisterMentionCollection(symbol, searchModule = '-') {\n\t\t\t\tlet self = this;\n\t\t\t\treturn {\n\t\t\t\t\ttrigger: symbol,\n\t\t\t\t\tselectTemplate: function (item) {\n\t\t\t\t\t\tif (this.range.isContentEditable(this.current.element)) {\n\t\t\t\t\t\t\treturn `<a href=\"#\" data-id=\"${symbol + item.original.id}\" data-module=\"${\n\t\t\t\t\t\t\t\titem.original.module\n\t\t\t\t\t\t\t}\">${item.original.label.split('(')[0].trim()}</a>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn symbol + item.original.label;\n\t\t\t\t\t},\n\t\t\t\t\tvalues: (text, cb) => {\n\t\t\t\t\t\tif (text.length >= CONFIG.globalSearchAutocompleteMinLength) {\n\t\t\t\t\t\t\tApp.Fields.Text.getMentionData(text, (users) => cb(users), searchModule);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmenuItemTemplate: function (item) {\n\t\t\t\t\t\treturn self.mentionTemplate({\n\t\t\t\t\t\t\tid: item.original.id,\n\t\t\t\t\t\t\tmodule: item.original.module,\n\t\t\t\t\t\t\tcategory: item.original.category,\n\t\t\t\t\t\t\timage: item.original.image,\n\t\t\t\t\t\t\tlabel: item.original.label,\n\t\t\t\t\t\t\ticon: item.original.icon\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlookup: 'label',\n\t\t\t\t\tfillAttr: 'label'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register emoji collection for tribute.js\n\t\t\t * @returns {{trigger: string, selectTemplate: selectTemplate, menuItemTemplate: (function(*): string), lookup: string, fillAttr: string, values: Array}}\n\t\t\t */\n\t\t\tregisterEmojiCollection() {\n\t\t\t\treturn {\n\t\t\t\t\ttrigger: ':',\n\t\t\t\t\tselectTemplate: function (item) {\n\t\t\t\t\t\tif (this.range.isContentEditable(this.current.element)) {\n\t\t\t\t\t\t\treturn `<span data-id=\"${item.original.id}\">${item.original.symbol}</span>`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn item.original.symbol;\n\t\t\t\t\t},\n\t\t\t\t\tmenuItemTemplate: function (item) {\n\t\t\t\t\t\treturn `<span data-id=\"${item.original.id}\">${item.original.symbol} ${item.original.id}</span>`;\n\t\t\t\t\t},\n\t\t\t\t\tlookup: 'id',\n\t\t\t\t\tfillAttr: 'keywords',\n\t\t\t\t\tvalues: (text, cb) => {\n\t\t\t\t\t\tif (text.length >= 2) {\n\t\t\t\t\t\t\tcb(App.emoji);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\t/*\n\t\t\t * Mention template\n\t\t\t */\n\t\t\tmentionTemplate(params) {\n\t\t\t\tlet icon = '';\n\t\t\t\tif (params.module !== undefined) {\n\t\t\t\t\ticon = `yfm-${params.module}`;\n\t\t\t\t}\n\t\t\t\tif (params.icon !== undefined && params.icon !== '') {\n\t\t\t\t\ticon = params.icon;\n\t\t\t\t}\n\t\t\t\tlet avatar = `<div class=\"col-2 c-circle-icon\">\n\t\t\t\t\t\t\t\t<span class=\"${icon}\"></span>\n\t\t\t\t\t\t\t</div>`;\n\t\t\t\tif (params.image !== undefined && params.image !== '') {\n\t\t\t\t\tavatar = `<div class=\"col-2 c-img__completion__container m-0\"><img src=\"${params.image}\" class=\"c-img__completion\" alt=${params.label}\" title=\"${params.label}\"></div>`;\n\t\t\t\t}\n\t\t\t\treturn `<div data-id=\"${params.id}\" class=\"row no-gutters\">\n\t\t\t\t\t\t\t${avatar}\n\t\t\t\t\t\t\t<div class=\"col-10 row no-gutters pl-1 u-overflow-x-hidden\">\n\t\t\t\t\t\t\t\t<strong class=\"u-text-ellipsis--no-hover col-12\">${params.label}</strong>\n\t\t\t\t\t\t\t\t<div class=\"fullname col-12 u-text-ellipsis--no-hover text-muted small\">${params.category}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>`;\n\t\t\t}\n\t\t\t/**\n\t\t\t * Auto link\n\t\t\t */\n\t\t\tautoLink() {\n\t\t\t\tlet fillChar = '\\u200B';\n\t\t\t\tlet sel = window.getSelection(),\n\t\t\t\t\trange = sel.getRangeAt(0).cloneRange(),\n\t\t\t\t\toffset,\n\t\t\t\t\tcharCode,\n\t\t\t\t\tgetParentByTagName = function (node, tags) {\n\t\t\t\t\t\tif (node && !isBody(node)) {\n\t\t\t\t\t\t\twhile (node) {\n\t\t\t\t\t\t\t\tif (tags[node.tagName] || isBody(node)) {\n\t\t\t\t\t\t\t\t\treturn !tags[node.tagName] && isBody(node) ? null : node;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tnode = node.parentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t},\n\t\t\t\t\tisBody = function (node) {\n\t\t\t\t\t\treturn node && node.nodeType == 1 && node.tagName.toLowerCase() == 'body';\n\t\t\t\t\t},\n\t\t\t\t\thtml = function (str) {\n\t\t\t\t\t\treturn str.replace(/&((g|l|quo)t|amp|#39);/g, function (m) {\n\t\t\t\t\t\t\treturn { '&lt;': '<', '&amp;': '&', '&quot;': '\"', '&gt;': '>', '&#39;': \"'\" }[m];\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tisFillChar = function (node) {\n\t\t\t\t\t\treturn node.nodeType == 3 && !node.nodeValue.replace(new RegExp('' + fillChar), '').length;\n\t\t\t\t\t};\n\n\t\t\t\tlet start = range.startContainer;\n\t\t\t\twhile (start.nodeType == 1 && range.startOffset > 0) {\n\t\t\t\t\tstart = range.startContainer.childNodes[range.startOffset - 1];\n\t\t\t\t\tif (!start) break;\n\t\t\t\t\trange.setStart(start, start.nodeType == 1 ? start.childNodes.length : start.nodeValue.length);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tstart = range.startContainer;\n\t\t\t\t}\n\t\t\t\tdo {\n\t\t\t\t\tif (range.startOffset == 0) {\n\t\t\t\t\t\tstart = range.startContainer.previousSibling;\n\t\t\t\t\t\twhile (start && start.nodeType == 1) {\n\t\t\t\t\t\t\tstart = start.lastChild;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!start || isFillChar(start)) break;\n\t\t\t\t\t\toffset = start.nodeValue.length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstart = range.startContainer;\n\t\t\t\t\t\toffset = range.startOffset;\n\t\t\t\t\t}\n\t\t\t\t\trange.setStart(start, offset - 1);\n\t\t\t\t\tcharCode = range.toString().charCodeAt(0);\n\t\t\t\t} while (charCode != 160 && charCode != 32);\n\t\t\t\tif (\n\t\t\t\t\trange\n\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t.replace(new RegExp(fillChar, 'g'), '')\n\t\t\t\t\t\t.match(/(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i)\n\t\t\t\t) {\n\t\t\t\t\twhile (range.toString().length) {\n\t\t\t\t\t\tif (/^(?:https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.)/i.test(range.toString())) break;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\trange.setStart(range.startContainer, range.startOffset + 1);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlet startCont = range.startContainer,\n\t\t\t\t\t\t\t\tnext;\n\t\t\t\t\t\t\twhile (!(next = startCont.nextSibling)) {\n\t\t\t\t\t\t\t\tif (isBody(startCont)) return;\n\t\t\t\t\t\t\t\tstartCont = startCont.parentNode;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trange.setStart(next, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (getParentByTagName(range.startContainer, { a: 1, A: 1 })) return;\n\t\t\t\t\tlet href = range\n\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t.replace(/<[^>]+>/g, '')\n\t\t\t\t\t\t\t.replace(new RegExp(fillChar, 'g'), ''),\n\t\t\t\t\t\threfFull = /^(?:https?:\\/\\/)/gi.test(href) ? href : 'http://' + href,\n\t\t\t\t\t\turl = new URL(hrefFull);\n\t\t\t\t\tlet allowedHosts = CONFIG.purifierAllowedDomains;\n\t\t\t\t\tif (allowedHosts !== false && allowedHosts.indexOf(url.host) === -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet a = document.createElement('a'),\n\t\t\t\t\t\ttext = document.createTextNode(' ');\n\t\t\t\t\ta.appendChild(range.extractContents());\n\t\t\t\t\ta.innerHTML = href;\n\t\t\t\t\ta.href = hrefFull ? html(hrefFull) : '';\n\t\t\t\t\ta.setAttribute('rel', 'noopener noreferrer');\n\t\t\t\t\ta.setAttribute('target', '_blank');\n\n\t\t\t\t\trange.insertNode(a);\n\t\t\t\t\ta.parentNode.insertBefore(text, a.nextSibling);\n\t\t\t\t\trange.setStart(text.nextSibling, 0);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t}\n\t\t\t}\n\t\t\t/**\n\t\t\t * Register\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregister(inputDiv) {\n\t\t\t\tconst self = this;\n\t\t\t\tthis.completionsCollection = new Tribute({\n\t\t\t\t\tcollection: self.collection,\n\t\t\t\t\tallowSpaces: true\n\t\t\t\t});\n\t\t\t\tthis.completionsCollection.attach(inputDiv[0]);\n\t\t\t\tif (this.params.completionsTextarea !== undefined) {\n\t\t\t\t\tthis.registerCompletionsTextArea(inputDiv);\n\t\t\t\t}\n\t\t\t\tif (this.params.completionsButtons !== undefined) {\n\t\t\t\t\tthis.registerCompletionsButtons();\n\t\t\t\t}\n\t\t\t\tif (this.params.autolink) {\n\t\t\t\t\tthis.registerAutoLinker(inputDiv);\n\t\t\t\t}\n\t\t\t\tif (App.emoji === undefined) {\n\t\t\t\t\tfetch(`${CONFIG.siteUrl}/vendor/ckeditor/ckeditor/plugins/emoji/emoji.json`)\n\t\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tApp.emoji = response;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => console.error('Error:', error));\n\t\t\t\t}\n\t\t\t\tthis.registerTagClick(inputDiv);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register autolink\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregisterAutoLinker(inputDiv) {\n\t\t\t\tinputDiv.on('keypress', (e) => {\n\t\t\t\t\tif (e.keyCode === 32 || e.keyCode === 13) {\n\t\t\t\t\t\tthis.autoLink();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register completons hidden textarea - useful with forms\n\t\t\t * @param {jQuery} inputDiv - contenteditable div\n\t\t\t */\n\t\t\tregisterCompletionsTextArea(inputDiv) {\n\t\t\t\tlet textarea = inputDiv.siblings(`[name=${inputDiv.attr('id')}]`);\n\t\t\t\tinputDiv\n\t\t\t\t\t.on('focus', function () {\n\t\t\t\t\t\ttextarea.val(inputDiv.html());\n\t\t\t\t\t})\n\t\t\t\t\t.on('blur keyup paste input', function () {\n\t\t\t\t\t\ttextarea.val(inputDiv.html());\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register tag click\n\t\t\t * @param inputDiv\n\t\t\t */\n\t\t\tregisterTagClick(inputDiv) {\n\t\t\t\tinputDiv\n\t\t\t\t\t.closest('.js-completions__container')\n\t\t\t\t\t.find('.js-completions__messages')\n\t\t\t\t\t.on('click', '.js-completions__tag', (e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tinputDiv.append($(e.target).clone());\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Register completions buttons\n\t\t\t */\n\t\t\tregisterCompletionsButtons() {\n\t\t\t\tlet completionsContainer = this.inputDiv.parents().eq(3);\n\t\t\t\tcompletionsContainer.find('.js-completions__users').on('click', (e) => {\n\t\t\t\t\tthis.completionsCollection.showMenuForCollection(this.inputDiv[0], 1);\n\t\t\t\t});\n\t\t\t\tcompletionsContainer.find('.js-completions__records').on('click', (e) => {\n\t\t\t\t\tthis.completionsCollection.showMenuForCollection(this.inputDiv[0], 0);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get mention data (invoked by ck editor mentions plugin and tribute.js)\n\t\t * @param {object} opts\n\t\t * @param {function} callback\n\t\t * @param {string} searchModule\n\t\t */\n\t\tgetMentionData(text, callback, searchModule = '-') {\n\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\tbasicSearch.returnHtml = false;\n\t\t\tbasicSearch.searchModule = searchModule;\n\t\t\tif (typeof text === 'object') {\n\t\t\t\ttext = text.query.toLowerCase();\n\t\t\t}\n\t\t\tif (searchModule === 'owners') {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\taction: 'Search',\n\t\t\t\t\tmode: 'owners',\n\t\t\t\t\tvalue: text\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tcallback(data.result);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tbasicSearch.search(text).done(function (data) {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\tlet serverDataFormat = data.result,\n\t\t\t\t\t\treponseDataList = [];\n\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(reponseDataList);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Destroy ckEditor\n\t\t * @param {jQuery} element\n\t\t */\n\t\tdestroyEditor(element) {\n\t\t\tif (typeof CKEDITOR !== 'undefined' && CKEDITOR.instances && element.attr('id') in CKEDITOR.instances) {\n\t\t\t\tCKEDITOR.instances[element.attr('id')].destroy();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Generate random character\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateRandomChar() {\n\t\t\tconst chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ';\n\t\t\tconst rand = Math.floor(Math.random() * chars.length);\n\t\t\treturn chars.substring(rand, rand + 1);\n\t\t},\n\n\t\t/**\n\t\t * generate random hash\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateRandomHash(prefix = '') {\n\t\t\tprefix = prefix.toString();\n\t\t\tconst hash =\n\t\t\t\tMath.random().toString(36).substr(2, 10) +\n\t\t\t\tMath.random().toString(36).substr(2, 10) +\n\t\t\t\tnew Date().valueOf() +\n\t\t\t\tMath.random().toString(36).substr(2, 6);\n\t\t\treturn prefix ? prefix + hash : hash;\n\t\t}\n\t},\n\tPicklist: {\n\t\t/**\n\t\t * Function which will convert ui of select boxes.\n\t\t * @params parent - select element\n\t\t * @params view - select2\n\t\t * @params viewParams - select2 params\n\t\t * @returns jquery object list which represents changed select elements\n\t\t */\n\t\tchangeSelectElementView: function (parent, view, viewParams) {\n\t\t\tif (typeof parent === 'undefined') {\n\t\t\t\tparent = $('body');\n\t\t\t}\n\t\t\tif (typeof view === 'undefined') {\n\t\t\t\tconst select2Elements = $('select.select2', parent).toArray();\n\t\t\t\tselect2Elements.forEach((elem) => {\n\t\t\t\t\tthis.changeSelectElementView($(elem), 'select2', viewParams);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//If view is select2, This will convert the ui of select boxes to select2 elements.\n\t\t\tif (view === 'select2') {\n\t\t\t\treturn App.Fields.Picklist.showSelect2ElementView(parent, viewParams);\n\t\t\t} else {\n\t\t\t\tapp.errorLog(new Error(`Unknown select type [${view}]`));\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will show the select2 element for select boxes . This will use select2 library\n\t\t */\n\t\tshowSelect2ElementView(selectElement, params) {\n\t\t\tlet self = this;\n\t\t\tselectElement = $(selectElement);\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tif ($(selectElement).length > 1) {\n\t\t\t\treturn $(selectElement).each((_, element) => {\n\t\t\t\t\tthis.showSelect2ElementView($(element).eq(0), params);\n\t\t\t\t});\n\t\t\t}\n\t\t\tparams = this.registerParams(selectElement, params);\n\t\t\tif (params.selectLazy && !selectElement.hasClass('js-lazy-select-active')) {\n\t\t\t\treturn App.Fields.Picklist.showLazySelect(selectElement, {\n\t\t\t\t\tlazyElements: app.getMainParams('picklistLimit'),\n\t\t\t\t\tdata: this.registerLazySelectOptions(selectElement),\n\t\t\t\t\tselectParams: params\n\t\t\t\t});\n\t\t\t}\n\t\t\tconst computeDropdownHeight = (e, dropdownContainer) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (!dropdownContainer.find('.select2-dropdown--above').length) {\n\t\t\t\t\t\tconst dropdownList = dropdownContainer.find('.select2-results > .select2-results__options');\n\t\t\t\t\t\tconst marginBottom = 35;\n\t\t\t\t\t\tconst selectOffsetTop = $(e.currentTarget).offset().top;\n\t\t\t\t\t\tdropdownList.css({\n\t\t\t\t\t\t\t'max-height':\n\t\t\t\t\t\t\t\t$(window).height() - selectOffsetTop - marginBottom - (dropdownList.offset().top - selectOffsetTop)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\t\t\t};\n\t\t\tselectElement.each(function () {\n\t\t\t\tlet select = $(this);\n\t\t\t\tlet htmlBoolParams = select.data('select');\n\t\t\t\tif (htmlBoolParams === 'tags') {\n\t\t\t\t\tparams.tags = true;\n\t\t\t\t\tparams.tokenSeparators = [','];\n\t\t\t\t} else {\n\t\t\t\t\tparams[htmlBoolParams] = true;\n\t\t\t\t}\n\t\t\t\tselect\n\t\t\t\t\t.select2(params)\n\t\t\t\t\t.on('select2:open', (e) => {\n\t\t\t\t\t\tcomputeDropdownHeight(e, $('.select2-container--open:not(.select2-container--below)'));\n\t\t\t\t\t\tif (select.data('unselecting')) {\n\t\t\t\t\t\t\tselect.removeData('unselecting');\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tselect.each(function () {\n\t\t\t\t\t\t\t\t\t$(this).select2('close');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet instance = $(e.currentTarget).data('select2');\n\t\t\t\t\t\tinstance.$dropdown.css('z-index', 1000002);\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Fix auto focusing in select2 with jQuery 3.6.0\n\t\t\t\t\t\t * see: https://github.com/select2/select2/issues/5993\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif (instance.dropdown.$search) {\n\t\t\t\t\t\t\tinstance.dropdown.$search.get(0).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.on('select2:unselect', () => {\n\t\t\t\t\t\tselect.data('unselecting', true);\n\t\t\t\t\t});\n\t\t\t\tif (typeof self[params.selectCb] === 'function') {\n\t\t\t\t\tself[params.selectCb](select, params);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn selectElement;\n\t\t},\n\t\t/**\n\t\t * Register params\n\t\t * @param selectElement\n\t\t * @param params\n\t\t * @returns {*}\n\t\t */\n\t\tregisterParams(selectElement, params) {\n\t\t\tif (typeof params.dropdownParent === 'undefined') {\n\t\t\t\tconst modalParent = $(selectElement).closest('.modal-body');\n\t\t\t\tif (modalParent.length) {\n\t\t\t\t\tparams.dropdownParent = modalParent;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet data = selectElement.data();\n\t\t\tif (data != null) {\n\t\t\t\tparams = $.extend(data, params);\n\t\t\t}\n\t\t\tparams.language = {};\n\t\t\tparams.theme = 'bootstrap';\n\t\t\tconst width = $(selectElement).data('width');\n\t\t\tif (typeof width !== 'undefined') {\n\t\t\t\tparams.width = width;\n\t\t\t} else {\n\t\t\t\tparams.width = '100%';\n\t\t\t}\n\t\t\tparams.containerCssClass = 'form-control w-100';\n\t\t\tconst containerCssClass = selectElement.data('containerCssClass');\n\t\t\tif (typeof containerCssClass !== 'undefined') {\n\t\t\t\tparams.containerCssClass += ' ' + containerCssClass;\n\t\t\t}\n\t\t\tparams.language.noResults = function () {\n\t\t\t\treturn app.vtranslate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\t\t\tparams.language.removeAllItems = function () {\n\t\t\t\treturn app.vtranslate('JS_REMOVE_ALL_ITEMS');\n\t\t\t};\n\t\t\t// Sort DOM nodes alphabetically in select box.\n\t\t\tif (typeof params['customSortOptGroup'] !== 'undefined' && params['customSortOptGroup']) {\n\t\t\t\t$('optgroup', selectElement).each(function () {\n\t\t\t\t\tvar optgroup = $(this);\n\t\t\t\t\tvar options = optgroup\n\t\t\t\t\t\t.children()\n\t\t\t\t\t\t.toArray()\n\t\t\t\t\t\t.sort(function (a, b) {\n\t\t\t\t\t\t\tvar aText = $(a).text();\n\t\t\t\t\t\t\tvar bText = $(b).text();\n\t\t\t\t\t\t\treturn aText < bText ? 1 : -1;\n\t\t\t\t\t\t});\n\t\t\t\t\t$.each(options, function (i, v) {\n\t\t\t\t\t\toptgroup.prepend(v);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tdelete params['customSortOptGroup'];\n\t\t\t}\n\n\t\t\t//formatSelectionTooBig param is not defined even it has the maximumSelectionLength,\n\t\t\t//then we should send our custom function for formatSelectionTooBig\n\t\t\tif (typeof params.maximumSelectionLength !== 'undefined' && typeof params.formatSelectionTooBig === 'undefined') {\n\t\t\t\t//custom function which will return the maximum selection size exceeds message.\n\t\t\t\tvar formatSelectionExceeds = function (limit) {\n\t\t\t\t\treturn app.vtranslate('JS_YOU_CAN_SELECT_ONLY') + ' ' + limit.maximum + ' ' + app.vtranslate('JS_ITEMS');\n\t\t\t\t};\n\t\t\t\tparams.language.maximumSelected = formatSelectionExceeds;\n\t\t\t}\n\t\t\tif (typeof selectElement.attr('multiple') !== 'undefined' && !params.placeholder) {\n\t\t\t\tparams.placeholder = app.vtranslate('JS_SELECT_SOME_OPTIONS');\n\t\t\t} else if (!params.placeholder) {\n\t\t\t\tparams.placeholder = app.vtranslate('JS_SELECT_AN_OPTION');\n\t\t\t}\n\t\t\tif (typeof params.templateResult === 'undefined') {\n\t\t\t\tparams.templateResult = function (data, container) {\n\t\t\t\t\tif (data.element && data.element.className) {\n\t\t\t\t\t\t$(container).addClass(data.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tlet actualElement = $(data.element);\n\t\t\t\t\tif (typeof selectElement.data('showAdditionalIcons') !== 'undefined' && actualElement.is('option')) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<div class=\"js-element__title d-flex justify-content-between\" data-js=\"appendTo\"><div class=\"u-text-ellipsis--no-hover\">' +\n\t\t\t\t\t\t\tactualElement.text() +\n\t\t\t\t\t\t\t'</div></div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t}\n\t\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tparams.escapeMarkup = function (markup) {\n\t\t\t\t\treturn markup;\n\t\t\t\t};\n\t\t\t} else if (typeof this[params.templateResult] === 'function') {\n\t\t\t\tparams.templateResult = this[params.templateResult];\n\t\t\t}\n\t\t\tif (typeof params.templateSelection === 'undefined') {\n\t\t\t\tparams.templateSelection = function (item, container) {\n\t\t\t\t\tif (item.element && item.element.className) {\n\t\t\t\t\t\t$(container).addClass(item.element.className);\n\t\t\t\t\t}\n\t\t\t\t\tif (item.text === '') {\n\t\t\t\t\t\treturn item.name;\n\t\t\t\t\t}\n\t\t\t\t\treturn item.text;\n\t\t\t\t};\n\t\t\t} else if (typeof this[params.templateSelection] === 'function') {\n\t\t\t\tparams.templateSelection = this[params.templateSelection];\n\t\t\t}\n\t\t\tif (selectElement.data('ajaxSearch') === 1) {\n\t\t\t\tparams = this.registerAjaxParams(selectElement, params);\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Register ajax params\n\t\t * @param {jQuery} selectElement\n\t\t * @param {Object} params\n\t\t * @returns {Object}\n\t\t */\n\t\tregisterAjaxParams(selectElement, params) {\n\t\t\tparams.tags = false;\n\t\t\tparams.language.searching = function () {\n\t\t\t\treturn app.vtranslate('JS_SEARCHING');\n\t\t\t};\n\t\t\tparams.language.inputTooShort = function (args) {\n\t\t\t\tvar remainingChars = args.minimum - args.input.length;\n\t\t\t\treturn app.vtranslate('JS_INPUT_TOO_SHORT').replace('_LENGTH_', remainingChars);\n\t\t\t};\n\t\t\tparams.language.errorLoading = function () {\n\t\t\t\treturn app.vtranslate('JS_NO_RESULTS_FOUND');\n\t\t\t};\n\t\t\tparams.placeholder = '';\n\t\t\tparams.ajax = {\n\t\t\t\turl: selectElement.data('ajaxUrl'),\n\t\t\t\tdataType: 'json',\n\t\t\t\tdelay: 250,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata:\n\t\t\t\t\tparams['ajax'] && params['ajax']['data']\n\t\t\t\t\t\t? params['ajax']['data']\n\t\t\t\t\t\t: function (item) {\n\t\t\t\t\t\t\t\tconsole.log(item);\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tvalue: item.term, // search term\n\t\t\t\t\t\t\t\t\tpage: item.page\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t  },\n\t\t\t\tprocessResults:\n\t\t\t\t\tparams['ajax'] && params['ajax']['processResults']\n\t\t\t\t\t\t? params['ajax']['processResults']\n\t\t\t\t\t\t: function (data, _params) {\n\t\t\t\t\t\t\t\tvar items = new Array();\n\t\t\t\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\t\t\t\tselectElement.find('option').each(function () {\n\t\t\t\t\t\t\t\t\t\tvar currentTarget = $(this);\n\t\t\t\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\t\t\t\tlabel: currentTarget.html(),\n\t\t\t\t\t\t\t\t\t\t\tvalue: currentTarget.val()\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\titems = items.concat(data.result.items);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tresults: items,\n\t\t\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\t\t\tmore: false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t  },\n\t\t\t\tcache: false\n\t\t\t};\n\t\t\tparams.escapeMarkup = function (markup) {\n\t\t\t\tif (markup !== 'undefined') return markup;\n\t\t\t};\n\t\t\tparams.minimumInputLength = 3;\n\t\t\tif (selectElement.data('minimumInput') !== 'undefined') {\n\t\t\t\tparams.minimumInputLength = selectElement.data('minimumInput');\n\t\t\t}\n\t\t\tparams.templateResult = function (data) {\n\t\t\t\tif (typeof data.name === 'undefined') {\n\t\t\t\t\treturn data.text;\n\t\t\t\t}\n\t\t\t\tif (data.type == 'optgroup') {\n\t\t\t\t\treturn '<strong>' + data.name + '</strong>';\n\t\t\t\t} else {\n\t\t\t\t\treturn '<span>' + data.name + '</span>';\n\t\t\t\t}\n\t\t\t};\n\t\t\tparams.templateSelection = function (data, _container) {\n\t\t\t\tif (data.text === '') {\n\t\t\t\t\treturn data.name;\n\t\t\t\t}\n\t\t\t\treturn data.text;\n\t\t\t};\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Prepend template with a flag, function is called select2\n\t\t * @param optionData\n\t\t * @returns {Mixed|jQuery|HTMLElement}\n\t\t */\n\t\tprependDataTemplate(optionData) {\n\t\t\tlet template = optionData.text;\n\t\t\tif (optionData.id !== undefined && optionData.id !== '') {\n\t\t\t\ttemplate = $(optionData.element.dataset.template);\n\t\t\t\tif (optionData.element.dataset.state !== undefined) {\n\t\t\t\t\t//check if element has icons with different states\n\t\t\t\t\tif (optionData.element.dataset.state === 'active') {\n\t\t\t\t\t\ttemplate\n\t\t\t\t\t\t\t.find('.js-select-option-event')\n\t\t\t\t\t\t\t.removeClass(optionData.element.dataset.iconInactive)\n\t\t\t\t\t\t\t.addClass(optionData.element.dataset.iconActive);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttemplate\n\t\t\t\t\t\t\t.find('.js-select-option-event')\n\t\t\t\t\t\t\t.removeClass(optionData.element.dataset.iconActive)\n\t\t\t\t\t\t\t.addClass(optionData.element.dataset.iconInactive);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn template;\n\t\t},\n\t\t/**\n\t\t * Register select sortable\n\t\t * @param select\n\t\t * @param params\n\t\t */\n\t\tregisterSelectSortable(select, params) {\n\t\t\tthis.sortSelectOptions(select);\n\t\t\tthis.registerSortEvent(select, params.sortableCb);\n\t\t},\n\t\t/**\n\t\t * Sort elements (options) in select by data-sort-index\n\t\t * @param {jQuery} select2 element\n\t\t */\n\t\tsortSelectOptions(select) {\n\t\t\tselect\n\t\t\t\t.find('option[data-sort-index]')\n\t\t\t\t.sort((a, b) => {\n\t\t\t\t\treturn $(b).data('sort-index') < $(a).data('sort-index') ? 1 : -1;\n\t\t\t\t})\n\t\t\t\t.appendTo(select);\n\t\t},\n\t\t/**\n\t\t * Register select drag and drop sorting\n\t\t * @param {jQuery} select2 element\n\t\t * @param {function} callback function\n\t\t */\n\t\tregisterSortEvent(select, cb = () => {}) {\n\t\t\tlet ul = select.next('.select2-container').first('ul.select2-selection__rendered');\n\t\t\tul.sortable({\n\t\t\t\titems: 'li:not(.select2-search__field)',\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tstop: function () {\n\t\t\t\t\t$(ul.find('.select2-selection__choice').get().reverse()).each(function () {\n\t\t\t\t\t\tlet optionTitle = $(this).attr('title');\n\t\t\t\t\t\tselect.find('option').each(function () {\n\t\t\t\t\t\t\tif ($(this).text() === optionTitle) {\n\t\t\t\t\t\t\t\tselect.prepend($(this));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tcb(select);\n\t\t\t\t\tselect.trigger('sortable:change');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register icons events in select2 options\n\t\t * @param selectElement\n\t\t */\n\t\tregisterIconsEvents(selectElement) {\n\t\t\tselectElement.on('select2:selecting', (event) => {\n\t\t\t\tlet currentTarget = $(event.params.args.originalEvent.target);\n\t\t\t\tif (!currentTarget.hasClass('js-select-option-event') && !currentTarget.is('path')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tevent.preventDefault();\n\t\t\t\tif (currentTarget.is('path')) {\n\t\t\t\t\t//svg target fix\n\t\t\t\t\tcurrentTarget = currentTarget.closest('.js-select-option-event');\n\t\t\t\t}\n\t\t\t\tlet currentElementData = $(event.params.args.data.element).data(),\n\t\t\t\t\toptionElement = $(event.params.args.data.element),\n\t\t\t\t\tprogressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(currentElementData.url)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tif (response && response.result) {\n\t\t\t\t\t\t\tif (optionElement.attr('data-state') === 'active') {\n\t\t\t\t\t\t\t\toptionElement.attr('data-state', 'inactive');\n\t\t\t\t\t\t\t\tcurrentTarget.toggleClass(currentElementData.iconActive + ' ' + currentElementData.iconInactive);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\toptionElement.attr('data-state', 'active');\n\t\t\t\t\t\t\t\tcurrentTarget.toggleClass(currentElementData.iconInactive + ' ' + currentElementData.iconActive);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (response.message) {\n\t\t\t\t\t\t\t\tapp.showNotify({ text: response.message, type: 'success' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (response && response.message) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: response.message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show lazy select based on data passed in js.\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t * @param   {object}  params         contains selectParams object, lazyElements number, data array\n\t\t */\n\t\tshowLazySelect(selectElement, params) {\n\t\t\t$.fn.select2.amd.require(['select2/data/array', 'select2/utils'], (ArrayData, Utils) => {\n\t\t\t\tfunction CustomData($element, params) {\n\t\t\t\t\tCustomData.__super__.constructor.call(this, $element, params);\n\t\t\t\t}\n\t\t\t\tUtils.Extend(CustomData, ArrayData);\n\t\t\t\tCustomData.prototype.query = (options, callback) => {\n\t\t\t\t\tlet results = [];\n\t\t\t\t\tif (options.term && options.term !== '') {\n\t\t\t\t\t\tresults = params.data.filter((e) => {\n\t\t\t\t\t\t\treturn e.text.toUpperCase().indexOf(options.term.toUpperCase()) >= 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresults = params.data;\n\t\t\t\t\t}\n\t\t\t\t\tif (!('page' in options)) {\n\t\t\t\t\t\toptions.page = 1;\n\t\t\t\t\t}\n\t\t\t\t\tlet data = {};\n\t\t\t\t\tdata.results = results.slice((options.page - 1) * params.lazyElements, options.page * params.lazyElements);\n\t\t\t\t\tdata.pagination = {};\n\t\t\t\t\tdata.pagination.more = options.page * params.lazyElements < results.length;\n\t\t\t\t\tcallback(data);\n\t\t\t\t};\n\t\t\t\tparams.selectParams = Object.assign(params.selectParams, {\n\t\t\t\t\tajax: {},\n\t\t\t\t\tdataAdapter: CustomData\n\t\t\t\t});\n\t\t\t\tselectElement.addClass('js-lazy-select-active');\n\t\t\t\tthis.showSelect2ElementView(selectElement, params.selectParams);\n\t\t\t\tlet selectedOption = selectElement.data('selected-value');\n\t\t\t\tif (selectedOption) {\n\t\t\t\t\tlet text = selectedOption;\n\t\t\t\t\tif (\n\t\t\t\t\t\tselectElement.data('fieldinfo').picklistvalues.hasOwnProperty(selectedOption) &&\n\t\t\t\t\t\t!selectElement.get(0).dataset.templateResult\n\t\t\t\t\t) {\n\t\t\t\t\t\ttext = selectElement.data('fieldinfo').picklistvalues[selectedOption];\n\t\t\t\t\t}\n\t\t\t\t\tthis.createSelectedOption(selectElement, text, selectedOption);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register lazy select options\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t *\n\t\t * @return  {object}                 [return description]\n\t\t */\n\t\tregisterLazySelectOptions(selectElement) {\n\t\t\tlet options = [];\n\t\t\tif (\n\t\t\t\tselectElement.data('fieldinfo') &&\n\t\t\t\tselectElement.data('fieldinfo').picklistvalues &&\n\t\t\t\t!selectElement.get(0).dataset.templateResult\n\t\t\t) {\n\t\t\t\toptions = $.map(selectElement.data('fieldinfo').picklistvalues, function (val, key) {\n\t\t\t\t\treturn { id: key, text: val };\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\toptions = $.map(selectElement.find('option'), (item) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: item.value,\n\t\t\t\t\t\telement: item,\n\t\t\t\t\t\ttext: item.text,\n\t\t\t\t\t\tselected: item.selected,\n\t\t\t\t\t\tdisabled: item.disabled\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn options;\n\t\t},\n\t\t/**\n\t\t * Set a value for the field\n\t\t *\n\t\t * @param   {jQuery}  field Field element\n\t\t * @param   {mixed}  value The value to set\n\t\t * @param   {object}  params Additional parameters [optional]\n\t\t *\n\t\t * @return  {mixed} The value that has been set\n\t\t */\n\t\tsetValue(field, value, params) {\n\t\t\tlet type = 'value';\n\t\t\tif (params && params['type']) {\n\t\t\t\ttype = params['type'];\n\t\t\t}\n\t\t\tconst option = this.findOption(field, value, type);\n\t\t\tif (!option) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (field.hasClass('js-lazy-select-active')) {\n\t\t\t\tthis.createSelectedOption(field, option.text, option.value);\n\t\t\t} else {\n\t\t\t\tfield.val(option.value).trigger('change');\n\t\t\t}\n\t\t\treturn option.value;\n\t\t},\n\t\t/**\n\t\t * Find option.\n\t\t *\n\t\t * @param   {object}  selectElement  [selectElement description]\n\t\t * @param   {string}  searchValue\n\t\t * @param   {string}  type           value|text|all\n\t\t *\n\t\t * @return  {boolean|object}         false or option object\n\t\t */\n\t\tfindOption(selectElement, searchValue, type = 'value') {\n\t\t\tlet foundOption = false;\n\t\t\tconst selectValues = this.getSelectOptions(selectElement);\n\t\t\tconst getFieldValueFromText = () => Object.keys(selectValues).find((key) => selectValues[key] === searchValue);\n\t\t\tconst valueExists = () => selectValues.hasOwnProperty(searchValue);\n\t\t\tconst createOption = () => {\n\t\t\t\treturn { text: selectValues[foundOption], value: foundOption };\n\t\t\t};\n\t\t\tswitch (type) {\n\t\t\t\tcase 'value':\n\t\t\t\t\tif (valueExists()) {\n\t\t\t\t\t\tfoundOption = searchValue;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tfoundOption = getFieldValueFromText();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'all':\n\t\t\t\t\tif (valueExists()) {\n\t\t\t\t\t\tfoundOption = searchValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfoundOption = getFieldValueFromText();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn foundOption ? createOption() : false;\n\t\t},\n\t\t/**\n\t\t * Get select options\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t *\n\t\t * @return  {object}                 [return description]\n\t\t */\n\t\tgetSelectOptions(selectElement) {\n\t\t\tif (selectElement.data('fieldinfo') && selectElement.data('fieldinfo').picklistvalues) {\n\t\t\t\treturn selectElement.data('fieldinfo').picklistvalues;\n\t\t\t} else {\n\t\t\t\tlet optionsObject = {};\n\t\t\t\tselectElement.find('option').each((i, element) => {\n\t\t\t\t\toptionsObject[element.value] = element.text;\n\t\t\t\t});\n\t\t\t\treturn optionsObject;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Create selected option\n\t\t *\n\t\t * @param   {object}  selectElement  jQuery\n\t\t * @param   {string}  text\n\t\t * @param   {string}  value\n\t\t */\n\t\tcreateSelectedOption(selectElement, text, value) {\n\t\t\tconst newOption = new Option(text, value, true, true);\n\t\t\tselectElement.append(newOption).trigger('change');\n\t\t}\n\t},\n\tMultiImage: {\n\t\tcurrentFileUploads: 0,\n\t\tregister(container) {\n\t\t\t$('.js-multi-image', container).each(function () {\n\t\t\t\tnew MultiImage($(this));\n\t\t\t});\n\t\t}\n\t},\n\tMultiEmail: {\n\t\tregister($container) {\n\t\t\t$('.js-multi-email', $container).each((idx, multiEmailField) => {\n\t\t\t\tlet $multiEmailField = $(multiEmailField);\n\t\t\t\t$multiEmailField.on('change', '.js-multi-email', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-consenticon', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.toggleConsent($(e.target));\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-add', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.addItem($multiEmailField);\n\t\t\t\t});\n\t\t\t\t$multiEmailField.on('click', '.js-multi-email-remove', (e) => {\n\t\t\t\t\tApp.Fields.MultiEmail.removeItem($(e.target));\n\t\t\t\t\tApp.Fields.MultiEmail.parseToJSON($multiEmailField);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Converts data to json and set MultiEmail field value\n\t\t * @param $multiEmailField\n\t\t */\n\t\tparseToJSON($multiEmailField) {\n\t\t\tlet value = [];\n\t\t\t$('.js-multi-email-item', $multiEmailField).each((idx, item) => {\n\t\t\t\tlet $item = $(item);\n\t\t\t\tlet email = $('.js-multi-email', $item).val();\n\t\t\t\tlet consent = $('.js-multi-email-consent', $item).is(':visible') ? 1 : 0;\n\t\t\t\tif (email) {\n\t\t\t\t\tvalue.push({\n\t\t\t\t\t\te: email,\n\t\t\t\t\t\to: consent\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-multi-email-value', $multiEmailField).val(JSON.stringify(value));\n\t\t},\n\t\t/**\n\t\t * Adds a new item: email box and consent checkbox\n\t\t * @param $multiEmailField\n\t\t */\n\t\taddItem($multiEmailField) {\n\t\t\tlet $newItem = $('.js-multi-email-item', $multiEmailField).first().clone(false, false);\n\t\t\tif ($newItem) {\n\t\t\t\t$('.js-multi-email', $newItem).attr('value', '').val('');\n\t\t\t\t$('.js-multi-email-consent', $newItem).val('');\n\t\t\t\t$('.js-multi-email-consenticon', $newItem).hide();\n\t\t\t\t$('.js-multi-email-consenticon', $newItem).first().show();\n\t\t\t\t$('.js-multi-email-items', $multiEmailField).append($newItem);\n\t\t\t\t$('.js-multi-email-remove', $multiEmailField).show();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Removes an item: email box and consent checkbox\n\t\t * @param $deleteBtn\n\t\t */\n\t\tremoveItem($deleteBtn) {\n\t\t\tlet $multiEmailField = $deleteBtn.closest('.js-multi-email');\n\t\t\tif (1 < $('.js-multi-email-item', $multiEmailField).length) {\n\t\t\t\t$deleteBtn.closest('.js-multi-email-item').remove();\n\t\t\t}\n\t\t\tif (1 == $('.js-multi-email-item', $multiEmailField).length) {\n\t\t\t\t$('.js-multi-email-remove', $multiEmailField).hide();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Toggle consent boxes\n\t\t * @param $consentBox\n\t\t */\n\t\ttoggleConsent($consentBox) {\n\t\t\tlet $item = $consentBox.closest('.js-multi-email-item');\n\t\t\t$('.js-multi-email-consenticon', $item).toggle();\n\t\t}\n\t},\n\tMultiDependField: {\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregister(container) {\n\t\t\tcontainer.find('.js-multi-field').each((index, element) => {\n\t\t\t\tconst inputElement = $(element);\n\t\t\t\tconst fields = inputElement.find('.js-multi-field-val').data('fields');\n\t\t\t\tinputElement.find('.js-multi-field-add-item').on('click', (e) => {\n\t\t\t\t\tApp.Fields.MultiDependField.addRow(inputElement, fields);\n\t\t\t\t});\n\t\t\t\tApp.Fields.MultiDependField.registerRow(inputElement, fields);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register row\n\t\t * @param {jQuery} inputElement\n\t\t * @param {Object} fields\n\t\t */\n\t\tregisterRow(inputElement, fields) {\n\t\t\tfor (let i in fields) {\n\t\t\t\tinputElement.find('[name=\"' + fields[i] + '\"]').on('change', (e) => {\n\t\t\t\t\tApp.Fields.MultiDependField.parseToJson(inputElement, fields);\n\t\t\t\t});\n\t\t\t}\n\t\t\tinputElement.find('.js-remove-item').on('click', (e) => {\n\t\t\t\tApp.Fields.MultiDependField.removeRow($(e.target), inputElement);\n\t\t\t\tApp.Fields.MultiDependField.parseToJson(inputElement.closest('.js-multi-field'), fields);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Invoked after clicking the remove button\n\t\t * @param {jQuery} element\n\t\t * @param {jQuery} container\n\t\t */\n\t\tremoveRow(element, container) {\n\t\t\tif (container.find('.js-multi-field-row').length > 1) {\n\t\t\t\telement.closest('.js-multi-field-row').remove();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Convert data to json\n\t\t * @param {jQuery} element\n\t\t * @param {Object} fields\n\t\t */\n\t\tparseToJson(element, fields) {\n\t\t\tlet arr = [];\n\t\t\tlet allFields = $(element).find('.js-multi-field-row');\n\t\t\tlet arrayLength = allFields.length;\n\t\t\tfor (let i = 0; i < arrayLength; ++i) {\n\t\t\t\tlet partData = {},\n\t\t\t\t\tskip = false;\n\t\t\t\tfor (let k in fields) {\n\t\t\t\t\tpartData[fields[k]] = $(allFields[i])\n\t\t\t\t\t\t.find('[name=\"' + fields[k] + '\"]')\n\t\t\t\t\t\t.val();\n\t\t\t\t\tif (k == 0 && partData[fields[k]] === '') {\n\t\t\t\t\t\tskip = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!skip) {\n\t\t\t\t\tarr.push(partData);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$(element).find('input.js-multi-field-val').val(JSON.stringify(arr));\n\t\t},\n\t\t/**\n\t\t * Invoked after clicking the add button\n\t\t * @param {jQuery} container\n\t\t * @param {Object} fields\n\t\t */\n\t\taddRow(container, fields) {\n\t\t\tlet newField;\n\t\t\tlet lastField = container.find('.js-multi-field-row').last();\n\t\t\tlet selectFields = lastField.find('select.select2');\n\t\t\tif (selectFields.length) {\n\t\t\t\tselectFields.select2('destroy').removeAttr('data-select2-id').find('option').removeAttr('data-select2-id');\n\t\t\t\tnewField = lastField.clone(false, false);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(lastField.find('select.select2'));\n\t\t\t} else {\n\t\t\t\tnewField = lastField.clone(false, false);\n\t\t\t}\n\t\t\tfor (let i in fields) {\n\t\t\t\tnewField.find('[name=\"' + fields[i] + '\"]').val('');\n\t\t\t}\n\t\t\tnewField.insertAfter(container.find('.js-multi-field-row').last());\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(newField.find('select.select2'));\n\t\t\tApp.Fields.Date.register(newField);\n\t\t\tApp.Fields.MultiDependField.registerRow(container, fields);\n\t\t}\n\t},\n\tDependentSelect: {\n\t\t/**\n\t\t * Get options for select from array of items (exclude children)\n\t\t * @param {Array} data {value,text,selected, children => data[]}\n\t\t * @returns {string}\n\t\t */\n\t\tgenerateOptionsFromData(data) {\n\t\t\tlet html = '';\n\t\t\tfor (let item of data) {\n\t\t\t\tlet selected = false;\n\t\t\t\tif (typeof item.selected !== 'undefined' && item.selected) {\n\t\t\t\t\tselected = true;\n\t\t\t\t}\n\t\t\t\thtml += `<option value=${item.value}${selected ? ' selected' : ''}>${item.text}</option>`;\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\t\t/**\n\t\t * Register dependent selects\n\t\t *\n\t\t * @param {jQuery} container with data- options:\n\t\t * data-slave: selector for slave element\n\t\t * data-data: array of options with children elements for slave select (see getOptions for data format)\n\t\t * data-sort: do we want to sort slave options by text when master has two items selected? if not - just append options to slave\n\t\t */\n\t\tregister(container) {\n\t\t\tif (typeof container === 'undefined' || typeof container.length === 'undefined' || !container.length) {\n\t\t\t\treturn app.errorLog('Dependend select field container is missing.');\n\t\t\t}\n\t\t\tcontainer.each(function () {\n\t\t\t\tconst masterSelect = $(this),\n\t\t\t\t\tslaveSelect = $(masterSelect.data('slave')),\n\t\t\t\t\tdata = masterSelect.data('data');\n\t\t\t\tif (!slaveSelect.length) {\n\t\t\t\t\treturn app.errorLog('Could not find slave select element (data-slave attribute)');\n\t\t\t\t}\n\t\t\t\tif (!data) {\n\t\t\t\t\treturn app.errorLog('Could not load data (data-data attribute)');\n\t\t\t\t}\n\t\t\t\tmasterSelect.on('change', (e) => {\n\t\t\t\t\tlet values = $(e.target).val();\n\t\t\t\t\tif (!Array.isArray(values)) {\n\t\t\t\t\t\tvalues = [values];\n\t\t\t\t\t}\n\t\t\t\t\tlet children = [];\n\t\t\t\t\tfor (let value of values) {\n\t\t\t\t\t\tfor (let item of data) {\n\t\t\t\t\t\t\tif (item.value === value) {\n\t\t\t\t\t\t\t\tif (typeof item.children !== 'undefined') {\n\t\t\t\t\t\t\t\t\titem.children.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchildren.push(child);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (masterSelect.data('sort')) {\n\t\t\t\t\t\tchildren.sort((a, b) => {\n\t\t\t\t\t\t\treturn a.text.localeCompare(b.text);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tslaveSelect.html(App.Fields.DependentSelect.generateOptionsFromData(children));\n\t\t\t\t});\n\t\t\t\tmasterSelect.html(App.Fields.DependentSelect.generateOptionsFromData(data));\n\t\t\t});\n\t\t}\n\t},\n\tGantt: {\n\t\tregister(container, data) {\n\t\t\treturn new GanttField(container, data);\n\t\t}\n\t},\n\tInteger: {\n\t\t/**\n\t\t * Function returns the integer in user specified format.\n\t\t * @param {number} value\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet groupSeparator = CONFIG.currencyGroupingSeparator;\n\t\t\tlet groupingPattern = CONFIG.currencyGroupingPattern;\n\t\t\tvalue = parseFloat(value).toFixed(1);\n\t\t\tlet integer = value.toString().split('.')[0];\n\t\t\tif (integer.length > 3) {\n\t\t\t\tif (groupingPattern === '123,456,789') {\n\t\t\t\t\tinteger = integer.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1' + groupSeparator);\n\t\t\t\t} else if (groupingPattern === '123456,789') {\n\t\t\t\t\tinteger = integer.slice(0, -3) + groupSeparator + integer.slice(-3);\n\t\t\t\t} else if (groupingPattern === '12,34,56,789') {\n\t\t\t\t\tinteger =\n\t\t\t\t\t\tinteger.slice(0, -3).replace(/(\\d)(?=(\\d\\d)+(?!\\d))/g, '$1' + groupSeparator) +\n\t\t\t\t\t\tgroupSeparator +\n\t\t\t\t\t\tinteger.slice(-3);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t}\n\t},\n\tDouble: {\n\t\t/**\n\t\t * Function returns the currency in user specified format.\n\t\t * @param {number} value\n\t\t * @param {boolean} numberOfDecimal\n\t\t * @param {int} numberOfDecimal\n\t\t * @returns {string}\n\t\t */\n\t\tformatToDisplay(value, fixed = true, numberOfDecimal = CONFIG.noOfCurrencyDecimals) {\n\t\t\tif (!value) {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tlet strDecimal = value.toString().split('.')[1];\n\t\t\tlet numberOfZerosAtTheEnd = 0;\n\t\t\tif (typeof strDecimal !== 'undefined') {\n\t\t\t\tfor (let i = strDecimal.length - 1; i > 0; --i) {\n\t\t\t\t\tif (strDecimal[i] == '0') {\n\t\t\t\t\t\tnumberOfZerosAtTheEnd++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvalue = parseFloat(value);\n\t\t\tif (fixed) {\n\t\t\t\tlet base = 10 ** numberOfDecimal;\n\t\t\t\tvalue =\n\t\t\t\t\tMath.round(\n\t\t\t\t\t\tvalue * base + Math.sign(value) * 0.1 ** (17 - 2 - (Math.round(value * base) / base).toString().length)\n\t\t\t\t\t) / base;\n\t\t\t}\n\t\t\tlet splittedFloat = value.toString().split('.');\n\t\t\tlet integer = splittedFloat[0];\n\t\t\tif (integer !== '-0' && integer !== '0') {\n\t\t\t\tinteger = App.Fields.Integer.formatToDisplay(integer);\n\t\t\t}\n\t\t\tlet decimal = splittedFloat[1];\n\t\t\tif (numberOfDecimal) {\n\t\t\t\tif (!CONFIG.truncateTrailingZeros && decimal) {\n\t\t\t\t\tfor (let i = 0; i < numberOfZerosAtTheEnd && decimal.length < numberOfDecimal; ++i) {\n\t\t\t\t\t\tdecimal += '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (decimal) {\n\t\t\t\t\treturn integer + CONFIG.currencyDecimalSeparator + decimal;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn integer;\n\t\t},\n\t\t/**\n\t\t * Function to get value for db format.\n\t\t * @param {string} value\n\t\t * @returns {number}\n\t\t */\n\t\tformatToDb(value) {\n\t\t\tif (value == undefined || value == '') {\n\t\t\t\tvalue = 0;\n\t\t\t}\n\t\t\tvalue = value.toString();\n\t\t\tvalue = value.split(CONFIG.currencyGroupingSeparator).join('');\n\t\t\tvalue = value.replace(/\\s/g, '').replace(CONFIG.currencyDecimalSeparator, '.');\n\t\t\treturn parseFloat(value);\n\t\t}\n\t},\n\t/**\n\t * Tree\n\t */\n\tTree: class Tree {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-tree-container')) {\n\t\t\t\treturn new Tree(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-tree-container').each((n, e) => {\n\t\t\t\tinstances.push(new Tree($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tthis.modalEvent();\n\t\t\tthis.autoCompleteEvent();\n\t\t\tthis.clearSelectionEvent();\n\t\t}\n\t\t/**\n\t\t * Function which will handle modal view with tree\n\t\t */\n\t\tmodalEvent() {\n\t\t\t$('.js-tree-modal', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (_) => {\n\t\t\t\t\tlet sourceFieldElement = this.container.find('input.sourceField'),\n\t\t\t\t\t\tfieldDisplayElement = this.container.find('input[name=\"' + sourceFieldElement.attr('name') + '_display\"]');\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: sourceFieldElement.data('module-name'),\n\t\t\t\t\t\tview: 'TreeModal',\n\t\t\t\t\t\ttemplate: sourceFieldElement.data('treetemplate'),\n\t\t\t\t\t\tfieldName: sourceFieldElement.attr('name'),\n\t\t\t\t\t\tmultiple: sourceFieldElement.data('multiple'),\n\t\t\t\t\t\tvalue: sourceFieldElement.val()\n\t\t\t\t\t}).done(function (requestData) {\n\t\t\t\t\t\tapp.modalEvents['treeModal'] = function (modal, instance) {\n\t\t\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\t\t\tsourceFieldElement.val(responseData.id);\n\t\t\t\t\t\t\t\tfieldDisplayElement.val(responseData.name).attr('readonly', true);\n\t\t\t\t\t\t\t\tsourceFieldElement.trigger('change');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showModalWindow(requestData, { modalId: 'treeModal' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t */\n\t\tautoCompleteEvent() {\n\t\t\tlet autoCompleteElement = $('input.treeAutoComplete', this.container);\n\t\t\tif (autoCompleteElement.hasClass('ui-autocomplete-input')) {\n\t\t\t\tautoCompleteElement.autocomplete('destroy');\n\t\t\t}\n\t\t\tautoCompleteElement.autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term.toLowerCase();\n\t\t\t\t\tlet parentElem = inputElement.closest('.js-tree-container');\n\t\t\t\t\tlet sourceFieldElement = $('input.sourceField', parentElem);\n\t\t\t\t\tlet fieldInfo = sourceFieldElement.data('fieldinfo');\n\t\t\t\t\tlet allValues = fieldInfo.picklistvalues;\n\t\t\t\t\tlet responseDataList = [];\n\t\t\t\t\tfor (let id in allValues) {\n\t\t\t\t\t\tif (allValues[id].toLowerCase().indexOf(searchValue) >= 0) {\n\t\t\t\t\t\t\tresponseDataList.push({ label: allValues[id], value: id, id: id });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (responseDataList.length <= 0) {\n\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\tresponseDataList.push({\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tthis.value = selectedItemData.label;\n\t\t\t\t\tlet element = $(this).attr('readonly', true);\n\t\t\t\t\telement.closest('.js-tree-container').find('input.sourceField').val(selectedItemData.id).trigger('change');\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t */\n\t\tclearSelectionEvent() {\n\t\t\t$('.clearTreeSelection', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tlet fieldElement = this.container.find('.sourceField');\n\t\t\t\t\t$('input[name=\"' + fieldElement.attr('name') + '_display\"]', this.container)\n\t\t\t\t\t\t.removeAttr('readonly')\n\t\t\t\t\t\t.val('');\n\t\t\t\t\tfieldElement.val('').trigger('change');\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * TimePeriod class\n\t *\n\t * Save value as time period in 00:m format where '0' is a number of units\n\t * ':' is just separator\n\t * and 'm' is time scale/period in php date format - available formats are [m, d, H, i, s]\n\t * @example 10:i = 10 minutes, 2:m = 2 months, 20:H = 20 hours and so on...\n\t */\n\tTimePeriod: class TimePeriod {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.value = container.val();\n\t\t\tif (this.value) {\n\t\t\t\tconst split = this.value.split(':');\n\t\t\t\tthis.time = Number(split[0]);\n\t\t\t\tthis.period = split[1];\n\t\t\t} else {\n\t\t\t\tthis.time = 0;\n\t\t\t\tthis.period = 'H';\n\t\t\t\tthis.value = '0:H';\n\t\t\t\tcontainer.val(this.value);\n\t\t\t}\n\t\t\tthis.injectContent();\n\t\t}\n\n\t\t/**\n\t\t * Register time period field/s\n\t\t *\n\t\t * @param {jQuery} container it could be input type hidden with js-time-period class\n\t\t *                           or container that contains multiple js-time-period inputs\n\t\t *\n\t\t * @example <input type=\"hidden\" name=\"field_name\" class=\"js-time-period\">\n\t\t *\n\t\t * @returns {TimePeriod|TimePeriod[]} instance/s\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('c-time-period')) {\n\t\t\t\treturn new TimePeriod(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.c-time-period').each((index, value) => {\n\t\t\t\tinstances.push(new TimePeriod($(value)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\n\t\t/**\n\t\t * Inject content next to container\n\t\t *\n\t\t * @returns  {jQuery}  created element with input and select\n\t\t */\n\t\tinjectContent() {\n\t\t\tlet content = `<div class=\"input-group c-time-period\" data-js=\"container\">\n\t\t\t\t<div class=\"input-group-prepend\">\n\t\t\t\t\t<a href class=\"btn btn-default c-time-period-input-modifier c-time-period-input-modifier--minus-1\"><span class=\"fas fa-minus\"></span></a>\n\t\t\t\t</div>\n\t\t\t\t<input type=\"number\" class=\"form-control c-time-period-input\" min=\"0\" value=\"${this.time}\"\n\t\t\t\t\tdata-validation-engine=\"validate[required,funcCall[Vtiger_Integer_Validator_Js.invokeValidation]]\">\n\t\t\t\t<div class=\"input-group-append\">\n\t\t\t\t\t<a href class=\"btn btn-default c-time-period-input-modifier c-time-period-input-modifier--plus-1\"><span class=\"fas fa-plus\"></span></a>\n\t\t\t\t\t<select class=\"select2 js-time-period-select time-period-${this.container.attr('name')}\">\n\t\t\t\t\t\t<option value=\"d\"${this.period === 'd' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_DAYS_FULL')}</option>\n\t\t\t\t\t\t<option value=\"H\"${this.period === 'H' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_HOURS_FULL')}</option>\n\t\t\t\t\t\t<option value=\"i\"${this.period === 'i' ? ' selected=\"selected\"' : ''}>${app.vtranslate('JS_MINUTES_FULL')}</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\tthis.element = this.container.parent().append(content);\n\t\t\tthis.input = this.element.find('.c-time-period-input').eq(0);\n\t\t\tthis.select = this.element.find('.select2').eq(0);\n\t\t\tthis.plus1btn = this.element.find('.c-time-period-input-modifier--plus-1').eq(0);\n\t\t\tthis.minus1btn = this.element.find('.c-time-period-input-modifier--minus-1').eq(0);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.select, { width: '100px' });\n\t\t\tthis.registerEvents();\n\t\t\treturn this.element;\n\t\t}\n\n\t\t/**\n\t\t * Register events\n\t\t */\n\t\tregisterEvents() {\n\t\t\tthis.input.on('input', this.onChange.bind(this));\n\t\t\tthis.select.on('change', this.onChange.bind(this));\n\t\t\tthis.plus1btn.on('click', this.onPlus1Click.bind(this));\n\t\t\tthis.minus1btn.on('click', this.onMinus1Click.bind(this));\n\t\t}\n\n\t\t/**\n\t\t * On change event\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonChange(event) {\n\t\t\tthis.time = this.input.val();\n\t\t\tthis.period = this.select.val();\n\t\t\tthis.value = this.input.val() + ':' + this.select.val();\n\t\t\tthis.container.val(this.value);\n\t\t}\n\n\t\t/**\n\t\t * Plus 1 button click event handler\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonPlus1Click(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tthis.input.val(Number(this.input.val()) + 1);\n\t\t\tthis.onChange();\n\t\t}\n\n\t\t/**\n\t\t * Minus 1 button click event handler\n\t\t *\n\t\t * @param {Event} event\n\t\t */\n\t\tonMinus1Click(event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t\tif (Number(this.input.val()) > 0) {\n\t\t\t\tthis.input.val(Number(this.input.val()) - 1);\n\t\t\t\tthis.onChange();\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Multi currency\n\t */\n\tMultiCurrency: class MultiCurrency {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-multicurrency-container')) {\n\t\t\t\treturn new MultiCurrency(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multicurrency-container').each((n, e) => {\n\t\t\t\tinstances.push(new MultiCurrency($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-multicurrency-event', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet modal = $('<form>').append(this.container.find('.js-currencies-container .js-currencies-modal').clone());\n\t\t\t\t\tthis.registerEnableCurrencyEvent(modal);\n\t\t\t\t\tthis.registerResetCurrencyEvent(modal);\n\t\t\t\t\tthis.loadData(modal);\n\t\t\t\t\tthis.calculateConversionRate(modal);\n\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\tdata: modal,\n\t\t\t\t\t\tcss: {},\n\t\t\t\t\t\tcb: (data) => {\n\t\t\t\t\t\t\tlet form = data.parent();\n\t\t\t\t\t\t\tform.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t\t\t\tform.on('submit', (e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (form.validationEngine('validate') && this.saveCurrencies(form)) {\n\t\t\t\t\t\t\t\t\tlet id = form.closest('.js-modal-container').attr('id');\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(null, id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tthis.getField().on('focusout', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\telement.formatNumber();\n\t\t\t\tthis.setPrice(element.val());\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Loading data\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tloadData(modalContainer) {\n\t\t\tlet values = JSON.parse(this.getFieldToSave().val());\n\t\t\tlet baseCurrencyId = values['currencyId'] || CONFIG.currencyId;\n\t\t\tif (values['currencies'] === undefined) {\n\t\t\t\tvalues['currencies'] = [];\n\t\t\t\tvalues['currencies'][baseCurrencyId] = { price: 0 };\n\t\t\t}\n\t\t\tfor (let i in values['currencies']) {\n\t\t\t\tlet row = modalContainer.find('[data-currency-id=\"' + i + '\"]');\n\t\t\t\tif (row.length) {\n\t\t\t\t\trow.find('.js-enable-currency').prop('checked', true);\n\t\t\t\t\trow.find('.js-currency-reset,.js-base-currency,[name^=\"currencies[\"]').prop('disabled', false);\n\t\t\t\t\trow.find('.js-converted-price').val(values['currencies'][i]['price']);\n\t\t\t\t\tif (i == baseCurrencyId) {\n\t\t\t\t\t\trow.find('.js-base-currency').prop('checked', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Set value\n\t\t * @param {number} value\n\t\t */\n\t\tsetPrice(value) {\n\t\t\tlet values = JSON.parse(this.getFieldToSave().val());\n\t\t\tlet baseCurrencyId = values['currencyId'] || CONFIG.currencyId;\n\t\t\tvalues['currencies'] = values['currencies'] || {};\n\t\t\tvalues['currencies'][baseCurrencyId] = { price: value };\n\t\t\tvalues['currencyId'] = baseCurrencyId;\n\t\t\tvalues = $.extend({}, values);\n\t\t\tthis.getFieldToSave().val(JSON.stringify($.extend({}, values)));\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-multicurrency-field');\n\t\t}\n\t\t/**\n\t\t * Gets field to save\n\t\t */\n\t\tgetFieldToSave() {\n\t\t\treturn this.container.find('.js-multicurrency-field-to-save');\n\t\t}\n\t\t/**\n\t\t * Save\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tsaveCurrencies(modalContainer) {\n\t\t\tlet enabledBaseCurrency = modalContainer.find('.js-enable-currency').filter(':checked');\n\t\t\tif (enabledBaseCurrency.length < 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_BASE_CURRENCY_FOR_PRODUCT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet selectedBaseCurrency = modalContainer.find('.js-base-currency').filter(':checked');\n\t\t\tif (selectedBaseCurrency.length < 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_ENABLE_BASE_CURRENCY_FOR_PRODUCT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet selectedRow = selectedBaseCurrency.closest('tr');\n\t\t\tlet symbol = selectedRow.data('currency-symbol');\n\t\t\tthis.container.find('.js-currency').text(symbol);\n\t\t\tlet data = {};\n\t\t\tdata['currencies'] = {};\n\t\t\tenabledBaseCurrency.closest('tr').each((n, e) => {\n\t\t\t\tlet row = $(e),\n\t\t\t\t\tcurrencyId = row.data('currencyId');\n\t\t\t\tdata['currencies'][currencyId] = {};\n\t\t\t\tdata['currencies'][currencyId]['price'] = row.find('.js-converted-price').val();\n\t\t\t\tif (row.find('.js-base-currency:checked').length) {\n\t\t\t\t\tdata['currencyId'] = currencyId;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.getFieldToSave().val(JSON.stringify(data));\n\t\t\tthis.getField().val(selectedRow.find('.js-converted-price').val());\n\t\t\tselectedBaseCurrency.prop('checked', false);\n\t\t\treturn true;\n\t\t}\n\t\t/**\n\t\t * Calculate\n\t\t * @param {jQuery} container\n\t\t */\n\t\tcalculateConversionRate(container) {\n\t\t\tlet baseCurrencyConversionRate = container\n\t\t\t\t.find('.js-base-currency')\n\t\t\t\t.filter(':checked')\n\t\t\t\t.closest('tr')\n\t\t\t\t.find('.js-conversion-rate');\n\t\t\tif (baseCurrencyConversionRate.val() == '1') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet baseCurrencyRatePrevValue = baseCurrencyConversionRate.getNumberFromValue();\n\t\t\tcontainer.find('.js-conversion-rate').each(function (key, domElement) {\n\t\t\t\tlet element = $(domElement);\n\t\t\t\tif (!element.is(baseCurrencyConversionRate)) {\n\t\t\t\t\telement.val(\n\t\t\t\t\t\tApp.Fields.Double.formatToDisplay(element.getNumberFromValue() / baseCurrencyRatePrevValue, false)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tbaseCurrencyConversionRate.val('1');\n\t\t}\n\t\t/**\n\t\t * Function to register event for enabling currency on checkbox checked\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterEnableCurrencyEvent(container) {\n\t\t\tcontainer.on('change', '.js-enable-currency', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentRow = element.closest('tr');\n\t\t\t\tif (element.is(':checked')) {\n\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\tlet price = this.getField().getNumberFromValue() * parentRow.find('.js-conversion-rate').getNumberFromValue();\n\t\t\t\t\t$('input', parentRow).removeAttr('disabled');\n\t\t\t\t\tparentRow.find('.js-currency-reset').removeAttr('disabled');\n\t\t\t\t\tparentRow.find('.js-converted-price').val(App.Fields.Double.formatToDisplay(price));\n\t\t\t\t} else {\n\t\t\t\t\tif (parentRow.find('.js-base-currency').is(':checked')) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\t\t'\"' +\n\t\t\t\t\t\t\t\tparentRow.find('.js-currency-name').text() +\n\t\t\t\t\t\t\t\t'\" ' +\n\t\t\t\t\t\t\t\tapp.vtranslate('JS_BASE_CURRENCY_CHANGED_TO_DISABLE_CURRENCY')\n\t\t\t\t\t\t});\n\t\t\t\t\t\telement.prop('checked', true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tparentRow.find('input').attr('disabled', 'disabled');\n\t\t\t\t\tparentRow.find('.js-currency-reset').attr('disabled', 'disabled');\n\t\t\t\t\telement.removeAttr('disabled checked');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Function to register event for reseting the currencies\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterResetCurrencyEvent(container) {\n\t\t\tcontainer.on('click', '.js-currency-reset', (e) => {\n\t\t\t\tlet parentElem = $(e.currentTarget).closest('tr');\n\t\t\t\tlet price = this.getField().getNumberFromValue() * parentElem.find('.js-conversion-rate').getNumberFromValue();\n\t\t\t\t$('.js-converted-price', parentElem).val(App.Fields.Double.formatToDisplay(price));\n\t\t\t});\n\t\t}\n\t},\n\t/**\n\t * Meeting URL\n\t */\n\tMeetingUrl: class MeetingUrl {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-meeting-container')) {\n\t\t\t\treturn new MeetingUrl(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-meeting-container').each((n, e) => {\n\t\t\t\tinstances.push(new MeetingUrl($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tlet addButton = $('.js-meeting-add', this.container);\n\t\t\tif (!addButton.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet valElement = $('.js-meeting-val', this.container);\n\t\t\taddButton.off('click').on('click', (e) => {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(this.getUrl(e))\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tlet result = data.result;\n\t\t\t\t\t\tif (result && result.success && result.url) {\n\t\t\t\t\t\t\tvalElement.attr('readonly', true).val(result.url);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t})\n\t\t\t\t\t.fail((_) => {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t\t$('.js-meeting-clear', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tvalElement.attr('readonly', false).val('');\n\t\t\t\t});\n\t\t\tthis.addEventsForDependentFields();\n\t\t}\n\t\t/**\n\t\t * Gets URL\n\t\t */\n\t\tgetUrl(e) {\n\t\t\tlet url = e.currentTarget.dataset.url;\n\t\t\tlet formData = $(e.currentTarget).closest('form').serializeFormData();\n\t\t\tlet expField = e.currentTarget.dataset.expField;\n\t\t\tif (expField && formData && formData[expField]) {\n\t\t\t\tlet date = formData[expField].split(' ');\n\t\t\t\turl += '&exp=' + encodeURIComponent(date[0]);\n\t\t\t}\n\t\t\tlet roomName = e.currentTarget.dataset.roomName;\n\t\t\tif (roomName && formData && formData[roomName]) {\n\t\t\t\turl += '&roomName=' + encodeURIComponent(formData[roomName]);\n\t\t\t}\n\t\t\treturn url;\n\t\t}\n\t\t/**\n\t\t * Add events for dependent fields\n\t\t */\n\t\taddEventsForDependentFields() {\n\t\t\tlet addButton = $('.js-meeting-add', this.container);\n\t\t\tlet valElement = $('.js-meeting-val', this.container);\n\t\t\tlet data = addButton.data();\n\t\t\tlet formElement = this.container.closest('form');\n\t\t\tfor (let name of ['expField', 'roomName']) {\n\t\t\t\tlet fieldName = data[name];\n\t\t\t\tif (!fieldName) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tformElement.on('change', `[name=${fieldName}]`, (_) => {\n\t\t\t\t\tif (data['domain'] && valElement.val().indexOf(data['domain']) === 0) {\n\t\t\t\t\t\taddButton.trigger('click');\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_MEETING_URL_CHANGED')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Changes Json\n\t */\n\tChangesJson: class ChangesJson {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-changesjson-container')) {\n\t\t\t\treturn new ChangesJson(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-changesjson-container').each((_, e) => {\n\t\t\t\tinstances.push(new ChangesJson($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-changesjson-edit', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tlet field = this.getField();\n\t\t\t\t\tlet value = field.val() ? JSON.parse(field.val()) : { record: 0, module: '', changes: [] };\n\t\t\t\t\tlet relatedField = this.getRelatedField();\n\t\t\t\t\tif (relatedField.length) {\n\t\t\t\t\t\tvalue.record = relatedField.val();\n\t\t\t\t\t\tvalue.module = $('input[name=\"popupReferenceModule\"]', relatedField.closest('.fieldValue')).val();\n\t\t\t\t\t}\n\t\t\t\t\tif (!value.record || value.record == 0) {\n\t\t\t\t\t\tapp.showNotify({ text: app.vtranslate('JS_LACK_INFORMATION_ABOUT_RECORD') });\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: value.module,\n\t\t\t\t\t\trecord: value.record,\n\t\t\t\t\t\tchanges: value.changes,\n\t\t\t\t\t\tsourceModule: field.data('module'),\n\t\t\t\t\t\tsourceField: field.attr('name'),\n\t\t\t\t\t\tview: 'ChangesJsonModal'\n\t\t\t\t\t})\n\t\t\t\t\t\t.done((requestData) => {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\t\t\tdata: requestData,\n\t\t\t\t\t\t\t\tcss: {},\n\t\t\t\t\t\t\t\tcb: (data) => {\n\t\t\t\t\t\t\t\t\tthis.saveData(data, value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((_) => {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Save data to field\n\t\t */\n\t\tsaveData(container, data) {\n\t\t\tlet form = container.find('form');\n\t\t\tcontainer.on('click', '.js-modal__save', (e) => {\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (!form.find('input[id^=\"selectRow\"]:checked').length) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_NONE_FIELD_MARKED_IN_MASS_EDIT'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\t\tif (invalidFields.length !== 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tform.find('[id^=\"selectRow\"]').each(function (_, checkbox) {\n\t\t\t\t\t\tcheckbox = $(checkbox);\n\t\t\t\t\t\tif (!checkbox.prop('checked')) {\n\t\t\t\t\t\t\tcheckbox\n\t\t\t\t\t\t\t\t.closest('.js-form-row-container')\n\t\t\t\t\t\t\t\t.find('.fieldValue [name]')\n\t\t\t\t\t\t\t\t.each(function (_, element) {\n\t\t\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet changeData = form.serializeFormData();\n\t\t\t\t\tdelete changeData['_csrf'];\n\t\t\t\t\tfor (let fieldName in changeData) {\n\t\t\t\t\t\tif (fieldName.substr(-2) === '[]') {\n\t\t\t\t\t\t\tlet fieldNameShort = fieldName.substr(0, fieldName.length - 2);\n\t\t\t\t\t\t\tchangeData[fieldNameShort] = changeData[fieldName];\n\t\t\t\t\t\t\tdelete changeData[fieldName];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata.changes = changeData;\n\t\t\t\t\tthis.getField().val(JSON.stringify(data));\n\t\t\t\t\tapp.hideModalWindow(null, form.closest('.js-modal-container').attr('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-changesjson-value');\n\t\t}\n\t\t/**\n\t\t * Gets related field\n\t\t */\n\t\tgetRelatedField() {\n\t\t\tlet relatedFieldName = this.getField().data('related-field');\n\t\t\treturn this.container.closest('form').find(`[name=${relatedFieldName}]`);\n\t\t}\n\t},\n\t/**\n\t * MultiReference\n\t */\n\tMultiReference: class MultiReference {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.select = container.find('.js-multi-reference');\n\t\t\tthis.form = container.closest('form');\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-multiReference-container')) {\n\t\t\t\treturn new MultiReference(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multiReference-container').each((_, e) => {\n\t\t\t\tinstances.push(new MultiReference($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Set a value for the field\n\t\t *\n\t\t * @param   {jQuery}  field Field element\n\t\t * @param   {mixed}  value The value to set\n\t\t * @param   {object}  params Additional parameters [optional]\n\t\t *\n\t\t * @return  {mixed} The value that has been set\n\t\t */\n\t\tstatic setValue(field, value, params) {\n\t\t\tif (!(params && params['extend'])) {\n\t\t\t\tfield.val(null);\n\t\t\t}\n\t\t\tconst values = field.val();\n\t\t\t$.each(value, (id, label) => {\n\t\t\t\tif (!values.includes(id)) {\n\t\t\t\t\tfield.append(new Option(label, id, true, true));\n\t\t\t\t}\n\t\t\t});\n\t\t\tfield.trigger('change');\n\t\t\treturn field.val();\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\t$('.js-related-popup', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tapp.showRecordsList(this.getParams(), (_modal, instance) => {\n\t\t\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\t\t\tthis.setReferenceFieldValue(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t$('.js-create-reference-record', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.createHandler();\n\t\t\t\t});\n\t\t\tthis.registerAutoComplete();\n\t\t}\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t */\n\t\tregisterAutoComplete() {\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.select, {\n\t\t\t\tajax: {\n\t\t\t\t\tdata: function (item) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tsearch_value: item.term ?? '',\n\t\t\t\t\t\t\tpage: item.page\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t\tprocessResults: (data, params) => {\n\t\t\t\t\t\tlet items = new Array();\n\t\t\t\t\t\tif (!params.term) {\n\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\ttype: 'optgroup',\n\t\t\t\t\t\t\t\tname: this.select.attr('placeholder')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (data.success) {\n\t\t\t\t\t\t\t$.each(data.result, (_, item) => {\n\t\t\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\t\t\tname: item.label,\n\t\t\t\t\t\t\t\t\tid: item.id\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tresults: items,\n\t\t\t\t\t\t\tpagination: {\n\t\t\t\t\t\t\t\tmore: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Set reference field value\n\t\t */\n\t\tcreateHandler() {\n\t\t\tlet formData = this.form.serializeFormData();\n\t\t\tdelete formData['action'];\n\t\t\tApp.Components.QuickCreate.createRecord($('.js-popup-reference-module', this.container).val(), {\n\t\t\t\tdata: {\n\t\t\t\t\tsourceRecordData: formData\n\t\t\t\t},\n\t\t\t\tcallbackFunction: (data) => {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tthis.select.append(new Option(data.result._recordLabel, data.result._recordId, true, true));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Set reference field value\n\t\t * @param {object} data\n\t\t */\n\t\tsetReferenceFieldValue(data) {\n\t\t\tconst values = this.select.val();\n\t\t\t$.each(data, (id, label) => {\n\t\t\t\tif (!values.includes(id)) {\n\t\t\t\t\tthis.select.append(new Option(label, id, true, true));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Gets params\n\t\t * @returns {Object}\n\t\t */\n\t\tgetParams() {\n\t\t\tconst referenceModule = $('.js-popup-reference-module', this.container).val(),\n\t\t\t\tsourceFieldName = this.select.attr('name').slice(0, -2),\n\t\t\t\tsourceRecordElement = $('input[name=\"record\"]', this.form),\n\t\t\t\tlistFilterFieldsJson = this.form.find('input[name=\"listFilterFields\"]').val(),\n\t\t\t\tlistFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\t\t\tlet filterFields = {};\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceFieldName] != undefined &&\n\t\t\t\tlistFilterFields[sourceFieldName][referenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceFieldName][referenceModule], (index) => {\n\t\t\t\t\tlet mapFieldElement = this.form.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tmodule: referenceModule,\n\t\t\t\tsrc_module: $('input[name=\"module\"]', this.form).val(),\n\t\t\t\tsrc_field: sourceFieldName,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t}\n\t},\n\t/**\n\t * Password\n\t */\n\tPassword: class Password {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-pwd-container')) {\n\t\t\t\treturn new Password(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-pwd-container').each((_, e) => {\n\t\t\t\tinstances.push(new Password($(e)));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Get strength meter\n\t\t * @returns {Object}\n\t\t */\n\t\tstatic getStrengthLevels() {\n\t\t\tif (!this.strengthLevels) {\n\t\t\t\tthis.strengthLevels = {\n\t\t\t\t\t0: app.vtranslate('JS_PWD_RIDICULOUS'),\n\t\t\t\t\t1: app.vtranslate('JS_PWD_VERY_WEAK'),\n\t\t\t\t\t2: app.vtranslate('JS_PWD_WEAK'),\n\t\t\t\t\t3: app.vtranslate('JS_PWD_MEDIUM'),\n\t\t\t\t\t4: app.vtranslate('JS_PWD_STRONG'),\n\t\t\t\t\t5: app.vtranslate('JS_PWD_VERY_STRONG')\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn { ...this.strengthLevels };\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tconst field = this.getField();\n\t\t\t$('.js-pwd-auto-generate', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tthis.getResponse($(e.currentTarget).data('url')).then((response) => {\n\t\t\t\t\t\tif (response.success && response.result && response.result.pwd) {\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\tfield.val(response.result.pwd).trigger('keyup').focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t$('.js-pwd-validate', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tthis.getResponse($(e.currentTarget).data('url') + '&password=' + field.val()).then((response) => {\n\t\t\t\t\t\tif (response.success && response.result) {\n\t\t\t\t\t\t\tlet message = response.result.message;\n\t\t\t\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t\t\t\tmessage = message.join('<br>');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfield.validationEngine('showPrompt', message, response.result.type, 'topLeft', true);\n\t\t\t\t\t\t\tfield.validationEngine('updatePromptsPosition');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t$('.js-pwd-clear', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.clear();\n\t\t\t\t});\n\t\t\t$('.js-pwd-copy', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tif (this.container.find('.js-pwd-show').attr('disabled') === 'disabled') {\n\t\t\t\t\t\tthis.getPassword().then((response) => {\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t\tfield.val(response.result.text);\n\t\t\t\t\t\t\tClipboardJS.copy(response.result.text);\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tClipboardJS.copy(this.getField().val());\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t$('.js-pwd-get', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.getPassword().then((response) => {\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\tfield.val(response.result.text);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tif (field.data('strengthMeter')) {\n\t\t\t\tfield.off('keyup').on('keyup', (e) => {\n\t\t\t\t\tlet score = this.strengthMeter(e.target.value || '');\n\t\t\t\t\tfield\n\t\t\t\t\t\t.attr('data-original-title', App.Fields.Password.getStrengthLevels()[score])\n\t\t\t\t\t\t.tooltip('show')\n\t\t\t\t\t\t.validationEngine('hide');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Get decoded password\n\t\t * @returns {Promise}\n\t\t */\n\t\tgetPassword() {\n\t\t\tconst field = this.getField();\n\t\t\treturn this.getResponse({\n\t\t\t\tmodule: field.data('module'),\n\t\t\t\tfield: field.attr('name'),\n\t\t\t\trecord: $('input[name=\"record\"]', this.container.closest('form')).val() || app.getRecordId(),\n\t\t\t\taction: 'Password',\n\t\t\t\tmode: 'getPwd'\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Clear data\n\t\t */\n\t\tclear() {\n\t\t\tthis.getField().val('').attr('disabled', false).tooltip('dispose').validationEngine('hide');\n\t\t\tthis.container.find('.js-pwd-validate, .js-pwd-show').attr('disabled', false);\n\t\t}\n\t\t/**\n\t\t * Get response\n\t\t * @param {Object|string} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tgetResponse(params) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tlet progressIndicatorElement = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\taDeferred.resolve(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taDeferred.reject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail((_) => {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(_);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\t/**\n\t\t * Get strength meter score\n\t\t * @param {string} pwd\n\t\t * @returns {int}\n\t\t */\n\t\tstrengthMeter(pwd) {\n\t\t\tlet score = 0;\n\t\t\tif (pwd.length > 6) score++;\n\t\t\tif (pwd.match(/[a-z]/) && pwd.match(/[A-Z]/)) score++;\n\t\t\tif (pwd.match(/\\d+/)) score++;\n\t\t\tif (pwd.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/)) score++;\n\t\t\tif (pwd.length > 12) score++;\n\n\t\t\treturn score;\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-pwd-field');\n\t\t}\n\t},\n\t/**\n\t * Multi Attachment\n\t */\n\tMultiAttachment: class MultiAttachment {\n\t\t/**\n\t\t * Constructor\n\t\t * @param {jQuery} container\n\t\t * @param {Object} options\n\t\t */\n\t\tconstructor(container, options) {\n\t\t\tthis.container = container;\n\t\t\tthis.fileInput = container.find('.js-multi-attachment__file').eq(0);\n\t\t\tthis.dataInput = container.find('.js-multi-attachment__values');\n\t\t\tthis.form = container.closest('form');\n\n\t\t\tthis.progressBar = container.find('.js-multi-attachment__progress-bar');\n\t\t\tthis.progress = container.find('.js-multi-attachment__progress');\n\t\t\tthis.result = container.find('.js-multi-attachment__result');\n\t\t\tthis.files = this.dataInput.is('input') ? JSON.parse(this.dataInput.val()) : this.dataInput.data('value');\n\n\t\t\tlet fieldInfo = this.dataInput.data('fieldinfo') || {};\n\t\t\tthis.options = {\n\t\t\t\tformats: fieldInfo.formats || [],\n\t\t\t\tlimit: fieldInfo.limit || 1,\n\t\t\t\tmaxFileSize: fieldInfo.maxFileSize,\n\t\t\t\tmaxFileSizeDisplay: fieldInfo.maxFileSizeDisplay || '',\n\t\t\t\t...options\n\t\t\t};\n\t\t\tif (this.form.length && this.fileInput.length) {\n\t\t\t\tthis.initEditView();\n\t\t\t} else {\n\t\t\t\tthis.initDetailView();\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t * @param {Object} options\n\t\t */\n\t\tstatic register(container, options = {}) {\n\t\t\tif (container.hasClass('js-multi-attachment')) {\n\t\t\t\treturn new MultiAttachment(container, options);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-multi-attachment').each((_, e) => {\n\t\t\t\tinstances.push(new MultiAttachment($(e), options));\n\t\t\t});\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation for detail view\n\t\t */\n\t\tinitDetailView() {\n\t\t\tthis.files.forEach((fileInfo) => {\n\t\t\t\tthis.createItem(fileInfo);\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Initiation for edit view\n\t\t */\n\t\tinitEditView() {\n\t\t\tthis.fileInput.detach();\n\t\t\tthis.container.on('mouseup', this.openBrowser.bind(this));\n\t\t\tthis.fileInput.fileupload({\n\t\t\t\tdataType: 'json',\n\t\t\t\treplaceFileInput: false,\n\t\t\t\tfileInput: this.fileInput,\n\t\t\t\tautoUpload: false,\n\t\t\t\tsubmit: this.submit.bind(this),\n\t\t\t\tadd: this.add.bind(this),\n\t\t\t\tprogressall: this.progressAll.bind(this),\n\t\t\t\tchange: this.change.bind(this),\n\t\t\t\tdrop: this.change.bind(this),\n\t\t\t\tdragover: this.dragOver.bind(this),\n\t\t\t\tfail: this.uploadError.bind(this),\n\t\t\t\tdone: this.uploadSuccess.bind(this)\n\t\t\t});\n\t\t\tthis.container.on('dragleave', this.dragLeave.bind(this));\n\t\t\tthis.container.on('dragend', this.dragLeave.bind(this));\n\t\t\tthis.fileInput.fileupload('option', 'dropZone', this.container);\n\t\t\tthis.enableDragNDrop();\n\t\t\tthis.form.on('submit', this.onFormSubmit.bind(this));\n\t\t\tthis.deleteButtonActive = true;\n\t\t\tthis.container.on('click', '.js-multi-attachment__file-buttons-delete', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.deleteFile(e.currentTarget.dataset.key);\n\t\t\t});\n\t\t\tthis.files.forEach((fileInfo) => {\n\t\t\t\tthis.createItem(fileInfo);\n\t\t\t});\n\t\t\tthis.filesActive = 0;\n\t\t}\n\t\t/**\n\t\t * Add event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tadd(e, data) {\n\t\t\tif (data.files.length > 0) {\n\t\t\t\tdata.submit();\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Submit event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tsubmit(e, data) {\n\t\t\tthis.filesActive++;\n\t\t\tthis.progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'replace',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: this.container\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Prevent form submission before file upload end\n\t\t * @param e\n\t\t */\n\t\tonFormSubmit(e) {\n\t\t\tif (this.filesActive) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tapp.showAlert(app.vtranslate('JS_WAIT_FOR_FILE_UPLOAD'));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\t/**\n\t\t * Progressall event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tprogressAll(e, data) {\n\t\t\tconst progress = parseInt((data.loaded / data.total) * 100, 10);\n\t\t\tthis.progressBar.css({ width: progress + '%' });\n\t\t\tif (progress === 100) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.progress.addClass('d-none');\n\t\t\t\t\tthis.progressBar.css({ width: '0%' });\n\t\t\t\t}, 1000);\n\t\t\t} else {\n\t\t\t\tthis.progress.removeClass('d-none');\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * File change event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {object} data\n\t\t */\n\t\tchange(e, data) {\n\t\t\tlet { valid, error } = this.filterFiles(data.files);\n\t\t\tdata.files = valid;\n\t\t\tif (!valid.length) {\n\t\t\t\tthis.fileInput.val('');\n\t\t\t}\n\t\t\tif (error.length) {\n\t\t\t\tthis.showErrors(error);\n\t\t\t}\n\t\t\tthis.dragLeave(e);\n\t\t}\n\t\t/**\n\t\t * Get only valid files from list\n\t\t *\n\t\t * @param {Array} files\n\t\t * @returns {Object}\n\t\t */\n\t\tfilterFiles(files) {\n\t\t\tlet valid = [],\n\t\t\t\terror = [];\n\t\t\tif (files.length + this.files.length > this.options.limit) {\n\t\t\t\terror.push({ error: { text: `${app.vtranslate('JS_FILE_LIMIT')} [${this.options.limit}]` } });\n\t\t\t} else {\n\t\t\t\tfor (let file of files) {\n\t\t\t\t\tthis.validateFileType(file) && this.validateFileSize(file) ? valid.push(file) : error.push(file);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn { valid, error };\n\t\t}\n\t\t/**\n\t\t * Validate maximum file size\n\t\t * @param {Object} file\n\t\t * @returns {Boolean}\n\t\t */\n\t\tvalidateFileSize(file) {\n\t\t\tlet result = typeof file.size === 'number' && file.size < this.options.maxFileSize;\n\t\t\tif (!result) {\n\t\t\t\tfile.error = {\n\t\t\t\t\ttitle: `${app.vtranslate('JS_UPLOADED_FILE_SIZE_EXCEEDS')} <br> [${this.options.maxFileSizeDisplay}]`,\n\t\t\t\t\ttext: file.name\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t/**\n\t\t * Validate file\n\t\t *\n\t\t * @param {Object} file\n\t\t * @returns {boolean}\n\t\t */\n\t\tvalidateFileType(file) {\n\t\t\tlet result =\n\t\t\t\t!this.options.formats.length ||\n\t\t\t\tthis.options.formats.filter((format) => {\n\t\t\t\t\treturn file.type === format || (format.slice(-2) === '/*' && file.type.indexOf(format.slice(0, -1)) === 0);\n\t\t\t\t}).length > 0;\n\t\t\tif (!result) {\n\t\t\t\tfile.error = { title: app.vtranslate('JS_INVALID_FILE_TYPE'), text: file.name };\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\t/**\n\t\t * Show errors\n\t\t */\n\t\tshowErrors(errors = []) {\n\t\t\tfor (let info of errors) {\n\t\t\t\tthis.showError(info.error);\n\t\t\t}\n\t\t}\n\t\t/**\n\t\t * Show error\n\t\t */\n\t\tshowError(error) {\n\t\t\tif (typeof error.type === 'undefined') {\n\t\t\t\terror.type = 'error';\n\t\t\t}\n\t\t\terror.textTrusted = false;\n\t\t\tapp.showNotify(error);\n\t\t}\n\t\t/**\n\t\t * Dragover event handler from jQuery-file-upload\n\t\t *\n\t\t * @param {Event} e\n\t\t */\n\t\tdragOver(_e) {\n\t\t\tthis.container.addClass('c-multi-image__drop-effect');\n\t\t}\n\t\t/**\n\t\t * Dragleave event handler\n\t\t * @param {Event} e\n\t\t */\n\t\tdragLeave(_e) {\n\t\t\tthis.container.removeClass('c-multi-image__drop-effect');\n\t\t}\n\t\t/**\n\t\t * Error event handler from file upload request\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tuploadError(_e, data) {\n\t\t\tthis.progressInstance.progressIndicator({ mode: 'hide' });\n\t\t\tthis.filesActive--;\n\t\t\tapp.errorLog('File upload error.');\n\t\t\tconst { jqXHR, files } = data;\n\t\t\tif (typeof jqXHR.responseJSON === 'undefined' || jqXHR.responseJSON === null) {\n\t\t\t\treturn this.showError({\n\t\t\t\t\ttitle: app.vtranslate('JS_FILE_UPLOAD_ERROR'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t\tfiles.forEach((file) => {\n\t\t\t\tthis.showError({\n\t\t\t\t\ttitle: app.vtranslate('JS_FILE_UPLOAD_ERROR'),\n\t\t\t\t\ttext: file.name,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.updateFormValues();\n\t\t}\n\t\t/**\n\t\t * Success event handler from file upload request\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} data\n\t\t */\n\t\tuploadSuccess(e, data) {\n\t\t\tthis.progressInstance.progressIndicator({ mode: 'hide' });\n\t\t\tconst { result } = data;\n\t\t\tconst attach = result.result.attach;\n\t\t\tattach.forEach((fileAttach) => {\n\t\t\t\tthis.filesActive--;\n\t\t\t\tif (typeof fileAttach.key === 'undefined') {\n\t\t\t\t\treturn this.uploadError(e, data);\n\t\t\t\t}\n\t\t\t\tif (typeof fileAttach.info !== 'undefined' && fileAttach.info) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'notice',\n\t\t\t\t\t\ttext: fileAttach.info\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.files.push(fileAttach);\n\t\t\t\tconst fileInfo = this.getFileInfo(fileAttach.key);\n\t\t\t\tthis.createItem(fileInfo);\n\t\t\t});\n\t\t\tthis.updateFormValues();\n\t\t}\n\t\t/**\n\t\t * Get file information\n\t\t *\n\t\t * @param {String} key - file id\n\t\t * @returns {Object}\n\t\t */\n\t\tgetFileInfo(key) {\n\t\t\tfor (let i = 0, len = this.files.length; i < len; i++) {\n\t\t\t\tconst file = this.files[i];\n\t\t\t\tif (file.key === key) {\n\t\t\t\t\treturn file;\n\t\t\t\t}\n\t\t\t}\n\t\t\tapp.errorLog(`File '${key}' not found.`);\n\t\t\tapp.showNotify({\n\t\t\t\ttext: app.vtranslate('JS_INVALID_FILE_HASH'),\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Generate preview of image as html string from existing values\n\t\t * @param {Object} file\n\t\t */\n\t\tcreateItem(file) {\n\t\t\tconst item = document.createElement('fieldset');\n\t\t\titem.setAttribute('class', 'c-multi-attachment--file bg-light js-handle');\n\t\t\titem.setAttribute('data-key', file.key);\n\n\t\t\tconst legend = document.createElement('legend');\n\t\t\tlegend.appendChild(document.createTextNode(file.name));\n\t\t\titem.appendChild(legend);\n\n\t\t\tconst icon = document.createElement('div');\n\t\t\ticon.setAttribute('class', 'c-multi-attachment--file-icon');\n\t\t\tconst span = document.createElement('span');\n\t\t\tspan.setAttribute('class', file.icon);\n\t\t\ticon.appendChild(span);\n\t\t\titem.appendChild(icon);\n\n\t\t\tconst fileInfo = document.createElement('div');\n\t\t\tfileInfo.setAttribute('class', 'c-multi-attachment--file-info');\n\t\t\tconst name = document.createElement('span');\n\t\t\tname.setAttribute('class', 'c-multi-attachment--file-info-main');\n\t\t\tname.setAttribute('aria-hidden', true);\n\t\t\tname.appendChild(document.createTextNode(file.name));\n\t\t\tfileInfo.appendChild(name);\n\t\t\tconst size = document.createElement('span');\n\t\t\tsize.setAttribute('class', 'c-multi-attachment--file-info-sub');\n\t\t\tsize.appendChild(document.createTextNode(file.sizeDisplay));\n\t\t\tfileInfo.appendChild(size);\n\t\t\titem.appendChild(fileInfo);\n\n\t\t\tconst buttons = document.createElement('div');\n\t\t\tbuttons.setAttribute('class', 'js-multi-attachment__file-buttons');\n\n\t\t\tif (file.url) {\n\t\t\t\tconst downloadBtn = document.createElement('a');\n\t\t\t\tdownloadBtn.setAttribute('class', 'btn btn-sm btn-outline-success js-multi-attachment__file-buttons-download');\n\t\t\t\tdownloadBtn.setAttribute('href', file.url);\n\t\t\t\tdownloadBtn.setAttribute('download', file.name);\n\t\t\t\tdownloadBtn.setAttribute('title', $('<textarea />').html(app.vtranslate('JS_DOWNLOAD')).text());\n\t\t\t\tconst downloadBtnIcon = document.createElement('span');\n\t\t\t\tdownloadBtnIcon.setAttribute('class', 'fa fa-download');\n\t\t\t\tdownloadBtn.appendChild(downloadBtnIcon);\n\t\t\t\tbuttons.appendChild(downloadBtn);\n\t\t\t}\n\t\t\tif (this.deleteButtonActive && !file.lock) {\n\t\t\t\tconst deleteBtn = document.createElement('button');\n\t\t\t\tdeleteBtn.setAttribute('class', 'btn btn-sm btn-outline-danger js-multi-attachment__file-buttons-delete ml-1');\n\t\t\t\tdeleteBtn.setAttribute('data-key', file.key);\n\t\t\t\tdeleteBtn.setAttribute('title', $('<textarea />').html(app.vtranslate('JS_DELETE')).text());\n\t\t\t\tconst deleteBtnIcon = document.createElement('span');\n\t\t\t\tdeleteBtnIcon.setAttribute('class', 'fa fa-trash-alt');\n\t\t\t\tdeleteBtn.appendChild(deleteBtnIcon);\n\t\t\t\tbuttons.appendChild(deleteBtn);\n\t\t\t}\n\n\t\t\titem.appendChild(buttons);\n\t\t\tthis.result.append(item);\n\t\t}\n\t\t/**\n\t\t * Enable drag and drop files repositioning\n\t\t */\n\t\tenableDragNDrop() {\n\t\t\tthis.result\n\t\t\t\t.sortable({\n\t\t\t\t\tcontainment: this.container,\n\t\t\t\t\titems: '.js-handle',\n\t\t\t\t\tstop: this.sortStop.bind(this)\n\t\t\t\t})\n\t\t\t\t.disableSelection();\n\t\t}\n\t\t/**\n\t\t * Prevent form submission\n\t\t *\n\t\t * @param {Event} e\n\t\t */\n\t\topenBrowser(e) {\n\t\t\tif (!e.target.closest('fieldset')) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.fileInput.trigger('click');\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Update file position according to elements order\n\t\t *\n\t\t * @param {Event} e\n\t\t * @param {Object} ui\n\t\t */\n\t\tsortStop(e, ui) {\n\t\t\tconst actualElements = this.result.find('fieldset').toArray();\n\t\t\tthis.files = actualElements.map((element) => {\n\t\t\t\tfor (let i = 0, len = this.files.length; i < len; i++) {\n\t\t\t\t\tconst elementHash = $(element).data('key');\n\t\t\t\t\tif (this.files[i].key === elementHash) {\n\t\t\t\t\t\treturn this.files[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.updateFormValues();\n\t\t}\n\t\t/**\n\t\t * Remove file from preview and from file list\n\t\t *\n\t\t * @param {String} key\n\t\t */\n\t\tdeleteFile(key) {\n\t\t\tconst fileInfo = this.getFileInfo(key);\n\t\t\tthis.result.find(`[data-key=\"${fileInfo.key}\"]`).remove();\n\t\t\tthis.files = this.files.filter((file) => file.key !== fileInfo.key);\n\t\t\tthis.updateFormValues();\n\t\t}\n\n\t\t/**\n\t\t * Update form input values\n\t\t */\n\t\tupdateFormValues() {\n\t\t\tthis.fileInput.val('');\n\t\t\tconst formValues = this.files.map((file) => {\n\t\t\t\treturn { key: file.key, name: file.name, size: file.size, type: file.type };\n\t\t\t});\n\t\t\tthis.dataInput.val(JSON.stringify(formValues));\n\t\t}\n\t},\n\t/**\n\t * Icon\n\t */\n\tIcon: class Icon {\n\t\tconstructor(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.init();\n\t\t}\n\t\t/**\n\t\t * Register function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tstatic register(container) {\n\t\t\tif (container.hasClass('js-icon-container')) {\n\t\t\t\treturn new Icon(container);\n\t\t\t}\n\t\t\tconst instances = [];\n\t\t\tcontainer.find('.js-icon-container').each((_, e) => {\n\t\t\t\tinstances.push(new Icon($(e)));\n\t\t\t});\n\n\t\t\treturn instances;\n\t\t}\n\t\t/**\n\t\t * Initiation\n\t\t */\n\t\tinit() {\n\t\t\tthis.iconElement = $('.js-icon-show', this.container);\n\t\t\t$('.js-clear-selection', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.clear();\n\t\t\t\t});\n\t\t\t$('.js-icon-select', this.container)\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tApp.Components.Icons.modalView().done((data) => {\n\t\t\t\t\t\tif (data.type === 'icon') {\n\t\t\t\t\t\t\tconst span = document.createElement('span');\n\t\t\t\t\t\t\tspan.setAttribute('class', data.name);\n\t\t\t\t\t\t\tthis.iconElement.html('').append(span);\n\t\t\t\t\t\t} else if (data.type === 'image') {\n\t\t\t\t\t\t\tconst image = document.createElement('img');\n\t\t\t\t\t\t\timage.setAttribute('class', 'icon-img--picklist');\n\t\t\t\t\t\t\timage.setAttribute('src', data.src);\n\t\t\t\t\t\t\tthis.iconElement.html('').append(image);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setValue(data);\n\t\t\t\t\t\tthis.setDisplayValue(data.name);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t\t/**\n\t\t * Clear selection\n\t\t */\n\t\tclear() {\n\t\t\tlet element = this.getField();\n\t\t\tlet fieldName = element.attr('name');\n\t\t\telement.val('');\n\t\t\tthis.container.find(`#${fieldName}_display`).val('');\n\t\t\tthis.iconElement.html('');\n\t\t}\n\t\t/**\n\t\t * Set icon name\n\t\t * @param {string} data\n\t\t */\n\t\tsetDisplayValue(name) {\n\t\t\tlet fieldName = this.getField().attr('name');\n\t\t\tthis.container.find(`#${fieldName}_display`).val(name).attr('readonly', true);\n\t\t}\n\t\t/**\n\t\t * Set value\n\t\t * @param {Object} data\n\t\t */\n\t\tsetValue(data) {\n\t\t\tlet { type, name } = data;\n\t\t\tif (data.key) {\n\t\t\t\tname = data.key;\n\t\t\t}\n\t\t\tthis.getField().val(JSON.stringify({ type: type, name: name }));\n\t\t}\n\t\t/**\n\t\t * Gets field\n\t\t */\n\t\tgetField() {\n\t\t\treturn this.container.find('.js-source-field');\n\t\t}\n\t},\n\tUtils: {\n\t\tregisterMobileDateRangePicker(element) {\n\t\t\tthis.hideMobileKeyboard(element);\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\telement\n\t\t\t\t\t.on('showCalendar.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.addClass('js-visible');\n\t\t\t\t\t})\n\t\t\t\t\t.on('hide.daterangepicker', (ev, picker) => {\n\t\t\t\t\t\tpicker.container.removeClass('js-visible');\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\thideMobileKeyboard(element) {\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\telement.attr('readonly', 'true').addClass('bg-white');\n\t\t\t}\n\t\t},\n\t\tpositionPicker(ev, picker) {\n\t\t\tlet offset = picker.element.offset();\n\t\t\tlet $window = $(window);\n\t\t\tif (offset.left - $window.scrollLeft() + picker.container.outerWidth() > $window.width()) {\n\t\t\t\tpicker.opens = 'left';\n\t\t\t} else {\n\t\t\t\tpicker.opens = 'right';\n\t\t\t}\n\t\t\tpicker.move();\n\t\t\tif (offset.top - $window.scrollTop() + picker.container.outerHeight() > $window.height()) {\n\t\t\t\tpicker.drops = 'up';\n\t\t\t} else {\n\t\t\t\tpicker.drops = 'down';\n\t\t\t}\n\t\t\tpicker.move();\n\t\t},\n\t\t/**\n\t\t * Set a value for the field\n\t\t *\n\t\t * @param   {jQuery}  field Field element\n\t\t * @param   {mixed}  value The value to set\n\t\t * @param   {object}  params Additional parameters [optional]\n\t\t * @param   {boolean}  animation\n\t\t */\n\t\tsetValue(field, value, params, animation = true) {\n\t\t\tconst fieldInfo = field.data('fieldinfo');\n\t\t\tswitch (fieldInfo['type']) {\n\t\t\t\tcase 'picklist':\n\t\t\t\tcase 'languages':\n\t\t\t\tcase 'country':\n\t\t\t\tcase 'currencyList':\n\t\t\t\tcase 'modules':\n\t\t\t\t\tApp.Fields.Picklist.setValue(field, value, params);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'multiReference':\n\t\t\t\t\tApp.Fields.MultiReference.setValue(field, value, params);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tfield.val(value);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (animation) {\n\t\t\t\tconst fieldValue = field.closest('.fieldValue');\n\t\t\t\tfieldValue.addClass('border border-info');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tfieldValue.removeClass('border border-info');\n\t\t\t\t}, 5000);\n\t\t\t}\n\t\t}\n\t}\n};\n"],"names":["window","App","Fields","Date","months","monthsTranslated","map","monthName","app","vtranslate","fullMonths","fullMonthsTranslated","days","daysTranslated","fullDays","fullDaysTranslated","register","parentElement","registerForAddon","customParams","className","$","elements","hasClass","length","parentDateElem","closest","on","e","currentTarget","find","get","focus","format","CONFIG","dateFormat","elementDateFormat","data","fn","datepicker","dates","langKey","daysShort","daysMin","monthsShort","today","clear","titleFormat","weekStart","firstDayOfWeekNo","params","todayBtn","clearBtn","language","autoclose","todayHighlight","extend","each","_index","element","Object","assign","enableOnReadonly","hasAttribute","Utils","hideMobileKeyboard","registerRange","toUpperCase","ranges","moment","add","subtract","startOf","endOf","locale","DateTime","getDefaultLocale","autoUpdateInput","autoApply","off","parent","next","el","currentParams","daterangepicker","_ev","picker","val","startDate","endDate","trigger","ev","positionPicker","container","addClass","removeClass","registerMobileDateRangePicker","getDateInstance","dateTime","dateTimeComponents","split","dateComponent","timeComponent","seconds","dotMode","indexOf","splittedDate","splittedDateFormat","year","month","day","dateInstance","parse","isNaN","timeSections","toLowerCase","parseInt","dateToDbFormat","date","d","getDate","m","getMonth","y","getFullYear","dateToUserFormat","replace","getLastMonthDay","howManyDaysFromDate","toTime","getTime","Math","floor","convertToDatePickerFormat","init","hourFormat","elementHourFormat","timePicker24Hour","timeFormat","isDateRangePicker","parentEl","singleDatePicker","showDropdowns","timePicker","timePickerIncrement","opens","prop","instances","_","push","separator","applyLabel","cancelLabel","fromLabel","toLabel","customRangeLabel","weekLabel","substr","firstDay","daysOfWeek","monthNames","Time","Colors","getColorContrast","hexcolor","r","g","b","getRandomColor","letters","color","i","random","getRandomColors","count","colors","showPicker","fieldToUpdate","bgToUpdate","cb","url","showModalWindow","registerPickerEvents","modalContainer","ColorPicker","mount","currentColor","newColor","getColor","hex","css","hideModalWindow","id","bind","Text","registerCopyClipboard","key","querySelectorAll","ClipboardJS","text","showNotify","type","is","Editor","initialization","CKEDITOR","disableAutoInline","plugins","addExternal","getMainParams","config","toolbar","height","isModal","self","progressInstance","progressIndicator","blockInfo","enabled","onBlock","loadEditor","destroyEditor","getElement","attr","getElementId","customConfig","setElement","instance","getEditorInstanceFromName","allowedContent","disableNativeSpellChecker","extraAllowedContent","format_tags","removeButtons","enterMode","ENTER_BR","shiftEnterMode","ENTER_P","emojiEnabled","mentionsEnabled","clipboard_handleImages","instanceReady","evt","editor","updateElement","mode","beforeCommandExec","validate","removePlugins","extraPlugins","toolbar_Full","name","items","toolbar_Min","toolbar_Micro","toolbar_Clipboard","toolbar_PDF","emojiToolbar","Array","isArray","outputTemplate","mentions","registerMentions","remove","ckeditor","minSerchTextLength","feed","getMentionUsersData","itemTemplate","minChars","getMentionData","marker","pattern","opts","callback","status","module","action","purifyMode","value","fieldName","fieldValue","AppConnector","request","async","done","result","raw","fail","Completions","inputDiv","eq","completionsCollection","records","users","emojis","autolink","collection","registerMentionCollection","registerEmojiCollection","symbol","searchModule","selectTemplate","item","range","isContentEditable","current","original","label","trim","values","globalSearchAutocompleteMinLength","menuItemTemplate","mentionTemplate","category","image","icon","lookup","fillAttr","emoji","avatar","offset","charCode","fillChar","sel","getSelection","getRangeAt","cloneRange","getParentByTagName","node","tags","isBody","tagName","parentNode","nodeType","html","str","isFillChar","nodeValue","start","startContainer","startOffset","childNodes","setStart","collapse","previousSibling","lastChild","toString","charCodeAt","RegExp","match","test","startCont","nextSibling","a","A","href","hrefFull","URL","allowedHosts","purifierAllowedDomains","host","document","createElement","createTextNode","appendChild","extractContents","innerHTML","setAttribute","insertNode","insertBefore","removeAllRanges","addRange","Tribute","allowSpaces","attach","completionsTextarea","registerCompletionsTextArea","completionsButtons","registerCompletionsButtons","registerAutoLinker","fetch","siteUrl","then","response","json","catch","error","console","registerTagClick","keyCode","autoLink","textarea","siblings","preventDefault","append","target","clone","completionsContainer","parents","showMenuForCollection","basicSearch","Vtiger_BasicSearch_Js","reduceNumberResults","returnHtml","query","search","JSON","serverDataFormat","reponseDataList","responseData","destroy","generateRandomChar","rand","substring","generateRandomHash","prefix","hash","valueOf","Picklist","changeSelectElementView","view","viewParams","select2Elements","toArray","forEach","elem","showSelect2ElementView","errorLog","Error","selectElement","registerParams","selectLazy","showLazySelect","lazyElements","registerLazySelectOptions","selectParams","computeDropdownHeight","dropdownContainer","setTimeout","dropdownList","selectOffsetTop","top","select","htmlBoolParams","tokenSeparators","select2","removeData","$dropdown","dropdown","$search","selectCb","dropdownParent","modalParent","theme","width","containerCssClass","noResults","removeAllItems","optgroup","options","children","sort","aText","bText","v","prepend","maximumSelectionLength","formatSelectionTooBig","formatSelectionExceeds","limit","maximum","maximumSelected","placeholder","templateResult","actualElement","escapeMarkup","markup","templateSelection","registerAjaxParams","searching","inputTooShort","args","remainingChars","minimum","input","errorLoading","ajax","dataType","delay","method","log","term","page","processResults","success","concat","results","pagination","more","cache","minimumInputLength","prependDataTemplate","optionData","template","dataset","state","iconInactive","iconActive","registerSelectSortable","sortSelectOptions","registerSortEvent","sortableCb","appendTo","ul","first","sortable","tolerance","stop","reverse","optionTitle","registerIconsEvents","event","originalEvent","currentElementData","optionElement","progressIndicatorElement","toggleClass","message","amd","require","ArrayData","CustomData","$element","__super__","constructor","call","Extend","prototype","filter","slice","dataAdapter","selectedOption","picklistvalues","hasOwnProperty","createSelectedOption","selected","disabled","setValue","field","option","findOption","searchValue","foundOption","selectValues","getSelectOptions","getFieldValueFromText","keys","valueExists","createOption","optionsObject","newOption","Option","MultiImage","currentFileUploads","MultiEmail","$container","idx","multiEmailField","$multiEmailField","parseToJSON","toggleConsent","addItem","removeItem","$item","email","consent","o","stringify","$newItem","hide","show","$deleteBtn","$consentBox","toggle","MultiDependField","index","inputElement","fields","addRow","registerRow","parseToJson","removeRow","arr","allFields","arrayLength","partData","skip","k","newField","lastField","last","selectFields","removeAttr","insertAfter","DependentSelect","generateOptionsFromData","masterSelect","slaveSelect","child","localeCompare","Gantt","GanttField","Integer","formatToDisplay","groupSeparator","currencyGroupingSeparator","groupingPattern","currencyGroupingPattern","parseFloat","toFixed","integer","Double","fixed","numberOfDecimal","noOfCurrencyDecimals","strDecimal","numberOfZerosAtTheEnd","base","round","sign","splittedFloat","decimal","truncateTrailingZeros","currencyDecimalSeparator","formatToDb","join","Tree","modalEvent","autoCompleteEvent","clearSelectionEvent","sourceFieldElement","fieldDisplayElement","multiple","requestData","modalEvents","modal","setSelectEvent","modalId","autoCompleteElement","autocomplete","minLength","source","parentElem","fieldInfo","allValues","responseDataList","ui","selectedItemData","change","open","menu","fieldElement","n","TimePeriod","time","Number","period","injectContent","content","plus1btn","minus1btn","registerEvents","onChange","onPlus1Click","onMinus1Click","stopPropagation","MultiCurrency","registerEnableCurrencyEvent","registerResetCurrencyEvent","loadData","calculateConversionRate","form","validationEngine","validationEngineOptionsForRecord","saveCurrencies","getField","formatNumber","setPrice","getFieldToSave","baseCurrencyId","currencyId","price","row","enabledBaseCurrency","Vtiger_Helper_Js","showMessage","selectedBaseCurrency","selectedRow","baseCurrencyConversionRate","baseCurrencyRatePrevValue","getNumberFromValue","domElement","parentRow","title","MeetingUrl","addButton","valElement","getUrl","addEventsForDependentFields","formData","serializeFormData","expField","encodeURIComponent","roomName","formElement","ChangesJson","record","changes","relatedField","getRelatedField","sourceModule","sourceField","saveData","invalidFields","InvalidFields","checkbox","changeData","fieldNameShort","relatedFieldName","MultiReference","showRecordsList","getParams","_modal","setReferenceFieldValue","createHandler","registerAutoComplete","search_value","Components","QuickCreate","createRecord","sourceRecordData","callbackFunction","_recordLabel","_recordId","includes","referenceModule","sourceFieldName","sourceRecordElement","listFilterFieldsJson","listFilterFields","sourceRecordId","filterFields","mapFieldElement","src_module","src_field","src_record","multi_select","Password","getResponse","pwd","getPassword","copy","score","strengthMeter","getStrengthLevels","tooltip","getRecordId","aDeferred","Deferred","resolve","reject","promise","strengthLevels","MultiAttachment","fileInput","dataInput","progressBar","progress","files","formats","maxFileSize","maxFileSizeDisplay","initEditView","initDetailView","fileInfo","createItem","detach","openBrowser","fileupload","replaceFileInput","autoUpload","submit","progressall","progressAll","drop","dragover","dragOver","uploadError","uploadSuccess","dragLeave","enableDragNDrop","onFormSubmit","deleteButtonActive","deleteFile","filesActive","position","elementToBlock","stopImmediatePropagation","showAlert","loaded","total","filterFiles","valid","showErrors","file","validateFileType","validateFileSize","size","errors","info","showError","textTrusted","_e","jqXHR","responseJSON","updateFormValues","fileAttach","getFileInfo","len","legend","span","sizeDisplay","buttons","downloadBtn","downloadBtnIcon","lock","deleteBtn","deleteBtnIcon","containment","sortStop","disableSelection","actualElements","elementHash","formValues","Icon","iconElement","Icons","modalView","src","setDisplayValue","Quasar","Platform","desktop","$window","left","scrollLeft","outerWidth","move","drops","scrollTop","outerHeight","animation"],"mappings":"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"}