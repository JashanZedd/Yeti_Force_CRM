!function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach((function(i){e(t,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var o=function(t,e,i,n,o,r,a,s,c,l){"boolean"!=typeof a&&(c=s,s=a,a=!1);var d,u="function"==typeof i?i.options:i;if(t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),n&&(u._scopeId=n),r?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):e&&(d=a?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),d)if(u.functional){var h=u.render;u.render=function(t,e){return d.call(e),h(t,e)}}else{var m=u.beforeCreate;u.beforeCreate=m?[].concat(m,d):[d]}return i},r=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex"},[/^mdi|^fa/.test(t.icon)?i("q-icon",{key:"icon-lib",attrs:{name:t.icon,size:t.size,dense:""}}):t.icon.includes("/")?i("q-avatar",{key:"icon-img",attrs:{size:t.size}},[i("q-img",{attrs:{src:t.icon}})],1):i("q-icon",{key:"icon-yf",class:[t.icon,"q-icon"],style:{"font-size":t.size?t.size:"1.4em"}})],1)},staticRenderFns:[]},void 0,{name:"YfIcon",props:{icon:{type:String,required:!0},size:{type:String,required:!1}}},"data-v-115259f9",!1,void 0,void 0,void 0),a=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex"},[i("q-icon",{class:["cursor-pointer",t.tooltipId],style:"font-size: "+t.options.iconSize+";",attrs:{name:t.searchInfoShow?"mdi-information":"mdi-information-outline"},on:{click:function(e){e.preventDefault(),t.searchInfoShow=!t.searchInfoShow}}}),t._v(" "),i("div",[i("q-tooltip",{attrs:{"content-style":"font-size: "+t.options.tooltipFont,"content-class":[t.options.backgroundClass,t.tooltipId,"all-pointer-events"]},model:{value:t.searchInfoShow,callback:function(e){t.searchInfoShow=e},expression:"searchInfoShow"}},[t._t("default")],2)],1)],1)},staticRenderFns:[]},void 0,{name:"IconInfo",props:{customOptions:{type:Object,default:function(){return{}}}},data:function(){return{searchInfoShow:!1,options:{iconSize:"inherit",tooltipFont:"14px",backgroundClass:"bg-primary"},tooltipId:"tooltip-id-".concat(Quasar.utils.uid())}},created:function(){var t=this;this.options=Object.assign(this.options,this.customOptions),document.addEventListener("click",(function(e){!t.searchInfoShow||e.target.offsetParent.classList.contains(t.tooltipId)||e.target.classList.contains(t.tooltipId)||(t.searchInfoShow=!1)}))}},"data-v-2f8d7154",!1,void 0,void 0,void 0),s={name:"ColumnsGrid",props:{columnBlocks:{type:Array,required:!0}}},c="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var l=document.head||document.getElementsByTagName("head")[0],d={};var u=function(t){return function(t,e){return function(t,e){var i=c?e.media||"default":t,n=d[i]||(d[i]={ids:new Set,styles:[]});if(!n.ids.has(t)){n.ids.add(t);var o=e.source;if(e.map&&(o+="\n/*# sourceURL="+e.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),n.element||(n.element=document.createElement("style"),n.element.type="text/css",e.media&&n.element.setAttribute("media",e.media),l.appendChild(n.element)),"styleSheet"in n.element)n.styles.push(o),n.element.styleSheet.cssText=n.styles.filter(Boolean).join("\n");else{var r=n.ids.size-1,a=document.createTextNode(o),s=n.element.childNodes;s[r]&&n.element.removeChild(s[r]),s.length?n.element.insertBefore(a,s[r]):n.element.appendChild(a)}}}(t,e)}},h=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns-grid__container",style:{"-webkit-column-count":t.columnBlocks.length,"-moz-column-count":t.columnBlocks.length,"column-count":t.columnBlocks.length}},[t._l(t.columnBlocks,(function(e){return[i("div",{key:e,staticClass:"columns-grid__block"},[t._t("default",null,{relatedBlock:e})],2)]}))],2)},staticRenderFns:[]},(function(t){t&&t("data-v-5e6f0e35_0",{source:".columns-grid__container[data-v-5e6f0e35]{-webkit-column-width:27rem;-moz-column-width:27rem;column-width:27rem}.columns-grid__block[data-v-5e6f0e35]{width:100%;padding-bottom:16px;-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid-column}",map:void 0,media:void 0})}),s,"data-v-5e6f0e35",!1,void 0,u,void 0),m=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("q-carousel",{ref:"carousel",class:["quasar-reset shadow-1 rounded-borders",t.fullscreen?"":"carousel-height"],attrs:{fullscreen:t.fullscreen,"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"black",navigation:"",padding:"",arrows:""},on:{"update:fullscreen":function(e){t.fullscreen=e},transition:t.onTransition},scopedSlots:t._u([{key:"control",fn:function(){return[i("q-carousel-control",{attrs:{position:"bottom-right",offset:[18,18]}},[i("q-btn",{attrs:{icon:t.fullscreen?"mdi-fullscreen-exit":"mdi-fullscreen",push:"",round:"",dense:"",color:"white","text-color":"primary"},on:{click:function(e){t.fullscreen=!t.fullscreen}}})],1)]},proxy:!0}]),model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},t._l(t.record.content,(function(e,n){return i("q-carousel-slide",{key:n,staticClass:"column no-wrap flex-center",attrs:{name:n,fullscreen:t.fullscreen},on:{"update:fullscreen":function(e){t.fullscreen=e}}},[i("div",{staticClass:"full-height",domProps:{innerHTML:t._s(e)}})])})),1)],1)},staticRenderFns:[]},(function(t){t&&t("data-v-27ed671c_0",{source:".carousel-height[data-v-27ed671c]{height:max-content;min-height:calc(100vh - 31.14px)}",map:void 0,media:void 0})}),{name:"Carousel",data:function(){return{slide:0,height:"90vh",report:0,fullscreen:!1}},props:{record:{type:Object,required:!0}},watch:{fullscreen:function(t){t?this.$q.fullscreen.request():this.$q.fullscreen.exit()},"$q.fullscreen.isActive":function(t){this.fullscreen=t}},methods:{onTransition:function(t){$(this.$refs.carousel.$el).find("img").css("max-width",$(this.$refs.carousel.$el).width()-17)}}},"data-v-27ed671c",!1,void 0,u,void 0),p="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function f(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}var g=f,w=v;function b(t){if(g===setTimeout)return setTimeout(t,0);if((g===f||!g)&&setTimeout)return g=setTimeout,setTimeout(t,0);try{return g(t,0)}catch(e){try{return g.call(null,t,0)}catch(e){return g.call(this,t,0)}}}"function"==typeof p.setTimeout&&(g=setTimeout),"function"==typeof p.clearTimeout&&(w=clearTimeout);var _,y=[],x=!1,C=-1;function k(){x&&_&&(x=!1,_.length?y=_.concat(y):C=-1,y.length&&S())}function S(){if(!x){var t=b(k);x=!0;for(var e=y.length;e;){for(_=y,y=[];++C<e;)_&&_[C].run();C=-1,e=y.length}_=null,x=!1,function(t){if(w===clearTimeout)return clearTimeout(t);if((w===v||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(t);try{w(t)}catch(e){try{return w.call(null,t)}catch(e){return w.call(this,t)}}}(t)}}function q(t,e){this.fun=t,this.array=e}q.prototype.run=function(){this.fun.apply(null,this.array)};function z(){}var D=z,A=z,R=z,E=z,T=z,B=z,L=z;var M=p.performance||{},O=M.now||M.mozNow||M.msNow||M.oNow||M.webkitNow||function(){return(new Date).getTime()};var I=new Date;var N={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];y.push(new q(t,e)),1!==y.length||x||b(S)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:D,addListener:A,once:R,off:E,removeListener:T,removeAllListeners:B,emit:L,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*O.call(M),i=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(i-=t[0],(n-=t[1])<0&&(i--,n+=1e9)),[i,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-I)/1e3}};
/**
   * vuex v3.1.2
   * (c) 2019 Evan You
   * @license MIT
   */var j=("undefined"!=typeof window?window:void 0!==p?p:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function P(t,e){Object.keys(t).forEach((function(i){return e(t[i],i)}))}function H(e){return null!==e&&"object"===t(e)}function K(t,e){if(!t)throw new Error("[vuex] "+e)}var Y=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=("function"==typeof i?i():i)||{}},G={namespaced:{configurable:!0}};G.namespaced.get=function(){return!!this._rawModule.namespaced},Y.prototype.addChild=function(t,e){this._children[t]=e},Y.prototype.removeChild=function(t){delete this._children[t]},Y.prototype.getChild=function(t){return this._children[t]},Y.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Y.prototype.forEachChild=function(t){P(this._children,t)},Y.prototype.forEachGetter=function(t){this._rawModule.getters&&P(this._rawModule.getters,t)},Y.prototype.forEachAction=function(t){this._rawModule.actions&&P(this._rawModule.actions,t)},Y.prototype.forEachMutation=function(t){this._rawModule.mutations&&P(this._rawModule.mutations,t)},Object.defineProperties(Y.prototype,G);var F=function(t){this.register([],t,!1)};F.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},F.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,i){return t+((e=e.getChild(i)).namespaced?i+"/":"")}),"")},F.prototype.update=function(t){!function t(e,i,n){if(V(e,n),i.update(n),n.modules)for(var o in n.modules){if(!i.getChild(o))return void console.warn("[vuex] trying to add a new module '"+o+"' on hot reloading, manual reload is needed");t(e.concat(o),i.getChild(o),n.modules[o])}}([],this.root,t)},F.prototype.register=function(t,e,i){var n=this;void 0===i&&(i=!0),V(t,e);var o=new Y(e,i);0===t.length?this.root=o:this.get(t.slice(0,-1)).addChild(t[t.length-1],o);e.modules&&P(e.modules,(function(e,o){n.register(t.concat(o),e,i)}))},F.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];e.getChild(i).runtime&&e.removeChild(i)};var X,J={assert:function(t){return"function"==typeof t},expected:"function"},W={getters:J,mutations:J,actions:{assert:function(e){return"function"==typeof e||"object"===t(e)&&"function"==typeof e.handler},expected:'function or object with "handler" function'}};function V(t,e){Object.keys(W).forEach((function(i){if(e[i]){var n=W[i];P(e[i],(function(e,o){K(n.assert(e),function(t,e,i,n,o){var r=e+" should be "+o+' but "'+e+"."+i+'"';t.length>0&&(r+=' in module "'+t.join(".")+'"');return r+=" is "+JSON.stringify(n)+"."}(t,i,o,e,n.expected))}))}}))}var U=function t(e){var i=this;void 0===e&&(e={}),!X&&"undefined"!=typeof window&&window.Vue&&rt(window.Vue),K(X,"must call Vue.use(Vuex) before creating a store instance."),K("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser."),K(this instanceof t,"store must be called with the new operator.");var n=e.plugins;void 0===n&&(n=[]);var o=e.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new F(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new X,this._makeLocalGettersCache=Object.create(null);var r=this,a=this.dispatch,s=this.commit;this.dispatch=function(t,e){return a.call(r,t,e)},this.commit=function(t,e,i){return s.call(r,t,e,i)},this.strict=o;var c=this._modules.root.state;it(this,c,[],this._modules.root),et(this,c),n.forEach((function(t){return t(i)})),(void 0!==e.devtools?e.devtools:X.config.devtools)&&function(t){j&&(t._devtoolHook=j,j.emit("vuex:init",t),j.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){j.emit("vuex:mutation",t,e)})))}(this)},Q={state:{configurable:!0}};function Z(t,e){return e.indexOf(t)<0&&e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function tt(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var i=t.state;it(t,i,[],t._modules.root,!0),et(t,i,e)}function et(t,e,i){var n=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,r={};P(o,(function(e,i){r[i]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,i,{get:function(){return t._vm[i]},enumerable:!0})}));var a=X.config.silent;X.config.silent=!0,t._vm=new X({data:{$$state:e},computed:r}),X.config.silent=a,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){K(t._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,sync:!0})}(t),n&&(i&&t._withCommit((function(){n._data.$$state=null})),X.nextTick((function(){return n.$destroy()})))}function it(t,e,i,n,o){var r=!i.length,a=t._modules.getNamespace(i);if(n.namespaced&&(t._modulesNamespaceMap[a]&&"production"!==N.env.NODE_ENV&&console.error("[vuex] duplicate namespace "+a+" for the namespaced module "+i.join("/")),t._modulesNamespaceMap[a]=n),!r&&!o){var s=nt(e,i.slice(0,-1)),c=i[i.length-1];t._withCommit((function(){c in s&&console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+i.join(".")+'"'),X.set(s,c,n.state)}))}var l=n.context=function(t,e,i){var n=""===e,o={dispatch:n?t.dispatch:function(i,n,o){var r=ot(i,n,o),a=r.payload,s=r.options,c=r.type;if(s&&s.root||(c=e+c,t._actions[c]))return t.dispatch(c,a);console.error("[vuex] unknown local action type: "+r.type+", global type: "+c)},commit:n?t.commit:function(i,n,o){var r=ot(i,n,o),a=r.payload,s=r.options,c=r.type;s&&s.root||(c=e+c,t._mutations[c])?t.commit(c,a,s):console.error("[vuex] unknown local mutation type: "+r.type+", global type: "+c)}};return Object.defineProperties(o,{getters:{get:n?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var i={},n=e.length;Object.keys(t.getters).forEach((function(o){if(o.slice(0,n)===e){var r=o.slice(n);Object.defineProperty(i,r,{get:function(){return t.getters[o]},enumerable:!0})}})),t._makeLocalGettersCache[e]=i}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return nt(t.state,i)}}}),o}(t,a,i);n.forEachMutation((function(e,i){!function(t,e,i,n){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){i.call(t,n.state,e)}))}(t,a+i,e,l)})),n.forEachAction((function(e,i){var n=e.root?i:a+i,o=e.handler||e;!function(t,e,i,n){(t._actions[e]||(t._actions[e]=[])).push((function(e){var o,r=i.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},e);return(o=r)&&"function"==typeof o.then||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}(t,n,o,l)})),n.forEachGetter((function(e,i){!function(t,e,i,n){if(t._wrappedGetters[e])return void console.error("[vuex] duplicate getter key: "+e);t._wrappedGetters[e]=function(t){return i(n.state,n.getters,t.state,t.getters)}}(t,a+i,e,l)})),n.forEachChild((function(n,r){it(t,e,i.concat(r),n,o)}))}function nt(t,e){return e.length?e.reduce((function(t,e){return t[e]}),t):t}function ot(e,i,n){return H(e)&&e.type&&(n=i,i=e,e=e.type),K("string"==typeof e,"expects string as the type, but found "+t(e)+"."),{type:e,payload:i,options:n}}function rt(t){X&&t===X?console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:i});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,e.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(X=t)}Q.state.get=function(){return this._vm._data.$$state},Q.state.set=function(t){K(!1,"use store.replaceState() to explicit replace store state.")},U.prototype.commit=function(t,e,i){var n=this,o=ot(t,e,i),r=o.type,a=o.payload,s=o.options,c={type:r,payload:a},l=this._mutations[r];l?(this._withCommit((function(){l.forEach((function(t){t(a)}))})),this._subscribers.forEach((function(t){return t(c,n.state)})),s&&s.silent&&console.warn("[vuex] mutation type: "+r+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+r)},U.prototype.dispatch=function(t,e){var i=this,n=ot(t,e),o=n.type,r=n.payload,a={type:o,payload:r},s=this._actions[o];if(s){try{this._actionSubscribers.filter((function(t){return t.before})).forEach((function(t){return t.before(a,i.state)}))}catch(t){console.warn("[vuex] error in before action subscribers: "),console.error(t)}return(s.length>1?Promise.all(s.map((function(t){return t(r)}))):s[0](r)).then((function(t){try{i._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(a,i.state)}))}catch(t){console.warn("[vuex] error in after action subscribers: "),console.error(t)}return t}))}console.error("[vuex] unknown action type: "+o)},U.prototype.subscribe=function(t){return Z(t,this._subscribers)},U.prototype.subscribeAction=function(t){return Z("function"==typeof t?{before:t}:t,this._actionSubscribers)},U.prototype.watch=function(t,e,i){var n=this;return K("function"==typeof t,"store.watch only accepts a function."),this._watcherVM.$watch((function(){return t(n.state,n.getters)}),e,i)},U.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},U.prototype.registerModule=function(t,e,i){void 0===i&&(i={}),"string"==typeof t&&(t=[t]),K(Array.isArray(t),"module path must be a string or an Array."),K(t.length>0,"cannot register the root module by using registerModule."),this._modules.register(t,e),it(this,this.state,t,this._modules.get(t),i.preserveState),et(this,this.state)},U.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),K(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit((function(){var i=nt(e.state,t.slice(0,-1));X.delete(i,t[t.length-1])})),tt(this)},U.prototype.hotUpdate=function(t){this._modules.update(t),tt(this,!0)},U.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(U.prototype,Q);var at=mt((function(t,e){var i={};return ht(e)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),ut(e).forEach((function(e){var n=e.key,o=e.val;i[n]=function(){var e=this.$store.state,i=this.$store.getters;if(t){var n=pt(this.$store,"mapState",t);if(!n)return;e=n.context.state,i=n.context.getters}return"function"==typeof o?o.call(this,e,i):e[o]},i[n].vuex=!0})),i})),st=mt((function(t,e){var i={};return ht(e)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),ut(e).forEach((function(e){var n=e.key,o=e.val;i[n]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this.$store.commit;if(t){var r=pt(this.$store,"mapMutations",t);if(!r)return;n=r.context.commit}return"function"==typeof o?o.apply(this,[n].concat(e)):n.apply(this.$store,[o].concat(e))}})),i})),ct=mt((function(t,e){var i={};return ht(e)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),ut(e).forEach((function(e){var n=e.key,o=e.val;o=t+o,i[n]=function(){if(!t||pt(this.$store,"mapGetters",t)){if(o in this.$store.getters)return this.$store.getters[o];console.error("[vuex] unknown getter: "+o)}},i[n].vuex=!0})),i})),lt=mt((function(t,e){var i={};return ht(e)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),ut(e).forEach((function(e){var n=e.key,o=e.val;i[n]=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this.$store.dispatch;if(t){var r=pt(this.$store,"mapActions",t);if(!r)return;n=r.context.dispatch}return"function"==typeof o?o.apply(this,[n].concat(e)):n.apply(this.$store,[o].concat(e))}})),i})),dt=function(t){return{mapState:at.bind(null,t),mapGetters:ct.bind(null,t),mapMutations:st.bind(null,t),mapActions:lt.bind(null,t)}};function ut(t){return ht(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function ht(t){return Array.isArray(t)||H(t)}function mt(t){return function(e,i){return"string"!=typeof e?(i=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,i)}}function pt(t,e,i){var n=t._modulesNamespaceMap[i];return n||console.error("[vuex] module namespace not found in "+e+"(): "+i),n}var ft={Store:U,install:rt,version:"3.1.2",mapState:at,mapMutations:st,mapGetters:ct,mapActions:lt,createNamespacedHelpers:dt},vt=dt("KnowledgeBase"),gt=vt.mapGetters,wt=vt.mapActions,bt=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"KnowledgeBase__ArticlesList"},[i("q-table",{attrs:{data:t.data,columns:t.columns,pagination:t.pagination,title:t.title,"row-key":"subject",grid:"","hide-header":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"item",fn:function(e){return[i("q-list",{staticClass:"full-width",attrs:{padding:""},on:{click:function(i){return i.preventDefault(),t.onClickRecord(e.row.id)}}},[i("q-item",{attrs:{clickable:""}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:"mdi-text"}})],1),t._v(" "),i("q-item-section",[i("q-item-label",{staticClass:"text-primary"},[i("a",{staticClass:"js-popover-tooltip--record",attrs:{href:"index.php?module="+t.moduleName+"&view=Detail&record="+e.row.id}},[t._v("\n                "+t._s(e.row.subject)+"\n              ")])]),t._v(" "),i("q-item-label",{staticClass:"flex items-center",attrs:{overline:""}},[i("q-breadcrumbs",{staticClass:"mr-2 text-grey-8",attrs:{"active-color":"grey-8"}},[t._l(t.tree.categories[e.row.category].parentTree,(function(e){return i("q-breadcrumbs-el",{key:t.tree.categories[e].label},[t.tree.categories[e].icon?i("YfIcon",{staticClass:"q-mr-sm",attrs:{size:t.iconSize,icon:t.tree.categories[e].icon}}):t._e(),t._v("\n                  "+t._s(t.tree.categories[e].label)+"\n                ")],1)})),t._v(" "),i("q-tooltip",[t._v("\n                  "+t._s(t.translate("JS_KB_CATEGORY"))+"\n                ")])],2),t._v("\n              | "+t._s(t.translate("JS_KB_AUTHORED_BY"))+":\n              "),i("span",{staticClass:"q-ml-sm",domProps:{innerHTML:t._s(e.row.assigned_user_id)}})],1),t._v(" "),i("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.row.introduction))])],1),t._v(" "),i("q-item-section",{attrs:{side:"",top:""}},[i("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.row.short_time))]),t._v(" "),i("q-tooltip",[t._v("\n              "+t._s(e.row.full_time)+"\n            ")])],1)],1)],1)]}},{key:"bottom",fn:function(t){}}])}),t._v(" "),i("div",{class:["flex items-center q-px-lg q-py-sm",t.hasData?"hidden":""]},[i("q-icon",{staticClass:"q-mr-sm",attrs:{name:"mdi-alert-outline"}}),t._v("\n    "+t._s(t.translate("JS_NO_RESULTS_FOUND"))+"\n  ")],1)],1)},staticRenderFns:[]},(function(t){t&&t("data-v-633cce41_0",{source:".KnowledgeBase__ArticlesList .q-table__bottom{display:none!important}",map:void 0,media:void 0})}),{name:"ArticlesList",components:{YfIcon:r},props:{data:{type:Array,default:[]},title:{type:String,default:""}},data:function(){return{pagination:{rowsPerPage:0},columns:[{name:"desc",required:!0,label:"Title",align:"left",field:function(t){return t.subject},format:function(t){return"".concat(t)},sortable:!0},{name:"short_time",align:"center",label:"Short time",field:"short_time",sortable:!0},{name:"introduction",align:"center",label:"Introduction",field:"introduction",sortable:!0}]}},computed:n({},gt(["tree","iconSize","moduleName"]),{hasData:function(){return this.data.length}}),methods:n({},wt(["fetchRecord"]),{onClickRecord:function(t){var e=this;this.fetchRecord(t).then((function(){e.$emit("onClickRecord",t)}))}})},void 0,!1,void 0,u,void 0),_t={t:"top",m:"marginTop",b:"bottom"},yt={l:"left",m:"marginLeft",r:"right"},xt=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vdr",class:t.active||t.isActive?"active":"inactive",style:t.style,on:{mousedown:function(e){return t.bodyDown(e)},touchstart:function(e){return t.bodyDown(e)},touchend:function(e){return t.up(e)}}},[t._t("default"),t._v(" "),t._l(t.sticks,(function(e){return i("div",{staticClass:"vdr-stick",class:["vdr-stick-"+e,t.isResizable?"":"not-resizable"],style:t.vdrStick(e),on:{mousedown:function(i){return i.stopPropagation(),i.preventDefault(),t.stickDown(e,i)},touchstart:function(i){return i.stopPropagation(),i.preventDefault(),t.stickDown(e,i)}}})}))],2)},staticRenderFns:[]},(function(t){t&&t("data-v-6aa1835c_0",{source:".vdr{position:absolute;box-sizing:border-box}.vdr.active:before{content:'';width:100%;height:100%;position:absolute;top:0;left:0;box-sizing:border-box;outline:1px dashed #d6d6d6}.vdr-stick{box-sizing:border-box;position:absolute;font-size:1px;background:#fff;border:1px solid #6c6c6c;box-shadow:0 0 2px #bbb}.inactive .vdr-stick{display:none}.vdr-stick-br,.vdr-stick-tl{cursor:nwse-resize}.vdr-stick-bm,.vdr-stick-tm{left:50%;cursor:ns-resize}.vdr-stick-bl,.vdr-stick-tr{cursor:nesw-resize}.vdr-stick-ml,.vdr-stick-mr{top:50%;cursor:ew-resize}.vdr-stick.not-resizable{display:none}",map:void 0,media:void 0})}),{name:"vue-drag-resize",props:{parentScaleX:{type:Number,default:1},parentScaleY:{type:Number,default:1},isActive:{type:Boolean,default:!1},preventActiveBehavior:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},aspectRatio:{type:Boolean,default:!1},parentLimitation:{type:Boolean,default:!1},snapToGrid:{type:Boolean,default:!1},gridX:{type:Number,default:50,validator:function(t){return t>0}},gridY:{type:Number,default:50,validator:function(t){return t>0}},parentW:{type:Number,default:0,validator:function(t){return t>=0}},parentH:{type:Number,default:0,validator:function(t){return t>=0}},w:{type:Number,default:100,validator:function(t){return t>0}},h:{type:Number,default:100,validator:function(t){return t>0}},minw:{type:Number,default:50,validator:function(t){return t>0}},minh:{type:Number,default:50,validator:function(t){return t>0}},x:{type:Number,default:0,validator:function(t){return"number"==typeof t}},y:{type:Number,default:0,validator:function(t){return"number"==typeof t}},z:{type:[String,Number],default:"auto",validator:function(t){return"string"==typeof t?"auto"===t:t>=0}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},sticks:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]}},axis:{type:String,default:"both",validator:function(t){return-1!==["x","y","both","none"].indexOf(t)}}},data:function(){return{active:this.isActive,rawWidth:this.w,rawHeight:this.h,rawLeft:this.x,rawTop:this.y,rawRight:null,rawBottom:null,zIndex:this.z,aspectFactor:this.w/this.h,parentWidth:null,parentHeight:null,left:this.x,top:this.y,right:null,bottom:null,minWidth:this.minw,minHeight:this.minh}},created:function(){this.stickDrag=!1,this.bodyDrag=!1,this.stickAxis=null,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.currentStick=[]},mounted:function(){if(this.parentElement=this.$el.parentNode,this.parentWidth=this.parentW?this.parentW:this.parentElement.clientWidth,this.parentHeight=this.parentH?this.parentH:this.parentElement.clientHeight,this.rawRight=this.parentWidth-this.rawWidth-this.rawLeft,this.rawBottom=this.parentHeight-this.rawHeight-this.rawTop,document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up),document.documentElement.addEventListener("mouseleave",this.up),document.documentElement.addEventListener("mousedown",this.deselect),document.documentElement.addEventListener("touchmove",this.move,!0),document.documentElement.addEventListener("touchend touchcancel",this.up,!0),document.documentElement.addEventListener("touchstart",this.up,!0),this.dragHandle){var t=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragHandle));for(var e in t)t[e].setAttribute("data-drag-handle",this._uid)}if(this.dragCancel){var i=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragCancel));for(var n in i)i[n].setAttribute("data-drag-cancel",this._uid)}},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up),document.documentElement.removeEventListener("mouseleave",this.up),document.documentElement.removeEventListener("mousedown",this.deselect),document.documentElement.removeEventListener("touchmove",this.move,!0),document.documentElement.removeEventListener("touchend touchcancel",this.up,!0),document.documentElement.removeEventListener("touchstart",this.up,!0)},methods:{deselect:function(){this.preventActiveBehavior||(this.active=!1)},move:function(t){(this.stickDrag||this.bodyDrag)&&(t.stopPropagation(),this.stickDrag&&this.stickMove(t),this.bodyDrag&&this.bodyMove(t))},up:function(t){this.stickDrag&&this.stickUp(t),this.bodyDrag&&this.bodyUp(t)},bodyDown:function(t){var e=t.target||t.srcElement;this.preventActiveBehavior||(this.active=!0),t.button&&0!==t.button||(this.$emit("clicked",t),this.isDraggable&&this.active&&(this.dragHandle&&e.getAttribute("data-drag-handle")!==this._uid.toString()||this.dragCancel&&e.getAttribute("data-drag-cancel")===this._uid.toString()||(t.stopPropagation(),t.preventDefault(),this.bodyDrag=!0,this.stickStartPos.mouseX=void 0!==t.pageX?t.pageX:t.touches[0].pageX,this.stickStartPos.mouseY=void 0!==t.pageY?t.pageY:t.touches[0].pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.parentLimitation&&(this.limits=this.calcDragLimitation()))))},calcDragLimitation:function(){var t=this.parentWidth,e=this.parentHeight;return{minLeft:0,maxLeft:t-this.width,minRight:0,maxRight:t-this.width,minTop:0,maxTop:e-this.height,minBottom:0,maxBottom:e-this.height}},bodyMove:function(t){var e=this.stickStartPos,i=this.parentWidth,n=this.parentHeight,o=this.gridX,r=this.gridY,a=this.width,s=this.height,c=void 0!==t.pageX?t.pageX:t.touches[0].pageX,l=void 0!==t.pageY?t.pageY:t.touches[0].pageY,d=("y"!==this.axis&&"none"!==this.axis?e.mouseX-c:0)/this.parentScaleX,u=("x"!==this.axis&&"none"!==this.axis?e.mouseY-l:0)/this.parentScaleY,h=e.top-u,m=e.bottom+u,p=e.left-d,f=e.right+d;if(this.snapToGrid){var v=!0,g=!0,w=h-Math.floor(h/r)*r,b=n-m-Math.floor((n-m)/r)*r,_=p-Math.floor(p/o)*o,y=i-f-Math.floor((i-f)/o)*o;w>r/2&&(w-=r),b>r/2&&(b-=r),_>o/2&&(_-=o),y>o/2&&(y-=o),Math.abs(b)<Math.abs(w)&&(v=!1),Math.abs(y)<Math.abs(_)&&(g=!1),m=n-s-(h-=v?w:b),f=i-a-(p-=g?_:y)}this.rawTop=h,this.rawBottom=m,this.rawLeft=p,this.rawRight=f,this.$emit("dragging",this.rect)},bodyUp:function(){this.bodyDrag=!1,this.$emit("dragging",this.rect),this.$emit("dragstop",this.rect),this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},stickDown:function(t,e){if(this.isResizable&&this.active){switch(this.stickDrag=!0,this.stickStartPos.mouseX=void 0!==e.pageX?e.pageX:e.touches[0].pageX,this.stickStartPos.mouseY=void 0!==e.pageY?e.pageY:e.touches[0].pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.currentStick=t.split(""),this.stickAxis=null,this.currentStick[0]){case"b":case"t":this.stickAxis="y"}switch(this.currentStick[1]){case"r":case"l":this.stickAxis="y"===this.stickAxis?"xy":"x"}this.limits=this.calcResizeLimitation()}},calcResizeLimitation:function(){var t=this.minWidth,e=this.minHeight,i=this.aspectFactor,n=this.width,o=this.height,r=this.bottom,a=this.top,s=this.left,c=this.right,l=this.stickAxis,d=this.parentLimitation?0:null;this.aspectRatio&&(t/e>i?e=t/i:t=i*e);var u={minLeft:d,maxLeft:s+(n-t),minRight:d,maxRight:c+(n-t),minTop:d,maxTop:a+(o-e),minBottom:d,maxBottom:r+(o-e)};if(this.aspectRatio){var h={minLeft:s-Math.min(a,r)*i*2,maxLeft:s+(o-e)/2*i*2,minRight:c-Math.min(a,r)*i*2,maxRight:c+(o-e)/2*i*2,minTop:a-Math.min(s,c)/i*2,maxTop:a+(n-t)/2/i*2,minBottom:r-Math.min(s,c)/i*2,maxBottom:r+(n-t)/2/i*2};"x"===l?u={minLeft:Math.max(u.minLeft,h.minLeft),maxLeft:Math.min(u.maxLeft,h.maxLeft),minRight:Math.max(u.minRight,h.minRight),maxRight:Math.min(u.maxRight,h.maxRight)}:"y"===l&&(u={minTop:Math.max(u.minTop,h.minTop),maxTop:Math.min(u.maxTop,h.maxTop),minBottom:Math.max(u.minBottom,h.minBottom),maxBottom:Math.min(u.maxBottom,h.maxBottom)})}return u},stickMove:function(t){var e=this.stickStartPos,i=void 0!==t.pageX?t.pageX:t.touches[0].pageX,n=void 0!==t.pageY?t.pageY:t.touches[0].pageY,o=(e.mouseX-i)/this.parentScaleX,r=(e.mouseY-n)/this.parentScaleY,a=e.top-r,s=e.bottom+r,c=e.left-o,l=e.right+o;switch(this.currentStick[0]){case"b":this.snapToGrid&&(s=this.parentHeight-Math.round((this.parentHeight-s)/this.gridY)*this.gridY),this.rawBottom=s;break;case"t":this.snapToGrid&&(a=Math.round(a/this.gridY)*this.gridY),this.rawTop=a}switch(this.currentStick[1]){case"r":this.snapToGrid&&(l=this.parentWidth-Math.round((this.parentWidth-l)/this.gridX)*this.gridX),this.rawRight=l;break;case"l":this.snapToGrid&&(c=Math.round(c/this.gridX)*this.gridX),this.rawLeft=c}this.$emit("resizing",this.rect)},stickUp:function(){this.stickDrag=!1,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.rawTop=this.top,this.rawBottom=this.bottom,this.rawLeft=this.left,this.rawRight=this.right,this.stickAxis=null,this.$emit("resizing",this.rect),this.$emit("resizestop",this.rect)},aspectRatioCorrection:function(){if(this.aspectRatio){var t=this.bottom,e=this.top,i=this.left,n=this.right,o=this.width,r=this.height,a=this.aspectFactor,s=this.currentStick;if(o/r>a){var c=a*r;"l"===s[1]?this.left=i+o-c:this.right=n+o-c}else{var l=o/a;"t"===s[0]?this.top=e+r-l:this.bottom=t+r-l}}}},computed:{style:function(){return{top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex}},vdrStick:function(){var t=this;return function(e){var i={width:"".concat(8/t.parentScaleX,"px"),height:"".concat(8/t.parentScaleY,"px")};return i[_t[e[0]]]="".concat(8/t.parentScaleX/-2,"px"),i[yt[e[1]]]="".concat(8/t.parentScaleX/-2,"px"),i}},width:function(){return this.parentWidth-this.left-this.right},height:function(){return this.parentHeight-this.top-this.bottom},rect:function(){return{left:Math.round(this.left),top:Math.round(this.top),width:Math.round(this.width),height:Math.round(this.height)}}},watch:{rawLeft:function(t){var e=this.limits,i=this.stickAxis,n=this.aspectFactor,o=this.aspectRatio,r=this.left,a=this.bottom,s=this.top;if(null!==e.minLeft&&t<e.minLeft?t=e.minLeft:null!==e.maxLeft&&e.maxLeft<t&&(t=e.maxLeft),o&&"x"===i){var c=r-t;this.rawTop=s-c/n/2,this.rawBottom=a-c/n/2}this.left=t},rawRight:function(t){var e=this.limits,i=this.stickAxis,n=this.aspectFactor,o=this.aspectRatio,r=this.right,a=this.bottom,s=this.top;if(null!==e.minRight&&t<e.minRight?t=e.minRight:null!==e.maxRight&&e.maxRight<t&&(t=e.maxRight),o&&"x"===i){var c=r-t;this.rawTop=s-c/n/2,this.rawBottom=a-c/n/2}this.right=t},rawTop:function(t){var e=this.limits,i=this.stickAxis,n=this.aspectFactor,o=this.aspectRatio,r=this.right,a=this.left,s=this.top;if(null!==e.minTop&&t<e.minTop?t=e.minTop:null!==e.maxTop&&e.maxTop<t&&(t=e.maxTop),o&&"y"===i){var c=s-t;this.rawLeft=a-c*n/2,this.rawRight=r-c*n/2}this.top=t},rawBottom:function(t){var e=this.limits,i=this.stickAxis,n=this.aspectFactor,o=this.aspectRatio,r=this.right,a=this.left,s=this.bottom;if(null!==e.minBottom&&t<e.minBottom?t=e.minBottom:null!==e.maxBottom&&e.maxBottom<t&&(t=e.maxBottom),o&&"y"===i){var c=s-t;this.rawLeft=a-c*n/2,this.rawRight=r-c*n/2}this.bottom=t},width:function(){this.aspectRatioCorrection()},height:function(){this.aspectRatioCorrection()},active:function(t){t?this.$emit("activated"):this.$emit("deactivated")},isActive:function(t){this.active=t},z:function(t){(t>=0||"auto"===t)&&(this.zIndex=t)},aspectRatio:function(t){t&&(this.aspectFactor=this.width/this.height)},minw:function(t){t>0&&t<=this.width&&(this.minWidth=t)},minh:function(t){t>0&&t<=this.height&&(this.minHeight=t)},x:function(){if(!this.stickDrag&&!this.bodyDrag){this.parentLimitation&&(this.limits=this.calcDragLimitation());var t=this.x-this.left;this.rawLeft=this.x,this.rawRight=this.right-t}},y:function(){if(!this.stickDrag&&!this.bodyDrag){this.parentLimitation&&(this.limits=this.calcDragLimitation());var t=this.y-this.top;this.rawTop=this.y,this.rawBottom=this.bottom-t}},w:function(){if(!this.stickDrag&&!this.bodyDrag){this.currentStick=["m","r"],this.stickAxis="x",this.parentLimitation&&(this.limits=this.calcResizeLimitation());var t=this.width-this.w;this.rawRight=this.right+t}},h:function(){if(!this.stickDrag&&!this.bodyDrag){this.currentStick=["b","m"],this.stickAxis="y",this.parentLimitation&&(this.limits=this.calcResizeLimitation());var t=this.height-this.h;this.rawBottom=this.bottom+t}},parentW:function(t){this.right=t-this.width-this.left,this.parentWidth=t},parentH:function(t){this.bottom=t-this.height-this.top,this.parentHeight=t}}},void 0,!1,void 0,u,void 0),Ct=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.$q.platform.is.desktop?i("vue-drag-resize",{key:"desktop",ref:"resize",class:[t.maximized?"fit position-static":"modal-mini","overflow-hidden"],attrs:{preventActiveBehavior:"",isResizable:"",isActive:t.active,isDraggable:!t.maximized,dragHandle:".js-drag",sticks:t.sticks,x:t.coordinates.left,y:t.coordinates.top,w:t.coordinates.width,h:t.coordinates.height,minh:t.minHeight,minw:t.minWidth},on:{resizing:t.resize,dragging:t.resize,activated:t.onActivated,dragstop:t.correctCoordinates,resizestop:t.correctCoordinates}},[i("div",{staticClass:"fit"},[t._t("default")],2)]):i("div",{key:"mobile",staticClass:"fit"},[t._t("default")],2)],1)},staticRenderFns:[]},(function(t){t&&t("data-v-169f269f_0",{source:".modal-mini{max-height:unset!important;max-width:unset!important;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px rgba(0,0,0,.14),0 1px 10px rgba(0,0,0,.12)}.vdr.active{font-weight:unset}.modal-mini .vdr-stick{display:inline-flex}",map:void 0,media:void 0})}),{name:"DragResize",mixins:[{methods:{keepElementInWindow:function(){this.correctCoordinates(this.coordinates)}},mounted:function(){this.keepElementInWindow(this.coordinates),window.addEventListener("resize",this.keepElementInWindow)}}],components:{VueDragResize:xt},props:{maximized:{type:Boolean,required:!0},coordinates:{type:Object,required:!0},sticks:{type:Array,default:function(){return["br","bl","tr","tl"]}},stickStyle:{type:Object,default:function(){return{height:"15px",width:"15px",border:"none","box-shadow":"none","background-color":"transparent"}}}},data:function(){return{active:!1,minHeight:300,minWidth:300,minVisibleHeight:32,minVisibleWidth:120}},methods:{resize:function(t,e){this.$emit("update:coordinates",{width:t.width,height:t.height,top:t.top,left:t.left})},correctCoordinates:function(t){var e=Object.assign({},t);t.width>window.innerWidth?(e.width=window.innerWidth,e.left=0):t.left+t.width-this.minVisibleWidth<0?e.left=this.minVisibleWidth-t.width:t.width+t.left>window.innerWidth&&(e.left=window.innerWidth-t.width),t.height>window.innerHeight?(e.height=window.innerHeight,e.top=0):t.top<0?e.top=0:t.top>window.innerHeight-this.minVisibleHeight&&(e.top=window.innerHeight-this.minVisibleHeight),this.$emit("update:coordinates",e),this.$emit("dragstop",!0)},onActivated:function(){var t=this,e=this.$refs.resize.$el.querySelectorAll(".vdr-stick");Array.prototype.map.call(e,(function(e){for(var i in t.stickStyle)e.style[i]=t.stickStyle[i]}))}},mounted:function(){this.active=!0}},void 0,!1,void 0,u,void 0),kt=dt("KnowledgeBase"),St=kt.mapGetters,qt=kt.mapActions,zt=o({render:function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("q-card",{staticClass:"KnowledgeBase__ArticlePreview fit"},[n("q-bar",{staticClass:"bg-yeti text-white dialog-header",attrs:{dark:""}},[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"flex items-center no-wrap ellipsis q-mr-sm-sm"},[n("q-icon",{staticClass:"q-mr-sm",attrs:{name:"mdi-text"}}),e._v("\n        "+e._s(e.record.subject)+"\n      ")],1),e._v(" "),n("div",{staticClass:"flex items-center text-grey-4 small"},[n("div",{staticClass:"flex items-center"},[n("q-icon",{attrs:{name:e.tree.topCategory.icon,size:"15px"}}),e._v(" "),n("q-icon",{attrs:{size:"1.5em",name:"mdi-chevron-right"}}),e._v(" "),n("span",{staticClass:"flex items-center",domProps:{innerHTML:e._s(e.record.category)}}),e._v(" "),n("q-tooltip",[e._v("\n            "+e._s(e.translate("JS_KB_CATEGORY"))+"\n          ")])],1),e._v(" "),n("q-separator",{attrs:{dark:"",vertical:"",spaced:""}}),e._v(" "),n("div",[n("q-icon",{attrs:{name:"mdi-calendar-clock",size:"15px"}}),e._v("\n          "+e._s(e.record.short_createdtime)+"\n          "),n("q-tooltip",[e._v("\n            "+e._s(e.translate("JS_KB_CREATED")+": "+e.record.full_createdtime)+"\n          ")])],1),e._v(" "),e.record.short_modifiedtime?[n("q-separator",{attrs:{dark:"",vertical:"",spaced:""}}),e._v(" "),n("div",[n("q-icon",{attrs:{name:"mdi-square-edit-outline",size:"15px"}}),e._v("\n            "+e._s(e.record.short_modifiedtime)+"\n            "),n("q-tooltip",[e._v("\n              "+e._s(e.translate("JS_KB_MODIFIED")+": "+e.record.full_modifiedtime)+"\n            ")])],1)]:e._e(),e._v(" "),e.record.accountId?[n("q-separator",{attrs:{dark:"",vertical:"",spaced:""}}),e._v(" "),n("YfIcon",{attrs:{icon:"userIcon-Accounts",size:"15px"}}),e._v(" "),n("a",{staticClass:"js-popover-tooltip--record ellipsis q-ml-xs text-grey-4",attrs:{href:"index.php?module=Accounts&view=Detail&record="+e.record.accountId}},[e._v(e._s(e.record.accountName)+"\n          ")])]:e._e()],2)]),e._v(" "),n("q-space"),e._v(" "),e._t("headerRight",[e.$q.platform.is.desktop?[n("a",{directives:[{name:"show",rawName:"v-show",value:!e.previewMaximized,expression:"!previewMaximized"}],staticClass:"flex grabbable text-decoration-none text-white",attrs:{href:"#"}},[n("q-icon",{staticClass:"js-drag",attrs:{name:"mdi-drag",size:"19px"}})],1),e._v(" "),n("q-btn",{attrs:{icon:e.previewMaximized?"mdi-window-restore":"mdi-window-maximize",dense:"",flat:""},on:{click:function(t){return e.toggleMaximized()}}},[n("q-tooltip",[e._v(e._s(e.previewMaximized?e.translate("JS_MINIMIZE"):e.translate("JS_MAXIMIZE")))])],1)]:e._e(),e._v(" "),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"mdi-close"}},[n("q-tooltip",[e._v(e._s(e.translate("JS_CLOSE")))])],1)])],2),e._v(" "),n("q-card-section",{class:["scroll",e.previewMaximized?"modal-full-height":""],style:e.height?{"max-height":e.height-31.14+"px"}:{}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.record.introduction,expression:"record.introduction"}]},[n("div",{staticClass:"text-subtitle2 text-bold"},[e._v(e._s(e.record.introduction))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.record.content,expression:"record.content"}]},[n("q-resize-observer",{on:{resize:e.onResize}}),e._v(" "),n("div",{ref:"content"},["PLL_PRESENTATION"===e.record.view&&e.record.content.length>1?n("carousel",{attrs:{record:e.record}}):n("div",[n("q-separator"),e._v(" "),n("div",{domProps:{innerHTML:e._s("object"===t(e.record.content)?e.record.content[0]:e.record.content)}})],1)],1)],1),e._v(" "),e.hasRelatedComments?n("div",[n("q-separator"),e._v(" "),n("div",{staticClass:"q-pa-md q-table__title"},[e._v(e._s(e.translate("JS_KB_COMMENTS")))]),e._v(" "),n("q-list",{attrs:{padding:""}},e._l(e.record.related.base.ModComments,(function(t,i){return n("q-item",{key:i},[n("q-item-section",{attrs:{avatar:"",top:""}},[n("q-avatar",{attrs:{size:"iconSize"}},[void 0!==t.avatar.url?n("img",{attrs:{src:t.avatar.url,alt:"user image"}}):n("q-icon",{attrs:{name:"mdi-account"}})],1)],1),e._v(" "),n("q-item-section",[n("q-item-label",[n("a",{staticClass:"js-popover-tooltip--record",attrs:{href:"index.php?module=Users&view=Detail&record="+t.userid}},[e._v(e._s(t.userName)+"\n              ")])]),e._v(" "),n("q-item-label",[n("div",{domProps:{innerHTML:e._s(t.comment)}})])],1),e._v(" "),n("q-item-section",{attrs:{side:"",top:""}},[n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.modifiedShort))]),e._v(" "),n("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[e._v("\n              "+e._s(e.translate("JS_KB_MODIFIED")+": "+t.modifiedFull)+"\n            ")])],1)],1)})),1)],1):e._e(),e._v(" "),e.hasRelatedArticles?n("div",[n("q-separator"),e._v(" "),e.record.related?n("articles-list",{attrs:{data:e.record.related.base.Articles,title:e.translate("JS_KB_RELATED_ARTICLES")}}):e._e()],1):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.relatedRecords.length,expression:"relatedRecords.length"}]},[n("q-separator"),e._v(" "),n("div",{staticClass:"q-pa-md q-table__title"},[e._v(e._s(e.translate("JS_KB_RELATED_RECORDS")))]),e._v(" "),n("columns-grid",{attrs:{columnBlocks:e.relatedRecords},scopedSlots:e._u([{key:"default",fn:function(t){return[n("q-list",{attrs:{bordered:"",padding:"",dense:""}},[n("q-item",{staticClass:"text-black flex",attrs:{header:"",clickable:""}},[n("YfIcon",{staticClass:"mr-2",attrs:{icon:"userIcon-"+t.relatedBlock,size:e.iconSize}}),e._v("\n              "+e._s(e.record.translations[t.relatedBlock])+"\n            ")],1),e._v(" "),e._l(e.record.related.dynamic[t.relatedBlock],(function(i,o){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:o,staticClass:"text-subtitle2",attrs:{clickable:""}},[n("q-item-section",{staticClass:"align-items-center flex-row no-wrap justify-content-start"},[n("a",{staticClass:"js-popover-tooltip--record ellipsis",attrs:{href:"index.php?module="+t.relatedBlock+"&view=Detail&record="+o}},[e._v("\n                  "+e._s(i)+"\n                ")])])],1)}))],2)]}}])})],1)])],1)},staticRenderFns:[]},(function(t){t&&t("data-v-d7c1d416_0",{source:".dialog-header{padding-top:3px!important;padding-bottom:3px!important;height:unset!important}.modal-full-height{max-height:calc(100vh - 31.14px)!important}.grabbable:hover{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.grabbable:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.contrast-50{filter:contrast(50%)}",map:void 0,media:void 0})}),{name:"ArticlePreviewContent",components:{YfIcon:r,Carousel:m,ArticlesList:bt,ColumnsGrid:h},props:{height:{type:Number,default:0},previewMaximized:{type:Boolean}},computed:n({},St(["tree","record","iconSize"]),{relatedRecords:function(){var t=this;return this.record?Object.keys(this.record.related.dynamic).map((function(e){return 0!==t.record.related.dynamic[e].length&&e})).filter((function(t){return"string"==typeof t})):[]},hasRelatedArticles:function(){return!!this.record&&0!==this.record.related.base.Articles.length},hasRelatedComments:function(){return!!this.record&&0!==this.record.related.base.ModComments.length}}),methods:n({},qt(["fetchCategories","fetchRecord","initState"]),{onResize:function(t){void 0!==this.$refs.content&&$(this.$refs.content).find("img").css("max-width",t.width)},toggleMaximized:function(){this.$emit("update:previewMaximized",!this.previewMaximized)}})},void 0,!1,void 0,u,void 0),Dt=(dt("KnowledgeBase"),o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-dialog",{attrs:{maximized:!!t.maximizedOnly||t.previewMaximized,"transition-show":"slide-up","transition-hide":"slide-down","content-class":"quasar-reset"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.isDragResize?i("drag-resize",{attrs:{coordinates:t.coordinates,maximized:t.previewMaximized},on:{"update:coordinates":function(e){t.coordinates=e}}},[i("article-preview-content",{attrs:{height:t.coordinates.height,previewMaximized:t.previewMaximized},on:{"update:previewMaximized":function(e){t.previewMaximized=e},"update:preview-maximized":function(e){t.previewMaximized=e}}})],1):i("article-preview-content",{scopedSlots:t._u([{key:"headerRight",fn:function(){return[t._t("headerRight")]},proxy:!0}],null,!0)})],1)},staticRenderFns:[]},void 0,{name:"ArticlePreview",components:{ArticlePreviewContent:zt,DragResize:Ct},props:{isDragResize:{type:Boolean,default:!0},maximizedOnly:{type:Boolean,default:!1},previewDialog:{type:Boolean,default:!1}},data:function(){return{coordinates:{width:Quasar.plugins.Screen.width-100,height:Quasar.plugins.Screen.height-100,top:0,left:Quasar.plugins.Screen.width-(Quasar.plugins.Screen.width-50)},previewMaximized:!0}},computed:{dialog:{get:function(){return this.previewDialog},set:function(t){this.$emit("update:previewDialog",t)}}}},void 0,!1,void 0,void 0,void 0)),At=dt("KnowledgeBase").mapGetters,Rt=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{"enter-active-class":"animated "+t.animationIn,"leave-active-class":"animated "+t.animationOut}},[i("q-list",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[i("q-item",{directives:[{name:"show",rawName:"v-show",value:""===t.activeCategoryDelayed,expression:"activeCategoryDelayed === ''"}],attrs:{active:""}},[i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:t.tree.topCategory.icon,size:t.iconSize}})],1),t._v(" "),i("q-item-section",[t._v(t._s(t.translate(t.tree.topCategory.label)))])],1),t._v(" "),""!==t.activeCategoryDelayed?i("q-item",{attrs:{clickable:"",active:""},on:{click:function(e){return t.fetchParentCategoryData()}}},[i("q-item-section",{attrs:{avatar:""}},[i("YfIcon",{attrs:{size:t.iconSize,icon:t.tree.categories[t.activeCategoryDelayed].icon||t.defaultTreeIcon}})],1),t._v(" "),i("q-item-section",[t._v(t._s(t.tree.categories[t.activeCategoryDelayed].label))]),t._v(" "),i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:"mdi-chevron-left"}})],1)],1):t._e(),t._v(" "),t._l(t.data.categories,(function(e,n){return i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:n,attrs:{clickable:""},on:{click:function(i){return t.fetchChildCategoryData(e)}}},[i("q-item-section",{attrs:{avatar:""}},[i("YfIcon",{attrs:{size:t.iconSize,icon:t.tree.categories[e].icon||t.defaultTreeIcon}})],1),t._v(" "),i("q-item-section",[t._v(t._s(t.tree.categories[e].label))]),t._v(" "),i("q-item-section",{attrs:{avatar:""}},[i("q-icon",{attrs:{name:"mdi-chevron-right"}})],1)],1)}))],2)],1)},staticRenderFns:[]},void 0,{name:"CategoriesList",components:{YfIcon:r},data:function(){return{show:!0,animationIn:"slideInLeft",animationOut:"slideOutRight",animationChildClassIn:"slideInRight",animationChildClassOut:"slideOutLeft",animationParentClassIn:"slideInLeft",animationParentClassOut:"slideOutRight",activeCategoryDelayed:""}},props:{activeCategory:{type:String,required:!0},data:{type:Object,required:!0}},computed:n({},At(["tree","iconSize","defaultTreeIcon"])),watch:{data:function(){this.activeCategoryDelayed=this.activeCategory,this.show=!0}},methods:{fetchParentCategoryData:function(){this.animationIn=this.animationParentClassIn,this.animationOut=this.animationParentClassOut,this.show=!1,this.data.categories=[];var t="",e=this.tree.categories[this.activeCategory].parentTree;1!==e.length&&(t=e[e.length-2]),this.$emit("fetchData",t)},fetchChildCategoryData:function(t){this.animationIn=this.animationChildClassIn,this.animationOut=this.animationChildClassOut,this.show=!1,this.data.categories=[],this.$emit("fetchData",t)}},mounted:function(){this.activeCategoryDelayed=this.activeCategory}},void 0,!1,void 0,void 0,void 0),Et=dt("KnowledgeBase"),Tt=Et.mapGetters,Bt=Et.mapActions,Lt=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"KnowledgeBase h-100"},[i("q-layout",{staticClass:"absolute",style:t.coordinates.height&&!t.maximized?{"max-height":t.coordinates.height-31.14+"px"}:{},attrs:{view:"hHh Lpr fFf",container:""}},[i("q-header",{staticClass:"bg-white text-primary",attrs:{elevated:""}},[i("q-toolbar",{staticClass:"flex-md-nowrap flex-wrap items-center q-gutter-x-md q-gutter-y-sm q-pl-md q-pr-none q-py-xs"},[i("div",{class:["flex items-center no-wrap flex-md-grow-1 q-mr-sm-sm",t.searchData?"invisible":""]},[i("q-btn",{attrs:{dense:"",round:"",push:"",icon:"mdi-menu"},on:{click:function(e){return t.toggleDrawer()}}},[i("q-tooltip",[t._v(t._s(t.translate("JS_KB_TOGGLE_CATEGORY_MENU")))])],1),t._v(" "),i("q-breadcrumbs",{directives:[{name:"show",rawName:"v-show",value:"categories"===t.tab,expression:"tab === 'categories'"}],staticClass:"ml-2",scopedSlots:t._u([{key:"separator",fn:function(){return[i("q-icon",{attrs:{size:"1.5em",name:"mdi-chevron-right"}})]},proxy:!0}])},[t._v(" "),i("q-breadcrumbs-el",{class:[""===t.activeCategory?"text-black":"cursor-pointer"],attrs:{icon:t.tree.topCategory.icon,label:t.translate(t.tree.topCategory.label)},on:{click:function(e){""!==t.activeCategory&&t.fetchData()}}}),t._v(" "),""!==t.activeCategory?t._l(t.tree.categories[t.activeCategory].parentTree,(function(e,n){return i("q-breadcrumbs-el",{key:n,class:[n===t.tree.categories[t.activeCategory].parentTree.length-1?"text-black":"cursor-pointer"],on:{click:function(i){n!==t.tree.categories[t.activeCategory].parentTree.length-1&&t.fetchData(e)}}},[t.tree.categories[e].icon?i("YfIcon",{staticClass:"q-mr-sm",attrs:{size:t.iconSize,icon:t.tree.categories[e].icon}}):t._e(),t._v("\n                "+t._s(t.tree.categories[e].label)+"\n              ")],1)})):t._e()],2),t._v(" "),i("q-breadcrumbs",{directives:[{name:"show",rawName:"v-show",value:"accounts"===t.tab,expression:"tab === 'accounts'"}],staticClass:"ml-2"},[""!==t.activeAccount?i("q-breadcrumbs-el",{staticClass:"text-black"},[i("YfIcon",{staticClass:"q-mr-sm",attrs:{size:t.iconSize,icon:"userIcon-Accounts"}}),t._v("\n              "+t._s(t.activeAccount)+"\n            ")],1):t._e()],1)],1),t._v(" "),i("div",{staticClass:"tree-search flex flex-grow-1 no-wrap order-sm-none order-xs-last"},[i("q-input",{staticClass:"full-width",attrs:{placeholder:t.translate("JS_KB_SEARCH_PLACEHOLDER"),rounded:"",outlined:"",type:"search",autofocus:""},on:{input:t.search},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"mdi-magnify"}}),t._v(" "),i("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"},model:{value:t.inputFocus,callback:function(e){t.inputFocus=e},expression:"inputFocus"}},[t._v(t._s(t.translate("JS_INPUT_TOO_SHORT").replace("_LENGTH_","3")))])]},proxy:!0},{key:"append",fn:function(){return[""!==t.filter?i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close"},on:{click:function(e){return e.stopPropagation(),t.clearSearch()}}}):t._e(),t._v(" "),i("div",{staticClass:"flex items-center q-ml-sm"},[i("icon-info",{attrs:{customOptions:{iconSize:"21px"}}},[i("div",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:t._s(t.translate("JS_FULL_TEXT_SEARCH_INFO"))}})])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.activeCategory,expression:"activeCategory !== ''"}],staticClass:"flex"},[i("q-toggle",{attrs:{icon:"mdi-file-tree"},model:{value:t.categorySearch,callback:function(e){t.categorySearch=e},expression:"categorySearch"}}),t._v(" "),i("q-tooltip",[t._v(t._s(t.translate("JS_KB_SEARCH_CURRENT_CATEGORY")))])],1)]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),t._v(" "),i("div",{staticClass:"flex-md-grow-1 flex justify-end q-ml-sm-sm"},[i("q-btn",{attrs:{round:"",dense:"",color:"white","text-color":"primary",icon:"mdi-plus"},on:{click:function(e){return t.openQuickCreateModal()}}},[i("q-tooltip",[t._v(t._s(t.translate("JS_KB_QUICK_CREATE")))])],1)],1)])],1),t._v(" "),i("q-drawer",{directives:[{name:"show",rawName:"v-show",value:!t.searchData,expression:"!searchData"}],ref:"drawer",attrs:{mini:t.miniState,width:t.searchData?0:250,breakpoint:700,side:"left",elevated:"","content-class":"bg-white text-black","content-style":"overflow: hidden !important"},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}},[t.showAccounts?[i("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},on:{input:t.onTabChange},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab",{attrs:{name:"categories",label:t.translate("JS_KB_CATEGORIES")}}),t._v(" "),i("q-tab",{attrs:{name:"accounts",label:t.translate("JS_KB_ACCOUNTS")}})],1),t._v(" "),i("q-tab-panels",{staticStyle:{height:"calc(100% - 36px)"},attrs:{animated:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("q-tab-panel",{attrs:{name:"categories"}},[i("q-scroll-area",{staticClass:"fit"},[i("categories-list",{attrs:{data:t.data,activeCategory:t.activeCategory},on:{fetchData:t.fetchData}})],1)],1),t._v(" "),i("q-tab-panel",{attrs:{name:"accounts"}},[i("div",{staticClass:"q-px-sm"},[i("q-input",{attrs:{placeholder:t.translate("JS_KB_SEARCH_PLACEHOLDER"),dense:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[i("q-icon",{attrs:{name:"mdi-magnify",size:"16px"}})]},proxy:!0},{key:"append",fn:function(){return[i("q-icon",{directives:[{name:"show",rawName:"v-show",value:""!==t.accountSearch,expression:"accountSearch !== ''"}],staticClass:"cursor-pointer",attrs:{name:"mdi-close",size:"16px"},on:{click:function(e){t.accountSearch=""}}})]},proxy:!0}],null,!1,107416869),model:{value:t.accountSearch,callback:function(e){t.accountSearch=e},expression:"accountSearch"}})],1),t._v(" "),i("q-scroll-area",{staticStyle:{height:"calc(100% - 56px)"}},[i("q-list",t._l(t.accountsList,(function(e){return i("q-item",{key:e.id,attrs:{active:t.activeAccount===e.name,clickable:""},on:{click:function(i){t.fetchData(null,e.id),t.activeAccount=e.name}}},[i("q-item-section",[t._v(t._s(e.name))]),t._v(" "),i("q-item-section",{attrs:{avatar:""}},[i("a",{staticClass:"js-popover-tooltip--record ellipsis",attrs:{href:"index.php?module=Accounts&view=Detail&record="+e.id},on:{click:function(t){t.preventDefault()}}},[i("q-icon",{attrs:{name:"mdi-link"}})],1)])],1)})),1)],1)],1)],1)]:i("q-scroll-area",{staticClass:"fit"},[i("categories-list",{attrs:{data:t.data,activeCategory:t.activeCategory},on:{fetchData:t.fetchData}})],1)],2),t._v(" "),i("q-page-container",[i("q-page",{staticClass:"q-pa-sm"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchData,expression:"!searchData"}]},[i("columns-grid",{directives:[{name:"show",rawName:"v-show",value:t.featuredCategories.length,expression:"featuredCategories.length"}],staticClass:"q-pa-sm",attrs:{columnBlocks:t.featuredCategories},scopedSlots:t._u([{key:"default",fn:function(e){return[i("q-list",{attrs:{bordered:"",padding:"",dense:""}},[i("q-item",{staticClass:"text-black flex",attrs:{header:"",clickable:""},on:{click:function(i){return t.fetchData(e.relatedBlock)}}},[i("YfIcon",{staticClass:"mr-2",attrs:{icon:t.tree.categories[e.relatedBlock].icon,size:t.iconSize}}),t._v("\n                  "+t._s(t.tree.categories[e.relatedBlock].label)+"\n                ")],1),t._v(" "),t._l(t.selectedTabData.featured[e.relatedBlock],(function(e){return i("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,staticClass:"text-subtitle2",attrs:{clickable:""},on:{click:function(i){return i.preventDefault(),t.showArticlePreview(e.id)}}},[i("q-item-section",{staticClass:"align-items-center flex-row no-wrap justify-content-start"},[i("q-icon",{staticClass:"mr-2",attrs:{name:"mdi-star",size:t.iconSize}}),t._v(" "),i("a",{staticClass:"js-popover-tooltip--record ellipsis",attrs:{href:"index.php?module="+t.moduleName+"&view=Detail&record="+e.id}},[t._v(t._s(e.subject))])],1)],1)}))],2)]}}])}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.activeCategory||"accounts"===t.tab,expression:"activeCategory !== '' || tab === 'accounts'"}]},[i("q-separator",{directives:[{name:"show",rawName:"v-show",value:t.featuredCategories.length,expression:"featuredCategories.length"}]}),t._v(" "),i("articles-list",{attrs:{data:t.selectedTabData.records,title:t.translate("JS_KB_ARTICLES")},on:{onClickRecord:function(e){t.previewDialog=!0}}})],1)],1),t._v(" "),i("articles-list",{directives:[{name:"show",rawName:"v-show",value:t.searchData,expression:"searchData"}],attrs:{data:t.searchDataArray,title:t.translate("JS_KB_ARTICLES")},on:{onClickRecord:function(e){t.previewDialog=!0}}})],1)],1)],1),t._v(" "),i("article-preview",{attrs:{isDragResize:"",previewDialog:t.previewDialog},on:{"update:previewDialog":function(e){t.previewDialog=e},"update:preview-dialog":function(e){t.previewDialog=e},onDialogToggle:t.onDialogToggle}})],1)},staticRenderFns:[]},(function(t){t&&t("data-v-9bb402d4_0",{source:".tree-search{min-width:320px;width:50%}.tree-search .q-field__control,.tree-search .q-field__marginal{height:40px}",map:void 0,media:void 0})}),{name:"KnowledgeBase",components:{YfIcon:r,IconInfo:a,Carousel:m,ArticlesList:bt,ArticlePreview:Dt,ColumnsGrid:h,CategoriesList:Rt},props:{coordinates:{type:Object,default:function(){return{width:0,height:0,top:0,left:0}}}},data:function(){return{drawerBehaviour:"desktop",miniState:!1,left:!0,filter:"",accountSearch:"",categorySearch:!1,searchData:!1,activeCategory:"",activeAccount:"",previewDialog:!1,tab:"categories",showAccounts:!1,data:{categories:[],records:[],featured:{}},accountsData:{categories:[],records:[],featured:{}},accounts:[]}},computed:n({},Tt(["tree","record","iconSize","moduleName","maximized","defaultTreeIcon"]),{accountsList:function(){var t=this;return""===this.accountSearch?this.accounts:this.accounts.filter((function(e){return e.name.toLowerCase().includes(t.accountSearch.toLowerCase())}))},selectedTabData:function(){return"categories"===this.tab?this.data:this.accountsData},searchDataArray:function(){return this.searchData?this.searchData:[]},featuredCategories:function(){var t=this;return void 0===this.selectedTabData.featured.length&&this.selectedTabData.categories?this.selectedTabData.categories.map((function(e){return!!t.selectedTabData.featured[e]&&e})).filter((function(t){return"string"==typeof t})):[]},inputFocus:{set:function(t){return!1},get:function(){return this.filter.length>0}}}),methods:n({},Bt(["fetchRecord","fetchCategories"]),{onTabChange:function(t){0===this.accounts.length&&"accounts"===t&&this.fetchAccounts()},fetchAccounts:function(){var t=this,e=$.Deferred(),i=$.progressIndicator({blockInfo:{enabled:!0}});return AppConnector.request({module:this.moduleName,action:"KnowledgeBaseAjax",mode:"getAccounts"}).done((function(n){var o=n.result;o&&(o=Object.keys(o).map((function(t){return{name:o[t],id:t}}))),t.accounts=o,i.progressIndicator({mode:"hide"}),e.resolve(o)}))},search:function(){this.filter.length>=3?this.debouncedSearch():this.searchData=!1},clearSearch:function(){this.filter="",this.searchData=!1},fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=$.Deferred();null!==e&&(this.activeCategory=e);var r=$.progressIndicator({blockInfo:{enabled:!0}});return AppConnector.request({module:this.moduleName,action:"KnowledgeBaseAjax",mode:"list",category:e,accountid:i}).done((function(e){var a=e.result;a.showAccounts&&(t.showAccounts=!0),a.records&&(a.records=Object.keys(a.records).map((function(t){return n({},a.records[t],{id:t})}))),""!==i?t.accountsData=a:t.data=a,r.progressIndicator({mode:"hide"}),o.resolve(a)}))},openQuickCreateModal:function(){(new window.Vtiger_Header_Js).quickCreateModule(this.moduleName)},showArticlePreview:function(t){var e=this;this.fetchRecord(t).then((function(){e.previewDialog=!0}))},toggleDrawer:function(){this.$refs.drawer.belowBreakpoint?this.left=!this.left:this.miniState=!this.miniState},onDialogToggle:function(t){this.previewDialog=t}}),created:function(){var t=this;this.fetchCategories().then((function(e){t.fetchData()}))},mounted:function(){var t=this;this.debouncedSearch=Quasar.utils.debounce((function(){if(!(t.filter.length<3)){var e=$.Deferred(),i=$.progressIndicator({blockInfo:{enabled:!0}});AppConnector.request({module:t.moduleName,action:"KnowledgeBaseAjax",mode:"search",value:t.filter,category:t.categorySearch?t.activeCategory:""}).done((function(o){var r=o.result;return r&&(r=Object.keys(r).map((function(t){return n({},r[t],{id:t})}))),t.searchData=r,e.resolve(r),i.progressIndicator({mode:"hide"}),r}))}}),1e3)}},void 0,!1,void 0,u,void 0),Mt=o({render:function(){var t=this.$createElement,e=this._self._c||t;return e("a",{class:["grabbable text-decoration-none",this.linkClass],attrs:{href:"#"}},[e("q-icon",{class:[this.grabClass],attrs:{size:this.size,name:"mdi-drag"}})],1)},staticRenderFns:[]},(function(t){t&&t("data-v-eae52636_0",{source:".grabbable[data-v-eae52636]:hover{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.grabbable[data-v-eae52636]:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}",map:void 0,media:void 0})}),{name:"ButtonGrab",props:{grabClass:{type:String},size:{type:String,required:!1},linkClass:{type:String,default:"q-px-xs"}}},"data-v-eae52636",!1,void 0,u,void 0),Ot=dt("KnowledgeBase"),$t=Ot.mapGetters,It=Ot.mapActions,Nt=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-dialog",{attrs:{maximized:t.maximized,"transition-show":"slide-up","transition-hide":"slide-down","content-class":"quasar-reset"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("drag-resize",{attrs:{coordinates:t.coordinates,maximized:t.maximized},on:{"update:coordinates":function(e){t.coordinates=e}}},[i("q-card",{staticClass:"KnowledgeBaseModal full-height"},[i("q-bar",{staticClass:"bg-yeti text-white dialog-header",attrs:{dark:""}},[i("div",{staticClass:"flex items-center no-wrap full-width js-drag"},[i("div",{staticClass:"flex items-center"},[i("div",{staticClass:"flex items-center no-wrap ellipsis q-mr-sm-sm"},[i("span",{class:["userIcon-"+t.moduleName,"q-mr-sm"]}),t._v("\n              "+t._s(t.translate("JS_"+t.moduleName.toUpperCase()))+"\n            ")])]),t._v(" "),i("q-space"),t._v(" "),t.$q.platform.is.desktop?[i("ButtonGrab",{directives:[{name:"show",rawName:"v-show",value:!t.maximized,expression:"!maximized"}],staticClass:"flex text-white",attrs:{grabClass:"js-drag",size:"19px"}}),t._v(" "),i("q-btn",{attrs:{dense:"",flat:"",icon:t.maximized?"mdi-window-restore":"mdi-window-maximize"},on:{click:function(e){t.maximized=!t.maximized}}},[i("q-tooltip",[t._v(t._s(t.maximized?t.translate("JS_MINIMIZE"):t.translate("JS_MAXIMIZE")))])],1)]:t._e(),t._v(" "),i("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"mdi-close"}},[i("q-tooltip",[t._v(t._s(t.translate("JS_CLOSE")))])],1)],2)]),t._v(" "),i("div",[i("knowledge-base",{attrs:{coordinates:t.coordinates}})],1)],1)],1)],1)},staticRenderFns:[]},(function(t){t&&t("data-v-61da9b82_0",{source:".dialog-header{padding-top:3px!important;padding-bottom:3px!important;height:unset!important}.modal-full-height{max-height:calc(100vh - 31.14px)!important}.contrast-50{filter:contrast(50%)}",map:void 0,media:void 0})}),{name:"KnowledgeBaseModal",components:{KnowledgeBase:Lt,DragResize:Ct,ButtonGrab:Mt},data:function(){return{coordinates:{width:Quasar.plugins.Screen.width-100,height:Quasar.plugins.Screen.height-100,top:0,left:Quasar.plugins.Screen.width-(Quasar.plugins.Screen.width-50)}}},computed:n({},$t(["maximized","moduleName"]),{dialog:{set:function(t){this.$store.commit("KnowledgeBase/setDialog",t)},get:function(){return this.$store.getters["KnowledgeBase/dialog"]}},maximized:{set:function(t){this.$store.commit("KnowledgeBase/setMaximized",t)},get:function(){return this.$store.getters["KnowledgeBase/maximized"]}}}),methods:n({},It(["fetchCategories","initState"])),created:function(){this.initState(this.$options.state)}},void 0,!1,void 0,u,void 0),jt=o({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article-preview",{attrs:{isDragResize:!1,maximizedOnly:"",previewDialog:""},scopedSlots:t._u([{key:"headerRight",fn:function(){return[i("q-btn",{attrs:{dense:"",flat:"",icon:"mdi-close"},on:{click:t.hideModal}},[i("q-tooltip",[t._v(t._s(t.translate("JS_CLOSE")))])],1)]},proxy:!0}])})},staticRenderFns:[]},void 0,{name:"ArticlePreviewModal",components:{ArticlePreview:Dt},created:function(){var t=this;this.initState(this.$options.state),this.fetchCategories(),this.fetchRecord(this.$options.state.recordId),document.addEventListener("keyup",(function(e){27===e.keyCode&&t.hideModal()}))},methods:n({hideModal:function(){app.hideModalWindow(),this.initState({record:!1}),this.$destroy()}},(0,dt("KnowledgeBase").mapActions)(["fetchCategories","fetchRecord","initState"]))},void 0,!1,void 0,void 0,void 0);Vue.use(ft);var Pt="production"!==N.env.NODE_ENV;void 0===window.vuexStore&&(window.vuexStore=new ft.Store({strict:Pt}));var Ht=window.vuexStore,Kt={namespaced:!0,state:{defaultTreeIcon:"mdi-subdirectory-arrow-right",record:!1,dialog:!1,maximized:!0,moduleName:"",iconSize:"18px",tree:{topCategory:{icon:"mdi-file-tree",label:"JS_KB_MAIN_CATEGORIES"},categories:{}}},getters:{moduleName:function(t){return t.moduleName},record:function(t){return t.record},dialog:function(t){return t.dialog},maximized:function(t){return t.maximized},previewDialog:function(t){return t.previewDialog},previewMaximized:function(t){return t.previewMaximized},coordinates:function(t){return t.coordinates},iconSize:function(t){return t.iconSize},tree:function(t){return t.tree},defaultTreeIcon:function(t){return t.defaultTreeIcon}},actions:{fetchRecord:function(t,e){t.state;var i=t.commit,o=t.getters,r=$.Deferred(),a=$.progressIndicator({blockInfo:{enabled:!0}});return AppConnector.request({module:o.moduleName,action:"KnowledgeBaseAjax",mode:"detail",record:e}).done((function(t){var e=t.result;e.related.base.Articles&&(e.related.base.Articles=Object.keys(e.related.base.Articles).map((function(t){return n({},e.related.base.Articles[t],{id:t})}))),i("setRecord",e),a.progressIndicator({mode:"hide"}),r.resolve(e)}))},fetchCategories:function(t){t.state;var e=t.commit,i=t.getters,n=$.Deferred();return AppConnector.request({module:i.moduleName,action:"KnowledgeBaseAjax",mode:"categories"}).done((function(t){e("setTreeCategories",t.result),n.resolve(t.result)}))},initState:function(t,e){t.state;(0,t.commit)("setState",e)}},mutations:{setState:function(t,e){t=Object.assign(t,e)},setRecord:function(t,e){t.record=e},setDialog:function(t,e){t.dialog=e},setMaximized:function(t,e){t.maximized=e},setCoordinates:function(t,e){t.coordinates=e},setTreeCategories:function(t,e){t.tree.categories=e}}};
/**
   * Knowledge base module
   *
   * @description Knowledge base vuex module
   * @license YetiForce Public License 3.0
   * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>
   */Vue.config.productionTip=!1;var Yt=dt("KnowledgeBase").mapActions;Ht.registerModule("KnowledgeBase",Kt),Vue.mixin({methods:{translate:function(t){return app.vtranslate(t)}}}),window.KnowledgeBase={component:Lt,mount:function(t){return Lt.state=t.state,new Vue({store:Ht,render:function(t){return t(Lt)},methods:n({},Yt(["fetchCategories","initState"])),created:function(){this.initState(t.state)}}).$mount(t.el)}},window.ArticlePreviewVueComponent={component:jt,mount:function(t){return jt.state=t.state,new Vue({store:Ht,render:function(t){return t(jt)}}).$mount(t.el)}},window.KnowledgeBaseModalVueComponent={component:Nt,mount:function(t){return Nt.state=t.state,new Vue({store:Ht,render:function(t){return t(Nt)}}).$mount(t.el)}}}();
//# sourceMappingURL=KnowledgeBase.vue.js.map
