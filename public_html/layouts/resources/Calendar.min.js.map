{"version":3,"file":"Calendar.min.js","sources":["Calendar.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/** Class representing a calendar. */\nwindow.Calendar_Js = class {\n\t/**\n\t * Create calendar's options.\n\t * @param {jQuery} container\n\t * @param {bool} readonly\n\t */\n\tconstructor(container = $('.js-base-container'), readonly = false, browserHistory = true) {\n\t\tthis.calendarView = false;\n\t\tthis.calendarCreateView = false;\n\t\tthis.container = container;\n\t\tthis.readonly = readonly;\n\t\tthis.eventCreate = app.getMainParams('eventCreate');\n\t\tthis.eventEdit = app.getMainParams('eventEdit');\n\t\tthis.browserHistory = !readonly && browserHistory;\n\t\tthis.sidebarView = {\n\t\t\tlength: 0\n\t\t};\n\t\tthis.browserHistoryConfig = this.browserHistory ? this.setBrowserHistoryOptions() : {};\n\t\tthis.calendarOptions = this.setCalendarOptions();\n\t\tthis.eventTypeKeyName = false;\n\t\tthis.module = app.getModuleName();\n\t}\n\n\t/**\n\t * Set calendar's options.\n\t * @returns {object}\n\t */\n\tsetCalendarOptions() {\n\t\treturn Object.assign(\n\t\t\tthis.setCalendarBasicOptions(),\n\t\t\tthis.setCalendarAdvancedOptions(),\n\t\t\tthis.setCalendarModuleOptions(),\n\t\t\tthis.browserHistoryConfig\n\t\t);\n\t}\n\n\t/**\n\t * Set calendar's basic options.\n\t * @returns {object}\n\t */\n\tsetCalendarBasicOptions() {\n\t\tlet eventLimit = app.getMainParams('eventLimit'),\n\t\t\tuserDefaultActivityView = app.getMainParams('activity_view'),\n\t\t\tdefaultView = app.moduleCacheGet('defaultView'),\n\t\t\tuserDefaultTimeFormat = CONFIG.hourFormat;\n\t\tif (eventLimit == 'true') {\n\t\t\teventLimit = true;\n\t\t} else if (eventLimit == 'false') {\n\t\t\teventLimit = false;\n\t\t} else {\n\t\t\teventLimit = parseInt(eventLimit) + 1;\n\t\t}\n\t\tif (userDefaultActivityView === 'Today') {\n\t\t\tuserDefaultActivityView = app.getMainParams('dayView');\n\t\t} else if (userDefaultActivityView === 'This Week') {\n\t\t\tuserDefaultActivityView = app.getMainParams('weekView');\n\t\t} else if (userDefaultActivityView === 'This Year') {\n\t\t\tuserDefaultActivityView = 'year';\n\t\t} else {\n\t\t\tuserDefaultActivityView = 'month';\n\t\t}\n\t\tif (defaultView != null) {\n\t\t\tuserDefaultActivityView = defaultView;\n\t\t}\n\t\tif (userDefaultTimeFormat == 24) {\n\t\t\tuserDefaultTimeFormat = 'H:mm';\n\t\t} else {\n\t\t\tuserDefaultTimeFormat = 'h:mmt';\n\t\t}\n\n\t\tlet options = {\n\t\t\ttimeFormat: userDefaultTimeFormat,\n\t\t\tslotLabelFormat: userDefaultTimeFormat,\n\t\t\tdefaultView: userDefaultActivityView,\n\t\t\tslotMinutes: 15,\n\t\t\tdefaultEventMinutes: 0,\n\t\t\tforceEventDuration: true,\n\t\t\tdefaultTimedEventDuration: '01:00:00',\n\t\t\teventLimit: eventLimit,\n\t\t\teventLimitText: app.vtranslate('JS_MORE'),\n\t\t\tselectHelper: true,\n\t\t\tscrollTime: app.getMainParams('startHour') + ':00',\n\t\t\tmonthNamesShort: App.Fields.Date.monthsTranslated,\n\t\t\tdayNames: App.Fields.Date.fullDaysTranslated,\n\t\t\tbuttonText: {\n\t\t\t\ttoday: app.vtranslate('JS_CURRENT'),\n\t\t\t\tyear: app.vtranslate('JS_YEAR'),\n\t\t\t\tmonth: app.vtranslate('JS_MONTH'),\n\t\t\t\tweek: app.vtranslate('JS_WEEK'),\n\t\t\t\tday: app.vtranslate('JS_DAY')\n\t\t\t},\n\t\t\tallDayText: app.vtranslate('JS_ALL_DAY')\n\t\t};\n\t\tif (app.moduleCacheGet('start') !== null) {\n\t\t\tlet s = moment(app.moduleCacheGet('start')).valueOf();\n\t\t\tlet e = moment(app.moduleCacheGet('end')).valueOf();\n\t\t\toptions.defaultDate = moment(moment(s + (e - s) / 2).format('YYYY-MM-DD'));\n\t\t}\n\t\treturn Object.assign(this.setCalendarMinimalOptions(), options);\n\t}\n\n\t/**\n\t * Converts the date format.\n\t * @param {string} partOfDate\n\t */\n\tparseDateFormat(partOfDate) {\n\t\tlet parseMonthFormat = {\n\t\t\t'yyyy-mm-dd': 'YYYY-MMMM',\n\t\t\t'mm-dd-yyyy': 'MMMM-YYYY',\n\t\t\t'dd-mm-yyyy': 'MMMM-YYYY',\n\t\t\t'yyyy.mm.dd': 'YYYY.MMMM',\n\t\t\t'mm.dd.yyyy': 'MMMM.YYYY',\n\t\t\t'dd.mm.yyyy': 'MMMM.YYYY',\n\t\t\t'yyyy/mm/dd': 'YYYY/MMMM',\n\t\t\t'mm/dd/yyyy': 'MMMM/YYYY',\n\t\t\t'dd/mm/yyyy': 'MMMM/YYYY'\n\t\t};\n\t\tlet parseWeekAndDayFormat = {\n\t\t\t'yyyy-mm-dd': 'YYYY-MMM-D',\n\t\t\t'mm-dd-yyyy': 'MMM-D-YYYY',\n\t\t\t'dd-mm-yyyy': 'D-MMM-YYYY',\n\t\t\t'yyyy.mm.dd': 'YYYY.MMM.D',\n\t\t\t'mm.dd.yyyy': 'MMM.D.YYYY',\n\t\t\t'dd.mm.yyyy': 'D.MMM.YYYY',\n\t\t\t'yyyy/mm/dd': 'YYYY/MMM/D',\n\t\t\t'mm/dd/yyyy': 'MMM/D/YYYY',\n\t\t\t'dd/mm/yyyy': 'D/MMM/YYYY'\n\t\t};\n\t\tlet formatDate = CONFIG.dateFormat;\n\t\tswitch (partOfDate) {\n\t\t\tcase 'month':\n\t\t\t\treturn parseMonthFormat[formatDate];\n\t\t\tcase 'week':\n\t\t\t\treturn parseWeekAndDayFormat[formatDate];\n\t\t\tcase 'day':\n\t\t\t\treturn parseWeekAndDayFormat[formatDate];\n\t\t}\n\t}\n\n\t/**\n\t * Set calendar's minimal options.\n\t * @returns {object}\n\t */\n\tsetCalendarMinimalOptions() {\n\t\tlet hiddenDays = [];\n\t\tif (app.getMainParams('switchingDays') === 'workDays') {\n\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t}\n\t\treturn {\n\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\tselectable: true,\n\t\t\thiddenDays: hiddenDays,\n\t\t\tmonthNames: App.Fields.Date.fullMonthsTranslated,\n\t\t\tdayNamesShort: App.Fields.Date.daysTranslated\n\t\t};\n\t}\n\n\t/**\n\t * Set calendar's advanced options.\n\t * @returns {object}\n\t */\n\tsetCalendarAdvancedOptions() {\n\t\tlet self = this;\n\t\treturn {\n\t\t\teditable: !this.readonly && this.eventEdit,\n\t\t\tselectable: !this.readonly && this.eventCreate,\n\t\t\theader: {\n\t\t\t\tleft: 'month,' + app.getMainParams('weekView') + ',' + app.getMainParams('dayView'),\n\t\t\t\tcenter: 'title today',\n\t\t\t\tright: 'prev,next'\n\t\t\t},\n\t\t\tallDaySlot: app.getMainParams('allDaySlot'),\n\t\t\tviews: {\n\t\t\t\tbasic: {\n\t\t\t\t\teventLimit: false\n\t\t\t\t},\n\t\t\t\tmonth: {\n\t\t\t\t\ttitleFormat: this.parseDateFormat('month')\n\t\t\t\t},\n\t\t\t\tweek: {\n\t\t\t\t\ttitleFormat: this.parseDateFormat('week')\n\t\t\t\t},\n\t\t\t\tday: {\n\t\t\t\t\ttitleFormat: this.parseDateFormat('day')\n\t\t\t\t}\n\t\t\t},\n\t\t\teventDrop: function (event, delta, revertFunc) {\n\t\t\t\tself.updateEvent(event, delta, revertFunc);\n\t\t\t},\n\t\t\teventResize: function (event, delta, revertFunc) {\n\t\t\t\tself.updateEvent(event, delta, revertFunc);\n\t\t\t},\n\t\t\tviewRender: function () {\n\t\t\t\tself.loadCalendarData();\n\t\t\t},\n\t\t\teventRender: self.eventRenderer,\n\t\t\theight: this.setCalendarHeight(this.container)\n\t\t};\n\t}\n\n\t/**\n\t * Update calendar's event.\n\t * @param {Object} event\n\t * @param {Object} delta\n\t * @param {Object} revertFunc\n\t */\n\tupdateEvent(event, delta, revertFunc) {\n\t\tlet progressInstance = jQuery.progressIndicator({ blockInfo: { enabled: true } });\n\t\tlet start = event.start.format();\n\t\tlet params = {\n\t\t\tmodule: CONFIG.module,\n\t\t\taction: 'Calendar',\n\t\t\tmode: 'updateEvent',\n\t\t\tid: event.id,\n\t\t\tstart: start,\n\t\t\tdelta: delta._data,\n\t\t\tallDay: event.allDay\n\t\t};\n\t\tAppConnector.request(params)\n\t\t\t.done(function (response) {\n\t\t\t\tif (!response['result']) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NO_EDIT_PERMISSION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\trevertFunc();\n\t\t\t\t} else {\n\t\t\t\t\twindow.popoverCache = {};\n\t\t\t\t}\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_EDIT_PERMISSION'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\trevertFunc();\n\t\t\t});\n\t}\n\n\t/**\n\t * Render event.\n\t * @param {Object} event\n\t * @param {jQuery} element\n\t */\n\teventRenderer(event, element) {\n\t\telement.find('.fc-title').html(event.title);\n\t\tif (event.rendering === 'background') {\n\t\t\telement.append(\n\t\t\t\t`<span class=\"js-popover-text d-block\"><span class=\"${event.icon} js-popover-icon mr-1\"></span>${event.title}</span>`\n\t\t\t);\n\t\t\telement.addClass('js-popover-tooltip--ellipsis').attr('data-content', event.title);\n\t\t\tapp.registerPopoverEllipsis({ element });\n\t\t}\n\t}\n\n\t/**\n\t * Returns counted calendar height.\n\t * @returns {(number|string)}\n\t */\n\tsetCalendarHeight() {\n\t\tconst defaultHeightValue = 'auto';\n\t\tif ($(window).width() > 993) {\n\t\t\tlet calendarContainer = this.container.find('.js-calendar__container'),\n\t\t\t\tcalendarPadding;\n\t\t\tif (this.container.hasClass('js-modal-container')) {\n\t\t\t\tcalendarPadding = this.container.find('.js-modal-header').outerHeight(); // modal needs bigger padding to prevent modal's scrollbar\n\t\t\t} else {\n\t\t\t\tcalendarPadding = this.container.find('.js-contents-div').css('margin-left').replace('px', ''); //equals calendar padding bottom to left margin\n\t\t\t}\n\t\t\tlet setCalendarH = () => {\n\t\t\t\treturn (\n\t\t\t\t\t$(window).height() -\n\t\t\t\t\tthis.container.find('.js-calendar__container').offset().top -\n\t\t\t\t\t$('.js-footer').height() -\n\t\t\t\t\tcalendarPadding\n\t\t\t\t);\n\t\t\t};\n\t\t\tnew ResizeSensor(this.container.find('.contentsDiv'), () => {\n\t\t\t\tcalendarContainer.fullCalendar('option', 'height', setCalendarH());\n\t\t\t});\n\t\t}\n\t\treturn defaultHeightValue;\n\t}\n\n\t/**\n\t * Set calendar module's options.\n\t * @returns {object}\n\t */\n\tsetCalendarModuleOptions() {\n\t\treturn {};\n\t}\n\n\t/**\n\t * Set calendar options from browser history.\n\t * @returns {object}\n\t */\n\tsetBrowserHistoryOptions() {\n\t\tlet historyParams = app.getMainParams('historyParams', true),\n\t\t\toptions = null;\n\t\tif (historyParams && (historyParams.length || Object.keys(historyParams).length)) {\n\t\t\toptions = {\n\t\t\t\tstart: historyParams.start,\n\t\t\t\tend: historyParams.end,\n\t\t\t\ttime: historyParams.time,\n\t\t\t\thiddenDays: historyParams.hiddenDays.split(',').map((x) => {\n\t\t\t\t\tlet parsedValue = parseInt(x);\n\t\t\t\t\treturn isNaN(parsedValue) ? '' : parsedValue;\n\t\t\t\t}),\n\t\t\t\tcvid: historyParams.cvid,\n\t\t\t\tdefaultView: historyParams.viewType,\n\t\t\t\tuser: historyParams.user\n\t\t\t};\n\t\t\tlet dateFormat = CONFIG.dateFormat.toUpperCase();\n\t\t\tlet s = moment(options.start, dateFormat).valueOf();\n\t\t\tlet e = moment(options.end, dateFormat).valueOf();\n\t\t\toptions.defaultDate = moment(moment(s + (e - s) / 2).format('YYYY-MM-DD'));\n\t\t\tObject.keys(options).forEach((key) => options[key] === 'undefined' && delete options[key]);\n\t\t\tapp.moduleCacheSet('browserHistoryEvent', false);\n\t\t\tapp.setMainParams('showType', options.time);\n\t\t\tapp.setMainParams('usersId', options.user);\n\t\t\tapp.setMainParams('defaultView', options.defaultView);\n\t\t}\n\t\twindow.addEventListener(\n\t\t\t'popstate',\n\t\t\tfunction (event) {\n\t\t\t\tapp.moduleCacheSet('browserHistoryEvent', true);\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t\treturn options;\n\t}\n\t/**\n\t * Register filters\n\t */\n\tregisterFilters() {\n\t\tconst thisInstance = this;\n\t\tlet aDeferred = jQuery.Deferred();\n\t\tlet sideBar = thisInstance.getSidebarView();\n\t\tif (!sideBar || sideBar.length <= 0) {\n\t\t\taDeferred.resolve(true);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tsideBar.find('.js-sidebar-filter-container').each((_, row) => {\n\t\t\tlet formContainer = $(row);\n\t\t\tthisInstance.registerUsersChange(formContainer);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(formContainer.find('select'));\n\t\t\tapp.showNewScrollbar(formContainer, {\n\t\t\t\tsuppressScrollX: true\n\t\t\t});\n\t\t\tthisInstance.registerFilterForm(formContainer);\n\t\t});\n\t\tthisInstance.registerSelectAll(sideBar);\n\t\treturn aDeferred.promise();\n\t}\n\t/**\n\t * Register filter for users and groups\n\t * @param {jQuery} container\n\t */\n\tregisterFilterForm(container) {\n\t\tif (container.find('.js-filter__search').length) {\n\t\t\tcontainer.find('.js-filter__search').on('keyup', this.findElementOnList.bind(self));\n\t\t}\n\t\tcontainer.find('.js-calendar__filter__select, .filterField').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('cache');\n\t\t\tlet cachedValue = app.moduleCacheGet(name);\n\t\t\tif (element.length > 0 && cachedValue !== undefined) {\n\t\t\t\tif (element.prop('tagName') == 'SELECT') {\n\t\t\t\t\telement.val(cachedValue);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tname &&\n\t\t\t\telement.length > 0 &&\n\t\t\t\tcachedValue === undefined &&\n\t\t\t\t!element.find(':selected').length &&\n\t\t\t\telement.data('selected') !== 0\n\t\t\t) {\n\t\t\t\tlet allOptions = [];\n\t\t\t\telement.find('option').each((i, option) => {\n\t\t\t\t\tallOptions.push($(option).val());\n\t\t\t\t});\n\t\t\t\telement.val(allOptions);\n\t\t\t\tapp.moduleCacheSet(name, cachedValue);\n\t\t\t}\n\n\t\t\telement.off('change');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(element);\n\t\t\telement.on('change', (e) => {\n\t\t\t\tlet item = $(e.currentTarget);\n\t\t\t\tlet value = item.val();\n\t\t\t\tif (value == null) {\n\t\t\t\t\tvalue = '';\n\t\t\t\t}\n\t\t\t\tif (item.attr('type') == 'checkbox') {\n\t\t\t\t\tvalue = element.is(':checked');\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet(item.data('cache'), value);\n\t\t\t\tthis.getCalendarView().fullCalendar('getCalendar').view.options.loadView();\n\t\t\t});\n\t\t});\n\t\tcontainer\n\t\t\t.find('.js-filter__container_checkbox_list .js-filter__item__val')\n\t\t\t.off('change')\n\t\t\t.on('change', (e) => {\n\t\t\t\tthis.getCalendarView().fullCalendar('getCalendar').view.options.loadView();\n\t\t\t});\n\t}\n\n\tregisterUsersChange(formContainer) {\n\t\tformContainer.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id').on('change', () => {\n\t\t\tthis.getCalendarView().fullCalendar('getCalendar').view.options.loadView();\n\t\t});\n\t}\n\t/**\n\t * Register change on select all checkbox\n\t * @param {jQuery} formContainer\n\t */\n\tregisterSelectAll(formContainer) {\n\t\tformContainer.find('.js-select-all').on('change', (e) => {\n\t\t\tlet checkboxSelectAll = $(e.currentTarget);\n\t\t\tlet checkboxes = formContainer.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id');\n\t\t\tif (checkboxSelectAll.is(':checked')) {\n\t\t\t\tcheckboxes.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcheckboxes.prop('checked', false);\n\t\t\t\tformContainer.find('#ownerId' + CONFIG.userId).prop('checked', true);\n\t\t\t}\n\t\t\tlet calendar = this.getCalendarView().fullCalendar('getCalendar');\n\t\t\tif (calendar) {\n\t\t\t\tcalendar.view.options.loadView();\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Register events.\n\t * @returns {object}\n\t */\n\tregisterEvents() {\n\t\tthis.registerFilters();\n\t\tthis.registerSitebarEvents();\n\t\tthis.renderCalendar();\n\t\tthis.registerButtonSelectAll();\n\t\tthis.registerAddButton();\n\t}\n\n\t/**\n\t * Invokes fullcalendar with options.\n\t */\n\trenderCalendar() {\n\t\tthis.getCalendarView().fullCalendar(this.calendarOptions);\n\t}\n\n\t/**\n\t * Register sitebar events.\n\t */\n\tregisterSitebarEvents() {\n\t\t$('.bodyContents').on('Vtiger.Widget.Load.undefined', () => {\n\t\t\tthis.registerSelect2Event();\n\t\t});\n\t}\n\n\t/**\n\t * Load calendar data\n\t */\n\tloadCalendarData() {\n\t\tconst defaultParams = this.getDefaultParams();\n\t\tthis.getCalendarView().fullCalendar('removeEvents');\n\t\tif (!defaultParams.emptyFilters) {\n\t\t\tconst progressInstance = $.progressIndicator();\n\t\t\tAppConnector.request(defaultParams).done((events) => {\n\t\t\t\tthis.getCalendarView().fullCalendar('addEventSource', events.result);\n\t\t\t\tprogressInstance.hide();\n\t\t\t});\n\t\t}\n\t}\n\tgetSidebarView() {\n\t\tif (!this.sidebarView.length) {\n\t\t\tthis.sidebarView = this.container.find('.js-calendar-right-panel');\n\t\t}\n\t\treturn this.sidebarView;\n\t}\n\tgetCurrentCvId() {\n\t\treturn $('.js-calendar__extended-filter-tab .active').parent('.js-filter-tab').data('cvid');\n\t}\n\t/**\n\t * Default params\n\t * @returns {{module: *, action: string, mode: string, start: *, end: *, user: *, emptyFilters: boolean}}\n\t */\n\tgetDefaultParams() {\n\t\tlet formatDate = CONFIG.dateFormat.toUpperCase(),\n\t\t\tview = this.getCalendarView().fullCalendar('getView'),\n\t\t\tcvid = this.getCurrentCvId(),\n\t\t\tusers = app.moduleCacheGet('calendar-users') || CONFIG.userId,\n\t\t\tsideBar = this.getSidebarView();\n\t\tlet params = {\n\t\t\tmodule: this.module ? this.module : CONFIG.module,\n\t\t\taction: 'Calendar',\n\t\t\tmode: 'getEvents',\n\t\t\tstart: view.start.format(formatDate),\n\t\t\tend: view.end.format(formatDate),\n\t\t\tuser: users,\n\t\t\tcvid: cvid,\n\t\t\temptyFilters: users.length === 0\n\t\t};\n\t\tlet filters = [];\n\t\tsideBar.find('.calendarFilters .filterField').each(function () {\n\t\t\tlet element = $(this),\n\t\t\t\tname,\n\t\t\t\tvalue;\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tname = element.val();\n\t\t\t\tvalue = element.prop('checked') ? 1 : 0;\n\t\t\t} else {\n\t\t\t\tname = element.attr('name');\n\t\t\t\tvalue = element.val();\n\t\t\t}\n\t\t\tfilters.push({ name: name, value: value });\n\t\t});\n\t\tif (filters.length) {\n\t\t\tparams.filters = filters;\n\t\t}\n\t\tsideBar.find('.js-sidebar-filter-container').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('name');\n\t\t\tlet cacheName = element.data('cache');\n\t\t\tif (name && cacheName && app.moduleCacheGet(cacheName)) {\n\t\t\t\tparams[name] = app.moduleCacheGet(cacheName);\n\t\t\t\tparams.emptyFilters = !params.emptyFilters && params[name].length === 0;\n\t\t\t}\n\t\t});\n\t\tsideBar.find('.js-filter__container_checkbox_list').each((_, e) => {\n\t\t\tlet filters = [];\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('name');\n\t\t\telement.find('.js-filter__item__val:checked').each(function () {\n\t\t\t\tfilters.push($(this).val());\n\t\t\t});\n\t\t\tif (name) {\n\t\t\t\tparams[name] = filters;\n\t\t\t}\n\t\t});\n\t\tsideBar.find('.js-calendar__filter__select').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.attr('name');\n\t\t\tlet cacheName = element.data('cache');\n\t\t\tif (name) {\n\t\t\t\tparams[name] = cacheName && app.moduleCacheGet(cacheName) ? app.moduleCacheGet(cacheName) : element.val();\n\t\t\t\tparams.emptyFilters = !params.emptyFilters && params[name].length === 0;\n\t\t\t}\n\t\t});\n\t\treturn params;\n\t}\n\n\t/**\n\t * Register select2 event.\n\t */\n\tregisterSelect2Event() {\n\t\tlet self = this;\n\t\t$('.siteBarRight .js-calendar__filter__select').each(function () {\n\t\t\tlet element = $(this);\n\t\t\tlet name = element.data('cache');\n\t\t\tlet cachedValue = app.moduleCacheGet(name);\n\t\t\tif (element.length > 0 && cachedValue !== undefined) {\n\t\t\t\tif (element.prop('tagName') == 'SELECT') {\n\t\t\t\t\telement.val(cachedValue);\n\t\t\t\t}\n\t\t\t} else if (element.length > 0 && cachedValue === undefined && !element.find(':selected').length) {\n\t\t\t\tlet allOptions = [];\n\t\t\t\telement.find('option').each((i, option) => {\n\t\t\t\t\tallOptions.push($(option).val());\n\t\t\t\t});\n\t\t\t\telement.val(allOptions);\n\t\t\t\tapp.moduleCacheSet(name, cachedValue);\n\t\t\t}\n\t\t});\n\t\tlet selectsElements = $('.siteBarRight .select2, .siteBarRight .filterField');\n\t\tselectsElements.off('change');\n\t\tApp.Fields.Picklist.showSelect2ElementView(selectsElements);\n\t\tselectsElements.on('change', function () {\n\t\t\tlet element = $(this);\n\t\t\tlet value = element.val();\n\t\t\tif (value == null) {\n\t\t\t\tvalue = '';\n\t\t\t}\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tvalue = element.is(':checked');\n\t\t\t}\n\t\t\tapp.moduleCacheSet(element.data('cache'), value);\n\t\t\tself.loadCalendarData();\n\t\t});\n\t}\n\n\t/**\n\t * Register button select all.\n\t */\n\tregisterButtonSelectAll() {\n\t\tlet selectBtn = $('.selectAllBtn');\n\t\tselectBtn.on('click', function (e) {\n\t\t\tlet selectAllLabel = $(this).find('.selectAll');\n\t\t\tlet deselectAllLabel = $(this).find('.deselectAll');\n\t\t\tif (selectAllLabel.hasClass('d-none')) {\n\t\t\t\tselectAllLabel.removeClass('d-none');\n\t\t\t\tdeselectAllLabel.addClass('d-none');\n\t\t\t\t$(this).closest('.quickWidget').find('select option').prop('selected', false);\n\t\t\t} else {\n\t\t\t\t$(this).closest('.quickWidget').find('select option').prop('selected', true);\n\t\t\t\tdeselectAllLabel.removeClass('d-none');\n\t\t\t\tselectAllLabel.addClass('d-none');\n\t\t\t}\n\t\t\t$(this).closest('.quickWidget').find('select').trigger('change');\n\t\t});\n\t}\n\n\t/**\n\t * Register add button.\n\t */\n\tregisterAddButton() {\n\t\tconst self = this;\n\t\t$('.js-add').on('click', (e) => {\n\t\t\tself.getCalendarCreateView().done((data) => {\n\t\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\t\tcallbackFunction: (data) => {\n\t\t\t\t\t\tself.addCalendarEvent(data.result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Get calendar create view.\n\t * @returns {promise}\n\t */\n\tgetCalendarCreateView() {\n\t\tlet self = this;\n\t\tlet aDeferred = jQuery.Deferred();\n\n\t\tif (this.calendarCreateView !== false) {\n\t\t\taDeferred.resolve(this.calendarCreateView.clone(true, true));\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tlet progressInstance = jQuery.progressIndicator();\n\t\tthis.loadCalendarCreateView()\n\t\t\t.done(function (data) {\n\t\t\t\tprogressInstance.hide();\n\t\t\t\tself.calendarCreateView = data;\n\t\t\t\taDeferred.resolve(data.clone(true, true));\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tprogressInstance.hide();\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\n\t/**\n\t * Load calendar create view.\n\t * @returns {promise}\n\t */\n\tloadCalendarCreateView() {\n\t\tlet aDeferred = jQuery.Deferred();\n\t\tlet moduleName = app.getModuleName();\n\t\tlet url = 'index.php?module=' + moduleName + '&view=QuickCreateAjax';\n\t\tApp.Components.QuickCreate.getForm(url, moduleName)\n\t\t\t.done(function (data) {\n\t\t\t\taDeferred.resolve(jQuery(data));\n\t\t\t})\n\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\n\t/**\n\t * Add event data to render.\n\t */\n\tgetEventRenderData(calendarDetails) {\n\t\tconst calendar = this.getCalendarView();\n\t\tconst eventObject = {\n\t\t\tid: calendarDetails._recordId,\n\t\t\ttitle: calendarDetails._recordLabel,\n\t\t\tstart: calendar\n\t\t\t\t.fullCalendar('moment', calendarDetails.date_start.value + ' ' + calendarDetails.time_start.value)\n\t\t\t\t.format(),\n\t\t\tend: calendar\n\t\t\t\t.fullCalendar('moment', calendarDetails.due_date.value + ' ' + calendarDetails.time_end.value)\n\t\t\t\t.format(),\n\t\t\tstart_display: calendarDetails.date_start.display_value + ' ' + calendarDetails.time_start.display_value,\n\t\t\tend_display: calendarDetails.due_date.display_value + ' ' + calendarDetails.time_end.display_value,\n\t\t\turl: `index.php?module=${CONFIG.module}&view=Detail&record=${calendarDetails._recordId}`,\n\t\t\tclassName: `js-popover-tooltip--record ownerCBg_${calendarDetails.assigned_user_id.value} picklistCBr_${\n\t\t\t\tCONFIG.module\n\t\t\t}_${\n\t\t\t\t$('.js-calendar__filter__select[data-cache=\"calendar-types\"]').length && calendarDetails[this.eventTypeKeyName]\n\t\t\t\t\t? this.eventTypeKeyName + '_' + calendarDetails[this.eventTypeKeyName]['value']\n\t\t\t\t\t: ''\n\t\t\t}`,\n\t\t\tallDay: typeof calendarDetails.allday === 'undefined' ? false : calendarDetails.allday.value == 'on'\n\t\t};\n\t\treturn eventObject;\n\t}\n\n\tisNewEventToDisplay(eventObject) {\n\t\tlet ownerSelects = $('.js-calendar__filter__select[data-cache=\"calendar-users\"]').add(\n\t\t\t$('.js-calendar__filter__select[data-cache=\"calendar-groups\"]')\n\t\t);\n\t\tif ($.inArray(eventObject.assigned_user_id.value, ownerSelects.val()) < 0) {\n\t\t\tthis.refreshFilterValues(eventObject, ownerSelects);\n\t\t\treturn false;\n\t\t}\n\t\tlet calendarTypes = $('.js-calendar__filter__select[data-cache=\"calendar-types\"]');\n\t\tif (calendarTypes.length) {\n\t\t\tif (!this.eventTypeKeyName) {\n\t\t\t\tthis.setEventTypeKey(eventObject, calendarTypes.data('name'));\n\t\t\t}\n\t\t\tif (\n\t\t\t\tthis.eventTypeKeyName &&\n\t\t\t\tcalendarTypes.val().length &&\n\t\t\t\t$.inArray(eventObject[this.eventTypeKeyName]['value'], calendarTypes.val()) < 0\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\tsetEventTypeKey(eventObject, keyName) {\n\t\tlet self = this;\n\t\tif (keyName && eventObject.keyName !== undefined) {\n\t\t\tself.eventTypeKeyName = keyName;\n\t\t} else {\n\t\t\tObject.keys(eventObject).forEach(function (key, index) {\n\t\t\t\tif (key.endsWith('type')) {\n\t\t\t\t\t// there are different names for event types in modules\n\t\t\t\t\tself.eventTypeKeyName = key;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trefreshFilterValues(eventObject, filtersValues) {\n\t\tif (CONFIG.searchShowOwnerOnlyInList) {\n\t\t\tlet allOptions = [];\n\t\t\tfiltersValues.find('option').each((i, option) => {\n\t\t\t\tallOptions.push($(option).val());\n\t\t\t});\n\t\t\tif ($.inArray(eventObject.assigned_user_id.value, allOptions) < 0) {\n\t\t\t\tAppConnector.request(`module=${CONFIG.module}&view=RightPanel&mode=getUsersList`).done((usersData) => {\n\t\t\t\t\tlet filterUsers = $('.js-calendar__filter--users');\n\t\t\t\t\tlet filterGroups = $('.js-calendar__filter--groups');\n\t\t\t\t\tfilterUsers.html(usersData);\n\t\t\t\t\tif (usersData) {\n\t\t\t\t\t\tfilterUsers.closest('.js-toggle-panel').removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (filterGroups.length) {\n\t\t\t\t\t\tAppConnector.request(`module=${CONFIG.module}&view=RightPanel&mode=getGroupsList`).done((groupsData) => {\n\t\t\t\t\t\t\tfilterGroups.html(groupsData);\n\t\t\t\t\t\t\tif (groupsData) {\n\t\t\t\t\t\t\t\tfilterGroups.closest('.js-toggle-panel').removeClass('d-none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.registerSelect2Event();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.registerSelect2Event();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Add calendar event.\n\t */\n\taddCalendarEvent(eventObject) {\n\t\tif (this.isNewEventToDisplay(eventObject)) {\n\t\t\tthis.getCalendarView().fullCalendar('renderEvent', this.getEventRenderData(eventObject));\n\t\t}\n\t}\n\n\t/**\n\t * Get calendar container.\n\t * @returns {(boolean|jQuery)}\n\t */\n\tgetCalendarView() {\n\t\tif (this.calendarView == false) {\n\t\t\tthis.calendarView = this.container.find('.js-calendar__container');\n\t\t}\n\t\treturn this.calendarView;\n\t}\n};\n\n/**\n *  Class representing a calendar with creating events by day click instead of selecting days.\n * @extends Calendar_Js\n */\nwindow.Calendar_Unselectable_Js = class extends Calendar_Js {\n\t/**\n\t * Set calendar module options.\n\t * @returns {{allDaySlot: boolean, dayClick: object, selectable: boolean}}\n\t */\n\tsetCalendarModuleOptions() {\n\t\tlet self = this;\n\t\treturn {\n\t\t\tallDaySlot: false,\n\t\t\tdayClick: this.eventCreate\n\t\t\t\t? function (date) {\n\t\t\t\t\t\tself.registerDayClickEvent(date.format());\n\t\t\t\t\t\tself.getCalendarView().fullCalendar('unselect');\n\t\t\t\t  }\n\t\t\t\t: false,\n\t\t\tselectable: false\n\t\t};\n\t}\n\n\t/**\n\t * Register day click event.\n\t * @param {string} date\n\t */\n\tregisterDayClickEvent(date) {\n\t\tlet self = this;\n\t\tself.getCalendarCreateView().done(function (data) {\n\t\t\tif (data.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet dateFormat = data.find('[name=\"date_start\"]').data('dateFormat').toUpperCase(),\n\t\t\t\ttimeFormat = data.find('[name=\"time_start\"]').data('format'),\n\t\t\t\tdefaultTimeFormat = 'hh:mm A';\n\t\t\tif (timeFormat == 24) {\n\t\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t\t}\n\t\t\tlet startDateInstance = Date.parse(date);\n\t\t\tlet startDateString = moment(date).format(dateFormat);\n\t\t\tlet startTimeString = moment(date).format(defaultTimeFormat);\n\t\t\tlet endDateInstance = Date.parse(date);\n\t\t\tlet endDateString = moment(date).format(dateFormat);\n\n\t\t\tlet view = self.getCalendarView().fullCalendar('getView');\n\t\t\tlet endTimeString;\n\t\t\tif ('month' == view.name) {\n\t\t\t\tlet diffDays = parseInt((endDateInstance - startDateInstance) / (1000 * 60 * 60 * 24));\n\t\t\t\tif (diffDays > 1) {\n\t\t\t\t\tlet defaultFirstHour = app.getMainParams('startHour');\n\t\t\t\t\tlet explodedTime = defaultFirstHour.split(':');\n\t\t\t\t\tstartTimeString = explodedTime['0'];\n\t\t\t\t\tlet defaultLastHour = app.getMainParams('endHour');\n\t\t\t\t\texplodedTime = defaultLastHour.split(':');\n\t\t\t\t\tendTimeString = explodedTime['0'];\n\t\t\t\t} else {\n\t\t\t\t\tlet now = new Date();\n\t\t\t\t\tstartTimeString = moment(now).format(defaultTimeFormat);\n\t\t\t\t\tendTimeString = moment(now).add(15, 'minutes').format(defaultTimeFormat);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tendTimeString = moment(endDateInstance).add(30, 'minutes').format(defaultTimeFormat);\n\t\t\t}\n\t\t\tdata.find('[name=\"date_start\"]').val(startDateString);\n\t\t\tdata.find('[name=\"due_date\"]').val(endDateString);\n\t\t\tdata.find('[name=\"time_start\"]').val(startTimeString);\n\t\t\tdata.find('[name=\"time_end\"]').val(endTimeString);\n\n\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\tcallbackFunction(data) {\n\t\t\t\t\tself.addCalendarEvent(data.result, dateFormat);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n};\n"],"names":["window","Calendar_Js","container","$","readonly","browserHistory","calendarView","calendarCreateView","eventCreate","app","getMainParams","eventEdit","sidebarView","length","browserHistoryConfig","setBrowserHistoryOptions","calendarOptions","setCalendarOptions","eventTypeKeyName","module","getModuleName","Object","assign","setCalendarBasicOptions","setCalendarAdvancedOptions","setCalendarModuleOptions","eventLimit","userDefaultActivityView","defaultView","moduleCacheGet","userDefaultTimeFormat","CONFIG","hourFormat","parseInt","options","timeFormat","slotLabelFormat","slotMinutes","defaultEventMinutes","forceEventDuration","defaultTimedEventDuration","eventLimitText","vtranslate","selectHelper","scrollTime","monthNamesShort","App","Fields","Date","monthsTranslated","dayNames","fullDaysTranslated","buttonText","today","year","month","week","day","allDayText","s","moment","valueOf","e","defaultDate","format","setCalendarMinimalOptions","partOfDate","parseWeekAndDayFormat","formatDate","dateFormat","hiddenDays","firstDay","firstDayOfWeekNo","selectable","monthNames","fullMonthsTranslated","dayNamesShort","daysTranslated","self","editable","header","left","center","right","allDaySlot","views","basic","titleFormat","parseDateFormat","eventDrop","event","delta","revertFunc","updateEvent","eventResize","viewRender","loadCalendarData","eventRender","eventRenderer","height","setCalendarHeight","progressInstance","jQuery","progressIndicator","blockInfo","enabled","start","params","action","mode","id","_data","allDay","AppConnector","request","done","response","popoverCache","showNotify","text","type","fail","element","find","html","title","rendering","append","icon","addClass","attr","registerPopoverEllipsis","width","calendarPadding","calendarContainer","hasClass","outerHeight","css","replace","setCalendarH","offset","top","ResizeSensor","fullCalendar","historyParams","keys","end","time","split","map","x","parsedValue","isNaN","cvid","viewType","user","toUpperCase","forEach","key","moduleCacheSet","setMainParams","addEventListener","thisInstance","aDeferred","Deferred","sideBar","getSidebarView","resolve","promise","each","_","row","formContainer","registerUsersChange","Picklist","showSelect2ElementView","showNewScrollbar","suppressScrollX","registerFilterForm","registerSelectAll","on","findElementOnList","bind","name","data","cachedValue","prop","val","allOptions","i","option","push","off","item","currentTarget","value","is","getCalendarView","view","loadView","checkboxSelectAll","checkboxes","userId","calendar","registerFilters","registerSitebarEvents","renderCalendar","registerButtonSelectAll","registerAddButton","registerSelect2Event","defaultParams","getDefaultParams","emptyFilters","events","result","hide","parent","getCurrentCvId","users","filters","cacheName","selectsElements","selectBtn","selectAllLabel","deselectAllLabel","removeClass","closest","trigger","getCalendarCreateView","Components","QuickCreate","showModal","callbackFunction","addCalendarEvent","clone","loadCalendarCreateView","moduleName","getForm","textStatus","errorThrown","reject","calendarDetails","eventObject","_recordId","_recordLabel","date_start","time_start","due_date","time_end","start_display","display_value","end_display","url","className","assigned_user_id","allday","ownerSelects","add","inArray","refreshFilterValues","calendarTypes","setEventTypeKey","keyName","endsWith","filtersValues","searchShowOwnerOnlyInList","usersData","filterUsers","filterGroups","groupsData","isNewEventToDisplay","getEventRenderData","Calendar_Unselectable_Js","dayClick","date","registerDayClickEvent","defaultTimeFormat","endTimeString","startDateInstance","parse","startDateString","startTimeString","endDateInstance","endDateString","diffDays","defaultFirstHour","explodedTime","defaultLastHour","now"],"mappings":"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"}