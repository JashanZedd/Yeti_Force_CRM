{"version":3,"file":"Calendar.min.js","sources":["Calendar.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/** Class representing a calendar. */\nwindow.Calendar_Js = class {\n\tstatic monthFormat = {\n\t\t'yyyy-mm-dd': 'YYYY-MMMM',\n\t\t'mm-dd-yyyy': 'MMMM-YYYY',\n\t\t'dd-mm-yyyy': 'MMMM-YYYY',\n\t\t'yyyy.mm.dd': 'YYYY.MMMM',\n\t\t'mm.dd.yyyy': 'MMMM.YYYY',\n\t\t'dd.mm.yyyy': 'MMMM.YYYY',\n\t\t'yyyy/mm/dd': 'YYYY/MMMM',\n\t\t'mm/dd/yyyy': 'MMMM/YYYY',\n\t\t'dd/mm/yyyy': 'MMMM/YYYY'\n\t};\n\tstatic viewsNamesMap = {\n\t\tmonth: 'dayGridMonth',\n\t\tbasicWeek: 'dayGridWeek',\n\t\tbasicDay: 'dayGridDay',\n\t\ttimeGridWeek: 'timeGridWeek',\n\t\ttimeGridDay: 'timeGridDay'\n\t};\n\tstatic viewsNamesLabels = {\n\t\tdayGridMonth: 'month',\n\t\tdayGridWeek: 'week',\n\t\tdayGridDay: 'day',\n\t\tlistWeek: 'week',\n\t\ttimeGridWeek: 'week',\n\t\ttimeGridDay: 'day'\n\t};\n\t/**\n\t * Create calendar's options.\n\t * @param {jQuery} container\n\t * @param {bool} readonly\n\t * @param {boolean} browserHistory\n\t */\n\tconstructor(container = $('.js-base-container'), readonly = false, browserHistory = true) {\n\t\tthis.calendarCreateView = false;\n\t\tthis.container = container;\n\t\tthis.calendarView = container.find('.js-calendar__container');\n\t\tthis.readonly = readonly;\n\t\tthis.eventCreate = app.getMainParams('eventCreate');\n\t\tthis.eventEdit = app.getMainParams('eventEdit');\n\t\tthis.browserHistory = !readonly && browserHistory;\n\t\tthis.sidebarView = {\n\t\t\tlength: 0\n\t\t};\n\t\tthis.startHour = app.getMainParams('startHour');\n\t\tthis.endHour = app.getMainParams('endHour');\n\t\tif (this.startHour == '') {\n\t\t\tthis.startHour = '00';\n\t\t}\n\t\tif (this.endHour == '') {\n\t\t\tthis.endHour = '00';\n\t\t}\n\t\tthis.browserHistoryOptions = {};\n\t\tthis.browserHistoryConfig = this.browserHistory ? this.setBrowserHistoryOptions() : {};\n\t\tthis.calendarOptions = this.setCalendarOptions();\n\t\tthis.eventTypeKeyName = false;\n\t\tthis.module = app.getModuleName();\n\n\t\tapp.event.on('QuickEdit.AfterSaveFinal', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Set calendar's options.\n\t * @returns {object}\n\t */\n\tsetCalendarOptions() {\n\t\treturn Object.assign(\n\t\t\tthis.setCalendarBasicOptions(),\n\t\t\tthis.setCalendarAdvancedOptions(),\n\t\t\tthis.setCalendarModuleOptions(),\n\t\t\tthis.browserHistoryOptions\n\t\t);\n\t}\n\t/**\n\t * Set calendar's basic options.\n\t * @returns {object}\n\t */\n\tsetCalendarBasicOptions() {\n\t\tlet eventLimit = app.getMainParams('eventLimit'),\n\t\t\tuserView = app.getMainParams('activity_view'),\n\t\t\tdefaultView = app.moduleCacheGet('defaultView'),\n\t\t\tuserTimeFormat = CONFIG.hourFormat;\n\t\tif (eventLimit == 'true') {\n\t\t\teventLimit = true;\n\t\t} else if (eventLimit == 'false') {\n\t\t\teventLimit = false;\n\t\t} else {\n\t\t\teventLimit = parseInt(eventLimit) + 1;\n\t\t}\n\t\tif (userView === 'Today') {\n\t\t\tuserView = app.getMainParams('dayView');\n\t\t} else if (userView === 'This Week') {\n\t\t\tuserView = app.getMainParams('weekView');\n\t\t} else if (userView === 'This Year') {\n\t\t\tuserView = 'year';\n\t\t} else {\n\t\t\tuserView = 'dayGridMonth';\n\t\t}\n\t\tif (defaultView != null) {\n\t\t\tuserView = defaultView;\n\t\t}\n\t\tif (userTimeFormat == 24) {\n\t\t\tuserTimeFormat = {\n\t\t\t\thour: '2-digit',\n\t\t\t\tminute: '2-digit',\n\t\t\t\thour12: false,\n\t\t\t\tmeridiem: false\n\t\t\t};\n\t\t} else {\n\t\t\tuserTimeFormat = {\n\t\t\t\thour: 'numeric',\n\t\t\t\tminute: '2-digit',\n\t\t\t\tmeridiem: 'short'\n\t\t\t};\n\t\t}\n\n\t\tlet options = {\n\t\t\teventTimeFormat: userTimeFormat,\n\t\t\tslotLabelFormat: userTimeFormat,\n\t\t\tinitialView: Calendar_Js.viewsNamesMap[userView] ? Calendar_Js.viewsNamesMap[userView] : userView,\n\t\t\tforceEventDuration: true,\n\t\t\tdefaultTimedEventDuration: '01:00:00',\n\t\t\tdayMaxEvents: eventLimit,\n\t\t\tselectMirror: true,\n\t\t\tslotDuration: '00:15:00',\n\t\t\tnowIndicator: true,\n\t\t\tscrollTime: this.startHour + ':00'\n\t\t};\n\t\tif (app.moduleCacheGet('start') !== null && app.moduleCacheGet('start') !== undefined) {\n\t\t\ttry {\n\t\t\t\tlet s = App.Fields.Date.getDateInstance(app.moduleCacheGet('start'));\n\t\t\t\tlet e = App.Fields.Date.getDateInstance(app.moduleCacheGet('end'));\n\t\t\t\toptions.initialDate = App.Fields.Date.dateToDbFormat(new Date(e - (e - s) / 2));\n\t\t\t} catch (_error) {\n\t\t\t\tapp.cacheClear(app.getModuleName() + '_' + 'start');\n\t\t\t\tapp.cacheClear(app.getModuleName() + '_' + 'end');\n\t\t\t}\n\t\t}\n\n\t\treturn Object.assign(this.setCalendarMinimalOptions(), options);\n\t}\n\t/**\n\t * Set calendar's minimal options.\n\t * @returns {object}\n\t */\n\tsetCalendarMinimalOptions() {\n\t\tlet hiddenDays = [];\n\t\tif (app.getMainParams('switchingDays') === 'workDays') {\n\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t}\n\t\treturn {\n\t\t\tnavLinks: true,\n\t\t\tfirstDay: CONFIG.firstDayOfWeekNo,\n\t\t\tselectable: true,\n\t\t\thiddenDays: hiddenDays,\n\t\t\tmoreLinkContent: app.vtranslate('JS_MORE'),\n\t\t\tallDayText: app.vtranslate('JS_ALL_DAY'),\n\t\t\tnoEventsText: app.vtranslate('JS_NO_RECORDS'),\n\t\t\tbuttonText: {\n\t\t\t\ttoday: '',\n\t\t\t\tyear: app.vtranslate('JS_YEAR'),\n\t\t\t\tweek: app.vtranslate('JS_WEEK'),\n\t\t\t\tmonth: app.vtranslate('JS_MONTH'),\n\t\t\t\tday: app.vtranslate('JS_DAY'),\n\t\t\t\tdayGridMonth: app.vtranslate('JS_MONTH'),\n\t\t\t\tdayGridWeek: app.vtranslate('JS_WEEK'),\n\t\t\t\tlistWeek: app.vtranslate('JS_WEEK'),\n\t\t\t\tdayGridDay: app.vtranslate('JS_DAY'),\n\t\t\t\ttimeGridDay: app.vtranslate('JS_DAY'),\n\t\t\t\tlist: app.vtranslate('JS_CALENDAR_LIST')\n\t\t\t},\n\t\t\tbuttonHints: {\n\t\t\t\tprev(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_PREV')} ${buttonText}`;\n\t\t\t\t},\n\t\t\t\tnext(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_NEXT')} ${buttonText}`;\n\t\t\t\t},\n\t\t\t\ttoday(buttonText) {\n\t\t\t\t\treturn `${app.vtranslate('JS_CURRENT')} ${buttonText}`;\n\t\t\t\t}\n\t\t\t},\n\t\t\tviewHint: '$0',\n\t\t\tnavLinkHint: (_dateStr, zonedDate) => {\n\t\t\t\treturn App.Fields.Date.dateToUserFormat(zonedDate);\n\t\t\t},\n\t\t\tdayHeaderContent: (arg) => {\n\t\t\t\tif (this.container.width() < 600) {\n\t\t\t\t\treturn App.Fields.Date.daysTranslated[arg.date.getUTCDay()];\n\t\t\t\t}\n\t\t\t\treturn App.Fields.Date.fullDaysTranslated[arg.date.getUTCDay()];\n\t\t\t}\n\t\t};\n\t}\n\t/**\n\t * Set calendar's advanced options.\n\t * @returns {object}\n\t */\n\tsetCalendarAdvancedOptions() {\n\t\tconst self = this;\n\t\treturn {\n\t\t\teditable: !this.readonly && this.eventEdit == 1,\n\t\t\tselectable: !this.readonly && this.eventCreate == 1,\n\t\t\theaderToolbar: {\n\t\t\t\tleft: 'dayGridMonth,' + app.getMainParams('weekView') + ',' + app.getMainParams('dayView'),\n\t\t\t\tcenter: 'title,today',\n\t\t\t\tright: 'prev,next'\n\t\t\t},\n\t\t\tallDaySlot: app.getMainParams('allDaySlot'),\n\t\t\tviews: {\n\t\t\t\tbasic: {\n\t\t\t\t\tdayMaxEvents: false\n\t\t\t\t},\n\t\t\t\tdayGridMonth: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, 'month');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttimeGridWeek: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, 'week');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttimeGridDay: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, 'day');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlistWeek: {\n\t\t\t\t\ttitleFormat: (args) => {\n\t\t\t\t\t\treturn this.formatDate(args.date, 'week');\n\t\t\t\t\t},\n\t\t\t\t\tdayHeaderContent: (arg) => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\thtml: `<span class=\"fc-list-day-text\">${App.Fields.Date.fullDaysTranslated[arg.date.getDay()]}</span>\n\t\t\t\t\t\t\t<span class=\"fc-list-day-side-text\">${App.Fields.Date.dateToUserFormat(arg.date)}</span>`\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tbasicDay: {\n\t\t\t\t\ttype: 'timeGridDay'\n\t\t\t\t}\n\t\t\t},\n\t\t\teventDrop: self.updateEvent,\n\t\t\teventResize: self.updateEvent,\n\t\t\tdatesSet: (dateInfo) => {\n\t\t\t\tapp.event.trigger('Calendar.DatesSet', dateInfo, this);\n\t\t\t\tself.loadCalendarData();\n\t\t\t},\n\t\t\teventContent: self.eventRenderer,\n\t\t\theight: this.setCalendarHeight()\n\t\t};\n\t}\n\t/**\n\t * Set calendar module's options.\n\t * @returns {object}\n\t */\n\tsetCalendarModuleOptions() {\n\t\treturn {};\n\t}\n\t/**\n\t * Invokes FullCalendar with options.\n\t */\n\trenderCalendar() {\n\t\tthis.fullCalendar = new FullCalendar.Calendar(this.calendarView.get(0), this.calendarOptions);\n\t\tthis.fullCalendar.render();\n\t\tthis.registerViewRenderEvents();\n\t}\n\t/**\n\t * Get calendar container.\n\t * @returns {(boolean|jQuery)}\n\t */\n\tgetCalendarView() {\n\t\tif (!this.calendarView) {\n\t\t\tthis.calendarView = this.container.find('.js-calendar__container');\n\t\t}\n\t\treturn this.calendarView;\n\t}\n\t/**\n\t * Load calendar data\n\t */\n\tloadCalendarData() {\n\t\tconst defaultParams = this.getDefaultParams();\n\t\tthis.fullCalendar.removeAllEvents();\n\t\tif (!defaultParams.emptyFilters) {\n\t\t\tconst progressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(defaultParams).done((events) => {\n\t\t\t\tthis.fullCalendar.addEventSource(events.result);\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t}\n\t}\n\t/**\n\t * Reload calendar data after changing search parameters\n\t */\n\treloadCalendarData() {\n\t\tthis.loadCalendarData();\n\t}\n\t/**\n\t * Default params\n\t * @returns {{module: string, action: string, mode: string, start: string, end: string, user: *, cvid: int, emptyFilters: boolean}}\n\t */\n\tgetDefaultParams() {\n\t\tlet users = app.moduleCacheGet('calendar-users') || CONFIG.userId,\n\t\t\tsideBar = this.getSidebarView(),\n\t\t\tfilters = [],\n\t\t\tparams = {\n\t\t\t\tmodule: this.module ? this.module : CONFIG.module,\n\t\t\t\taction: 'Calendar',\n\t\t\t\tmode: 'getEvents',\n\t\t\t\tstart: App.Fields.Date.dateToUserFormat(this.fullCalendar.view.activeStart),\n\t\t\t\tend: App.Fields.Date.dateToUserFormat(this.fullCalendar.view.activeEnd),\n\t\t\t\tuser: users,\n\t\t\t\tcvid: this.getCurrentCvId(),\n\t\t\t\temptyFilters: users.length === 0\n\t\t\t};\n\t\tsideBar.find('.calendarFilters .filterField').each(function () {\n\t\t\tlet element = $(this),\n\t\t\t\tname,\n\t\t\t\tvalue;\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tname = element.val();\n\t\t\t\tvalue = element.prop('checked') ? 1 : 0;\n\t\t\t} else {\n\t\t\t\tname = element.attr('name');\n\t\t\t\tvalue = element.val();\n\t\t\t}\n\t\t\tfilters.push({ name: name, value: value });\n\t\t});\n\t\tif (filters.length) {\n\t\t\tparams.filters = filters;\n\t\t}\n\t\tsideBar.find('.js-sidebar-filter-container').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('name');\n\t\t\tlet cacheName = element.data('cache');\n\t\t\tif (name && cacheName && app.moduleCacheGet(cacheName)) {\n\t\t\t\tparams[name] = app.moduleCacheGet(cacheName);\n\t\t\t\tparams.emptyFilters = !params.emptyFilters && params[name].length === 0;\n\t\t\t}\n\t\t});\n\t\tsideBar.find('.js-filter__container_checkbox_list').each((_, e) => {\n\t\t\tlet filters = [];\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('name');\n\t\t\telement.find('.js-filter__item__val:checked').each(function () {\n\t\t\t\tfilters.push($(this).val());\n\t\t\t});\n\t\t\tif (name) {\n\t\t\t\tparams[name] = filters;\n\t\t\t}\n\t\t});\n\t\tsideBar.find('.js-calendar__filter__select').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.attr('name');\n\t\t\tlet cacheName = element.data('cache');\n\t\t\tif (name) {\n\t\t\t\tparams[name] = cacheName && app.moduleCacheGet(cacheName) ? app.moduleCacheGet(cacheName) : element.val();\n\t\t\t\tparams.emptyFilters = !params.emptyFilters && params[name].length === 0;\n\t\t\t}\n\t\t});\n\t\treturn params;\n\t}\n\t/**\n\t * Converts the date format.\n\t * @param {object} date\n\t * @param {string} type\n\t * @returns {string}\n\t */\n\tformatDate(date, type) {\n\t\tswitch (type) {\n\t\t\tcase 'month':\n\t\t\t\treturn Calendar_Js.monthFormat[CONFIG.dateFormat]\n\t\t\t\t\t.replace('YYYY', date['year'])\n\t\t\t\t\t.replace('MMMM', App.Fields.Date.fullMonthsTranslated[date['month']]);\n\t\t\tcase 'week':\n\t\t\t\treturn CONFIG.dateFormat\n\t\t\t\t\t.replace('yyyy', date['year'])\n\t\t\t\t\t.replace('mm', App.Fields.Date.monthsTranslated[date['month']])\n\t\t\t\t\t.replace('dd', date['day'] + ' - ' + (date['day'] + 7));\n\t\t\tcase 'day':\n\t\t\t\treturn CONFIG.dateFormat\n\t\t\t\t\t.replace('yyyy', date['year'])\n\t\t\t\t\t.replace('mm', App.Fields.Date.monthsTranslated[date['month']])\n\t\t\t\t\t.replace('dd', date['day']);\n\t\t}\n\t}\n\t/**\n\t * Update calendar's event.\n\t * @param {Object} info\n\t */\n\tupdateEvent(info) {\n\t\tconst progressInstance = jQuery.progressIndicator({ blockInfo: { enabled: true } });\n\t\tAppConnector.request({\n\t\t\tmodule: this.module ? this.module : CONFIG.module,\n\t\t\taction: 'Calendar',\n\t\t\tmode: 'updateEvent',\n\t\t\tid: info.event.id,\n\t\t\tstart: App.Fields.DateTime.dateToUserFormat(info.event.start),\n\t\t\tend: App.Fields.DateTime.dateToUserFormat(info.event.end),\n\t\t\tallDay: info.event.allDay\n\t\t})\n\t\t\t.done(function (response) {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (!response['result']) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NO_EDIT_PERMISSION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tinfo.revert();\n\t\t\t\t} else {\n\t\t\t\t\twindow.popoverCache = {};\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_EDIT_PERMISSION'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\tinfo.revert();\n\t\t\t});\n\t}\n\t/**\n\t * Render event.\n\t * @param {Object} arg\n\t * @returns {Object}\n\t */\n\teventRenderer(arg) {\n\t\tif (arg.event.display === 'background') {\n\t\t\treturn {\n\t\t\t\thtml: `<span class=\"${arg.event.extendedProps.icon} js-popover-icon mr-1\"></span>${arg.event._def.title}`\n\t\t\t};\n\t\t}\n\t}\n\t/**\n\t * Returns counted calendar height.\n\t * @returns {(number|string)}\n\t */\n\tsetCalendarHeight() {\n\t\tlet defaultHeightValue = 'auto';\n\t\tif ($(window).width() > 993) {\n\t\t\tlet calendarPadding;\n\t\t\tif (this.container.hasClass('js-modal-container')) {\n\t\t\t\tcalendarPadding = this.container.find('.js-modal-header').outerHeight(); // modal needs bigger padding to prevent modal's scrollbar\n\t\t\t} else {\n\t\t\t\tcalendarPadding = this.container.find('.js-contents-div').css('margin-left').replace('px', ''); //equals calendar padding bottom to left margin\n\t\t\t}\n\t\t\tlet setCalendarH = () => {\n\t\t\t\treturn (\n\t\t\t\t\t$(window).height() -\n\t\t\t\t\tthis.container.find('.js-calendar__container').offset().top -\n\t\t\t\t\t$('.js-footer').height() -\n\t\t\t\t\tcalendarPadding\n\t\t\t\t);\n\t\t\t};\n\t\t\tdefaultHeightValue = setCalendarH();\n\t\t\tnew ResizeSensor(this.container.find('.contentsDiv'), () => {\n\t\t\t\tlet currentHeight = setCalendarH();\n\t\t\t\tif (currentHeight !== defaultHeightValue) {\n\t\t\t\t\tthis.fullCalendar.setOption('height', currentHeight);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn defaultHeightValue;\n\t}\n\t/**\n\t * Set calendar options from browser history.\n\t * @returns {object}\n\t */\n\tsetBrowserHistoryOptions() {\n\t\tconst historyParams = app.getMainParams('historyParams', true);\n\t\tlet options = {};\n\t\tif (historyParams && (historyParams.length || Object.keys(historyParams).length)) {\n\t\t\tlet s = App.Fields.Date.getDateInstance(historyParams.start);\n\t\t\tlet e = App.Fields.Date.getDateInstance(historyParams.end);\n\t\t\tthis.browserHistoryOptions = {\n\t\t\t\tinitialView: historyParams.viewType,\n\t\t\t\tinitialDate: App.Fields.Date.dateToDbFormat(new Date(e - (e - s) / 2)),\n\t\t\t\thiddenDays: historyParams.hiddenDays.split(',').map((x) => {\n\t\t\t\t\tlet parsedValue = parseInt(x);\n\t\t\t\t\treturn isNaN(parsedValue) ? '' : parsedValue;\n\t\t\t\t})\n\t\t\t};\n\t\t\toptions = {\n\t\t\t\tstart: historyParams.start,\n\t\t\t\tend: historyParams.end,\n\t\t\t\ttime: historyParams.time,\n\t\t\t\tuser: historyParams.user,\n\t\t\t\tcvid: historyParams.cvid\n\t\t\t};\n\t\t\tObject.keys(options).forEach((key) => options[key] === 'undefined' && delete options[key]);\n\t\t\tObject.keys(this.browserHistoryOptions).forEach(\n\t\t\t\t(key) => this.browserHistoryOptions[key] === 'undefined' && delete this.browserHistoryOptions[key]\n\t\t\t);\n\t\t\tapp.moduleCacheSet('browserHistoryEvent', false);\n\t\t\tif (historyParams.cvid && historyParams.cvid !== 'undefined') {\n\t\t\t\tapp.moduleCacheSet('CurrentCvId', historyParams.cvid);\n\t\t\t}\n\t\t\tapp.setMainParams('showType', options.time);\n\t\t\tapp.setMainParams('usersId', options.user);\n\t\t\tapp.setMainParams('defaultView', this.browserHistoryOptions);\n\t\t}\n\t\twindow.addEventListener(\n\t\t\t'popstate',\n\t\t\tfunction () {\n\t\t\t\tapp.moduleCacheSet('browserHistoryEvent', true);\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\t\treturn options;\n\t}\n\t/**\n\t * Register filters\n\t */\n\tregisterFilters() {\n\t\tlet sideBar = this.getSidebarView();\n\t\tif (!sideBar || sideBar.length <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tsideBar.find('.js-sidebar-filter-container').each((_, row) => {\n\t\t\tlet formContainer = $(row);\n\t\t\tthis.registerUsersChange(formContainer);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(formContainer.find('select'));\n\t\t\tlet body = formContainer.find('.js-sidebar-filter-body');\n\t\t\tif (body.length) {\n\t\t\t\tapp.showNewScrollbar(body, {\n\t\t\t\t\tsuppressScrollX: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerFilterForm(formContainer);\n\t\t});\n\t\tthis.registerSelectAll(sideBar);\n\t\tif (app.moduleCacheGet('CurrentCvId') !== null) {\n\t\t\tthis.container\n\t\t\t\t.find('.js-calendar__extended-filter-tab [data-cvid=\"' + app.moduleCacheGet('CurrentCvId') + '\"] a')\n\t\t\t\t.addClass('active');\n\t\t}\n\t}\n\t/**\n\t * Register filter for users and groups\n\t * @param {jQuery} container\n\t */\n\tregisterFilterForm(container) {\n\t\tconst self = this;\n\t\tif (container.find('.js-filter__search').length) {\n\t\t\tcontainer.find('.js-filter__search').on('keyup', this.findElementOnList.bind(self));\n\t\t}\n\t\tcontainer.find('.js-calendar__filter__select, .filterField').each((_, e) => {\n\t\t\tlet element = $(e);\n\t\t\tlet name = element.data('cache');\n\t\t\tlet cachedValue = app.moduleCacheGet(name);\n\t\t\tif (element.length > 0 && cachedValue !== undefined) {\n\t\t\t\tif (element.prop('tagName') == 'SELECT') {\n\t\t\t\t\telement.val(cachedValue);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tname &&\n\t\t\t\telement.length > 0 &&\n\t\t\t\tcachedValue === undefined &&\n\t\t\t\t!element.find(':selected').length &&\n\t\t\t\telement.data('selected') !== 0\n\t\t\t) {\n\t\t\t\tlet allOptions = [];\n\t\t\t\telement.find('option').each((i, option) => {\n\t\t\t\t\tallOptions.push($(option).val());\n\t\t\t\t});\n\t\t\t\telement.val(allOptions);\n\t\t\t\tapp.moduleCacheSet(name, cachedValue);\n\t\t\t}\n\t\t\telement.off('change');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(element);\n\t\t\telement.on('change', (e) => {\n\t\t\t\tlet item = $(e.currentTarget);\n\t\t\t\tlet value = item.val();\n\t\t\t\tif (value == null) {\n\t\t\t\t\tvalue = '';\n\t\t\t\t}\n\t\t\t\tif (item.attr('type') == 'checkbox') {\n\t\t\t\t\tvalue = element.is(':checked');\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet(item.data('cache'), value);\n\t\t\t\tself.reloadCalendarData();\n\t\t\t});\n\t\t});\n\t\tcontainer\n\t\t\t.find('.js-filter__container_checkbox_list .js-filter__item__val')\n\t\t\t.off('change')\n\t\t\t.on('change', (e) => {\n\t\t\t\tself.reloadCalendarData();\n\t\t\t});\n\t}\n\t/**\n\t * Find element on list (user, group)\n\t * @param {jQuery.Event} e\n\t */\n\tfindElementOnList(e) {\n\t\tconst target = $(e.target),\n\t\t\tvalue = target.val().toLowerCase(),\n\t\t\tcontainer = target.closest('.js-filter__container');\n\t\tcontainer.find('.js-filter__item__value').filter(function () {\n\t\t\tlet item = $(this).closest('.js-filter__item__container');\n\t\t\tif ($(this).text().trim().toLowerCase().indexOf(value) > -1) {\n\t\t\t\titem.removeClass('d-none');\n\t\t\t} else {\n\t\t\t\titem.addClass('d-none');\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Register users change\n\t * @param {jQuery} formContainer\n\t */\n\tregisterUsersChange(formContainer) {\n\t\tformContainer.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id').on('change', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register change on select all checkbox\n\t * @param {jQuery} formContainer\n\t */\n\tregisterSelectAll(formContainer) {\n\t\tformContainer.find('.js-select-all').on('change', (e) => {\n\t\t\tlet checkboxSelectAll = $(e.currentTarget);\n\t\t\tlet checkboxes = formContainer.find('.js-input-user-owner-id-ajax, .js-input-user-owner-id');\n\t\t\tif (checkboxSelectAll.is(':checked')) {\n\t\t\t\tcheckboxes.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcheckboxes.prop('checked', false);\n\t\t\t\tformContainer.find('#ownerId' + CONFIG.userId).prop('checked', true);\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register sidebar events.\n\t */\n\tregisterSidebarEvents() {\n\t\t$('.bodyContents').on('Vtiger.Widget.Load.undefined', () => {\n\t\t\tthis.registerSelect2Event();\n\t\t});\n\t}\n\t/**\n\t * Get sidebar view panel\n\t * @returns {jQuery}\n\t */\n\tgetSidebarView() {\n\t\tif (!this.sidebarView || !this.sidebarView.length) {\n\t\t\tthis.sidebarView = this.container.find('.js-calendar-right-panel');\n\t\t}\n\t\treturn this.sidebarView;\n\t}\n\t/**\n\t * Get current cv id\n\t * @returns {int}\n\t */\n\tgetCurrentCvId() {\n\t\tlet tab = $('.js-calendar__container .js-calendar__extended-filter-tab');\n\t\tif (tab.length === 0) {\n\t\t\ttab = $('.js-calendar__header-buttons .js-calendar__extended-filter-tab');\n\t\t}\n\t\treturn tab.find('.active').parent().data('cvid');\n\t}\n\t/**\n\t * Register select2 event.\n\t */\n\tregisterSelect2Event() {\n\t\tconst self = this;\n\t\t$('.siteBarRight .js-calendar__filter__select').each(function () {\n\t\t\tlet element = $(this);\n\t\t\tlet name = element.data('cache');\n\t\t\tlet cachedValue = app.moduleCacheGet(name);\n\t\t\tif (element.length > 0 && cachedValue !== undefined) {\n\t\t\t\tif (element.prop('tagName') == 'SELECT') {\n\t\t\t\t\telement.val(cachedValue);\n\t\t\t\t}\n\t\t\t} else if (element.length > 0 && cachedValue === undefined && !element.find(':selected').length) {\n\t\t\t\tlet allOptions = [];\n\t\t\t\telement.find('option').each((_i, option) => {\n\t\t\t\t\tallOptions.push($(option).val());\n\t\t\t\t});\n\t\t\t\telement.val(allOptions);\n\t\t\t\tapp.moduleCacheSet(name, cachedValue);\n\t\t\t}\n\t\t});\n\t\tlet selectsElements = $('.siteBarRight .select2, .siteBarRight .filterField');\n\t\tselectsElements.off('change');\n\t\tApp.Fields.Picklist.showSelect2ElementView(selectsElements);\n\t\tselectsElements.on('change', function () {\n\t\t\tlet element = $(this);\n\t\t\tlet value = element.val();\n\t\t\tif (value == null) {\n\t\t\t\tvalue = '';\n\t\t\t}\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tvalue = element.is(':checked');\n\t\t\t}\n\t\t\tapp.moduleCacheSet(element.data('cache'), value);\n\t\t\tself.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register button select all.\n\t */\n\tregisterButtonSelectAll() {\n\t\t$('.selectAllBtn').on('click', function () {\n\t\t\tconst selectAllLabel = $(this).find('.selectAll'),\n\t\t\t\tdeselectAllLabel = $(this).find('.deselectAll');\n\t\t\tif (selectAllLabel.hasClass('d-none')) {\n\t\t\t\tselectAllLabel.removeClass('d-none');\n\t\t\t\tdeselectAllLabel.addClass('d-none');\n\t\t\t\t$(this).closest('.quickWidget').find('select option').prop('selected', false);\n\t\t\t} else {\n\t\t\t\t$(this).closest('.quickWidget').find('select option').prop('selected', true);\n\t\t\t\tdeselectAllLabel.removeClass('d-none');\n\t\t\t\tselectAllLabel.addClass('d-none');\n\t\t\t}\n\t\t\t$(this).closest('.quickWidget').find('select').trigger('change');\n\t\t});\n\t}\n\t/**\n\t * Register add button.\n\t */\n\tregisterAddButton() {\n\t\t$('.js-add').on('click', () => {\n\t\t\tthis.getCalendarCreateView().done((data) => {\n\t\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\tthis.reloadCalendarData();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Get calendar create view.\n\t * @returns {promise}\n\t */\n\tgetCalendarCreateView() {\n\t\tconst self = this,\n\t\t\taDeferred = jQuery.Deferred();\n\t\tif (this.calendarCreateView !== false) {\n\t\t\taDeferred.resolve(this.calendarCreateView);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tlet progressInstance = jQuery.progressIndicator();\n\t\tthis.loadCalendarCreateView()\n\t\t\t.done(function (data) {\n\t\t\t\tprogressInstance.hide();\n\t\t\t\tself.calendarCreateView = data;\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tprogressInstance.hide();\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\t/**\n\t * Load calendar create view.\n\t * @returns {promise}\n\t */\n\tloadCalendarCreateView() {\n\t\tconst aDeferred = jQuery.Deferred(),\n\t\t\tmoduleName = app.getModuleName();\n\t\tApp.Components.QuickCreate.getForm('index.php?module=' + moduleName + '&view=QuickCreateAjax', moduleName)\n\t\t\t.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\t/**\n\t * Function invokes by FullCalendar, sets selected days in form\n\t * @param info\n\t */\n\tselectDays(info) {\n\t\tthis.getCalendarCreateView().done((data) => {\n\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\tself.reloadCalendarData();\n\t\t\t\t},\n\t\t\t\tcallbackPostShown: (modal) => {\n\t\t\t\t\tthis.selectCallbackCreateModal(modal, info);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Callback after shown create modal\n\t * @param {jQuery} modal\n\t */\n\tselectCallbackCreateModal(modal, info) {\n\t\tlet startDate = info.start,\n\t\t\tendDate = info.end;\n\t\tif (info['allDay']) {\n\t\t\tendDate.setDate(endDate.getDate() - 1);\n\t\t}\n\t\tif (info['allDay']) {\n\t\t\tlet startDateSplitted = this.startHour.split(':');\n\t\t\tlet endDateSplitted = this.endHour.split(':');\n\t\t\tstartDate.setHours(startDateSplitted[0], startDateSplitted[1]);\n\t\t\tendDate.setHours(endDateSplitted[0], endDateSplitted[1]);\n\t\t\tif (startDate.toDateString() === endDate.toDateString()) {\n\t\t\t\tlet activityType = modal.find('[name=\"activitytype\"]').val();\n\t\t\t\tlet activityDurations = JSON.parse(modal.find('[name=\"defaultOtherEventDuration\"]').val());\n\t\t\t\tlet minutes = 60;\n\t\t\t\tfor (let i in activityDurations) {\n\t\t\t\t\tif (activityDurations[i].activitytype === activityType) {\n\t\t\t\t\t\tminutes = parseInt(activityDurations[i].duration);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (minutes) {\n\t\t\t\t\tendDate.setMinutes(endDate.getMinutes() + minutes);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tlet dateFormat = CONFIG.dateFormat;\n\t\tlet timeFormat = CONFIG.hourFormat;\n\t\tlet dateField = modal.find('[name=\"date_start\"]');\n\t\tif (dateField.length) {\n\t\t\tdateFormat = dateField.data('dateFormat');\n\t\t}\n\t\tlet timeField = modal.find('[name=\"time_start\"]');\n\t\tif (timeField.length) {\n\t\t\ttimeFormat = timeField.data('format');\n\t\t}\n\t\tlet defaultTimeFormat = '';\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t} else {\n\t\t\tdefaultTimeFormat = 'hh:mm A';\n\t\t}\n\t\tmodal.find('[name=\"date_start\"]').val(App.Fields.Date.dateToUserFormat(startDate, dateFormat));\n\t\tmodal.find('[name=\"due_date\"]').val(App.Fields.Date.dateToUserFormat(endDate, dateFormat));\n\t\tif (modal.find('.js-autofill').prop('checked') === true) {\n\t\t\tCalendar_Edit_Js.getInstance().getFreeTime(modal);\n\t\t} else {\n\t\t\tmodal.find('[name=\"time_start\"]').val(moment(startDate).format(defaultTimeFormat));\n\t\t\tmodal.find('[name=\"time_end\"]').val(moment(endDate).format(defaultTimeFormat));\n\t\t}\n\t}\n\t/**\n\t * Register events.\n\t */\n\tregisterEvents() {\n\t\tthis.registerFilters();\n\t\tthis.registerSidebarEvents();\n\t\tthis.renderCalendar();\n\t\tthis.registerButtonSelectAll();\n\t\tthis.registerAddButton();\n\t}\n};\n"],"names":["window","Calendar_Js","container","$","readonly","browserHistory","calendarCreateView","calendarView","find","eventCreate","app","getMainParams","eventEdit","sidebarView","length","startHour","endHour","browserHistoryOptions","browserHistoryConfig","setBrowserHistoryOptions","calendarOptions","setCalendarOptions","eventTypeKeyName","module","getModuleName","event","on","reloadCalendarData","Object","assign","setCalendarBasicOptions","setCalendarAdvancedOptions","setCalendarModuleOptions","userView","defaultView","moduleCacheGet","userTimeFormat","CONFIG","hourFormat","eventLimit","parseInt","hour","minute","hour12","meridiem","options","eventTimeFormat","slotLabelFormat","initialView","viewsNamesMap","forceEventDuration","defaultTimedEventDuration","dayMaxEvents","selectMirror","slotDuration","nowIndicator","scrollTime","App","Fields","Date","getDateInstance","e","initialDate","dateToDbFormat","s","_error","cacheClear","setCalendarMinimalOptions","hiddenDays","navLinks","firstDay","firstDayOfWeekNo","selectable","moreLinkContent","vtranslate","allDayText","noEventsText","buttonText","today","year","week","month","day","dayGridMonth","dayGridWeek","listWeek","dayGridDay","timeGridDay","list","buttonHints","prev","next","viewHint","navLinkHint","_dateStr","zonedDate","dateToUserFormat","dayHeaderContent","arg","width","daysTranslated","date","getUTCDay","fullDaysTranslated","self","editable","headerToolbar","left","center","right","allDaySlot","views","basic","titleFormat","args","formatDate","timeGridWeek","html","getDay","basicDay","type","eventDrop","updateEvent","eventResize","datesSet","dateInfo","trigger","loadCalendarData","eventContent","eventRenderer","height","setCalendarHeight","fullCalendar","Calendar","get","render","registerViewRenderEvents","defaultParams","getDefaultParams","removeAllEvents","emptyFilters","progressIndicator","blockInfo","enabled","AppConnector","request","done","events","addEventSource","result","progressInstance","mode","users","userId","sideBar","getSidebarView","filters","params","action","start","view","activeStart","end","activeEnd","user","cvid","getCurrentCvId","each","value","element","attr","name","val","prop","push","_","data","cacheName","monthFormat","dateFormat","replace","fullMonthsTranslated","monthsTranslated","info","jQuery","id","DateTime","allDay","response","popoverCache","showNotify","text","revert","fail","display","extendedProps","icon","_def","title","defaultHeightValue","hasClass","outerHeight","css","offset","top","calendarPadding","setCalendarH","currentHeight","setOption","historyParams","keys","viewType","split","map","x","isNaN","parsedValue","time","forEach","key","moduleCacheSet","setMainParams","addEventListener","row","registerUsersChange","formContainer","Picklist","showSelect2ElementView","body","showNewScrollbar","suppressScrollX","registerFilterForm","registerSelectAll","addClass","findElementOnList","bind","cachedValue","allOptions","i","option","off","currentTarget","item","is","target","toLowerCase","closest","filter","trim","indexOf","removeClass","checkboxSelectAll","checkboxes","registerSelect2Event","tab","parent","_i","selectsElements","deselectAllLabel","selectAllLabel","getCalendarCreateView","Components","QuickCreate","showModal","callbackFunction","aDeferred","Deferred","resolve","promise","loadCalendarCreateView","hide","moduleName","getForm","textStatus","errorThrown","reject","callbackPostShown","modal","selectCallbackCreateModal","startDate","endDate","setDate","getDate","startDateSplitted","endDateSplitted","setHours","toDateString","activityDurations","JSON","parse","minutes","activitytype","activityType","duration","setMinutes","getMinutes","timeFormat","dateField","timeField","defaultTimeFormat","Calendar_Edit_Js","getInstance","getFreeTime","moment","format","registerFilters","registerSidebarEvents","renderCalendar","registerButtonSelectAll","registerAddButton","basicWeek"],"mappings":"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"}