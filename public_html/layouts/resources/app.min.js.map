{"version":3,"file":"app.min.js","sources":["app.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nvar App = (window.App = {\n\tComponents: {\n\t\tTree: {\n\t\t\tBasic: class {\n\t\t\t\tconstructor(container = $('.js-tree-container')) {\n\t\t\t\t\tthis.treeInstance = false;\n\t\t\t\t\tthis.treeData = false;\n\t\t\t\t\tthis.generateTree(container);\n\t\t\t\t}\n\n\t\t\t\tgenerateTree(container) {\n\t\t\t\t\tconst slef = this;\n\t\t\t\t\tif (slef.treeInstance === false) {\n\t\t\t\t\t\tslef.treeInstance = container;\n\t\t\t\t\t\tslef.treeInstance\n\t\t\t\t\t\t\t.on('select_node.jstree', function(e, data) {\n\t\t\t\t\t\t\t\tif (data.event !== undefined && $(data.event.target).hasClass('jstree-checkbox')) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata.instance.select_node(data.node.children_d);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('deselect_node.jstree', function(e, data) {\n\t\t\t\t\t\t\t\tif (data.event !== undefined && $(data.event.target).hasClass('jstree-checkbox')) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata.instance.deselect_node(data.node.children_d);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.jstree({\n\t\t\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\t\t\tdata: slef.getRecords(container),\n\t\t\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tplugins: ['search', 'checkbox']\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.registerSearchEvent();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tregisterSearchEvent() {\n\t\t\t\t\tconst self = this;\n\t\t\t\t\tlet searchTimeout = false,\n\t\t\t\t\t\ttreeSearch = $('.js-tree-search');\n\t\t\t\t\ttreeSearch.on('keyup', () => {\n\t\t\t\t\t\tif (searchTimeout) {\n\t\t\t\t\t\t\tclearTimeout(searchTimeout);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsearchTimeout = setTimeout(function() {\n\t\t\t\t\t\t\tvar searchValue = treeSearch.val();\n\t\t\t\t\t\t\tself.treeInstance.jstree(true).search(searchValue);\n\t\t\t\t\t\t}, 250);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tgetRecords(container) {\n\t\t\t\t\tif (this.treeData === false && container !== 'undefined') {\n\t\t\t\t\t\tthis.treeData = JSON.parse(container.find('.js-tree-data').val());\n\t\t\t\t\t}\n\t\t\t\t\treturn this.treeData;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Quick create object used by Header.js and yf plugins\n\t\t *\n\t\t */\n\t\tQuickCreate: {\n\t\t\t/**\n\t\t\t * module quick create data cache\n\t\t\t */\n\t\t\tmoduleCache: {},\n\t\t\t/**\n\t\t\t * createRecord\n\t\t\t *\n\t\t\t * @param   {string}  moduleName\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tcreateRecord(moduleName, params = {}) {\n\t\t\t\tif ('parentIframe' === CONFIG.modalTarget) {\n\t\t\t\t\twindow.parent.App.Components.QuickCreate.createRecord(moduleName, params);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet url = 'index.php?module=' + moduleName + '&view=QuickCreateAjax';\n\t\t\t\tif (undefined === params.callbackFunction) {\n\t\t\t\t\tparams.callbackFunction = function() {};\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t(app.getViewName() === 'Detail' ||\n\t\t\t\t\t\t(app.getViewName() === 'Edit' && app.getRecordId() !== undefined)) &&\n\t\t\t\t\tapp.getParentModuleName() != 'Settings'\n\t\t\t\t) {\n\t\t\t\t\turl += '&sourceModule=' + app.getModuleName();\n\t\t\t\t\turl += '&sourceRecord=' + app.getRecordId();\n\t\t\t\t}\n\t\t\t\tconst progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tthis.getForm(url, moduleName, params).done(data => {\n\t\t\t\t\tthis.showModal(data, params);\n\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Get quick create form\n\t\t\t *\n\t\t\t * @param   {string}  url\n\t\t\t * @param   {string}  moduleName\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {Promise} aDeferred\n\t\t\t */\n\t\t\tgetForm(url, moduleName, params = {}) {\n\t\t\t\tconst aDeferred = $.Deferred();\n\t\t\t\tlet requestParams;\n\t\t\t\tlet isCacheActive = !params.noCache || undefined === params.noCache;\n\t\t\t\tif (isCacheActive) {\n\t\t\t\t\tif (App.Components.QuickCreate.moduleCache[moduleName]) {\n\t\t\t\t\t\taDeferred.resolve(App.Components.QuickCreate.moduleCache[moduleName]);\n\t\t\t\t\t\treturn aDeferred.promise();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trequestParams = url;\n\t\t\t\tif (typeof params.data !== 'undefined') {\n\t\t\t\t\trequestParams = {};\n\t\t\t\t\trequestParams['data'] = params.data;\n\t\t\t\t\trequestParams['url'] = url;\n\t\t\t\t}\n\t\t\t\tAppConnector.request(requestParams).done(function(data) {\n\t\t\t\t\tif (isCacheActive) {\n\t\t\t\t\t\tApp.Components.QuickCreate.moduleCache[moduleName] = data;\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t});\n\t\t\t\treturn aDeferred.promise();\n\t\t\t},\n\t\t\t/**\n\t\t\t * Show modal\n\t\t\t *\n\t\t\t * @param   {string}  html\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tshowModal(html, params = {}) {\n\t\t\t\tapp.showModalWindow(html, container => {\n\t\t\t\t\tconst quickCreateForm = container.find('form[name=\"QuickCreate\"]');\n\t\t\t\t\tconst moduleName = quickCreateForm.find('[name=\"module\"]').val();\n\t\t\t\t\tconst editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\tconst moduleClassName = moduleName + '_QuickCreate_Js';\n\t\t\t\t\teditViewInstance.registerBasicEvents(quickCreateForm);\n\t\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\t\tnew window[moduleClassName]().registerEvents(container);\n\t\t\t\t\t}\n\t\t\t\t\tquickCreateForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\tif (typeof params.callbackPostShown !== 'undefined') {\n\t\t\t\t\t\tparams.callbackPostShown(quickCreateForm);\n\t\t\t\t\t}\n\t\t\t\t\tthis.registerPostLoadEvents(quickCreateForm, params);\n\t\t\t\t\tthis.registerHelpInfo(quickCreateForm);\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register post load events\n\t\t\t *\n\t\t\t * @param   {object}  form jQuery\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {boolean}\n\t\t\t */\n\t\t\tregisterPostLoadEvents(form, params) {\n\t\t\t\tconst submitSuccessCallback = params.callbackFunction || function() {};\n\t\t\t\tconst goToFullFormCallBack = params.goToFullFormcallback || function() {};\n\t\t\t\tform.on('submit', e => {\n\t\t\t\t\tconst form = $(e.currentTarget);\n\t\t\t\t\tif (form.hasClass('not_validation')) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tconst moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\tform.trigger(recordPreSaveEvent, {\n\t\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\tconst moduleInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\t\tconst saveHandler = !!moduleInstance.quickCreateSave\n\t\t\t\t\t\t\t\t? moduleInstance.quickCreateSave\n\t\t\t\t\t\t\t\t: this.save;\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsaveHandler(form).done(data => {\n\t\t\t\t\t\t\t\tconst modalContainer = form.closest('.modalContainer');\n\t\t\t\t\t\t\t\tconst parentModuleName = app.getModuleName();\n\t\t\t\t\t\t\t\tconst viewName = app.getViewName();\n\t\t\t\t\t\t\t\tif (modalContainer.length) {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modalContainer[0].id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (moduleName === parentModuleName && 'List' === viewName) {\n\t\t\t\t\t\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubmitSuccessCallback(data);\n\t\t\t\t\t\t\t\tapp.event.trigger('QuickCreate.AfterSaveFinal', data, form);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_SUCCESS'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//If validation fails in recordPreSaveEvent, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tform.find('.js-full-editlink').on('click', e => {\n\t\t\t\t\tconst form = $(e.currentTarget).closest('form');\n\t\t\t\t\tconst editViewUrl = $(e.currentTarget).data('url');\n\t\t\t\t\tgoToFullFormCallBack(form);\n\t\t\t\t\tthis.goToFullForm(form, editViewUrl);\n\t\t\t\t});\n\n\t\t\t\tthis.registerTabEvents(form);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register help info\n\t\t\t *\n\t\t\t * @param   {object}  container jQuery\n\t\t\t */\n\t\t\tregisterHelpInfo(container = $('form[name=\"QuickCreate\"]')) {\n\t\t\t\tapp.showPopoverElementView(container.find('.js-help-info'));\n\t\t\t},\n\t\t\t/**\n\t\t\t * Function to navigate from quick create to edit iew full form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t */\n\t\t\tgoToFullForm(form) {\n\t\t\t\t//As formData contains information about both view and action removed action and directed to view\n\t\t\t\tform.find('input[name=\"action\"]').remove();\n\t\t\t\tform.append('<input type=\"hidden\" name=\"view\" value=\"Edit\" />');\n\t\t\t\t$.each(form.find('[data-validation-engine]'), function(key, data) {\n\t\t\t\t\t$(data).removeAttr('data-validation-engine');\n\t\t\t\t});\n\t\t\t\tform.addClass('not_validation');\n\t\t\t\tform.submit();\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register tab events\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t */\n\t\t\tregisterTabEvents(form) {\n\t\t\t\tconst tabElements = form.find('.nav.nav-pills , .nav.nav-tabs').find('a');\n\t\t\t\t//This will remove the name attributes and assign it to data-element-name . We are doing this to avoid\n\t\t\t\t//Multiple element to send as in calendar\n\t\t\t\tconst quickCreateTabOnHide = function(target) {\n\t\t\t\t\t$(target)\n\t\t\t\t\t\t.find('[name]')\n\t\t\t\t\t\t.each(function(index, element) {\n\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\t//This will add the name attributes and get value from data-element-name . We are doing this to avoid\n\t\t\t\t//Multiple element to send as in calendar\n\t\t\t\tconst quickCreateTabOnShow = function(target) {\n\t\t\t\t\t$(target)\n\t\t\t\t\t\t.find('[data-element-name]')\n\t\t\t\t\t\t.each(function(index, element) {\n\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\telement.attr('name', element.attr('data-element-name')).removeAttr('data-element-name');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\ttabElements.on('click', function(e) {\n\t\t\t\t\tquickCreateTabOnHide(tabElements.not('[aria-expanded=\"false\"]').attr('data-target'));\n\t\t\t\t\tquickCreateTabOnShow($(this).attr('data-target'));\n\t\t\t\t\t//while switching tabs we have to clear the invalid fields list\n\t\t\t\t\tform.data('jqv').InvalidFields = [];\n\t\t\t\t});\n\t\t\t\t//To show aleady non active element , this we are doing so that on load we can remove name attributes for other fields\n\t\t\t\ttabElements.filter('a:not(.active)').each(function(e) {\n\t\t\t\t\tquickCreateTabOnHide($(this).attr('data-target'));\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Save quick create form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t *\n\t\t\t * @return  {Promise}        aDeferred\n\t\t\t */\n\t\t\tsave(form) {\n\t\t\t\tconst aDeferred = $.Deferred();\n\t\t\t\tconst quickCreateSaveUrl = form.serializeFormData();\n\t\t\t\tAppConnector.request(quickCreateSaveUrl).done(\n\t\t\t\t\tdata => {\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t},\n\t\t\t\t\t(textStatus, errorThrown) => {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t},\n\t\tQuickEdit: {\n\t\t\t/**\n\t\t\t * Show modal\n\t\t\t *\n\t\t\t * @param   {string}  html\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tshowModal(params = {}, element) {\n\t\t\t\tconst self = this;\n\t\t\t\tparams['view'] = 'QuickEditModal';\n\t\t\t\tAppConnector.request(params).done(function(html) {\n\t\t\t\t\tapp.showModalWindow(html, container => {\n\t\t\t\t\t\tlet form = container.find('form[name=\"QuickEdit\"]');\n\t\t\t\t\t\tlet moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t\tlet editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\tlet moduleClassName = moduleName + '_QuickEdit_Js';\n\t\t\t\t\t\teditViewInstance.registerBasicEvents(form);\n\t\t\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\t\t\tnew window[moduleClassName]().registerEvents(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\tif (typeof params.callbackPostShown !== 'undefined') {\n\t\t\t\t\t\t\tparams.callbackPostShown(form, params);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.registerPostLoadEvents(form, params, element);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register post load events\n\t\t\t *\n\t\t\t * @param   {object}  form jQuery\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {boolean}\n\t\t\t */\n\t\t\tregisterPostLoadEvents(form, params, element) {\n\t\t\t\tconst submitSuccessCallback = params.callbackFunction || function() {};\n\t\t\t\tform.on('submit', e => {\n\t\t\t\t\tconst form = $(e.currentTarget);\n\t\t\t\t\tif (form.hasClass('not_validation')) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tconst moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\tform.trigger(recordPreSaveEvent, {\n\t\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\tconst moduleInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\t\tconst saveHandler = !!moduleInstance.quickEditSave\n\t\t\t\t\t\t\t\t? moduleInstance.quickEditSave\n\t\t\t\t\t\t\t\t: this.save;\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsaveHandler(form).done(data => {\n\t\t\t\t\t\t\t\tconst modalContainer = form.closest('.modalContainer');\n\t\t\t\t\t\t\t\tconst parentModuleName = app.getModuleName();\n\t\t\t\t\t\t\t\tconst viewName = app.getViewName();\n\t\t\t\t\t\t\t\tif (modalContainer.length) {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modalContainer[0].id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (moduleName === parentModuleName && 'List' === viewName) {\n\t\t\t\t\t\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubmitSuccessCallback(data);\n\t\t\t\t\t\t\t\tapp.event.trigger('QuickEdit.AfterSaveFinal', data, form, element);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_SUCCESS'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ('Detail' === viewName && app.getRecordId() === form.find('[name=\"record\"]').val()) {\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//If validation fails in recordPreSaveEvent, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Save quick create form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t *\n\t\t\t * @return  {Promise}        aDeferred\n\t\t\t */\n\t\t\tsave(form) {\n\t\t\t\tconst aDeferred = $.Deferred();\n\t\t\t\tlet formData = new FormData(form[0]);\n\t\t\t\tAppConnector.request({\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t}).done(\n\t\t\t\t\tdata => {\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t},\n\t\t\t\t\t(textStatus, errorThrown) => {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t},\n\t\tScrollbar: {\n\t\t\tactive: true,\n\t\t\tdefaults: {\n\t\t\t\tscrollbars: {\n\t\t\t\t\tautoHide: 'leave'\n\t\t\t\t}\n\t\t\t},\n\t\t\tpage: {\n\t\t\t\tinstance: {},\n\t\t\t\telement: null\n\t\t\t},\n\t\t\tinitPage() {\n\t\t\t\tlet scrollbarContainer = $('.mainBody');\n\t\t\t\tif (!scrollbarContainer.length) {\n\t\t\t\t\tscrollbarContainer = $('#page');\n\t\t\t\t}\n\t\t\t\tif (!scrollbarContainer.length) {\n\t\t\t\t\tscrollbarContainer = $('body');\n\t\t\t\t}\n\t\t\t\tif (this.active) {\n\t\t\t\t\tthis.page.instance = this.y(scrollbarContainer);\n\t\t\t\t\tthis.page.element = $(this.page.instance.getElements().viewport);\n\t\t\t\t}\n\t\t\t},\n\t\t\txy(element, options = {}) {\n\t\t\t\treturn element.overlayScrollbars(options).overlayScrollbars();\n\t\t\t},\n\t\t\ty(element, options) {\n\t\t\t\tconst yOptions = {\n\t\t\t\t\toverflowBehavior: {\n\t\t\t\t\t\tx: 'h'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst mergedOptions = Object.assign(this.defaults, options, yOptions);\n\t\t\t\treturn element.overlayScrollbars(mergedOptions).overlayScrollbars();\n\t\t\t}\n\t\t}\n\t}\n});\n\nvar app = (window.app = {\n\t/**\n\t * variable stores client side language strings\n\t */\n\tlanguageString: [],\n\tbreakpoints: {\n\t\txs: 0,\n\t\tsm: 576,\n\t\tmd: 768,\n\t\tlg: 992,\n\t\txl: 1200,\n\t\txxl: 1300,\n\t\txxxl: 1700\n\t},\n\tcacheParams: [],\n\tmodalEvents: [],\n\tmousePosition: { x: 0, y: 0 },\n\tchildFrame: false,\n\ttouchDevice: false,\n\tevent: new (function() {\n\t\tthis.el = $({});\n\t\tthis.trigger = function() {\n\t\t\tthis.el.trigger(arguments[0], Array.prototype.slice.call(arguments, 1));\n\t\t};\n\t\tthis.on = function() {\n\t\t\tthis.el.on.apply(this.el, arguments);\n\t\t};\n\t\tthis.one = function() {\n\t\t\tthis.el.one.apply(this.el, arguments);\n\t\t};\n\t\tthis.off = function() {\n\t\t\tthis.el.off.apply(this.el, arguments);\n\t\t};\n\t})(),\n\t/**\n\t * Function to get the module name. This function will get the value from element which has id module\n\t * @return : string - module name\n\t */\n\tgetModuleName: function() {\n\t\treturn this.getMainParams('module');\n\t},\n\t/**\n\t * Function to get the module name. This function will get the value from element which has id module\n\t * @return : string - module name\n\t */\n\tgetParentModuleName: function() {\n\t\treturn this.getMainParams('parent');\n\t},\n\t/**\n\t * Function returns the current view name\n\t */\n\tgetViewName: function() {\n\t\treturn this.getMainParams('view');\n\t},\n\t/**\n\t * Function returns the record id\n\t */\n\tgetRecordId: function() {\n\t\tvar view = this.getViewName();\n\t\tvar recordId;\n\t\tif ($.inArray(view, ['Edit', 'PreferenceEdit', 'Detail', 'PreferenceDetail', 'DetailPreview']) !== -1) {\n\t\t\trecordId = this.getMainParams('recordId');\n\t\t}\n\t\treturn recordId;\n\t},\n\t/**\n\t * Function which will give you all details of the selected record\n\t * @params {object} params - an object of values like {'record' : recordId, 'module' : searchModule, 'fieldType' : 'email'}\n\t */\n\tgetRecordDetails: function(params) {\n\t\tlet aDeferred = $.Deferred();\n\t\tif (app.getParentModuleName() === 'Settings') {\n\t\t\tparams.parent = 'Settings';\n\t\t}\n\t\tAppConnector.request(Object.assign(params, { action: 'GetData' }))\n\t\t\t.done(function(data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.reject(data.message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function(error) {\n\t\t\t\taDeferred.reject();\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to get language\n\t */\n\tgetLanguage: function() {\n\t\treturn $('body').data('language');\n\t},\n\t/**\n\t * Function to get page title\n\t */\n\tgetPageTitle: function() {\n\t\treturn document.title;\n\t},\n\t/**\n\t * Function gets current window parent\n\t * @returns {object}\n\t */\n\tgetWindowParent() {\n\t\tif (\n\t\t\ttypeof window.frames[0] !== 'undefined' &&\n\t\t\ttypeof window.frames[0].app !== 'undefined' &&\n\t\t\twindow.frames[0].app.childFrame\n\t\t) {\n\t\t\treturn window.frames[0];\n\t\t} else {\n\t\t\treturn window;\n\t\t}\n\t},\n\t/**\n\t * Check if current window is window top\n\t */\n\tisWindowTop() {\n\t\treturn window.top === window.self;\n\t},\n\t/**\n\t * Function gets current window parent\n\t * @returns {boolean}\n\t */\n\tisTouchDevice() {\n\t\tlet supportsTouch = false;\n\t\tif ('ontouchstart' in window) {\n\t\t\t// iOS & android\n\t\t\tsupportsTouch = true;\n\t\t} else if (window.navigator.msPointerEnabled) {\n\t\t\t// Win8\n\t\t\tsupportsTouch = true;\n\t\t} else if ('ontouchstart' in document.documentElement) {\n\t\t\t//additional check\n\t\t\tsupportsTouch = true;\n\t\t}\n\t\tif (supportsTouch) {\n\t\t\t//remove browser scrollbar visibility (doesn't work in firefox, edge and ie)\n\t\t\t$(\"<style type='text/css'> ::-webkit-scrollbar { display: none;} </style>\").appendTo('head');\n\t\t}\n\t\treturn supportsTouch;\n\t},\n\t/**\n\t * Check if string is json\n\t * @param {string} str\n\t * @returns {boolean}\n\t */\n\tisJsonString(str) {\n\t\ttry {\n\t\t\tJSON.parse(str);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\t/**\n\t * Function to set page title\n\t */\n\tsetPageTitle: function(title) {\n\t\tdocument.title = title;\n\t},\n\t/**\n\t * Function to get the contents container\n\t * @returns jQuery object\n\t */\n\tgetContentsContainer: function() {\n\t\treturn $('.bodyContents');\n\t},\n\thidePopover: function(element) {\n\t\tif (typeof element === 'undefined') {\n\t\t\telement = $('body .js-popover-tooltip');\n\t\t}\n\t\telement.popover('hide');\n\t},\n\thidePopoversAfterClick(popoverParent) {\n\t\tpopoverParent.on('mousedown', e => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tpopoverParent.popover('hide');\n\t\t\t}, 100);\n\t\t});\n\t},\n\tregisterPopoverManualTrigger(element, manualTriggerDelay) {\n\t\tconst hideDelay = 500;\n\t\telement.on('mouseleave', e => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet currentPopover = this.getBindedPopover(element);\n\t\t\t\tif (\n\t\t\t\t\t!$(':hover').filter(currentPopover).length &&\n\t\t\t\t\t!currentPopover.find('.js-popover-tooltip--record[aria-describedby]').length\n\t\t\t\t) {\n\t\t\t\t\tcurrentPopover.popover('hide');\n\t\t\t\t}\n\t\t\t}, hideDelay);\n\t\t});\n\n\t\telement.on('mouseenter', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (element.is(':hover')) {\n\t\t\t\t\telement.popover('show');\n\t\t\t\t\tlet currentPopover = this.getBindedPopover(element);\n\t\t\t\t\tcurrentPopover.on('mouseleave', () => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!$(':hover').filter(currentPopover).length &&\n\t\t\t\t\t\t\t\t!currentPopover.find('.js-popover-tooltip--record[aria-describedby]').length\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcurrentPopover.popover('hide'); //close current popover\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!$(':hover').filter($('.popover')).length) {\n\t\t\t\t\t\t\t\t$('.popover').popover('hide'); //close all popovers\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, hideDelay);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, manualTriggerDelay);\n\t\t});\n\n\t\tapp.hidePopoversAfterClick(element);\n\t},\n\tisEllipsisActive(element) {\n\t\tlet clone = element\n\t\t\t.clone()\n\t\t\t.addClass('u-text-ellipsis--not-active')\n\t\t\t.css(element.css(['font-size', 'font-weight', 'font-family']))\n\t\t\t.appendTo('body');\n\t\tclone\n\t\t\t.find('.u-text-ellipsis')\n\t\t\t.removeClass('u-text-ellipsis')\n\t\t\t.addClass('u-text-ellipsis--not-active');\n\t\tif (clone.width() - 1 > element.width()) {\n\t\t\tclone.remove();\n\t\t\treturn true;\n\t\t}\n\t\tclone.remove();\n\t\treturn false;\n\t},\n\tshowPopoverElementView: function(selectElement = $('.js-popover-tooltip'), params = {}) {\n\t\tlet defaultParams = {\n\t\t\ttrigger: 'manual',\n\t\t\tmanualTriggerDelay: 500,\n\t\t\tplacement: 'auto',\n\t\t\thtml: true,\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n\t\t\tcontainer: 'body',\n\t\t\tboundary: 'viewport',\n\t\t\tdelay: { show: 300, hide: 100 }\n\t\t};\n\t\tselectElement.each(function(index, domElement) {\n\t\t\tlet element = $(domElement);\n\t\t\tlet elementParams = $.extend(true, defaultParams, params, element.data());\n\t\t\tif (element.data('class')) {\n\t\t\t\telementParams.template =\n\t\t\t\t\t'<div class=\"popover ' +\n\t\t\t\t\telement.data('class') +\n\t\t\t\t\t'\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>';\n\t\t\t}\n\t\t\tif (element.hasClass('delay0')) {\n\t\t\t\telementParams.delay = { show: 0, hide: 0 };\n\t\t\t}\n\t\t\telement.popover(elementParams);\n\t\t\tif (elementParams.trigger === 'manual' || typeof elementParams.trigger === 'undefined') {\n\t\t\t\tapp.registerPopoverManualTrigger(element, elementParams.manualTriggerDelay);\n\t\t\t}\n\t\t\tif (elementParams.callbackShown) {\n\t\t\t\telement.on('shown.bs.popover', function(e) {\n\t\t\t\t\telementParams.callbackShown(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\telement.addClass('popover-triggered');\n\t\t});\n\t\treturn selectElement;\n\t},\n\tregisterPopoverEllipsis({\n\t\telement = $('.js-popover-tooltip--ellipsis'),\n\t\tparams = { trigger: 'hover focus' },\n\t\tcontainer = $(window)\n\t} = {}) {\n\t\tconst self = this;\n\t\tparams = {\n\t\t\tcallbackShown: () => {\n\t\t\t\tself.setPopoverPosition(element, container);\n\t\t\t},\n\t\t\ttrigger: 'manual',\n\t\t\tplacement: 'right',\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover js-popover--before-positioned\" role=\"tooltip\"><div class=\"popover-body\"></div></div>'\n\t\t};\n\t\tlet popoverText = element.find('.js-popover-text').length ? element.find('.js-popover-text') : element;\n\t\tif (!app.isEllipsisActive(popoverText)) {\n\t\t\telement.addClass('popover-triggered');\n\t\t\treturn;\n\t\t}\n\t\tapp.showPopoverElementView(element, params);\n\t},\n\tregisterPopoverEllipsisIcon(\n\t\tselectElement = $('.js-popover-tooltip--ellipsis-icon'),\n\t\tparams = { trigger: 'hover focus' }\n\t) {\n\t\tselectElement.each(function(index, domElement) {\n\t\t\tlet element = $(domElement);\n\t\t\tlet popoverText = element.find('.js-popover-text').length ? element.find('.js-popover-text') : element;\n\t\t\tif (!app.isEllipsisActive(popoverText)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet iconElement = element.find('.js-popover-icon');\n\t\t\tif (iconElement.length) {\n\t\t\t\telement.find('.js-popover-icon').removeClass('d-none');\n\t\t\t\tparams.selector = '.js-popover-icon';\n\t\t\t}\n\t\t\tapp.showPopoverElementView(element, params);\n\t\t});\n\t},\n\t/**\n\t * Register popover record\n\t * @param {jQuery} selectElement\n\t * @param {object} customParams\n\t */\n\tregisterPopoverRecord: function(\n\t\tselectElement = $('a.js-popover-tooltip--record'),\n\t\tcustomParams = {},\n\t\tcontainer = $(document)\n\t) {\n\t\tconst self = this;\n\t\tlet params = {\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover c-popover--link js-popover--before-positioned\" role=\"tooltip\"><div class=\"popover-body\"></div></div>',\n\t\t\tcontent: '<div class=\"d-none\"></div>',\n\t\t\tmanualTriggerDelay: app.getMainParams('recordPopoverDelay'),\n\t\t\tplacement: 'right',\n\t\t\tcallbackShown: () => {\n\t\t\t\tif (!selectElement.attr('href')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet link = new URL(selectElement.eq(0).attr('href'), window.location.origin);\n\t\t\t\tif (!link.searchParams.get('record') || !link.searchParams.get('view')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet url = link.href;\n\t\t\t\turl = url.replace('view=', 'xview=') + '&view=RecordPopover';\n\t\t\t\tlet currentPopover = self.getBindedPopover(selectElement);\n\t\t\t\tlet popoverBody = currentPopover.find('.popover-body');\n\t\t\t\tpopoverBody.progressIndicator({});\n\t\t\t\tlet appendPopoverData = data => {\n\t\t\t\t\tpopoverBody.progressIndicator({ mode: 'hide' }).html(data);\n\t\t\t\t\tif (typeof customParams.callback === 'function') {\n\t\t\t\t\t\tcustomParams.callback(popoverBody);\n\t\t\t\t\t}\n\t\t\t\t\tself.setPopoverPosition(selectElement, container);\n\t\t\t\t};\n\t\t\t\tlet cacheData = window.popoverCache[url];\n\t\t\t\tif (typeof cacheData !== 'undefined') {\n\t\t\t\t\tappendPopoverData(cacheData);\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(url).done(data => {\n\t\t\t\t\t\twindow.popoverCache[url] = data;\n\t\t\t\t\t\tappendPopoverData(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.showPopoverElementView(selectElement, params);\n\t},\n\t/**\n\t * Update popover record position (overwrite bootstrap positioning, failing on huge elements)\n\t * @param {jQuery} popover\n\t * @param {number} offsetLeft\n\t */\n\tsetPopoverPosition(popoverElement, container = $(window)) {\n\t\tlet popover = this.getBindedPopover(popoverElement);\n\t\tif (!popover.length) {\n\t\t\treturn;\n\t\t}\n\t\tconst iframeOffset = this.computePopoverIframeOffset(popoverElement);\n\t\tlet windowHeight = $(window).height(),\n\t\t\twindowWidth = $(window).width(),\n\t\t\tpopoverPadding = 10,\n\t\t\tpopoverBody = popover.find('.popover-body'),\n\t\t\tpopoverHeight = popoverBody.height(),\n\t\t\tpopoverWidth = popoverBody.width(),\n\t\t\toffsetTop = app.mousePosition.y + iframeOffset.top,\n\t\t\toffsetLeft = app.mousePosition.x + iframeOffset.left;\n\t\tif (popoverHeight + offsetTop + popoverPadding > windowHeight) {\n\t\t\toffsetTop = offsetTop - popoverHeight - popoverPadding;\n\t\t}\n\t\tif (popoverWidth + offsetLeft + popoverPadding > windowWidth) {\n\t\t\toffsetLeft = windowWidth - popoverWidth;\n\t\t}\n\t\tpopover.css({\n\t\t\ttransform: `translate3d(${offsetLeft}px, ${offsetTop}px, 0)`\n\t\t});\n\t\tpopover.removeClass('js-popover--before-positioned');\n\t\tpopoverElement.one('hide.bs.popover', () => {\n\t\t\tpopover.addClass('js-popover--before-positioned');\n\t\t});\n\t},\n\t/**\n\t * Compute popover iframe offset\n\t *\n\t * @param   {Object}  popoverElement  jquery\n\t *\n\t * @return  {Object}                  offset top and left\n\t */\n\tcomputePopoverIframeOffset(popoverElement) {\n\t\tlet iframeOffsetTop = 0;\n\t\tlet iframeOffsetLeft = 0;\n\t\tif (!$(document).find(popoverElement).length) {\n\t\t\tlet iframe = $(document).find('iframe');\n\t\t\tconst iframeOffset = iframe.offset();\n\t\t\tiframeOffsetTop += iframeOffset.top;\n\t\t\tiframeOffsetLeft += iframeOffset.left;\n\t\t\tif (!iframe.contents().find(popoverElement).length) {\n\t\t\t\tlet iframe2 = iframe.contents().find('iframe');\n\t\t\t\tconst iframeOffset2 = iframe2.offset();\n\t\t\t\tiframeOffsetTop += iframeOffset2.top;\n\t\t\t\tiframeOffsetLeft += iframeOffset2.left;\n\t\t\t}\n\t\t}\n\t\treturn { top: iframeOffsetTop, left: iframeOffsetLeft };\n\t},\n\t/**\n\t * Get binded popover\n\t * @param {jQuery} element\n\t * @returns {Mixed|jQuery|HTMLElement}\n\t */\n\tgetBindedPopover(element) {\n\t\treturn $(`#${element.attr('aria-describedby')}`);\n\t},\n\t/**\n\t * Function to check the maximum selection size of multiselect and update the results\n\t * @params <object> multiSelectElement\n\t * @params <object> select2 params\n\t */\n\tregisterChangeEventForMultiSelect: function(selectElement, params) {\n\t\tif (typeof selectElement === 'undefined') {\n\t\t\treturn;\n\t\t}\n\t\tvar instance = selectElement.data('select2');\n\t\tvar limit = params.maximumSelectionLength;\n\t\tselectElement.on('change', function(e) {\n\t\t\tvar data = instance.data();\n\t\t\tif ($.isArray(data) && data.length >= limit) {\n\t\t\t\tinstance.updateResults();\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to get data of the child elements in serialized format\n\t * @params <object> parentElement - element in which the data should be serialized. Can be selector , domelement or jquery object\n\t * @params <String> returnFormat - optional which will indicate which format return value should be valid values \"object\" and \"string\"\n\t * @return <object> - encoded string or value map\n\t */\n\tgetSerializedData: function(parentElement, returnFormat) {\n\t\tif (typeof returnFormat === 'undefined') {\n\t\t\treturnFormat = 'string';\n\t\t}\n\n\t\tparentElement = $(parentElement);\n\n\t\tvar encodedString = parentElement.children().serialize();\n\t\tif (returnFormat == 'string') {\n\t\t\treturn encodedString;\n\t\t}\n\t\tvar keyValueMap = {};\n\t\tvar valueList = encodedString.split('&');\n\n\t\tfor (var index in valueList) {\n\t\t\tvar keyValueString = valueList[index];\n\t\t\tvar keyValueArr = keyValueString.split('=');\n\t\t\tvar nameOfElement = keyValueArr[0];\n\t\t\tvar valueOfElement = keyValueArr[1];\n\t\t\tkeyValueMap[nameOfElement] = decodeURIComponent(valueOfElement);\n\t\t}\n\t\treturn keyValueMap;\n\t},\n\t/**\n\t * Function animates bootstrap modal with animate.css\n\t * @params: jQuery object with class .modal,\n\t * @params: string with animation name,\n\t * @params: string with animation name,\n\t */\n\tanimateModal(modal, openAnimation, closeAnimation) {\n\t\tmodal.on('show.bs.modal', function(e) {\n\t\t\tmodal.removeClass(`animated ${closeAnimation}`);\n\t\t\tmodal.addClass(`animated ${openAnimation}`);\n\t\t});\n\t\tmodal.on('hide.bs.modal', function(e) {\n\t\t\tmodal.removeClass(`animated ${openAnimation}`);\n\t\t\tmodal.addClass(`animated ${closeAnimation}`);\n\t\t});\n\t},\n\tshowModalData(data, container, paramsObject, cb, url, sendByAjaxCb) {\n\t\tconst thisInstance = this;\n\t\tlet params = {\n\t\t\tshow: true\n\t\t};\n\t\tif (!app.getMainParams('backgroundClosingModal')) {\n\t\t\tparams.backdrop = 'static';\n\t\t\tparams.keyboard = false;\n\t\t}\n\t\tif (typeof paramsObject === 'object') {\n\t\t\tcontainer.css(paramsObject);\n\t\t\tparams = $.extend(params, paramsObject);\n\t\t}\n\t\tcontainer.html(data);\n\t\tif (container.find('.modal').hasClass('static')) {\n\t\t\tparams.backdrop = 'static';\n\t\t}\n\t\t// In a modal dialog elements can be specified which can receive focus even though they are not descendants of the modal dialog.\n\t\t$.fn.modal.Constructor.prototype.enforceFocus = function(e) {\n\t\t\t$(document)\n\t\t\t\t.off('focusin.bs.modal') // guard against infinite focus loop\n\t\t\t\t.on(\n\t\t\t\t\t'focusin.bs.modal',\n\t\t\t\t\t$.proxy(function(e) {\n\t\t\t\t\t\tif ($(e.target).hasClass('select2-search__field')) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this)\n\t\t\t\t);\n\t\t};\n\t\tconst modalContainer = container.find('.modal:first');\n\t\tmodalContainer.one('shown.bs.modal', function() {\n\t\t\tcb(modalContainer);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(modalContainer.find('select.select2'));\n\t\t\tApp.Fields.Date.register(modalContainer);\n\t\t\tnew App.Fields.Text.Editor(modalContainer.find('.js-editor'), {\n\t\t\t\theight: '5em',\n\t\t\t\ttoolbar: 'Min'\n\t\t\t});\n\t\t\tapp.registesterScrollbar(modalContainer);\n\t\t});\n\t\t$('body').append(container);\n\t\tmodalContainer.modal(params);\n\t\tthisInstance.registerModalEvents(modalContainer, sendByAjaxCb);\n\t\tthisInstance.registerDataTables(modalContainer.find('.dataTable'));\n\t},\n\tshowModalWindow: function(data, url, cb, paramsObject = {}) {\n\t\tif (!app.isCurrentWindowTarget('app.showModalWindow', arguments)) {\n\t\t\treturn false;\n\t\t}\n\t\tconst thisInstance = this;\n\t\tlet sendByAjaxCb;\n\t\tWindow.lastModalId =\n\t\t\t'modal_' +\n\t\t\tMath.random()\n\t\t\t\t.toString(36)\n\t\t\t\t.substr(2, 9);\n\t\t//null is also an object\n\t\tif (typeof data === 'object' && data != null && !(data instanceof $)) {\n\t\t\tif (data.id != undefined) {\n\t\t\t\tWindow.lastModalId = data.id;\n\t\t\t}\n\t\t\tparamsObject = data.css;\n\t\t\tcb = data.cb;\n\t\t\turl = data.url;\n\t\t\tif (data.sendByAjaxCb !== 'undefined') {\n\t\t\t\tsendByAjaxCb = data.sendByAjaxCb;\n\t\t\t}\n\t\t\tdata = data.data;\n\t\t}\n\t\tif (typeof url === 'function') {\n\t\t\tif (typeof cb === 'object') {\n\t\t\t\tparamsObject = cb;\n\t\t\t}\n\t\t\tcb = url;\n\t\t\turl = false;\n\t\t} else if (typeof url === 'object') {\n\t\t\tcb = function() {};\n\t\t\tparamsObject = url;\n\t\t\turl = false;\n\t\t}\n\t\tif (typeof cb !== 'function') {\n\t\t\tcb = function() {};\n\t\t}\n\t\tif (typeof sendByAjaxCb !== 'function') {\n\t\t\tsendByAjaxCb = function() {};\n\t\t}\n\t\tif (paramsObject !== undefined && paramsObject.modalId !== undefined) {\n\t\t\tWindow.lastModalId = paramsObject.modalId;\n\t\t}\n\t\t// prevent duplicate hash generation\n\t\tlet container = $('#' + Window.lastModalId);\n\t\tif (container.length) {\n\t\t\tcontainer.remove();\n\t\t}\n\t\tcontainer = $('<div></div>');\n\t\tcontainer.attr('id', Window.lastModalId).addClass('modalContainer js-modal-container');\n\t\tcontainer.one('hidden.bs.modal', function() {\n\t\t\tcontainer.remove();\n\t\t\tlet backdrop = $('.modal-backdrop');\n\t\t\tif (!$('.modal.show').length) {\n\t\t\t\tbackdrop.remove();\n\t\t\t}\n\t\t\tif (backdrop.length > 0) {\n\t\t\t\t$('body').addClass('modal-open');\n\t\t\t}\n\t\t});\n\t\tif (data) {\n\t\t\tthisInstance.showModalData(data, container, paramsObject, cb, url, sendByAjaxCb);\n\t\t} else {\n\t\t\t$.get(url).done(function(response) {\n\t\t\t\tthisInstance.showModalData(response, container, paramsObject, cb, url, sendByAjaxCb);\n\t\t\t});\n\t\t}\n\t\treturn container;\n\t},\n\t/**\n\t * Check if current window is target for a modal and trigger in correct window if not\n\t *\n\t * @param   {String}  sourceFunction  source function name in dot prop notation object\n\t * @param   {Array}  args            source function arguments\n\t *\n\t * @return  {Boolean}                  isCurrentWindowTarget\n\t */\n\tisCurrentWindowTarget(sourceFunction, args) {\n\t\tlet isCurrentWindowTarget = true;\n\t\tif (CONFIG.modalTarget === 'parentIframe') {\n\t\t\tthis.childFrame = true;\n\t\t\tsourceFunction = sourceFunction.split('.');\n\t\t\tsourceFunction.unshift('parent');\n\t\t\tsourceFunction = sourceFunction.reduce((o, i) => o[i], window);\n\t\t\tsourceFunction.apply(window.parent.app, args);\n\t\t\tisCurrentWindowTarget = false;\n\t\t}\n\t\treturn isCurrentWindowTarget;\n\t},\n\t/**\n\t * Function which you can use to hide the modal\n\t * This api assumes that we are using block ui plugin and uses unblock api to unblock it\n\t */\n\thideModalWindow: function(callback, id) {\n\t\tif (!app.isCurrentWindowTarget('app.hideModalWindow', arguments)) {\n\t\t\treturn false;\n\t\t}\n\t\tlet container;\n\t\tif (callback && typeof callback === 'object') {\n\t\t\tcontainer = callback;\n\t\t} else if (id == undefined) {\n\t\t\tcontainer = $('.modalContainer');\n\t\t} else {\n\t\t\tcontainer = $('#' + id);\n\t\t}\n\t\tif (container.length <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof callback !== 'function') {\n\t\t\tcallback = function() {};\n\t\t}\n\t\tlet modalContainer = container.find('.modal');\n\t\tmodalContainer.modal('hide');\n\t\tlet backdrop = $('.modal-backdrop:last');\n\t\tif ($('.modalContainer').length == 0 && backdrop.length) {\n\t\t\tbackdrop.remove();\n\t\t}\n\t\tmodalContainer.one('hidden.bs.modal', callback);\n\t},\n\tregisterModalController: function(modalId, modalContainer, cb) {\n\t\tlet windowParent = this.childFrame ? window.parent : window;\n\t\tif (modalId === undefined) {\n\t\t\tmodalId = Window.lastModalId;\n\t\t}\n\t\tif (modalContainer === undefined) {\n\t\t\tmodalContainer = $('#' + modalId + ' .js-modal-data');\n\t\t}\n\t\tlet modalClass = modalContainer.data('module') + '_' + modalContainer.data('view') + '_JS';\n\t\tif (typeof windowParent[modalClass] !== 'undefined') {\n\t\t\tlet instance = new windowParent[modalClass]();\n\t\t\tif (typeof cb === 'function') {\n\t\t\t\tcb(modalContainer, instance);\n\t\t\t}\n\t\t\tinstance.registerEvents(modalContainer);\n\t\t\tif (modalId && app.modalEvents[modalId]) {\n\t\t\t\tapp.modalEvents[modalId](modalContainer, instance);\n\t\t\t}\n\t\t}\n\t\tmodalClass = 'Base_' + modalContainer.data('view') + '_JS';\n\t\tif (typeof windowParent[modalClass] !== 'undefined') {\n\t\t\tlet instance = new windowParent[modalClass]();\n\t\t\tif (typeof cb === 'function') {\n\t\t\t\tcb(modalContainer, instance);\n\t\t\t}\n\t\t\tinstance.registerEvents(modalContainer);\n\t\t\tif (modalId && app.modalEvents[modalId]) {\n\t\t\t\tapp.modalEvents[modalId](modalContainer, instance);\n\t\t\t}\n\t\t}\n\t},\n\tregisterModalEvents: function(container, sendByAjaxCb) {\n\t\tvar form = container.find('form');\n\t\tvar validationForm = false;\n\t\tif (form.hasClass('validateForm')) {\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tvalidationForm = true;\n\t\t}\n\t\tif (form.hasClass('sendByAjax')) {\n\t\t\tform.on('submit', function(e) {\n\t\t\t\tvar save = true;\n\t\t\t\te.preventDefault();\n\t\t\t\tif (validationForm && form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t\tsave = false;\n\t\t\t\t}\n\t\t\t\tif (save) {\n\t\t\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tAppConnector.request(formData)\n\t\t\t\t\t\t.done(function(responseData) {\n\t\t\t\t\t\t\tsendByAjaxCb(formData, responseData);\n\t\t\t\t\t\t\tif (responseData.success && responseData.result) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.procesStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tisHidden: function(element) {\n\t\tif (element.css('display') == 'none') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tisInvisible: function(element) {\n\t\tif (element.css('visibility') == 'hidden') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Default validation eninge options\n\t */\n\tvalidationEngineOptions: {\n\t\t// Avoid scroll decision and let it scroll up page when form is too big\n\t\t// Reference: http://www.position-absolute.com/articles/jquery-form-validator-because-form-validation-is-a-mess/\n\t\tscroll: false,\n\t\tpromptPosition: 'topLeft',\n\t\t//to support validation for select2 select box\n\t\tprettySelect: true,\n\t\tusePrefix: 's2id_'\n\t},\n\tvalidationEngineOptionsForRecord: {\n\t\tscroll: false,\n\t\tpromptPosition: 'topLeft',\n\t\t//to support validation for select2 select box\n\t\tprettySelect: true,\n\t\tusePrefix: 's2id_',\n\t\tvalidateNonVisibleFields: true,\n\t\tonBeforePromptType: function(field) {\n\t\t\tvar block = field.closest('.js-toggle-panel');\n\t\t\tif (block.find('.blockContent').is(':hidden')) {\n\t\t\t\tblock.find('.blockHeader').click();\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Default scroll options\n\t */\n\tscrollOptions: {\n\t\twheelSpeed: 0.1\n\t},\n\t/**\n\t * Function to push down the error message size when validation is invoked\n\t * @params : form Element\n\t */\n\tformAlignmentAfterValidation: function(form) {\n\t\t// to avoid hiding of error message under the fixed nav bar\n\t\tvar formError = form.find(\".formError:not('.greenPopup'):first\");\n\t\tif (formError.length > 0) {\n\t\t\tvar destination = formError.offset().top;\n\t\t\tvar resizedDestnation = destination - 105;\n\t\t\t$('html').animate(\n\t\t\t\t{\n\t\t\t\t\tscrollTop: resizedDestnation\n\t\t\t\t},\n\t\t\t\t'slow'\n\t\t\t);\n\t\t}\n\t},\n\tconvertToDatePickerFormat: function(dateFormat) {\n\t\tswitch (dateFormat) {\n\t\t\tcase 'yyyy-mm-dd':\n\t\t\t\treturn 'Y-m-d';\n\t\t\t\tbreak;\n\t\t\tcase 'mm-dd-yyyy':\n\t\t\t\treturn 'm-d-Y';\n\t\t\t\tbreak;\n\t\t\tcase 'dd-mm-yyyy':\n\t\t\t\treturn 'd-m-Y';\n\t\t\t\tbreak;\n\t\t\tcase 'yyyy.mm.dd':\n\t\t\t\treturn 'Y.m.d';\n\t\t\t\tbreak;\n\t\t\tcase 'mm.dd.yyyy':\n\t\t\t\treturn 'm.d.Y';\n\t\t\t\tbreak;\n\t\t\tcase 'dd.mm.yyyy':\n\t\t\t\treturn 'd.m.Y';\n\t\t\t\tbreak;\n\t\t\tcase 'yyyy/mm/dd':\n\t\t\t\treturn 'Y/m/d';\n\t\t\t\tbreak;\n\t\t\tcase 'mm/dd/yyyy':\n\t\t\t\treturn 'm/d/Y';\n\t\t\t\tbreak;\n\t\t\tcase 'dd/mm/yyyy':\n\t\t\t\treturn 'd/m/Y';\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tconvertTojQueryDatePickerFormat: function(dateFormat) {\n\t\tlet i,\n\t\t\tdotMode = '-';\n\t\tif (dateFormat.indexOf('-') !== -1) {\n\t\t\tdotMode = '-';\n\t\t}\n\t\tif (dateFormat.indexOf('.') !== -1) {\n\t\t\tdotMode = '.';\n\t\t}\n\t\tif (dateFormat.indexOf('/') !== -1) {\n\t\t\tdotMode = '/';\n\t\t}\n\t\tlet splitDateFormat = dateFormat.split(dotMode);\n\t\tfor (i in splitDateFormat) {\n\t\t\tlet sectionDate = splitDateFormat[i];\n\t\t\tif (sectionDate.length === 4) {\n\t\t\t\tsplitDateFormat[i] = sectionDate.substring(0, 2);\n\t\t\t}\n\t\t}\n\t\treturn splitDateFormat.join(dotMode);\n\t},\n\t/*\n\t * Converts user formated date to database format yyyy-mm-dd\n\t */\n\tgetDateInDBInsertFormat: function(dateFormat, dateString) {\n\t\tvar i = 0;\n\t\tvar dotMode = '-';\n\t\tif (dateFormat.indexOf('-') !== -1) {\n\t\t\tdotMode = '-';\n\t\t} else if (dateFormat.indexOf('.') !== -1) {\n\t\t\tdotMode = '.';\n\t\t} else if (dateFormat.indexOf('/') !== -1) {\n\t\t\tdotMode = '/';\n\t\t}\n\t\tvar dateFormatParts = dateFormat.split(dotMode);\n\t\tvar day = '',\n\t\t\tmonth = '',\n\t\t\tyear = '';\n\t\tvar dateParts = dateString.split(dotMode);\n\t\tfor (i in dateFormatParts) {\n\t\t\tvar sectionDate = dateFormatParts[i];\n\t\t\tswitch (sectionDate) {\n\t\t\t\tcase 'dd':\n\t\t\t\t\tday = dateParts[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mm':\n\t\t\t\t\tmonth = dateParts[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'yyyy':\n\t\t\t\t\tyear = dateParts[i];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn year + '-' + month + '-' + day;\n\t},\n\tregisterEventForDateFields: function(parentElement) {\n\t\tif (typeof parentElement === 'undefined') {\n\t\t\tparentElement = $('body');\n\t\t}\n\n\t\tparentElement = $(parentElement);\n\t\tlet element;\n\t\tif (parentElement.hasClass('dateField')) {\n\t\t\telement = parentElement;\n\t\t} else {\n\t\t\telement = $('.dateField', parentElement);\n\t\t}\n\t\telement.datepicker({ autoclose: true }).on('changeDate', function(ev) {\n\t\t\tlet currentElement = $(ev.currentTarget),\n\t\t\t\tdateFormat = currentElement.data('dateFormat').toUpperCase(),\n\t\t\t\tdate = $.datepicker.formatDate(moment(ev.date).format(dateFormat), ev.date);\n\t\t\tcurrentElement.val(date);\n\t\t});\n\t\tApp.Fields.Utils.hideMobileKeyboard(element);\n\t},\n\tregisterEventForClockPicker: function(timeInputs = $('.clockPicker')) {\n\t\tif (!timeInputs.hasClass('clockPicker')) {\n\t\t\ttimeInputs = timeInputs.find('.clockPicker');\n\t\t}\n\t\tif (!timeInputs.length) {\n\t\t\treturn;\n\t\t}\n\t\tlet params = {\n\t\t\tplacement: 'bottom',\n\t\t\tautoclose: true,\n\t\t\tminutestep: 5\n\t\t};\n\n\t\t$('.js-clock__btn').on('click', e => {\n\t\t\te.stopPropagation();\n\t\t\tlet tempElement = $(e.currentTarget)\n\t\t\t\t.closest('.time')\n\t\t\t\t.find('input.clockPicker');\n\t\t\tif (tempElement.attr('disabled') !== 'disabled' && tempElement.attr('readonly') !== 'readonly') {\n\t\t\t\ttempElement.clockpicker('show');\n\t\t\t}\n\t\t});\n\n\t\tlet formatTimeString = timeInput => {\n\t\t\tif (params.twelvehour) {\n\t\t\t\tlet meridiemTime = '';\n\t\t\t\tparams.afterDone = () => {\n\t\t\t\t\t//format time string after picking a value\n\t\t\t\t\tlet timeString = timeInput.val(),\n\t\t\t\t\t\ttimeStringFormatted = timeString.slice(0, timeString.length - 2) + ' ' + meridiemTime;\n\t\t\t\t\ttimeInput.val(timeStringFormatted);\n\t\t\t\t\tapp.event.trigger('Clockpicker.changed', timeInput);\n\t\t\t\t};\n\t\t\t\tparams.beforeHide = () => {\n\t\t\t\t\tmeridiemTime = $('.clockpicker-buttons-am-pm:visible')\n\t\t\t\t\t\t.find('a:not(.text-white-50)')\n\t\t\t\t\t\t.text();\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tparams.afterDone = () => {\n\t\t\t\t\tapp.event.trigger('Clockpicker.changed', timeInput);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\ttimeInputs.each((i, e) => {\n\t\t\tlet timeInput = $(e);\n\t\t\tlet formatTime = timeInputs.data('format') || CONFIG.hourFormat;\n\t\t\tparams.twelvehour = parseInt(formatTime) === 12 ? true : false;\n\t\t\tformatTimeString(timeInput);\n\t\t\ttimeInput.clockpicker(params);\n\t\t});\n\t\tApp.Fields.Utils.hideMobileKeyboard(timeInputs);\n\t},\n\tregisterDataTables: function(table, options = {}) {\n\t\tif ($.fn.dataTable == undefined) {\n\t\t\treturn false;\n\t\t}\n\t\tif (table.length == 0) {\n\t\t\treturn false;\n\t\t}\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn table.DataTable(options);\n\t},\n\t/**\n\t * Function to get the select2 element from the raw select element\n\t * @params: select element\n\t * @return : select2Element - corresponding select2 element\n\t */\n\tgetSelect2ElementFromSelect: function(selectElement) {\n\t\tvar selectId = selectElement.attr('id');\n\t\t//since select2 will add s2id_ to the id of select element\n\t\tvar select2EleId = 'select2-' + selectId + '-container';\n\t\treturn $('#' + select2EleId).closest('.select2-container');\n\t},\n\t/**\n\t * Function to set with of the element to parent width\n\t * @params : jQuery element for which the action to take place\n\t */\n\tsetInheritWidth: function(elements) {\n\t\t$(elements).each(function(index, element) {\n\t\t\tvar parentWidth = $(element)\n\t\t\t\t.parent()\n\t\t\t\t.width();\n\t\t\t$(element).width(parentWidth);\n\t\t});\n\t},\n\tshowNewScrollbar: function(element, options = { wheelPropagation: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\treturn new PerfectScrollbar(element[0], Object.assign(this.scrollOptions, options));\n\t},\n\tshowNewScrollbarTopBottomRight: function(element, options = {}) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tlet scrollbarTopLeftInit = new PerfectScrollbar(element[0], options);\n\t\tlet scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tlet scrollbarBottomRightInit = new PerfectScrollbar(element[0], options);\n\t\treturn [scrollbarTopLeftInit, scrollbarBottomRightInit];\n\t},\n\tshowNewScrollbarTopBottom: function(element, options = { wheelPropagation: true, suppressScrollY: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t},\n\tshowNewScrollbarTop: function(element, options = { wheelPropagation: true, suppressScrollY: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t},\n\tshowNewScrollbarLeft: function(element, options = { wheelPropagation: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarLeftElement = element.children('.ps__rail-y').first();\n\t\tscrollbarLeftElement.css({\n\t\t\tleft: 0,\n\t\t\tright: 'auto'\n\t\t});\n\t\tscrollbarLeftElement.find('.ps__thumb-y').css({\n\t\t\tleft: 2,\n\t\t\tright: 'auto'\n\t\t});\n\t},\n\tshowScrollBar: function(element, options = {}) {\n\t\tif (typeof options.height === 'undefined') options.height = element.css('height');\n\t\treturn element.slimScroll(options);\n\t},\n\t/**\n\t * Register middle scroll hack for scrollbar libraries\n\t * @param {jQuery} container\n\t */\n\tregisterMiddleClickScroll(container) {\n\t\tlet middleScroll = false;\n\t\tcontainer.on('mousedown', e => {\n\t\t\tlet clickedMouseButton = e.which; // get clicked button id\n\t\t\tif (clickedMouseButton == 2 && middleScroll == false) {\n\t\t\t\tmiddleScroll = true;\n\t\t\t\tlet mouseY = e.pageY,\n\t\t\t\t\tmouseX = e.pageX;\n\t\t\t\t$(document).on('mousemove', e => {\n\t\t\t\t\tif (middleScroll == true) {\n\t\t\t\t\t\t$('body').addClass('u-cursor-scroll-all');\n\t\t\t\t\t\tlet mouseMoveY = mouseY - e.pageY,\n\t\t\t\t\t\t\tscrollSlowerRate = 100, // higher number = slower scroll\n\t\t\t\t\t\t\tcontentScrollY = container.scrollTop(),\n\t\t\t\t\t\t\tscrollerY = contentScrollY - mouseMoveY - scrollSlowerRate,\n\t\t\t\t\t\t\tmouseMoveX = mouseX - e.pageX,\n\t\t\t\t\t\t\tcontentScrollX = container.scrollLeft(),\n\t\t\t\t\t\t\tscrollerX = contentScrollX - mouseMoveX - scrollSlowerRate;\n\t\t\t\t\t\tcontainer.scrollTop(scrollerY);\n\t\t\t\t\t\tcontainer.scrollLeft(scrollerX);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tcontainer.on('mouseup', () => {\n\t\t\t$('body').removeClass('u-cursor-scroll-all');\n\t\t\tmiddleScroll = false;\n\t\t});\n\t},\n\t/**\n\t * Function returns translated string\n\t */\n\tvtranslate: function(key) {\n\t\tif (key in LANG) {\n\t\t\treturn LANG[key];\n\t\t}\n\t\treturn key;\n\t},\n\t/*\n\t * Cache API on client-side\n\t */\n\tcacheNSKey: function(key) {\n\t\t// Namespace in client-storage\n\t\treturn 'yf.' + key;\n\t},\n\tcacheGet: function(key) {\n\t\tkey = this.cacheNSKey(key);\n\t\treturn store.get(key);\n\t},\n\tcacheSet: function(key, value) {\n\t\tkey = this.cacheNSKey(key);\n\t\tstore.set(key, value);\n\t},\n\tcacheClear: function(key) {\n\t\tkey = this.cacheNSKey(key);\n\t\treturn store.remove(key);\n\t},\n\tmoduleCacheSet: function(key, value) {\n\t\tvar orgKey = key;\n\t\tkey = this.getModuleName() + '_' + key;\n\t\tthis.cacheSet(key, value);\n\n\t\tvar cacheKey = 'mCache' + this.getModuleName();\n\t\tvar moduleCache = this.cacheGet(cacheKey);\n\t\tif (moduleCache == null) {\n\t\t\tmoduleCache = [];\n\t\t} else {\n\t\t\tmoduleCache = moduleCache.split(',');\n\t\t}\n\t\tmoduleCache.push(orgKey);\n\t\tthis.cacheSet(cacheKey, Vtiger_Helper_Js.unique(moduleCache).join(','));\n\t},\n\tmoduleCacheGet: function(key) {\n\t\treturn this.cacheGet(this.getModuleName() + '_' + key);\n\t},\n\tmoduleCacheKeys: function() {\n\t\tvar cacheKey = 'mCache' + this.getModuleName();\n\t\tvar modules = this.cacheGet(cacheKey);\n\t\tif (modules) {\n\t\t\treturn modules.split(',');\n\t\t}\n\t\treturn [];\n\t},\n\tmoduleCacheClear: function(key) {\n\t\tvar thisInstance = this;\n\t\tvar moduleName = this.getModuleName();\n\t\tvar cacheKey = 'mCache' + moduleName;\n\t\tvar moduleCache = this.cacheGet(cacheKey);\n\t\tif (moduleCache == null) {\n\t\t\tmoduleCache = [];\n\t\t} else {\n\t\t\tmoduleCache = moduleCache.split(',');\n\t\t}\n\t\t$.each(moduleCache, function(index, value) {\n\t\t\tthisInstance.cacheClear(moduleName + '_' + value);\n\t\t});\n\t\tthisInstance.cacheClear(cacheKey);\n\t},\n\thtmlEncode: function(value) {\n\t\tif (value) {\n\t\t\treturn $('<div />')\n\t\t\t\t.text(value)\n\t\t\t\t.html();\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\thtmlDecode: function(value) {\n\t\tif (value) {\n\t\t\treturn $('<div />')\n\t\t\t\t.html(value)\n\t\t\t\t.text();\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\t/**\n\t * Function places an element at the center of the page\n\t * @param <jQuery Element> element\n\t */\n\tplaceAtCenter: function(element) {\n\t\telement.css('position', 'absolute');\n\t\telement.css('top', ($(window).height() - element.outerHeight()) / 2 + $(window).scrollTop() + 'px');\n\t\telement.css('left', ($(window).width() - element.outerWidth()) / 2 + $(window).scrollLeft() + 'px');\n\t},\n\tgetvalidationEngineOptions: function(select2Status) {\n\t\treturn Object.assign({}, app.validationEngineOptions);\n\t},\n\t/**\n\t * Function to notify UI page ready after AJAX changes.\n\t * This can help in re-registering the event handlers (which was done during ready event).\n\t */\n\tnotifyPostAjaxReady: function() {\n\t\t$(document).trigger('postajaxready');\n\t},\n\t/**\n\t * Listen to xready notiications.\n\t */\n\tlistenPostAjaxReady: function(callback) {\n\t\t$(document).on('postajaxready', callback);\n\t},\n\t/**\n\t * Form function handlers\n\t */\n\tsetFormValues: function(kv) {\n\t\tfor (var k in kv) {\n\t\t\t$(k).val(kv[k]);\n\t\t}\n\t},\n\tsetRTEValues: function(kv) {\n\t\tfor (var k in kv) {\n\t\t\tvar rte = CKEDITOR.instances[k];\n\t\t\tif (rte) rte.setData(kv[k]);\n\t\t}\n\t},\n\t/**\n\t * Function returns the javascript controller based on the current view\n\t */\n\tgetPageController: function() {\n\t\tif (window.pageController) {\n\t\t\treturn window.pageController;\n\t\t}\n\t\tconst moduleName = app.getModuleName();\n\t\tconst view = app.getViewName();\n\t\tconst parentModule = app.getParentModuleName();\n\t\tlet moduleClassName = parentModule + '_' + moduleName + '_' + view + '_Js';\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = parentModule + '_Vtiger_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = moduleName + '_' + view + '_Js';\n\t\t}\n\t\tvar extendModules = $('#extendModules').val();\n\t\tif (typeof window[moduleClassName] === 'undefined' && extendModules != undefined) {\n\t\t\tmoduleClassName = extendModules + '_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = 'Vtiger_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\tif (typeof window[moduleClassName] === 'function') {\n\t\t\t\treturn (window.pageController = new window[moduleClassName]());\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] === 'object') {\n\t\t\t\treturn (window.pageController = window[moduleClassName]);\n\t\t\t}\n\t\t}\n\t\tlet moduleBaseClassName = parentModule + '_' + moduleName + '_' + 'Index_Js';\n\t\tif (typeof window[moduleBaseClassName] !== 'undefined') {\n\t\t\tif (typeof window[moduleBaseClassName] === 'function') {\n\t\t\t\treturn (window.pageController = new window[moduleBaseClassName]());\n\t\t\t}\n\t\t\tif (typeof window[moduleBaseClassName] === 'object') {\n\t\t\t\treturn (window.pageController = window[moduleBaseClassName]);\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Function to decode the encoded htmlentities values\n\t */\n\tgetDecodedValue: function(value) {\n\t\treturn $('<div></div>')\n\t\t\t.html(value)\n\t\t\t.text();\n\t},\n\tgetCookie: function(c_name) {\n\t\tvar c_value = document.cookie;\n\t\tvar c_start = c_value.indexOf(' ' + c_name + '=');\n\t\tif (c_start === -1) {\n\t\t\tc_start = c_value.indexOf(c_name + '=');\n\t\t}\n\t\tif (c_start === -1) {\n\t\t\tc_value = null;\n\t\t} else {\n\t\t\tc_start = c_value.indexOf('=', c_start) + 1;\n\t\t\tvar c_end = c_value.indexOf(';', c_start);\n\t\t\tif (c_end === -1) {\n\t\t\t\tc_end = c_value.length;\n\t\t\t}\n\t\t\tc_value = unescape(c_value.substring(c_start, c_end));\n\t\t}\n\t\treturn c_value;\n\t},\n\tsetCookie: function(c_name, value, exdays) {\n\t\tvar exdate = new Date();\n\t\texdate.setDate(exdate.getDate() + exdays);\n\t\tvar c_value = escape(value) + (exdays == null ? '' : '; expires=' + exdate.toUTCString());\n\t\tdocument.cookie = c_name + '=' + c_value;\n\t},\n\tgetUrlVar: function(varName) {\n\t\tvar getVar = function() {\n\t\t\tvar vars = {};\n\t\t\twindow.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {\n\t\t\t\tvars[key] = value;\n\t\t\t});\n\t\t\treturn vars;\n\t\t};\n\n\t\treturn getVar()[varName];\n\t},\n\tgetStringDate: function(date) {\n\t\tvar d = date.getDate();\n\t\tvar m = date.getMonth() + 1;\n\t\tvar y = date.getFullYear();\n\n\t\td = d <= 9 ? '0' + d : d;\n\t\tm = m <= 9 ? '0' + m : m;\n\t\treturn y + '-' + m + '-' + d;\n\t},\n\tformatDate: function(date) {\n\t\tvar y = date.getFullYear(),\n\t\t\tm = date.getMonth() + 1,\n\t\t\td = date.getDate(),\n\t\t\th = date.getHours(),\n\t\t\ti = date.getMinutes(),\n\t\t\ts = date.getSeconds();\n\t\treturn (\n\t\t\ty +\n\t\t\t'-' +\n\t\t\tthis.formatDateZ(m) +\n\t\t\t'-' +\n\t\t\tthis.formatDateZ(d) +\n\t\t\t' ' +\n\t\t\tthis.formatDateZ(h) +\n\t\t\t':' +\n\t\t\tthis.formatDateZ(i) +\n\t\t\t':' +\n\t\t\tthis.formatDateZ(s)\n\t\t);\n\t},\n\tformatDateZ: function(i) {\n\t\treturn i <= 9 ? '0' + i : i;\n\t},\n\thowManyDaysFromDate: function(time) {\n\t\tvar fromTime = time.getTime();\n\t\tvar today = new Date();\n\t\tvar toTime = new Date(today.getFullYear(), today.getMonth(), today.getDate()).getTime();\n\t\treturn Math.floor((toTime - fromTime) / (1000 * 60 * 60 * 24)) + 1;\n\t},\n\tsaveAjax: function(mode, param, addToParams) {\n\t\tvar aDeferred = $.Deferred();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['action'] = 'SaveAjax';\n\t\tif (mode) {\n\t\t\tparams['mode'] = mode;\n\t\t}\n\t\tparams['param'] = param;\n\t\tif (addToParams != undefined) {\n\t\t\tfor (var i in addToParams) {\n\t\t\t\tparams[i] = addToParams[i];\n\t\t\t}\n\t\t}\n\t\tAppConnector.request(params)\n\t\t\t.done(function(data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Hack for Safari breaking down, when sending empty file input\n\t * @param html\n\t */\n\tremoveEmptyFilesInput(form) {\n\t\tfor (let i = 0; i < form.elements.length; i++) {\n\t\t\tif (form.elements[i].type === 'file') {\n\t\t\t\tif (form.elements[i].value === '') {\n\t\t\t\t\tform.elements[i].parentNode.removeChild(form.elements[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetMainParams: function(param, json) {\n\t\tif (param in CONFIG) {\n\t\t\treturn CONFIG[param];\n\t\t}\n\t\tif (app.cacheParams[param] === undefined) {\n\t\t\tapp.cacheParams[param] = $('#' + param).val();\n\t\t}\n\t\tlet value = app.cacheParams[param];\n\t\tif (json) {\n\t\t\tif (value) {\n\t\t\t\tvalue = JSON.parse(value);\n\t\t\t} else {\n\t\t\t\tvalue = [];\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\tsetMainParams: function(param, value) {\n\t\tapp.cacheParams[param] = value;\n\t\t$('#' + param).val(value);\n\t},\n\terrorLog: function(error, err, errorThrown) {\n\t\tif (!CONFIG.debug) {\n\t\t\treturn;\n\t\t}\n\t\tconsole.warn(\n\t\t\t'%cYetiForce debug mode!!!',\n\t\t\t'color: red; font-family: sans-serif; font-size: 1.5em; font-weight: bolder; text-shadow: #000 1px 1px;'\n\t\t);\n\t\tif (typeof error === 'object' && error.responseText) {\n\t\t\terror = error.responseText;\n\t\t}\n\t\tif (typeof error === 'object' && error.statusText) {\n\t\t\terror = error.statusText;\n\t\t}\n\t\tif (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t\tif (err && err !== 'error') {\n\t\t\tconsole.error(err);\n\t\t}\n\t\tif (errorThrown) {\n\t\t\tconsole.error(errorThrown);\n\t\t}\n\t},\n\tregisterQuickEditModal: function(container) {\n\t\tif (typeof container === 'undefined') {\n\t\t\tcontainer = $('body');\n\t\t}\n\t\tcontainer.on('click', '.js-quick-edit-modal', function(e) {\n\t\t\te.preventDefault();\n\t\t\tlet element = $(this);\n\t\t\tlet data = {\n\t\t\t\tmodule: element.data('module'),\n\t\t\t\trecord: element.data('record')\n\t\t\t};\n\t\t\tif (element.data('values')) {\n\t\t\t\t$.extend(data, element.data('values'));\n\t\t\t}\n\t\t\tif (element.data('mandatoryFields')) {\n\t\t\t\tdata.mandatoryFields = element.data('mandatoryFields');\n\t\t\t}\n\t\t\tif (element.data('showLayout')) {\n\t\t\t\tdata.showLayout = element.data('showLayout');\n\t\t\t}\n\t\t\tif (element.data('editFields')) {\n\t\t\t\tdata.editFields = element.data('editFields');\n\t\t\t}\n\t\t\tApp.Components.QuickEdit.showModal(data, element);\n\t\t});\n\t},\n\tregisterModal: function(container) {\n\t\tif (typeof container === 'undefined') {\n\t\t\tcontainer = $('body');\n\t\t}\n\t\tcontainer\n\t\t\t.off('click', 'button.showModal, a.showModal, .js-show-modal')\n\t\t\t.on('click', 'button.showModal, a.showModal, .js-show-modal', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar url = currentElement.data('url');\n\n\t\t\t\tif (typeof url !== 'undefined') {\n\t\t\t\t\tif (currentElement.hasClass('js-popover-tooltip')) {\n\t\t\t\t\t\tcurrentElement.popover('hide');\n\t\t\t\t\t}\n\t\t\t\t\tif (currentElement.hasClass('disabledOnClick')) {\n\t\t\t\t\t\tcurrentElement.attr('disabled', true);\n\t\t\t\t\t}\n\t\t\t\t\tvar modalWindowParams = {\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tcb: function(container) {\n\t\t\t\t\t\t\tvar call = currentElement.data('cb');\n\t\t\t\t\t\t\tif (typeof call !== 'undefined') {\n\t\t\t\t\t\t\t\tif (call.indexOf('.') !== -1) {\n\t\t\t\t\t\t\t\t\tvar callerArray = call.split('.');\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\ttypeof window[callerArray[0]] === 'object' ||\n\t\t\t\t\t\t\t\t\t\ttypeof window[callerArray[0]] === 'function'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\twindow[callerArray[0]][callerArray[1]](container);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (typeof window[call] === 'function') {\n\t\t\t\t\t\t\t\t\t\twindow[call](container);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrentElement.removeAttr('disabled');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (currentElement.data('modalid')) {\n\t\t\t\t\t\tmodalWindowParams['id'] = currentElement.data('modalid');\n\t\t\t\t\t}\n\t\t\t\t\tapp.showModalWindow(modalWindowParams);\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t},\n\tplaySound: function(action) {\n\t\tvar soundsConfig = app.getMainParams('sounds');\n\t\tif (soundsConfig['IS_ENABLED']) {\n\t\t\tvar audio = new Audio(app.getMainParams('soundFilesPath') + soundsConfig[action]);\n\t\t\taudio.play();\n\t\t}\n\t},\n\tregisterIframeAndMoreContent() {\n\t\tlet showMoreModal = e => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tconst btn = $(e.currentTarget);\n\t\t\tconst message = btn.data('iframe')\n\t\t\t\t? btn\n\t\t\t\t\t\t.siblings('iframe')\n\t\t\t\t\t\t.clone()\n\t\t\t\t\t\t.show()\n\t\t\t\t: btn\n\t\t\t\t\t\t.closest('.js-more-content')\n\t\t\t\t\t\t.find('.fullContent')\n\t\t\t\t\t\t.html();\n\t\t\tbootbox.dialog({\n\t\t\t\tmessage,\n\t\t\t\ttitle: '<span class=\"mdi mdi-overscan\"></span>  ' + app.vtranslate('JS_FULL_TEXT'),\n\t\t\t\tclassName: 'u-word-break modal-fullscreen',\n\t\t\t\tbuttons: {\n\t\t\t\t\tdanger: {\n\t\t\t\t\t\tlabel: '<span class=\"fas fa-times mr-1\"></span>' + app.vtranslate('JS_CLOSE'),\n\t\t\t\t\t\tclassName: 'btn-danger',\n\t\t\t\t\t\tcallback: function() {}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t$('.js-more').on('click', showMoreModal);\n\t\t$(document).on('click', '.js-more', showMoreModal);\n\t},\n\tregisterIframeEvents(content) {\n\t\tcontent.find('.js-iframe-full-height').each(function() {\n\t\t\tlet iframe = $(this);\n\t\t\tiframe.on('load', e => {\n\t\t\t\tiframe.height(\n\t\t\t\t\tiframe\n\t\t\t\t\t\t.contents()\n\t\t\t\t\t\t.find('body')\n\t\t\t\t\t\t.height() + 50\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t\tcontent.find('.js-modal-iframe').each(function() {\n\t\t\tlet iframe = $(this);\n\t\t\tiframe.on('load', e => {\n\t\t\t\tlet height = iframe\n\t\t\t\t\t.contents()\n\t\t\t\t\t.find('body')\n\t\t\t\t\t.height();\n\t\t\t\tif (height && height < iframe.height()) {\n\t\t\t\t\tiframe.height(height + 50);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tregisterMenu: function() {\n\t\tconst self = this;\n\t\tself.keyboard = { DOWN: 40, ESCAPE: 27, LEFT: 37, RIGHT: 39, SPACE: 32, UP: 38 };\n\t\tself.sidebarBtn = $('.js-sidebar-btn').first();\n\t\tself.sidebar = $('.js-sidebar').first();\n\t\tself.sidebarBtn.on('click', self.toggleSidebar.bind(self));\n\t\t$(`a.nav-link,[tabindex],input,select,textarea,button`).on('focus', e => {\n\t\t\tif (self.sidebarBtn[0] == e.target || self.sidebar.find(e.target).length) return;\n\t\t\tif (self.sidebar.find(':focus').length) {\n\t\t\t\tself.openSidebar();\n\t\t\t} else if (self.sidebar.hasClass('js-expand')) {\n\t\t\t\tself.closeSidebar();\n\t\t\t}\n\t\t});\n\t\tself.sidebar.on('mouseenter', self.openSidebar.bind(self)).on('mouseleave', self.closeSidebar.bind(self));\n\t\tself.sidebar.find('.js-menu__content').on('keydown', self.sidebarKeyboard.bind(self));\n\t\tself.sidebar.on('keydown', e => {\n\t\t\tif (e.which == self.keyboard.ESCAPE) {\n\t\t\t\tself.closeSidebar();\n\t\t\t\tif (self.sidebarBtn.is(':tabbable')) self.sidebarBtn.focus();\n\t\t\t\telse\n\t\t\t\t\t$(':tabbable')\n\t\t\t\t\t\t.eq(parseInt($(':tabbable').index(self.sidebar.find(':tabbable').last())) + 1)\n\t\t\t\t\t\t.focus();\n\t\t\t}\n\t\t});\n\t\tself.sidebar.find('.js-submenu').on('shown.bs.collapse', e => {\n\t\t\t$(e.target)\n\t\t\t\t.find(':tabbable')\n\t\t\t\t.first()\n\t\t\t\t.focus();\n\t\t});\n\t\t$('.js-submenu-toggler').on('click', e => {\n\t\t\tif (!$(e.currentTarget).hasClass('collapsed') && !$(e.target).closest('.toggler').length) {\n\t\t\t\twindow.location = $(e.currentTarget).attr('href');\n\t\t\t}\n\t\t});\n\t\tself.registerPinEvent();\n\t},\n\topenSidebar: function() {\n\t\tthis.sidebar.addClass('js-expand');\n\t\tthis.sidebarBtn.attr('aria-expanded', true);\n\t},\n\tcloseSidebar: function() {\n\t\tthis.sidebar.removeClass('js-expand');\n\t\tthis.sidebarBtn.attr('aria-expanded', false);\n\t},\n\ttoggleSidebar: function() {\n\t\tif (this.sidebar.hasClass('js-expand')) {\n\t\t\tthis.closeSidebar();\n\t\t} else {\n\t\t\tthis.openSidebar();\n\t\t\tthis.sidebar\n\t\t\t\t.find('.js-menu__content :tabbable')\n\t\t\t\t.first()\n\t\t\t\t.focus();\n\t\t}\n\t},\n\tregisterPinEvent: function() {\n\t\tconst self = this;\n\t\tlet pinButton = self.sidebar.find('.js-menu--pin');\n\t\tlet baseContainer = self.sidebar.closest('.js-base-container');\n\t\tpinButton.on('click', () => {\n\t\t\tlet hideMenu = 0;\n\t\t\tbaseContainer.removeClass('c-menu--animation');\n\t\t\tif (pinButton.attr('data-show') === '0') {\n\t\t\t\thideMenu = 'on';\n\t\t\t\tpinButton.removeClass('u-opacity-muted');\n\t\t\t\tbaseContainer.addClass('c-menu--open');\n\t\t\t\tself.sidebar.off('mouseleave mouseenter');\n\t\t\t} else {\n\t\t\t\tpinButton.addClass('u-opacity-muted');\n\t\t\t\tbaseContainer.removeClass('c-menu--open');\n\t\t\t\tself.sidebar\n\t\t\t\t\t.on('mouseenter', self.openSidebar.bind(self))\n\t\t\t\t\t.on('mouseleave', self.closeSidebar.bind(self));\n\t\t\t\tself.closeSidebar.bind(self);\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'Users',\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tfield: 'leftpanelhide',\n\t\t\t\trecord: CONFIG.userId,\n\t\t\t\tvalue: hideMenu\n\t\t\t}).done(function(responseData) {\n\t\t\t\tif (responseData.success && responseData.result) {\n\t\t\t\t\tpinButton.attr('data-show', hideMenu);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tbaseContainer.addClass('c-menu--animation');\n\t\t\t}, 300);\n\t\t});\n\t},\n\tsidebarKeyboard: function(e) {\n\t\tlet target = $(e.target);\n\t\tif (e.which == this.keyboard.LEFT) {\n\t\t\tif (target.hasClass('js-submenu-toggler') && !target.hasClass('collapsed')) {\n\t\t\t\ttarget.click();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tlet toggler = $(e.target)\n\t\t\t\t\t.closest('.js-submenu')\n\t\t\t\t\t.prev('.js-submenu-toggler');\n\t\t\t\tif (toggler.length && !toggler.hasClass('collapsed')) {\n\t\t\t\t\ttoggler.click().focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (\n\t\t\t(target.hasClass('js-submenu-toggler') && e.which == this.keyboard.RIGHT && target.hasClass('collapsed')) ||\n\t\t\t(target.hasClass('js-submenu-toggler') && e.which == this.keyboard.SPACE)\n\t\t) {\n\t\t\ttarget.click();\n\t\t\treturn false;\n\t\t} else if (e.which == this.keyboard.UP) {\n\t\t\tthis.sidebar\n\t\t\t\t.find('.js-menu__content :tabbable')\n\t\t\t\t.eq(parseInt(this.sidebar.find('.js-menu__content :tabbable').index(target)) - 1)\n\t\t\t\t.focus();\n\t\t\treturn false;\n\t\t} else if (e.which == this.keyboard.DOWN) {\n\t\t\tthis.sidebar\n\t\t\t\t.find('.js-menu__content :tabbable')\n\t\t\t\t.eq(parseInt(this.sidebar.find('.js-menu__content :tabbable').index(target)) + 1)\n\t\t\t\t.focus();\n\t\t\treturn false;\n\t\t}\n\t},\n\tregisterTabdrop: function() {\n\t\tlet tabs = $('.js-tabdrop');\n\t\tif (!tabs.length) return;\n\t\tlet tab = tabs.find('> li');\n\t\ttab.each(function() {\n\t\t\t$(this).removeClass('d-none');\n\t\t});\n\t\ttabs.tabdrop({\n\t\t\ttext: app.vtranslate('JS_MORE')\n\t\t});\n\t\t//change position to the last element (wcag keyboard navigation)\n\t\tlet dropdown = tabs.find('> li.dropdown');\n\t\tdropdown.appendTo(tabs);\n\t\t//fix for toggle button text not changing\n\t\ttab.on('click', function(e) {\n\t\t\tsetTimeout(function() {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t}, 500);\n\t\t});\n\t\t$(window).trigger('resize');\n\t},\n\tgetScreenHeight: function(percantage) {\n\t\tif (typeof percantage === 'undefined') {\n\t\t\tpercantage = 100;\n\t\t}\n\t\treturn ($(window).height() * percantage) / 100;\n\t},\n\tclearBrowsingHistory: function() {\n\t\tAppConnector.request({\n\t\t\tmodule: 'Home',\n\t\t\taction: 'BrowsingHistory'\n\t\t}).done(function(response) {\n\t\t\t$('.historyList').html(\n\t\t\t\t`<a class=\"item dropdown-item\" href=\"#\" role=\"listitem\">${app.vtranslate('JS_NO_RECORDS')}</a>`\n\t\t\t);\n\t\t});\n\t},\n\t/**\n\t * Open url in top window\n\t * @param string url\n\t */\n\topenUrl(url) {\n\t\tif (CONFIG.openUrlTarget === 'parentIframe') {\n\t\t\twindow.parent.location.href = url;\n\t\t} else {\n\t\t\twindow.location.href = url;\n\t\t}\n\t},\n\topenUrlMethodPost(url, postData = {}, formAttr = {}) {\n\t\t$.extend(formAttr, {\n\t\t\tmethod: 'post',\n\t\t\taction: url,\n\t\t\tstyle: 'display:none;'\n\t\t});\n\t\tlet form = $('<form></form>', formAttr);\n\t\tif (typeof csrfMagicName !== 'undefined') {\n\t\t\tpostData[csrfMagicName] = csrfMagicToken;\n\t\t}\n\t\t$.each(postData, (index, value) => {\n\t\t\tlet input = $(document.createElement('input'));\n\t\t\tinput.attr('type', 'hidden');\n\t\t\tinput.attr('name', index);\n\t\t\tinput.val(value);\n\t\t\tform.append(input);\n\t\t});\n\t\t$('body').append(form);\n\t\tform.submit();\n\t\tform.remove();\n\t},\n\t/**\n\t * Convert url string to object\n\t *\n\t * @param   {string}  url  example: index.php?module=LayoutEditor&parent=Settings\n\t *\n\t * @return  {object}       urlObject\n\t */\n\tconvertUrlToObject(url) {\n\t\tlet urlObject = {};\n\t\turl.split('index.php?')[1]\n\t\t\t.split('&')\n\t\t\t.forEach(el => {\n\t\t\t\tif (el.includes('=')) {\n\t\t\t\t\tlet values = el.split('=');\n\t\t\t\t\turlObject[values[0]] = values[1];\n\t\t\t\t}\n\t\t\t});\n\t\treturn urlObject;\n\t},\n\t/**\n\t * Convert object to url string\n\t *\n\t * @param   {object}  urlData\n\t * @param   {string}  entryFile\n\t *\n\t * @return  {string}          url\n\t */\n\tconvertObjectToUrl(urlData = {}, entryFile = 'index.php?') {\n\t\tlet url = entryFile;\n\t\tObject.keys(urlData).forEach(key => {\n\t\t\tlet value = urlData[key];\n\t\t\tif (typeof value === 'object' || (typeof value === 'string' && value.startsWith('<'))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\turl += key + '=' + value + '&';\n\t\t});\n\t\treturn url;\n\t},\n\tshowConfirmation: function(data, element) {\n\t\tvar params = {};\n\t\tif (data) {\n\t\t\tparams = $.extend(params, data);\n\t\t}\n\t\tif (element) {\n\t\t\telement = $(element);\n\t\t\tif (!params.title) {\n\t\t\t\tparams.title = element.html() + ' ' + (element.data('content') ? element.data('content') : '');\n\t\t\t}\n\t\t\tif (!params.message) {\n\t\t\t\tparams.message = element.data('confirm');\n\t\t\t}\n\t\t\tif (!params.url) {\n\t\t\t\tparams.url = element.data('url');\n\t\t\t}\n\t\t}\n\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function() {\n\t\t\tif (params.type == 'href') {\n\t\t\t\tAppConnector.request(params.url).done(function(data) {\n\t\t\t\t\tapp.openUrl(data.result);\n\t\t\t\t});\n\t\t\t} else if (params.type == 'reloadTab') {\n\t\t\t\tAppConnector.request(params.url).done(function(data) {\n\t\t\t\t\tVtiger_Detail_Js.getInstance().reloadTabContent();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tformatToHourText: function(decTime, type = 'short', withSeconds = false, withMinutes = true) {\n\t\tconst short = type === 'short';\n\t\tconst hour = Math.floor(decTime);\n\t\tconst min = Math.floor((decTime - hour) * 60);\n\t\tconst sec = Math.round(((decTime - hour) * 60 - min) * 60);\n\t\tlet result = '';\n\t\tif (hour) {\n\t\t\tresult += short ? hour + app.vtranslate('JS_H') : `${hour} ` + app.vtranslate('JS_H_LONG');\n\t\t}\n\t\tif ((hour || min) && withMinutes) {\n\t\t\tresult += short ? ` ${min}` + app.vtranslate('JS_M') : ` ${min} ` + app.vtranslate('JS_M_LONG');\n\t\t}\n\t\tif (withSeconds !== false) {\n\t\t\tresult += short ? ` ${sec}` + app.vtranslate('JS_S') : ` ${sec} ` + app.vtranslate('JS_S_LONG');\n\t\t}\n\t\tif (!hour && !min && withSeconds === false && withMinutes) {\n\t\t\tresult += short ? '0' + app.vtranslate('JS_M') : '0 ' + app.vtranslate('JS_M_LONG');\n\t\t}\n\t\tif (!hour && !min && withSeconds === false && !withMinutes) {\n\t\t\tresult += short ? '0' + app.vtranslate('JS_H') : '0 ' + app.vtranslate('JS_H_LONG');\n\t\t}\n\t\treturn result.trim();\n\t},\n\tshowRecordsList: function(params = {}, cb, afterShowModal) {\n\t\tif (!params.view) {\n\t\t\tparams.view = 'RecordsList';\n\t\t}\n\t\tthis.showRecordsListModal(params).done(function(modal) {\n\t\t\tif (typeof afterShowModal === 'function') {\n\t\t\t\tafterShowModal(modal);\n\t\t\t}\n\t\t\tapp.registerModalController(false, modal, cb);\n\t\t});\n\t},\n\t/**\n\t * Show records list modal\n\t * @param {object} params\n\t * @returns {Promise}\n\t */\n\tshowRecordsListModal: function(params) {\n\t\tconst aDeferred = $.Deferred();\n\t\tAppConnector.request(params)\n\t\t\t.done(function(requestData) {\n\t\t\t\tapp.showModalWindow(requestData, function(modal) {\n\t\t\t\t\taDeferred.resolve(modal);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Convert html content to base64 image\n\t * This function can be used in promise chain or with callback if specified\n\t *\n\t * @param {HTMLElement} element\n\t * @param {function} callback with imageString argument which contains an image in base64 string format\n\t * @param {object} options see: https://html2canvas.hertzen.com/configuration , imageType is our custom option\n\t * @return {Promise} with base64 string image as argument\n\t */\n\thtmlToImage(element, callback, options = { imageType: 'image/png', logging: false }) {\n\t\telement = $(element).get(0); // make sure we have HTMLElement not jQuery because it will not work\n\t\tconst imageType = options.imageType;\n\t\tdelete options.imageType;\n\t\treturn html2canvas(element, options).then(canvas => {\n\t\t\tconst base64Image = canvas.toDataURL(imageType);\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\tcallback(base64Image);\n\t\t\t}\n\t\t\treturn base64Image;\n\t\t});\n\t},\n\tdecodeHTML(html) {\n\t\tvar txt = document.createElement('textarea');\n\t\ttxt.innerHTML = html;\n\t\treturn txt.value;\n\t},\n\tshowAlert: function(customParams) {\n\t\tlet userParams = customParams;\n\t\tif (typeof customParams === 'string') {\n\t\t\tuserParams = {};\n\t\t\tuserParams.text = customParams;\n\t\t}\n\t\tlet params = {\n\t\t\ttarget: document.body,\n\t\t\tdata: {\n\t\t\t\ttype: 'error',\n\t\t\t\thide: false,\n\t\t\t\tstack: {\n\t\t\t\t\tdir1: 'down',\n\t\t\t\t\tmodal: true,\n\t\t\t\t\tfirstpos1: 25\n\t\t\t\t},\n\t\t\t\tmodules: {\n\t\t\t\t\tConfirm: {\n\t\t\t\t\t\tconfirm: true,\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: 'Ok',\n\t\t\t\t\t\t\t\tpromptTrigger: true,\n\t\t\t\t\t\t\t\tprimary: true,\n\t\t\t\t\t\t\t\tclick: function(notice) {\n\t\t\t\t\t\t\t\t\tnotice.close();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tButtons: {\n\t\t\t\t\t\tcloser: false,\n\t\t\t\t\t\tsticker: false\n\t\t\t\t\t},\n\t\t\t\t\tHistory: {\n\t\t\t\t\t\thistory: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (typeof userParams !== 'undefined') {\n\t\t\tparams.data = $.extend(params.data, userParams);\n\t\t}\n\t\treturn new PNotify(params);\n\t},\n\tshowConfirmModal: function(customParams, confirmCallback = () => {}, cancelCallback = () => {}) {\n\t\tlet aDeferred = $.Deferred();\n\n\t\tlet userParams = customParams;\n\t\tif (typeof customParams === 'string') {\n\t\t\tuserParams = {};\n\t\t\tuserParams.text = customParams;\n\t\t}\n\t\tlet params = {\n\t\t\ttarget: document.body,\n\t\t\tdata: {\n\t\t\t\thide: false,\n\t\t\t\ticon: 'fas fa-question-circle',\n\t\t\t\tstack: {\n\t\t\t\t\tdir1: 'down',\n\t\t\t\t\tmodal: true,\n\t\t\t\t\tfirstpos1: 25\n\t\t\t\t},\n\t\t\t\tmodules: {\n\t\t\t\t\tConfirm: {\n\t\t\t\t\t\tconfirm: true,\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_OK'),\n\t\t\t\t\t\t\t\tprimary: true,\n\t\t\t\t\t\t\t\tpromptTrigger: true,\n\t\t\t\t\t\t\t\tclick: function(notice) {\n\t\t\t\t\t\t\t\t\tnotice.close();\n\t\t\t\t\t\t\t\t\tconfirmCallback();\n\t\t\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\t\t\t\tclick: function(notice) {\n\t\t\t\t\t\t\t\t\tnotice.close();\n\t\t\t\t\t\t\t\t\tcancelCallback();\n\t\t\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tButtons: {\n\t\t\t\t\t\tcloser: false,\n\t\t\t\t\t\tsticker: false\n\t\t\t\t\t},\n\t\t\t\t\tHistory: {\n\t\t\t\t\t\thistory: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (typeof userParams !== 'undefined') {\n\t\t\tparams.data = $.extend(params.data, userParams);\n\t\t}\n\t\tnew PNotify(params);\n\t\treturn aDeferred.promise();\n\t},\n\tregistesterScrollbar(container) {\n\t\tcontainer.find('.js-scrollbar').each(function() {\n\t\t\tlet element = $(this),\n\t\t\t\tscrollbarFnName = element.data('scrollbarFnName');\n\n\t\t\tif (typeof app[scrollbarFnName] === 'function') {\n\t\t\t\tapp[scrollbarFnName](element);\n\t\t\t} else {\n\t\t\t\tapp.showNewScrollbar(element);\n\t\t\t}\n\t\t});\n\t},\n\tregisterPopover(container = $(document)) {\n\t\twindow.popoverCache = {};\n\t\tcontainer.on('mousemove', e => {\n\t\t\tapp.mousePosition = { x: e.pageX, y: e.pageY };\n\t\t});\n\t\tcontainer.on(\n\t\t\t'mouseenter',\n\t\t\t'.js-popover-tooltip, .js-popover-tooltip--record, .js-popover-tooltip--ellipsis, [data-field-type=\"reference\"], [data-field-type=\"multireference\"]',\n\t\t\te => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.find('.js-popover-tooltip--record').length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!currentTarget.hasClass('popover-triggered')) {\n\t\t\t\t\tif (currentTarget.hasClass('js-popover-tooltip--record')) {\n\t\t\t\t\t\tapp.registerPopoverRecord(currentTarget, {}, container);\n\t\t\t\t\t\tcurrentTarget.trigger('mouseenter');\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t!currentTarget.hasClass('js-popover-tooltip--record') &&\n\t\t\t\t\t\tcurrentTarget.data('field-type')\n\t\t\t\t\t) {\n\t\t\t\t\t\tapp.registerPopoverRecord(currentTarget.children('a'), {}, container); //popoverRecord on children doesn't need triggering\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t!currentTarget.hasClass('js-popover-tooltip--record') &&\n\t\t\t\t\t\t!currentTarget.find('.js-popover-tooltip--record').length &&\n\t\t\t\t\t\t!currentTarget.data('field-type')\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (currentTarget.hasClass('js-popover-tooltip--ellipsis')) {\n\t\t\t\t\t\t\tapp.registerPopoverEllipsis({ element: currentTarget, container });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showPopoverElementView(currentTarget);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentTarget.trigger('mouseenter');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n\tshowNotify: function(params) {\n\t\tif (typeof params.type === 'undefined') {\n\t\t\tparams.type = 'info';\n\t\t}\n\t\tif (typeof params.title === 'undefined') {\n\t\t\tparams.title = app.vtranslate('JS_MESSAGE');\n\t\t}\n\t\tVtiger_Helper_Js.showPnotify(params);\n\t},\n\tshowDesktopNotification: function(params) {\n\t\tparams = $.extend(params, {\n\t\t\tmodules: {\n\t\t\t\tDesktop: {\n\t\t\t\t\tdesktop: true,\n\t\t\t\t\tfallback: false,\n\t\t\t\t\ticon: params.icon\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tPNotify.notice(params);\n\t},\n\t/**\n\t * Set Pnotify defaults options\n\t */\n\tsetPnotifyDefaultOptions() {\n\t\tPNotify.defaults.textTrusted = true; // *Trusted option enables html as parameter's value\n\t\tPNotify.defaults.titleTrusted = true;\n\t\tPNotify.defaults.styling = 'bootstrap4';\n\t\tPNotify.defaults.icons = 'fontawesome5';\n\t},\n\t/**\n\t * Register auto format number value\n\t */\n\tregisterFormatNumber() {\n\t\t$(document).on('focusout', '.js-format-numer', e => {\n\t\t\t$(e.currentTarget).formatNumber();\n\t\t});\n\t},\n\t/**\n\t * Register toggle icon click event\n\t * @param container\n\t */\n\tregisterToggleIconClick(container) {\n\t\tcontainer.on('click', '.js-toggle-icon, .js-toggle-icon__container', e => {\n\t\t\tlet icon = $(e.target);\n\t\t\tif (icon.hasClass('js-toggle-icon__container')) {\n\t\t\t\ticon = icon.find('.js-toggle-icon');\n\t\t\t}\n\t\t\tlet iconData = icon.data();\n\t\t\ticon.toggleClass(`${iconData.active} ${iconData.inactive}`);\n\t\t\te.stopPropagation();\n\t\t});\n\t},\n\tstripHtml(html) {\n\t\tconst temporalDiv = document.createElement('div');\n\t\ttemporalDiv.innerHTML = html;\n\t\treturn temporalDiv.textContent || temporalDiv.innerText || '';\n\t}\n});\nCKEDITOR.disableAutoInline = true;\n$(document).ready(function() {\n\tQuasar.iconSet.set(Quasar.iconSet.mdiV3);\n\tlet document = $(this);\n\tapp.registerToggleIconClick(document);\n\tapp.touchDevice = app.isTouchDevice();\n\tapp.setPnotifyDefaultOptions();\n\tApp.Fields.Picklist.changeSelectElementView();\n\tapp.registerPopoverEllipsisIcon();\n\tapp.registerPopover();\n\tapp.registerFormatNumber();\n\tapp.registerIframeAndMoreContent();\n\tapp.registerModal();\n\tapp.registerQuickEditModal(document);\n\tapp.registerMenu();\n\tapp.registerTabdrop();\n\tapp.registerIframeEvents(document);\n\tapp.registesterScrollbar(document);\n\tApp.Components.Scrollbar.initPage();\n\tString.prototype.toCamelCase = function() {\n\t\tlet value = this.valueOf();\n\t\treturn value.charAt(0).toUpperCase() + value.slice(1).toLowerCase();\n\t};\n\t// in IE resize option for textarea is not there, so we have to use .resizable() api\n\tif (/MSIE/.test(navigator.userAgent) || /Trident/.test(navigator.userAgent)) {\n\t\t$('textarea').resizable();\n\t}\n\t// Instantiate Page Controller\n\tlet pageController = app.getPageController();\n\tif (pageController) {\n\t\tpageController.registerEvents();\n\t}\n});\n(function($) {\n\t$.fn.getNumberFromValue = function() {\n\t\treturn App.Fields.Double.formatToDb($(this).val());\n\t};\n\t$.fn.getNumberFromText = function() {\n\t\treturn App.Fields.Double.formatToDb($(this).text());\n\t};\n\t$.fn.setValue = function(value, type = 'value') {\n\t\treturn App.Fields.Utils.setValue($(this), value, type);\n\t};\n\t$.fn.formatNumber = function() {\n\t\tlet element = $(this);\n\t\telement.val(App.Fields.Double.formatToDisplay(App.Fields.Double.formatToDb(element.val()), false));\n\t};\n\t$.fn.disable = function() {\n\t\tthis.attr('disabled', 'disabled');\n\t};\n\t$.fn.enable = function() {\n\t\tthis.removeAttr('disabled');\n\t};\n\t$.fn.serializeFormData = function() {\n\t\tlet form = $(this);\n\t\tfor (var instance in CKEDITOR.instances) {\n\t\t\tCKEDITOR.instances[instance].updateElement();\n\t\t}\n\t\tlet values = form.serializeArray();\n\t\tlet data = {};\n\t\tif (values) {\n\t\t\t$(values).each(function(k, v) {\n\t\t\t\tif (v.name in data && typeof data[v.name] !== 'object') {\n\t\t\t\t\tlet element = form.find('[name=\"' + v.name + '\"]');\n\t\t\t\t\t//Only for muti select element we need to send array of values\n\t\t\t\t\tif (element.is('select') && element.attr('multiple') != undefined) {\n\t\t\t\t\t\tlet prevValue = data[v.name];\n\t\t\t\t\t\tdata[v.name] = [];\n\t\t\t\t\t\tdata[v.name].push(prevValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof data[v.name] === 'object') {\n\t\t\t\t\tdata[v.name].push(v.value);\n\t\t\t\t} else {\n\t\t\t\t\tdata[v.name] = v.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// If data-type=\"autocomplete\", pickup data-value=\"...\" set\n\t\tlet autocompletes = $('[data-type=\"autocomplete\"]', $(this));\n\t\t$(autocompletes).each(function(i) {\n\t\t\tlet ac = $(autocompletes[i]);\n\t\t\tdata[ac.attr('name')] = ac.data('value');\n\t\t});\n\t\treturn data;\n\t};\n\t// Case-insensitive :icontains expression\n\t$.expr[':'].icontains = function(obj, index, meta, stack) {\n\t\treturn (\n\t\t\t(obj.textContent || obj.innerText || $(obj).text() || '').toLowerCase().indexOf(meta[3].toLowerCase()) !==\n\t\t\t-1\n\t\t);\n\t};\n\t$.fn.removeTextNode = function() {\n\t\t$(this)\n\t\t\t.contents()\n\t\t\t.filter(function() {\n\t\t\t\treturn this.nodeType == 3; //Node.TEXT_NODE\n\t\t\t})\n\t\t\t.remove();\n\t};\n\tbootbox.setLocale(CONFIG.langKey);\n})($);\n"],"names":["window","App","Components","Tree","Basic","$","treeInstance","treeData","generateTree","container","slef","on","e","data","event","target","hasClass","instance","select_node","node","children_d","deselect_node","jstree","core","getRecords","themes","name","responsive","plugins","registerSearchEvent","searchTimeout","treeSearch","clearTimeout","setTimeout","val","self","search","searchValue","JSON","parse","find","QuickCreate","moduleCache","createRecord","moduleName","params","CONFIG","modalTarget","parent","callbackFunction","getViewName","app","getRecordId","getParentModuleName","url","getModuleName","progressIndicator","blockInfo","enabled","getForm","done","showModal","registerEventForClockPicker","progress","mode","aDeferred","Deferred","requestParams","isCacheActive","noCache","resolve","promise","AppConnector","request","html","showModalWindow","quickCreateForm","editViewInstance","Vtiger_Edit_Js","getInstanceByModuleName","moduleClassName","registerBasicEvents","registerEvents","validationEngine","validationEngineOptions","callbackPostShown","registerPostLoadEvents","registerHelpInfo","form","submitSuccessCallback","goToFullFormCallBack","goToFullFormcallback","currentTarget","InvalidFields","length","removeData","preventDefault","Event","recordPreSave","trigger","recordPreSaveEvent","value","module","isDefaultPrevented","saveHandler","moduleInstance","quickCreateSave","save","message","vtranslate","position","closest","parentModuleName","viewName","modalContainer","hideModalWindow","id","listInstance","getListViewRecords","success","Vtiger_Helper_Js","showPnotify","text","type","editViewUrl","goToFullForm","registerTabEvents","showPopoverElementView","remove","append","each","key","removeAttr","addClass","submit","quickCreateTabOnHide","index","element","attr","quickCreateTabOnShow","tabElements","not","filter","quickCreateSaveUrl","serializeFormData","textStatus","errorThrown","reject","QuickEdit","quickEditSave","location","reload","formData","processData","contentType","Scrollbar","active","defaults","scrollbars","autoHide","page","initPage","scrollbarContainer","y","getElements","viewport","xy","overlayScrollbars","options","Object","assign","overflowBehavior","x","mergedOptions","languageString","breakpoints","xs","sm","md","lg","xl","xxl","xxxl","cacheParams","modalEvents","mousePosition","childFrame","touchDevice","el","arguments","Array","prototype","slice","call","apply","one","off","getMainParams","view","inArray","recordId","getRecordDetails","action","fail","getLanguage","getPageTitle","title","getWindowParent","frames","isWindowTop","top","isTouchDevice","supportsTouch","navigator","msPointerEnabled","documentElement","appendTo","isJsonString","str","setPageTitle","document","getContentsContainer","hidePopover","popover","hidePopoversAfterClick","popoverParent","registerPopoverManualTrigger","manualTriggerDelay","getBindedPopover","currentPopover","is","isEllipsisActive","clone","css","removeClass","width","defaultParams","placement","template","boundary","delay","show","hide","domElement","elementParams","extend","callbackShown","selectElement","registerPopoverEllipsis","setPopoverPosition","popoverText","registerPopoverEllipsisIcon","iconElement","selector","registerPopoverRecord","customParams","content","eq","origin","link","searchParams","get","href","replace","popoverBody","callback","cacheData","popoverCache","appendPopoverData","popoverElement","computePopoverIframeOffset","windowHeight","height","windowWidth","popoverHeight","popoverWidth","offsetTop","iframeOffset","offsetLeft","left","transform","iframeOffsetLeft","iframe","offset","iframeOffsetTop","contents","iframeOffset2","iframe2","registerChangeEventForMultiSelect","limit","maximumSelectionLength","isArray","updateResults","getSerializedData","parentElement","returnFormat","children","serialize","valueList","encodedString","split","keyValueArr","keyValueString","nameOfElement","valueOfElement","keyValueMap","decodeURIComponent","animateModal","modal","openAnimation","closeAnimation","showModalData","paramsObject","cb","sendByAjaxCb","backdrop","keyboard","fn","Constructor","enforceFocus","proxy","Fields","Picklist","showSelect2ElementView","Date","register","Text","Editor","toolbar","registesterScrollbar","thisInstance","registerModalEvents","registerDataTables","isCurrentWindowTarget","Window","lastModalId","Math","random","toString","substr","modalId","response","sourceFunction","args","unshift","reduce","o","i","registerModalController","modalClass","validationForm","formAlignmentAfterValidation","responseData","result","notify","showMessage","procesStop","progressIndicatorElement","isHidden","isInvisible","scroll","promptPosition","prettySelect","usePrefix","validationEngineOptionsForRecord","validateNonVisibleFields","onBeforePromptType","field","block","click","scrollOptions","wheelSpeed","formError","animate","scrollTop","destination","convertToDatePickerFormat","dateFormat","convertTojQueryDatePickerFormat","dotMode","indexOf","splitDateFormat","sectionDate","substring","join","getDateInDBInsertFormat","dateString","day","month","year","dateParts","dateFormatParts","registerEventForDateFields","datepicker","autoclose","ev","currentElement","toUpperCase","date","formatDate","moment","format","Utils","hideMobileKeyboard","timeInputs","minutestep","stopPropagation","tempElement","clockpicker","twelvehour","afterDone","timeInput","timeStringFormatted","timeString","meridiemTime","beforeHide","formatTime","hourFormat","formatTimeString","table","dataTable","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","DataTable","getSelect2ElementFromSelect","selectId","setInheritWidth","elements","parentWidth","showNewScrollbar","wheelPropagation","showNewScrollbarTopBottomRight","scrollbarTopElement","first","bottom","scrollbarTopLeftInit","scrollbarBottomRightInit","showNewScrollbarTopBottom","suppressScrollY","showNewScrollbarTop","showNewScrollbarLeft","scrollbarLeftElement","right","showScrollBar","slimScroll","registerMiddleClickScroll","which","middleScroll","pageY","mouseX","pageX","mouseY","contentScrollY","mouseMoveX","contentScrollX","scrollLeft","mouseMoveY","LANG","cacheNSKey","cacheGet","store","cacheSet","set","cacheClear","moduleCacheSet","cacheKey","push","orgKey","unique","moduleCacheGet","moduleCacheKeys","modules","moduleCacheClear","htmlEncode","htmlDecode","placeAtCenter","outerHeight","outerWidth","getvalidationEngineOptions","notifyPostAjaxReady","listenPostAjaxReady","setFormValues","kv","k","setRTEValues","CKEDITOR","instances","rte","setData","getPageController","pageController","parentModule","extendModules","moduleBaseClassName","getDecodedValue","getCookie","c_name","cookie","c_start","c_value","c_end","unescape","setCookie","exdays","exdate","setDate","getDate","escape","toUTCString","getUrlVar","varName","m","vars","getStringDate","getMonth","getFullYear","d","h","getHours","getMinutes","s","getSeconds","formatDateZ","howManyDaysFromDate","time","getTime","today","toTime","floor","fromTime","saveAjax","param","addToParams","removeEmptyFilesInput","parentNode","removeChild","json","setMainParams","errorLog","error","err","debug","console","warn","responseText","statusText","registerQuickEditModal","record","mandatoryFields","showLayout","editFields","registerModal","callerArray","modalWindowParams","playSound","soundsConfig","audio","play","registerIframeAndMoreContent","btn","siblings","bootbox","dialog","className","buttons","danger","label","showMoreModal","registerIframeEvents","registerMenu","DOWN","ESCAPE","LEFT","RIGHT","SPACE","UP","sidebarBtn","sidebar","toggleSidebar","bind","openSidebar","closeSidebar","sidebarKeyboard","focus","parseInt","last","registerPinEvent","pinButton","baseContainer","hideMenu","userId","prev","toggler","registerTabdrop","tabs","tab","tabdrop","dropdown","getScreenHeight","percantage","clearBrowsingHistory","openUrl","openUrlTarget","openUrlMethodPost","formAttr","method","style","postData","csrfMagicName","csrfMagicToken","createElement","input","convertUrlToObject","forEach","includes","urlObject","values","convertObjectToUrl","entryFile","keys","urlData","startsWith","showConfirmation","showConfirmationBox","Vtiger_Detail_Js","getInstance","reloadTabContent","formatToHourText","decTime","withSeconds","withMinutes","short","hour","min","sec","round","trim","showRecordsList","afterShowModal","showRecordsListModal","requestData","htmlToImage","imageType","logging","html2canvas","then","canvas","toDataURL","base64Image","decodeHTML","innerHTML","txt","showAlert","userParams","body","stack","dir1","firstpos1","Confirm","confirm","promptTrigger","primary","notice","close","Buttons","closer","sticker","History","history","showConfirmModal","cancelCallback","icon","confirmCallback","scrollbarFnName","registerPopover","showNotify","showDesktopNotification","Desktop","desktop","fallback","PNotify","setPnotifyDefaultOptions","textTrusted","titleTrusted","styling","icons","registerFormatNumber","formatNumber","registerToggleIconClick","toggleClass","iconData","inactive","stripHtml","temporalDiv","textContent","innerText","disableAutoInline","ready","Quasar","iconSet","mdiV3","changeSelectElementView","String","toCamelCase","valueOf","charAt","toLowerCase","test","userAgent","resizable","getNumberFromValue","Double","formatToDb","getNumberFromText","setValue","formatToDisplay","disable","enable","updateElement","serializeArray","v","prevValue","autocompletes","ac","expr","icontains","obj","meta","removeTextNode","nodeType","setLocale","langKey"],"mappings":"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"}