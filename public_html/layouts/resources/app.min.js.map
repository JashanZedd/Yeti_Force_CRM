{"version":3,"file":"app.min.js","sources":["app.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nvar App = (window.App = {\n\tComponents: {\n\t\tTree: {\n\t\t\tBasic: class {\n\t\t\t\tconstructor(container = $('.js-tree-container')) {\n\t\t\t\t\tthis.treeInstance = false;\n\t\t\t\t\tthis.treeData = false;\n\t\t\t\t\tthis.generateTree(container);\n\t\t\t\t}\n\n\t\t\t\tgenerateTree(container) {\n\t\t\t\t\tconst slef = this;\n\t\t\t\t\tif (slef.treeInstance === false) {\n\t\t\t\t\t\tslef.treeInstance = container;\n\t\t\t\t\t\tslef.treeInstance\n\t\t\t\t\t\t\t.on('select_node.jstree', function(e, data) {\n\t\t\t\t\t\t\t\tif (data.event !== undefined && $(data.event.target).hasClass('jstree-checkbox')) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata.instance.select_node(data.node.children_d);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('deselect_node.jstree', function(e, data) {\n\t\t\t\t\t\t\t\tif (data.event !== undefined && $(data.event.target).hasClass('jstree-checkbox')) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdata.instance.deselect_node(data.node.children_d);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.jstree({\n\t\t\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\t\t\tdata: slef.getRecords(container),\n\t\t\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\t\t\tresponsive: true\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tplugins: ['search', 'checkbox']\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.registerSearchEvent();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tregisterSearchEvent() {\n\t\t\t\t\tconst self = this;\n\t\t\t\t\tlet searchTimeout = false,\n\t\t\t\t\t\ttreeSearch = $('.js-tree-search');\n\t\t\t\t\ttreeSearch.on('keyup', () => {\n\t\t\t\t\t\tif (searchTimeout) {\n\t\t\t\t\t\t\tclearTimeout(searchTimeout);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsearchTimeout = setTimeout(function() {\n\t\t\t\t\t\t\tvar searchValue = treeSearch.val();\n\t\t\t\t\t\t\tself.treeInstance.jstree(true).search(searchValue);\n\t\t\t\t\t\t}, 250);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tgetRecords(container) {\n\t\t\t\t\tif (this.treeData === false && container !== 'undefined') {\n\t\t\t\t\t\tthis.treeData = JSON.parse(container.find('.js-tree-data').val());\n\t\t\t\t\t}\n\t\t\t\t\treturn this.treeData;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Quick create object used by Header.js and yf plugins\n\t\t *\n\t\t */\n\t\tQuickCreate: {\n\t\t\t/**\n\t\t\t * module quick create data cache\n\t\t\t */\n\t\t\tmoduleCache: {},\n\t\t\t/**\n\t\t\t * createRecord\n\t\t\t *\n\t\t\t * @param   {string}  moduleName\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tcreateRecord(moduleName, params = {}) {\n\t\t\t\tif ('parentIframe' === CONFIG.modalTarget) {\n\t\t\t\t\twindow.parent.App.Components.QuickCreate.createRecord(moduleName, params);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet url = 'index.php?module=' + moduleName + '&view=QuickCreateAjax';\n\t\t\t\tif (undefined === params.callbackFunction) {\n\t\t\t\t\tparams.callbackFunction = function() {};\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\t(app.getViewName() === 'Detail' ||\n\t\t\t\t\t\t(app.getViewName() === 'Edit' && app.getRecordId() !== undefined)) &&\n\t\t\t\t\tapp.getParentModuleName() != 'Settings'\n\t\t\t\t) {\n\t\t\t\t\turl += '&sourceModule=' + app.getModuleName();\n\t\t\t\t\turl += '&sourceRecord=' + app.getRecordId();\n\t\t\t\t}\n\t\t\t\tconst progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tthis.getForm(url, moduleName, params).done(data => {\n\t\t\t\t\tthis.showModal(data, params);\n\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Get quick create form\n\t\t\t *\n\t\t\t * @param   {string}  url\n\t\t\t * @param   {string}  moduleName\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {Promise} aDeferred\n\t\t\t */\n\t\t\tgetForm(url, moduleName, params = {}) {\n\t\t\t\tconst aDeferred = $.Deferred();\n\t\t\t\tlet requestParams;\n\t\t\t\tlet isCacheActive = !params.noCache || undefined === params.noCache;\n\t\t\t\tif (isCacheActive) {\n\t\t\t\t\tif (App.Components.QuickCreate.moduleCache[moduleName]) {\n\t\t\t\t\t\taDeferred.resolve(App.Components.QuickCreate.moduleCache[moduleName]);\n\t\t\t\t\t\treturn aDeferred.promise();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\trequestParams = url;\n\t\t\t\tif (typeof params.data !== 'undefined') {\n\t\t\t\t\trequestParams = {};\n\t\t\t\t\trequestParams['data'] = params.data;\n\t\t\t\t\trequestParams['url'] = url;\n\t\t\t\t}\n\t\t\t\tAppConnector.request(requestParams).done(function(data) {\n\t\t\t\t\tif (isCacheActive) {\n\t\t\t\t\t\tApp.Components.QuickCreate.moduleCache[moduleName] = data;\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t});\n\t\t\t\treturn aDeferred.promise();\n\t\t\t},\n\t\t\t/**\n\t\t\t * Show modal\n\t\t\t *\n\t\t\t * @param   {string}  html\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tshowModal(html, params = {}) {\n\t\t\t\tapp.showModalWindow(html, container => {\n\t\t\t\t\tconst quickCreateForm = container.find('form[name=\"QuickCreate\"]');\n\t\t\t\t\tconst moduleName = quickCreateForm.find('[name=\"module\"]').val();\n\t\t\t\t\tconst editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\tconst moduleClassName = moduleName + '_QuickCreate_Js';\n\t\t\t\t\teditViewInstance.registerBasicEvents(quickCreateForm);\n\t\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\t\tnew window[moduleClassName]().registerEvents(container);\n\t\t\t\t\t}\n\t\t\t\t\tquickCreateForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\tif (typeof params.callbackPostShown !== 'undefined') {\n\t\t\t\t\t\tparams.callbackPostShown(quickCreateForm);\n\t\t\t\t\t}\n\t\t\t\t\tthis.registerPostLoadEvents(quickCreateForm, params);\n\t\t\t\t\tthis.registerHelpInfo(quickCreateForm);\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register post load events\n\t\t\t *\n\t\t\t * @param   {object}  form jQuery\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {boolean}\n\t\t\t */\n\t\t\tregisterPostLoadEvents(form, params) {\n\t\t\t\tconst submitSuccessCallback = params.callbackFunction || function() {};\n\t\t\t\tconst goToFullFormCallBack = params.goToFullFormcallback || function() {};\n\t\t\t\tform.on('submit', e => {\n\t\t\t\t\tconst form = $(e.currentTarget);\n\t\t\t\t\tif (form.hasClass('not_validation')) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tconst moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\tform.trigger(recordPreSaveEvent, {\n\t\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\tconst moduleInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\t\tconst saveHandler = !!moduleInstance.quickCreateSave\n\t\t\t\t\t\t\t\t? moduleInstance.quickCreateSave\n\t\t\t\t\t\t\t\t: this.save;\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsaveHandler(form).done(data => {\n\t\t\t\t\t\t\t\tconst modalContainer = form.closest('.modalContainer');\n\t\t\t\t\t\t\t\tconst parentModuleName = app.getModuleName();\n\t\t\t\t\t\t\t\tconst viewName = app.getViewName();\n\t\t\t\t\t\t\t\tif (modalContainer.length) {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modalContainer[0].id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (moduleName === parentModuleName && 'List' === viewName) {\n\t\t\t\t\t\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubmitSuccessCallback(data);\n\t\t\t\t\t\t\t\tapp.event.trigger('QuickCreate.AfterSaveFinal', data, form);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_SUCCESS'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//If validation fails in recordPreSaveEvent, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tform.find('.js-full-editlink').on('click', e => {\n\t\t\t\t\tconst form = $(e.currentTarget).closest('form');\n\t\t\t\t\tconst editViewUrl = $(e.currentTarget).data('url');\n\t\t\t\t\tgoToFullFormCallBack(form);\n\t\t\t\t\tthis.goToFullForm(form, editViewUrl);\n\t\t\t\t});\n\n\t\t\t\tthis.registerTabEvents(form);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register help info\n\t\t\t *\n\t\t\t * @param   {object}  container jQuery\n\t\t\t */\n\t\t\tregisterHelpInfo(container = $('form[name=\"QuickCreate\"]')) {\n\t\t\t\tapp.showPopoverElementView(container.find('.js-help-info'));\n\t\t\t},\n\t\t\t/**\n\t\t\t * Function to navigate from quick create to edit iew full form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t */\n\t\t\tgoToFullForm(form) {\n\t\t\t\t//As formData contains information about both view and action removed action and directed to view\n\t\t\t\tform.find('input[name=\"action\"]').remove();\n\t\t\t\tform.append('<input type=\"hidden\" name=\"view\" value=\"Edit\" />');\n\t\t\t\t$.each(form.find('[data-validation-engine]'), function(key, data) {\n\t\t\t\t\t$(data).removeAttr('data-validation-engine');\n\t\t\t\t});\n\t\t\t\tform.addClass('not_validation');\n\t\t\t\tform.submit();\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register tab events\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t */\n\t\t\tregisterTabEvents(form) {\n\t\t\t\tconst tabElements = form.find('.nav.nav-pills , .nav.nav-tabs').find('a');\n\t\t\t\t//This will remove the name attributes and assign it to data-element-name . We are doing this to avoid\n\t\t\t\t//Multiple element to send as in calendar\n\t\t\t\tconst quickCreateTabOnHide = function(target) {\n\t\t\t\t\t$(target)\n\t\t\t\t\t\t.find('[name]')\n\t\t\t\t\t\t.each(function(index, element) {\n\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\t//This will add the name attributes and get value from data-element-name . We are doing this to avoid\n\t\t\t\t//Multiple element to send as in calendar\n\t\t\t\tconst quickCreateTabOnShow = function(target) {\n\t\t\t\t\t$(target)\n\t\t\t\t\t\t.find('[data-element-name]')\n\t\t\t\t\t\t.each(function(index, element) {\n\t\t\t\t\t\t\telement = $(element);\n\t\t\t\t\t\t\telement.attr('name', element.attr('data-element-name')).removeAttr('data-element-name');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\ttabElements.on('click', function(e) {\n\t\t\t\t\tquickCreateTabOnHide(tabElements.not('[aria-expanded=\"false\"]').attr('data-target'));\n\t\t\t\t\tquickCreateTabOnShow($(this).attr('data-target'));\n\t\t\t\t\t//while switching tabs we have to clear the invalid fields list\n\t\t\t\t\tform.data('jqv').InvalidFields = [];\n\t\t\t\t});\n\t\t\t\t//To show aleady non active element , this we are doing so that on load we can remove name attributes for other fields\n\t\t\t\ttabElements.filter('a:not(.active)').each(function(e) {\n\t\t\t\t\tquickCreateTabOnHide($(this).attr('data-target'));\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Save quick create form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t *\n\t\t\t * @return  {Promise}        aDeferred\n\t\t\t */\n\t\t\tsave(form) {\n\t\t\t\tconst aDeferred = $.Deferred();\n\t\t\t\tconst quickCreateSaveUrl = form.serializeFormData();\n\t\t\t\tAppConnector.request(quickCreateSaveUrl).done(\n\t\t\t\t\tdata => {\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t},\n\t\t\t\t\t(textStatus, errorThrown) => {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t},\n\t\tQuickEdit: {\n\t\t\t/**\n\t\t\t * Show modal\n\t\t\t *\n\t\t\t * @param   {string}  html\n\t\t\t * @param   {object}  params\n\t\t\t */\n\t\t\tshowModal(params = {}) {\n\t\t\t\tconst self = this;\n\t\t\t\tparams['view'] = 'QuickEditModal';\n\t\t\t\tAppConnector.request(params).done(function(html) {\n\t\t\t\t\tapp.showModalWindow(html, container => {\n\t\t\t\t\t\tlet form = container.find('form[name=\"QuickEdit\"]');\n\t\t\t\t\t\tlet moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t\tlet editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\tlet moduleClassName = moduleName + '_QuickEdit_Js';\n\t\t\t\t\t\teditViewInstance.registerBasicEvents(form);\n\t\t\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\t\t\tnew window[moduleClassName]().registerEvents(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\tif (typeof params.callbackPostShown !== 'undefined') {\n\t\t\t\t\t\t\tparams.callbackPostShown(form, params);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tself.registerPostLoadEvents(form, params);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Register post load events\n\t\t\t *\n\t\t\t * @param   {object}  form jQuery\n\t\t\t * @param   {object}  params\n\t\t\t *\n\t\t\t * @return  {boolean}\n\t\t\t */\n\t\t\tregisterPostLoadEvents(form, params) {\n\t\t\t\tconst submitSuccessCallback = params.callbackFunction || function() {};\n\t\t\t\tform.on('submit', e => {\n\t\t\t\t\tconst form = $(e.currentTarget);\n\t\t\t\t\tif (form.hasClass('not_validation')) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tconst moduleName = form.find('[name=\"module\"]').val();\n\t\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\tform.trigger(recordPreSaveEvent, {\n\t\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\tconst moduleInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\t\t\t\tconst saveHandler = !!moduleInstance.quickEditSave\n\t\t\t\t\t\t\t\t? moduleInstance.quickEditSave\n\t\t\t\t\t\t\t\t: this.save;\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsaveHandler(form).done(data => {\n\t\t\t\t\t\t\t\tconst modalContainer = form.closest('.modalContainer');\n\t\t\t\t\t\t\t\tconst parentModuleName = app.getModuleName();\n\t\t\t\t\t\t\t\tconst viewName = app.getViewName();\n\t\t\t\t\t\t\t\tif (modalContainer.length) {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modalContainer[0].id);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (moduleName === parentModuleName && 'List' === viewName) {\n\t\t\t\t\t\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubmitSuccessCallback(data);\n\t\t\t\t\t\t\t\tapp.event.trigger('QuickEdit.AfterSaveFinal', data, form);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_SUCCESS'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ('Detail' === viewName && app.getRecordId() === form.find('[name=\"record\"]').val()) {\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//If validation fails in recordPreSaveEvent, form should submit again\n\t\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t/**\n\t\t\t * Save quick create form\n\t\t\t *\n\t\t\t * @param   {object}  form  jQuery\n\t\t\t *\n\t\t\t * @return  {Promise}        aDeferred\n\t\t\t */\n\t\t\tsave(form) {\n\t\t\t\tconst aDeferred = $.Deferred();\n\t\t\t\tconst quickCreateSaveUrl = form.serializeFormData();\n\t\t\t\tAppConnector.request(quickCreateSaveUrl).done(\n\t\t\t\t\tdata => {\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t},\n\t\t\t\t\t(textStatus, errorThrown) => {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t},\n\t\tScrollbar: {\n\t\t\tdefaults: {\n\t\t\t\tscrollbars: {\n\t\t\t\t\tautoHide: 'leave'\n\t\t\t\t}\n\t\t\t},\n\t\t\tpage: {\n\t\t\t\tinstance: {},\n\t\t\t\telement: null\n\t\t\t},\n\t\t\tinitPage() {\n\t\t\t\tlet scrollbarContainer = $('.mainBody');\n\t\t\t\tif (!scrollbarContainer.length) {\n\t\t\t\t\tscrollbarContainer = $('body');\n\t\t\t\t}\n\t\t\t\tthis.page.instance = this.y(scrollbarContainer);\n\t\t\t\tthis.page.element = $(this.page.instance.getElements().viewport);\n\t\t\t},\n\t\t\txy(element, options = {}) {\n\t\t\t\treturn element.overlayScrollbars(options).overlayScrollbars();\n\t\t\t},\n\t\t\ty(element, options) {\n\t\t\t\tconst yOptions = {\n\t\t\t\t\toverflowBehavior: {\n\t\t\t\t\t\tx: 'h'\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst mergedOptions = Object.assign(this.defaults, options, yOptions);\n\t\t\t\treturn element.overlayScrollbars(mergedOptions).overlayScrollbars();\n\t\t\t}\n\t\t}\n\t}\n});\n\nvar app = (window.app = {\n\t/**\n\t * variable stores client side language strings\n\t */\n\tlanguageString: [],\n\tbreakpoints: {\n\t\txs: 0,\n\t\tsm: 576,\n\t\tmd: 768,\n\t\tlg: 992,\n\t\txl: 1200,\n\t\txxl: 1300,\n\t\txxxl: 1700\n\t},\n\tcacheParams: [],\n\tmodalEvents: [],\n\tmousePosition: { x: 0, y: 0 },\n\tchildFrame: false,\n\ttouchDevice: false,\n\tevent: new (function() {\n\t\tthis.el = $({});\n\t\tthis.trigger = function() {\n\t\t\tthis.el.trigger(arguments[0], Array.prototype.slice.call(arguments, 1));\n\t\t};\n\t\tthis.on = function() {\n\t\t\tthis.el.on.apply(this.el, arguments);\n\t\t};\n\t\tthis.one = function() {\n\t\t\tthis.el.one.apply(this.el, arguments);\n\t\t};\n\t\tthis.off = function() {\n\t\t\tthis.el.off.apply(this.el, arguments);\n\t\t};\n\t})(),\n\t/**\n\t * Function to get the module name. This function will get the value from element which has id module\n\t * @return : string - module name\n\t */\n\tgetModuleName: function() {\n\t\treturn this.getMainParams('module');\n\t},\n\t/**\n\t * Function to get the module name. This function will get the value from element which has id module\n\t * @return : string - module name\n\t */\n\tgetParentModuleName: function() {\n\t\treturn this.getMainParams('parent');\n\t},\n\t/**\n\t * Function returns the current view name\n\t */\n\tgetViewName: function() {\n\t\treturn this.getMainParams('view');\n\t},\n\t/**\n\t * Function returns the record id\n\t */\n\tgetRecordId: function() {\n\t\tvar view = this.getViewName();\n\t\tvar recordId;\n\t\tif ($.inArray(view, ['Edit', 'PreferenceEdit', 'Detail', 'PreferenceDetail', 'DetailPreview']) !== -1) {\n\t\t\trecordId = this.getMainParams('recordId');\n\t\t}\n\t\treturn recordId;\n\t},\n\t/**\n\t * Function which will give you all details of the selected record\n\t * @params {object} params - an object of values like {'record' : recordId, 'module' : searchModule, 'fieldType' : 'email'}\n\t */\n\tgetRecordDetails: function(params) {\n\t\tlet aDeferred = $.Deferred();\n\t\tif (app.getParentModuleName() === 'Settings') {\n\t\t\tparams.parent = 'Settings';\n\t\t}\n\t\tAppConnector.request(Object.assign(params, { action: 'GetData' }))\n\t\t\t.done(function(data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.reject(data.message);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function(error) {\n\t\t\t\taDeferred.reject();\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to get language\n\t */\n\tgetLanguage: function() {\n\t\treturn $('body').data('language');\n\t},\n\t/**\n\t * Function to get page title\n\t */\n\tgetPageTitle: function() {\n\t\treturn document.title;\n\t},\n\t/**\n\t * Function gets current window parent\n\t * @returns {object}\n\t */\n\tgetWindowParent() {\n\t\tif (\n\t\t\ttypeof window.frames[0] !== 'undefined' &&\n\t\t\ttypeof window.frames[0].app !== 'undefined' &&\n\t\t\twindow.frames[0].app.childFrame\n\t\t) {\n\t\t\treturn window.frames[0];\n\t\t} else {\n\t\t\treturn window;\n\t\t}\n\t},\n\t/**\n\t * Check if current window is window top\n\t */\n\tisWindowTop() {\n\t\treturn window.top === window.self;\n\t},\n\t/**\n\t * Function gets current window parent\n\t * @returns {boolean}\n\t */\n\tisTouchDevice() {\n\t\tlet supportsTouch = false;\n\t\tif ('ontouchstart' in window) {\n\t\t\t// iOS & android\n\t\t\tsupportsTouch = true;\n\t\t} else if (window.navigator.msPointerEnabled) {\n\t\t\t// Win8\n\t\t\tsupportsTouch = true;\n\t\t} else if ('ontouchstart' in document.documentElement) {\n\t\t\t//additional check\n\t\t\tsupportsTouch = true;\n\t\t}\n\t\tif (supportsTouch) {\n\t\t\t//remove browser scrollbar visibility (doesn't work in firefox, edge and ie)\n\t\t\t$(\"<style type='text/css'> ::-webkit-scrollbar { display: none;} </style>\").appendTo('head');\n\t\t}\n\t\treturn supportsTouch;\n\t},\n\t/**\n\t * Check if string is json\n\t * @param {string} str\n\t * @returns {boolean}\n\t */\n\tisJsonString(str) {\n\t\ttry {\n\t\t\tJSON.parse(str);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\t/**\n\t * Function to set page title\n\t */\n\tsetPageTitle: function(title) {\n\t\tdocument.title = title;\n\t},\n\t/**\n\t * Function to get the contents container\n\t * @returns jQuery object\n\t */\n\tgetContentsContainer: function() {\n\t\treturn $('.bodyContents');\n\t},\n\thidePopover: function(element) {\n\t\tif (typeof element === 'undefined') {\n\t\t\telement = $('body .js-popover-tooltip');\n\t\t}\n\t\telement.popover('hide');\n\t},\n\thidePopoversAfterClick(popoverParent) {\n\t\tpopoverParent.on('mousedown', e => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tpopoverParent.popover('hide');\n\t\t\t}, 100);\n\t\t});\n\t},\n\tregisterPopoverManualTrigger(element, manualTriggerDelay) {\n\t\tconst hideDelay = 500;\n\t\telement.on('mouseleave', e => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tlet currentPopover = this.getBindedPopover(element);\n\t\t\t\tif (\n\t\t\t\t\t!$(':hover').filter(currentPopover).length &&\n\t\t\t\t\t!currentPopover.find('.js-popover-tooltip--record[aria-describedby]').length\n\t\t\t\t) {\n\t\t\t\t\tcurrentPopover.popover('hide');\n\t\t\t\t}\n\t\t\t}, hideDelay);\n\t\t});\n\n\t\telement.on('mouseenter', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (element.is(':hover')) {\n\t\t\t\t\telement.popover('show');\n\t\t\t\t\tlet currentPopover = this.getBindedPopover(element);\n\t\t\t\t\tcurrentPopover.on('mouseleave', () => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!$(':hover').filter(currentPopover).length &&\n\t\t\t\t\t\t\t\t!currentPopover.find('.js-popover-tooltip--record[aria-describedby]').length\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcurrentPopover.popover('hide'); //close current popover\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!$(':hover').filter($('.popover')).length) {\n\t\t\t\t\t\t\t\t$('.popover').popover('hide'); //close all popovers\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, hideDelay);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, manualTriggerDelay);\n\t\t});\n\n\t\tapp.hidePopoversAfterClick(element);\n\t},\n\tisEllipsisActive(element) {\n\t\tlet clone = element\n\t\t\t.clone()\n\t\t\t.addClass('u-text-ellipsis--not-active')\n\t\t\t.css(element.css(['font-size', 'font-weight', 'font-family']))\n\t\t\t.appendTo('body');\n\t\tclone\n\t\t\t.find('.u-text-ellipsis')\n\t\t\t.removeClass('u-text-ellipsis')\n\t\t\t.addClass('u-text-ellipsis--not-active');\n\t\tif (clone.width() - 1 > element.width()) {\n\t\t\tclone.remove();\n\t\t\treturn true;\n\t\t}\n\t\tclone.remove();\n\t\treturn false;\n\t},\n\tshowPopoverElementView: function(selectElement = $('.js-popover-tooltip'), params = {}) {\n\t\tlet defaultParams = {\n\t\t\ttrigger: 'manual',\n\t\t\tmanualTriggerDelay: 500,\n\t\t\tplacement: 'auto',\n\t\t\thtml: true,\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>',\n\t\t\tcontainer: 'body',\n\t\t\tboundary: 'viewport',\n\t\t\tdelay: { show: 300, hide: 100 }\n\t\t};\n\t\tselectElement.each(function(index, domElement) {\n\t\t\tlet element = $(domElement);\n\t\t\tlet elementParams = $.extend(true, defaultParams, params, element.data());\n\t\t\tif (element.data('class')) {\n\t\t\t\telementParams.template =\n\t\t\t\t\t'<div class=\"popover ' +\n\t\t\t\t\telement.data('class') +\n\t\t\t\t\t'\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-header\"></h3><div class=\"popover-body\"></div></div>';\n\t\t\t}\n\t\t\tif (element.hasClass('delay0')) {\n\t\t\t\telementParams.delay = { show: 0, hide: 0 };\n\t\t\t}\n\t\t\telement.popover(elementParams);\n\t\t\tif (elementParams.trigger === 'manual' || typeof elementParams.trigger === 'undefined') {\n\t\t\t\tapp.registerPopoverManualTrigger(element, elementParams.manualTriggerDelay);\n\t\t\t}\n\t\t\tif (elementParams.callbackShown) {\n\t\t\t\telement.on('shown.bs.popover', function(e) {\n\t\t\t\t\telementParams.callbackShown(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\telement.addClass('popover-triggered');\n\t\t});\n\t\treturn selectElement;\n\t},\n\tregisterPopoverEllipsis({\n\t\telement = $('.js-popover-tooltip--ellipsis'),\n\t\tparams = { trigger: 'hover focus' },\n\t\tcontainer = $(window)\n\t} = {}) {\n\t\tconst self = this;\n\t\tparams = {\n\t\t\tcallbackShown: () => {\n\t\t\t\tself.setPopoverPosition(element, container);\n\t\t\t},\n\t\t\ttrigger: 'manual',\n\t\t\tplacement: 'right',\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover js-popover--before-positioned\" role=\"tooltip\"><div class=\"popover-body\"></div></div>'\n\t\t};\n\t\tlet popoverText = element.find('.js-popover-text').length ? element.find('.js-popover-text') : element;\n\t\tif (!app.isEllipsisActive(popoverText)) {\n\t\t\telement.addClass('popover-triggered');\n\t\t\treturn;\n\t\t}\n\t\tapp.showPopoverElementView(element, params);\n\t},\n\tregisterPopoverEllipsisIcon(\n\t\tselectElement = $('.js-popover-tooltip--ellipsis-icon'),\n\t\tparams = { trigger: 'hover focus' }\n\t) {\n\t\tselectElement.each(function(index, domElement) {\n\t\t\tlet element = $(domElement);\n\t\t\tlet popoverText = element.find('.js-popover-text').length ? element.find('.js-popover-text') : element;\n\t\t\tif (!app.isEllipsisActive(popoverText)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet iconElement = element.find('.js-popover-icon');\n\t\t\tif (iconElement.length) {\n\t\t\t\telement.find('.js-popover-icon').removeClass('d-none');\n\t\t\t\tparams.selector = '.js-popover-icon';\n\t\t\t}\n\t\t\tapp.showPopoverElementView(element, params);\n\t\t});\n\t},\n\t/**\n\t * Register popover record\n\t * @param {jQuery} selectElement\n\t * @param {object} customParams\n\t */\n\tregisterPopoverRecord: function(\n\t\tselectElement = $('a.js-popover-tooltip--record'),\n\t\tcustomParams = {},\n\t\tcontainer = $(document)\n\t) {\n\t\tconst self = this;\n\t\tlet params = {\n\t\t\ttemplate:\n\t\t\t\t'<div class=\"popover c-popover--link js-popover--before-positioned\" role=\"tooltip\"><div class=\"popover-body\"></div></div>',\n\t\t\tcontent: '<div class=\"d-none\"></div>',\n\t\t\tmanualTriggerDelay: app.getMainParams('recordPopoverDelay'),\n\t\t\tplacement: 'right',\n\t\t\tcallbackShown: () => {\n\t\t\t\tif (!selectElement.attr('href')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet link = new URL(selectElement.eq(0).attr('href'), window.location.origin);\n\t\t\t\tif (!link.searchParams.get('record') || !link.searchParams.get('view')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet url = link.href;\n\t\t\t\turl = url.replace('view=', 'xview=') + '&view=RecordPopover';\n\t\t\t\tlet currentPopover = self.getBindedPopover(selectElement);\n\t\t\t\tlet popoverBody = currentPopover.find('.popover-body');\n\t\t\t\tpopoverBody.progressIndicator({});\n\t\t\t\tlet appendPopoverData = data => {\n\t\t\t\t\tpopoverBody.progressIndicator({ mode: 'hide' }).html(data);\n\t\t\t\t\tif (typeof customParams.callback === 'function') {\n\t\t\t\t\t\tcustomParams.callback(popoverBody);\n\t\t\t\t\t}\n\t\t\t\t\tself.setPopoverPosition(selectElement, container);\n\t\t\t\t};\n\t\t\t\tlet cacheData = window.popoverCache[url];\n\t\t\t\tif (typeof cacheData !== 'undefined') {\n\t\t\t\t\tappendPopoverData(cacheData);\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(url).done(data => {\n\t\t\t\t\t\twindow.popoverCache[url] = data;\n\t\t\t\t\t\tappendPopoverData(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.showPopoverElementView(selectElement, params);\n\t},\n\t/**\n\t * Update popover record position (overwrite bootstrap positioning, failing on huge elements)\n\t * @param {jQuery} popover\n\t * @param {number} offsetLeft\n\t */\n\tsetPopoverPosition(popoverElement, container = $(window)) {\n\t\tlet popover = this.getBindedPopover(popoverElement);\n\t\tif (!popover.length) {\n\t\t\treturn;\n\t\t}\n\t\tconst iframeOffset = this.computePopoverIframeOffset(popoverElement);\n\t\tlet windowHeight = $(window).height(),\n\t\t\twindowWidth = $(window).width(),\n\t\t\tpopoverPadding = 10,\n\t\t\tpopoverBody = popover.find('.popover-body'),\n\t\t\tpopoverHeight = popoverBody.height(),\n\t\t\tpopoverWidth = popoverBody.width(),\n\t\t\toffsetTop = app.mousePosition.y + iframeOffset.top,\n\t\t\toffsetLeft = app.mousePosition.x + iframeOffset.left;\n\t\tif (popoverHeight + offsetTop + popoverPadding > windowHeight) {\n\t\t\toffsetTop = offsetTop - popoverHeight - popoverPadding;\n\t\t}\n\t\tif (popoverWidth + offsetLeft + popoverPadding > windowWidth) {\n\t\t\toffsetLeft = windowWidth - popoverWidth;\n\t\t}\n\t\tpopover.css({\n\t\t\ttransform: `translate3d(${offsetLeft}px, ${offsetTop}px, 0)`\n\t\t});\n\t\tpopover.removeClass('js-popover--before-positioned');\n\t\tpopoverElement.one('hide.bs.popover', () => {\n\t\t\tpopover.addClass('js-popover--before-positioned');\n\t\t});\n\t},\n\t/**\n\t * Compute popover iframe offset\n\t *\n\t * @param   {Object}  popoverElement  jquery\n\t *\n\t * @return  {Object}                  offset top and left\n\t */\n\tcomputePopoverIframeOffset(popoverElement) {\n\t\tlet iframeOffsetTop = 0;\n\t\tlet iframeOffsetLeft = 0;\n\t\tif (!$(document).find(popoverElement).length) {\n\t\t\tlet iframe = $(document).find('iframe');\n\t\t\tconst iframeOffset = iframe.offset();\n\t\t\tiframeOffsetTop += iframeOffset.top;\n\t\t\tiframeOffsetLeft += iframeOffset.left;\n\t\t\tif (!iframe.contents().find(popoverElement).length) {\n\t\t\t\tlet iframe2 = iframe.contents().find('iframe');\n\t\t\t\tconst iframeOffset2 = iframe2.offset();\n\t\t\t\tiframeOffsetTop += iframeOffset2.top;\n\t\t\t\tiframeOffsetLeft += iframeOffset2.left;\n\t\t\t}\n\t\t}\n\t\treturn { top: iframeOffsetTop, left: iframeOffsetLeft };\n\t},\n\t/**\n\t * Get binded popover\n\t * @param {jQuery} element\n\t * @returns {Mixed|jQuery|HTMLElement}\n\t */\n\tgetBindedPopover(element) {\n\t\treturn $(`#${element.attr('aria-describedby')}`);\n\t},\n\t/**\n\t * Function to check the maximum selection size of multiselect and update the results\n\t * @params <object> multiSelectElement\n\t * @params <object> select2 params\n\t */\n\tregisterChangeEventForMultiSelect: function(selectElement, params) {\n\t\tif (typeof selectElement === 'undefined') {\n\t\t\treturn;\n\t\t}\n\t\tvar instance = selectElement.data('select2');\n\t\tvar limit = params.maximumSelectionLength;\n\t\tselectElement.on('change', function(e) {\n\t\t\tvar data = instance.data();\n\t\t\tif ($.isArray(data) && data.length >= limit) {\n\t\t\t\tinstance.updateResults();\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to get data of the child elements in serialized format\n\t * @params <object> parentElement - element in which the data should be serialized. Can be selector , domelement or jquery object\n\t * @params <String> returnFormat - optional which will indicate which format return value should be valid values \"object\" and \"string\"\n\t * @return <object> - encoded string or value map\n\t */\n\tgetSerializedData: function(parentElement, returnFormat) {\n\t\tif (typeof returnFormat === 'undefined') {\n\t\t\treturnFormat = 'string';\n\t\t}\n\n\t\tparentElement = $(parentElement);\n\n\t\tvar encodedString = parentElement.children().serialize();\n\t\tif (returnFormat == 'string') {\n\t\t\treturn encodedString;\n\t\t}\n\t\tvar keyValueMap = {};\n\t\tvar valueList = encodedString.split('&');\n\n\t\tfor (var index in valueList) {\n\t\t\tvar keyValueString = valueList[index];\n\t\t\tvar keyValueArr = keyValueString.split('=');\n\t\t\tvar nameOfElement = keyValueArr[0];\n\t\t\tvar valueOfElement = keyValueArr[1];\n\t\t\tkeyValueMap[nameOfElement] = decodeURIComponent(valueOfElement);\n\t\t}\n\t\treturn keyValueMap;\n\t},\n\t/**\n\t * Function animates bootstrap modal with animate.css\n\t * @params: jQuery object with class .modal,\n\t * @params: string with animation name,\n\t * @params: string with animation name,\n\t */\n\tanimateModal(modal, openAnimation, closeAnimation) {\n\t\tmodal.on('show.bs.modal', function(e) {\n\t\t\tmodal.removeClass(`animated ${closeAnimation}`);\n\t\t\tmodal.addClass(`animated ${openAnimation}`);\n\t\t});\n\t\tmodal.on('hide.bs.modal', function(e) {\n\t\t\tmodal.removeClass(`animated ${openAnimation}`);\n\t\t\tmodal.addClass(`animated ${closeAnimation}`);\n\t\t});\n\t},\n\tshowModalData(data, container, paramsObject, cb, url, sendByAjaxCb) {\n\t\tconst thisInstance = this;\n\t\tlet params = {\n\t\t\tshow: true\n\t\t};\n\t\tif (!app.getMainParams('backgroundClosingModal')) {\n\t\t\tparams.backdrop = 'static';\n\t\t\tparams.keyboard = false;\n\t\t}\n\t\tif (typeof paramsObject === 'object') {\n\t\t\tcontainer.css(paramsObject);\n\t\t\tparams = $.extend(params, paramsObject);\n\t\t}\n\t\tcontainer.html(data);\n\t\tif (container.find('.modal').hasClass('static')) {\n\t\t\tparams.backdrop = 'static';\n\t\t}\n\t\t// In a modal dialog elements can be specified which can receive focus even though they are not descendants of the modal dialog.\n\t\t$.fn.modal.Constructor.prototype.enforceFocus = function(e) {\n\t\t\t$(document)\n\t\t\t\t.off('focusin.bs.modal') // guard against infinite focus loop\n\t\t\t\t.on(\n\t\t\t\t\t'focusin.bs.modal',\n\t\t\t\t\t$.proxy(function(e) {\n\t\t\t\t\t\tif ($(e.target).hasClass('select2-search__field')) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, this)\n\t\t\t\t);\n\t\t};\n\t\tconst modalContainer = container.find('.modal:first');\n\t\tmodalContainer.one('shown.bs.modal', function() {\n\t\t\tcb(modalContainer);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(modalContainer.find('select.select2'));\n\t\t\tApp.Fields.Date.register(modalContainer);\n\t\t\tnew App.Fields.Text.Editor(modalContainer.find('.js-editor'), {\n\t\t\t\theight: '5em',\n\t\t\t\ttoolbar: 'Min'\n\t\t\t});\n\t\t\tapp.registesterScrollbar(modalContainer);\n\t\t});\n\t\t$('body').append(container);\n\t\tmodalContainer.modal(params);\n\t\tthisInstance.registerModalEvents(modalContainer, sendByAjaxCb);\n\t\tthisInstance.registerDataTables(modalContainer.find('.dataTable'));\n\t},\n\tshowModalWindow: function(data, url, cb, paramsObject = {}) {\n\t\tif (!app.isCurrentWindowTarget('app.showModalWindow', arguments)) {\n\t\t\treturn false;\n\t\t}\n\t\tconst thisInstance = this;\n\t\tlet sendByAjaxCb;\n\t\tWindow.lastModalId =\n\t\t\t'modal_' +\n\t\t\tMath.random()\n\t\t\t\t.toString(36)\n\t\t\t\t.substr(2, 9);\n\t\t//null is also an object\n\t\tif (typeof data === 'object' && data != null && !(data instanceof $)) {\n\t\t\tif (data.id != undefined) {\n\t\t\t\tWindow.lastModalId = data.id;\n\t\t\t}\n\t\t\tparamsObject = data.css;\n\t\t\tcb = data.cb;\n\t\t\turl = data.url;\n\t\t\tif (data.sendByAjaxCb !== 'undefined') {\n\t\t\t\tsendByAjaxCb = data.sendByAjaxCb;\n\t\t\t}\n\t\t\tdata = data.data;\n\t\t}\n\t\tif (typeof url === 'function') {\n\t\t\tif (typeof cb === 'object') {\n\t\t\t\tparamsObject = cb;\n\t\t\t}\n\t\t\tcb = url;\n\t\t\turl = false;\n\t\t} else if (typeof url === 'object') {\n\t\t\tcb = function() {};\n\t\t\tparamsObject = url;\n\t\t\turl = false;\n\t\t}\n\t\tif (typeof cb !== 'function') {\n\t\t\tcb = function() {};\n\t\t}\n\t\tif (typeof sendByAjaxCb !== 'function') {\n\t\t\tsendByAjaxCb = function() {};\n\t\t}\n\t\tif (paramsObject !== undefined && paramsObject.modalId !== undefined) {\n\t\t\tWindow.lastModalId = paramsObject.modalId;\n\t\t}\n\t\t// prevent duplicate hash generation\n\t\tlet container = $('#' + Window.lastModalId);\n\t\tif (container.length) {\n\t\t\tcontainer.remove();\n\t\t}\n\t\tcontainer = $('<div></div>');\n\t\tcontainer.attr('id', Window.lastModalId).addClass('modalContainer js-modal-container');\n\t\tcontainer.one('hidden.bs.modal', function() {\n\t\t\tcontainer.remove();\n\t\t\tlet backdrop = $('.modal-backdrop');\n\t\t\tif (!$('.modal.show').length) {\n\t\t\t\tbackdrop.remove();\n\t\t\t}\n\t\t\tif (backdrop.length > 0) {\n\t\t\t\t$('body').addClass('modal-open');\n\t\t\t}\n\t\t});\n\t\tif (data) {\n\t\t\tthisInstance.showModalData(data, container, paramsObject, cb, url, sendByAjaxCb);\n\t\t} else {\n\t\t\t$.get(url).done(function(response) {\n\t\t\t\tthisInstance.showModalData(response, container, paramsObject, cb, url, sendByAjaxCb);\n\t\t\t});\n\t\t}\n\t\treturn container;\n\t},\n\t/**\n\t * Check if current window is target for a modal and trigger in correct window if not\n\t *\n\t * @param   {String}  sourceFunction  source function name in dot prop notation object\n\t * @param   {Array}  args            source function arguments\n\t *\n\t * @return  {Boolean}                  isCurrentWindowTarget\n\t */\n\tisCurrentWindowTarget(sourceFunction, args) {\n\t\tlet isCurrentWindowTarget = true;\n\t\tif (CONFIG.modalTarget === 'parentIframe') {\n\t\t\tthis.childFrame = true;\n\t\t\tsourceFunction = sourceFunction.split('.');\n\t\t\tsourceFunction.unshift('parent');\n\t\t\tsourceFunction = sourceFunction.reduce((o, i) => o[i], window);\n\t\t\tsourceFunction.apply(window.parent.app, args);\n\t\t\tisCurrentWindowTarget = false;\n\t\t}\n\t\treturn isCurrentWindowTarget;\n\t},\n\t/**\n\t * Function which you can use to hide the modal\n\t * This api assumes that we are using block ui plugin and uses unblock api to unblock it\n\t */\n\thideModalWindow: function(callback, id) {\n\t\tif (!app.isCurrentWindowTarget('app.hideModalWindow', arguments)) {\n\t\t\treturn false;\n\t\t}\n\t\tlet container;\n\t\tif (callback && typeof callback === 'object') {\n\t\t\tcontainer = callback;\n\t\t} else if (id == undefined) {\n\t\t\tcontainer = $('.modalContainer');\n\t\t} else {\n\t\t\tcontainer = $('#' + id);\n\t\t}\n\t\tif (container.length <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof callback !== 'function') {\n\t\t\tcallback = function() {};\n\t\t}\n\t\tlet modalContainer = container.find('.modal');\n\t\tmodalContainer.modal('hide');\n\t\tlet backdrop = $('.modal-backdrop:last');\n\t\tif ($('.modalContainer').length == 0 && backdrop.length) {\n\t\t\tbackdrop.remove();\n\t\t}\n\t\tmodalContainer.one('hidden.bs.modal', callback);\n\t},\n\tregisterModalController: function(modalId, modalContainer, cb) {\n\t\tlet windowParent = this.childFrame ? window.parent : window;\n\t\tif (modalId === undefined) {\n\t\t\tmodalId = Window.lastModalId;\n\t\t}\n\t\tif (modalContainer === undefined) {\n\t\t\tmodalContainer = $('#' + modalId + ' .js-modal-data');\n\t\t}\n\t\tlet modalClass = modalContainer.data('module') + '_' + modalContainer.data('view') + '_JS';\n\t\tif (typeof windowParent[modalClass] !== 'undefined') {\n\t\t\tlet instance = new windowParent[modalClass]();\n\t\t\tif (typeof cb === 'function') {\n\t\t\t\tcb(modalContainer, instance);\n\t\t\t}\n\t\t\tinstance.registerEvents(modalContainer);\n\t\t\tif (modalId && app.modalEvents[modalId]) {\n\t\t\t\tapp.modalEvents[modalId](modalContainer, instance);\n\t\t\t}\n\t\t}\n\t\tmodalClass = 'Base_' + modalContainer.data('view') + '_JS';\n\t\tif (typeof windowParent[modalClass] !== 'undefined') {\n\t\t\tlet instance = new windowParent[modalClass]();\n\t\t\tif (typeof cb === 'function') {\n\t\t\t\tcb(modalContainer, instance);\n\t\t\t}\n\t\t\tinstance.registerEvents(modalContainer);\n\t\t\tif (modalId && app.modalEvents[modalId]) {\n\t\t\t\tapp.modalEvents[modalId](modalContainer, instance);\n\t\t\t}\n\t\t}\n\t},\n\tregisterModalEvents: function(container, sendByAjaxCb) {\n\t\tvar form = container.find('form');\n\t\tvar validationForm = false;\n\t\tif (form.hasClass('validateForm')) {\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tvalidationForm = true;\n\t\t}\n\t\tif (form.hasClass('sendByAjax')) {\n\t\t\tform.on('submit', function(e) {\n\t\t\t\tvar save = true;\n\t\t\t\te.preventDefault();\n\t\t\t\tif (validationForm && form.data('jqv').InvalidFields.length > 0) {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t\tsave = false;\n\t\t\t\t}\n\t\t\t\tif (save) {\n\t\t\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t});\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tAppConnector.request(formData)\n\t\t\t\t\t\t.done(function(responseData) {\n\t\t\t\t\t\t\tsendByAjaxCb(formData, responseData);\n\t\t\t\t\t\t\tif (responseData.success && responseData.result) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.procesStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tisHidden: function(element) {\n\t\tif (element.css('display') == 'none') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\tisInvisible: function(element) {\n\t\tif (element.css('visibility') == 'hidden') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Default validation eninge options\n\t */\n\tvalidationEngineOptions: {\n\t\t// Avoid scroll decision and let it scroll up page when form is too big\n\t\t// Reference: http://www.position-absolute.com/articles/jquery-form-validator-because-form-validation-is-a-mess/\n\t\tscroll: false,\n\t\tpromptPosition: 'topLeft',\n\t\t//to support validation for select2 select box\n\t\tprettySelect: true,\n\t\tusePrefix: 's2id_'\n\t},\n\tvalidationEngineOptionsForRecord: {\n\t\tscroll: false,\n\t\tpromptPosition: 'topLeft',\n\t\t//to support validation for select2 select box\n\t\tprettySelect: true,\n\t\tusePrefix: 's2id_',\n\t\tvalidateNonVisibleFields: true,\n\t\tonBeforePromptType: function(field) {\n\t\t\tvar block = field.closest('.js-toggle-panel');\n\t\t\tif (block.find('.blockContent').is(':hidden')) {\n\t\t\t\tblock.find('.blockHeader').click();\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Default scroll options\n\t */\n\tscrollOptions: {\n\t\twheelSpeed: 0.1\n\t},\n\t/**\n\t * Function to push down the error message size when validation is invoked\n\t * @params : form Element\n\t */\n\tformAlignmentAfterValidation: function(form) {\n\t\t// to avoid hiding of error message under the fixed nav bar\n\t\tvar formError = form.find(\".formError:not('.greenPopup'):first\");\n\t\tif (formError.length > 0) {\n\t\t\tvar destination = formError.offset().top;\n\t\t\tvar resizedDestnation = destination - 105;\n\t\t\t$('html').animate(\n\t\t\t\t{\n\t\t\t\t\tscrollTop: resizedDestnation\n\t\t\t\t},\n\t\t\t\t'slow'\n\t\t\t);\n\t\t}\n\t},\n\tconvertToDatePickerFormat: function(dateFormat) {\n\t\tswitch (dateFormat) {\n\t\t\tcase 'yyyy-mm-dd':\n\t\t\t\treturn 'Y-m-d';\n\t\t\t\tbreak;\n\t\t\tcase 'mm-dd-yyyy':\n\t\t\t\treturn 'm-d-Y';\n\t\t\t\tbreak;\n\t\t\tcase 'dd-mm-yyyy':\n\t\t\t\treturn 'd-m-Y';\n\t\t\t\tbreak;\n\t\t\tcase 'yyyy.mm.dd':\n\t\t\t\treturn 'Y.m.d';\n\t\t\t\tbreak;\n\t\t\tcase 'mm.dd.yyyy':\n\t\t\t\treturn 'm.d.Y';\n\t\t\t\tbreak;\n\t\t\tcase 'dd.mm.yyyy':\n\t\t\t\treturn 'd.m.Y';\n\t\t\t\tbreak;\n\t\t\tcase 'yyyy/mm/dd':\n\t\t\t\treturn 'Y/m/d';\n\t\t\t\tbreak;\n\t\t\tcase 'mm/dd/yyyy':\n\t\t\t\treturn 'm/d/Y';\n\t\t\t\tbreak;\n\t\t\tcase 'dd/mm/yyyy':\n\t\t\t\treturn 'd/m/Y';\n\t\t\t\tbreak;\n\t\t}\n\t},\n\tconvertTojQueryDatePickerFormat: function(dateFormat) {\n\t\tlet i,\n\t\t\tdotMode = '-';\n\t\tif (dateFormat.indexOf('-') !== -1) {\n\t\t\tdotMode = '-';\n\t\t}\n\t\tif (dateFormat.indexOf('.') !== -1) {\n\t\t\tdotMode = '.';\n\t\t}\n\t\tif (dateFormat.indexOf('/') !== -1) {\n\t\t\tdotMode = '/';\n\t\t}\n\t\tlet splitDateFormat = dateFormat.split(dotMode);\n\t\tfor (i in splitDateFormat) {\n\t\t\tlet sectionDate = splitDateFormat[i];\n\t\t\tif (sectionDate.length === 4) {\n\t\t\t\tsplitDateFormat[i] = sectionDate.substring(0, 2);\n\t\t\t}\n\t\t}\n\t\treturn splitDateFormat.join(dotMode);\n\t},\n\t/*\n\t * Converts user formated date to database format yyyy-mm-dd\n\t */\n\tgetDateInDBInsertFormat: function(dateFormat, dateString) {\n\t\tvar i = 0;\n\t\tvar dotMode = '-';\n\t\tif (dateFormat.indexOf('-') !== -1) {\n\t\t\tdotMode = '-';\n\t\t} else if (dateFormat.indexOf('.') !== -1) {\n\t\t\tdotMode = '.';\n\t\t} else if (dateFormat.indexOf('/') !== -1) {\n\t\t\tdotMode = '/';\n\t\t}\n\t\tvar dateFormatParts = dateFormat.split(dotMode);\n\t\tvar day = '',\n\t\t\tmonth = '',\n\t\t\tyear = '';\n\t\tvar dateParts = dateString.split(dotMode);\n\t\tfor (i in dateFormatParts) {\n\t\t\tvar sectionDate = dateFormatParts[i];\n\t\t\tswitch (sectionDate) {\n\t\t\t\tcase 'dd':\n\t\t\t\t\tday = dateParts[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mm':\n\t\t\t\t\tmonth = dateParts[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'yyyy':\n\t\t\t\t\tyear = dateParts[i];\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn year + '-' + month + '-' + day;\n\t},\n\tregisterEventForDateFields: function(parentElement) {\n\t\tif (typeof parentElement === 'undefined') {\n\t\t\tparentElement = $('body');\n\t\t}\n\n\t\tparentElement = $(parentElement);\n\t\tlet element;\n\t\tif (parentElement.hasClass('dateField')) {\n\t\t\telement = parentElement;\n\t\t} else {\n\t\t\telement = $('.dateField', parentElement);\n\t\t}\n\t\telement.datepicker({ autoclose: true }).on('changeDate', function(ev) {\n\t\t\tlet currentElement = $(ev.currentTarget),\n\t\t\t\tdateFormat = currentElement.data('dateFormat').toUpperCase(),\n\t\t\t\tdate = $.datepicker.formatDate(moment(ev.date).format(dateFormat), ev.date);\n\t\t\tcurrentElement.val(date);\n\t\t});\n\t\tApp.Fields.Utils.hideMobileKeyboard(element);\n\t},\n\tregisterEventForClockPicker: function(timeInputs = $('.clockPicker')) {\n\t\tif (!timeInputs.hasClass('clockPicker')) {\n\t\t\ttimeInputs = timeInputs.find('.clockPicker');\n\t\t}\n\t\tif (!timeInputs.length) {\n\t\t\treturn;\n\t\t}\n\t\tlet params = {\n\t\t\tplacement: 'bottom',\n\t\t\tautoclose: true,\n\t\t\tminutestep: 5\n\t\t};\n\n\t\t$('.js-clock__btn').on('click', e => {\n\t\t\te.stopPropagation();\n\t\t\tlet tempElement = $(e.currentTarget)\n\t\t\t\t.closest('.time')\n\t\t\t\t.find('input.clockPicker');\n\t\t\tif (tempElement.attr('disabled') !== 'disabled' && tempElement.attr('readonly') !== 'readonly') {\n\t\t\t\ttempElement.clockpicker('show');\n\t\t\t}\n\t\t});\n\n\t\tlet formatTimeString = timeInput => {\n\t\t\tif (params.twelvehour) {\n\t\t\t\tlet meridiemTime = '';\n\t\t\t\tparams.afterDone = () => {\n\t\t\t\t\t//format time string after picking a value\n\t\t\t\t\tlet timeString = timeInput.val(),\n\t\t\t\t\t\ttimeStringFormatted = timeString.slice(0, timeString.length - 2) + ' ' + meridiemTime;\n\t\t\t\t\ttimeInput.val(timeStringFormatted);\n\t\t\t\t\tapp.event.trigger('Clockpicker.changed', timeInput);\n\t\t\t\t};\n\t\t\t\tparams.beforeHide = () => {\n\t\t\t\t\tmeridiemTime = $('.clockpicker-buttons-am-pm:visible')\n\t\t\t\t\t\t.find('a:not(.text-white-50)')\n\t\t\t\t\t\t.text();\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tparams.afterDone = () => {\n\t\t\t\t\tapp.event.trigger('Clockpicker.changed', timeInput);\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\ttimeInputs.each((i, e) => {\n\t\t\tlet timeInput = $(e);\n\t\t\tlet formatTime = timeInputs.data('format') || CONFIG.hourFormat;\n\t\t\tparams.twelvehour = parseInt(formatTime) === 12 ? true : false;\n\t\t\tformatTimeString(timeInput);\n\t\t\ttimeInput.clockpicker(params);\n\t\t});\n\t\tApp.Fields.Utils.hideMobileKeyboard(timeInputs);\n\t},\n\tregisterDataTables: function(table, options = {}) {\n\t\tif ($.fn.dataTable == undefined) {\n\t\t\treturn false;\n\t\t}\n\t\tif (table.length == 0) {\n\t\t\treturn false;\n\t\t}\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn table.DataTable(options);\n\t},\n\t/**\n\t * Function to get the select2 element from the raw select element\n\t * @params: select element\n\t * @return : select2Element - corresponding select2 element\n\t */\n\tgetSelect2ElementFromSelect: function(selectElement) {\n\t\tvar selectId = selectElement.attr('id');\n\t\t//since select2 will add s2id_ to the id of select element\n\t\tvar select2EleId = 'select2-' + selectId + '-container';\n\t\treturn $('#' + select2EleId).closest('.select2-container');\n\t},\n\t/**\n\t * Function to set with of the element to parent width\n\t * @params : jQuery element for which the action to take place\n\t */\n\tsetInheritWidth: function(elements) {\n\t\t$(elements).each(function(index, element) {\n\t\t\tvar parentWidth = $(element)\n\t\t\t\t.parent()\n\t\t\t\t.width();\n\t\t\t$(element).width(parentWidth);\n\t\t});\n\t},\n\tshowNewScrollbar: function(element, options = { wheelPropagation: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\treturn new PerfectScrollbar(element[0], Object.assign(this.scrollOptions, options));\n\t},\n\tshowNewScrollbarTopBottomRight: function(element, options = {}) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tlet scrollbarTopLeftInit = new PerfectScrollbar(element[0], options);\n\t\tlet scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tlet scrollbarBottomRightInit = new PerfectScrollbar(element[0], options);\n\t\treturn [scrollbarTopLeftInit, scrollbarBottomRightInit];\n\t},\n\tshowNewScrollbarTopBottom: function(element, options = { wheelPropagation: true, suppressScrollY: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t},\n\tshowNewScrollbarTop: function(element, options = { wheelPropagation: true, suppressScrollY: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarTopElement = element.find('.ps__rail-x').first();\n\t\tscrollbarTopElement.css({\n\t\t\ttop: 0,\n\t\t\tbottom: 'auto'\n\t\t});\n\t\tscrollbarTopElement.find('.ps__thumb-x').css({\n\t\t\ttop: 2,\n\t\t\tbottom: 'auto'\n\t\t});\n\t},\n\tshowNewScrollbarLeft: function(element, options = { wheelPropagation: true }) {\n\t\tif (typeof element === 'undefined' || !element.length) return;\n\t\toptions = Object.assign(this.scrollOptions, options);\n\t\tnew PerfectScrollbar(element[0], options);\n\t\tvar scrollbarLeftElement = element.children('.ps__rail-y').first();\n\t\tscrollbarLeftElement.css({\n\t\t\tleft: 0,\n\t\t\tright: 'auto'\n\t\t});\n\t\tscrollbarLeftElement.find('.ps__thumb-y').css({\n\t\t\tleft: 2,\n\t\t\tright: 'auto'\n\t\t});\n\t},\n\tshowScrollBar: function(element, options = {}) {\n\t\tif (typeof options.height === 'undefined') options.height = element.css('height');\n\t\treturn element.slimScroll(options);\n\t},\n\t/**\n\t * Register middle scroll hack for scrollbar libraries\n\t * @param {jQuery} container\n\t */\n\tregisterMiddleClickScroll(container) {\n\t\tlet middleScroll = false;\n\t\tcontainer.on('mousedown', e => {\n\t\t\tlet clickedMouseButton = e.which; // get clicked button id\n\t\t\tif (clickedMouseButton == 2 && middleScroll == false) {\n\t\t\t\tmiddleScroll = true;\n\t\t\t\tlet mouseY = e.pageY,\n\t\t\t\t\tmouseX = e.pageX;\n\t\t\t\t$(document).on('mousemove', e => {\n\t\t\t\t\tif (middleScroll == true) {\n\t\t\t\t\t\t$('body').addClass('u-cursor-scroll-all');\n\t\t\t\t\t\tlet mouseMoveY = mouseY - e.pageY,\n\t\t\t\t\t\t\tscrollSlowerRate = 100, // higher number = slower scroll\n\t\t\t\t\t\t\tcontentScrollY = container.scrollTop(),\n\t\t\t\t\t\t\tscrollerY = contentScrollY - mouseMoveY - scrollSlowerRate,\n\t\t\t\t\t\t\tmouseMoveX = mouseX - e.pageX,\n\t\t\t\t\t\t\tcontentScrollX = container.scrollLeft(),\n\t\t\t\t\t\t\tscrollerX = contentScrollX - mouseMoveX - scrollSlowerRate;\n\t\t\t\t\t\tcontainer.scrollTop(scrollerY);\n\t\t\t\t\t\tcontainer.scrollLeft(scrollerX);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tcontainer.on('mouseup', () => {\n\t\t\t$('body').removeClass('u-cursor-scroll-all');\n\t\t\tmiddleScroll = false;\n\t\t});\n\t},\n\t/**\n\t * Function returns translated string\n\t */\n\tvtranslate: function(key) {\n\t\tif (key in LANG) {\n\t\t\treturn LANG[key];\n\t\t}\n\t\treturn key;\n\t},\n\t/*\n\t * Cache API on client-side\n\t */\n\tcacheNSKey: function(key) {\n\t\t// Namespace in client-storage\n\t\treturn 'yf.' + key;\n\t},\n\tcacheGet: function(key) {\n\t\tkey = this.cacheNSKey(key);\n\t\treturn store.get(key);\n\t},\n\tcacheSet: function(key, value) {\n\t\tkey = this.cacheNSKey(key);\n\t\tstore.set(key, value);\n\t},\n\tcacheClear: function(key) {\n\t\tkey = this.cacheNSKey(key);\n\t\treturn store.remove(key);\n\t},\n\tmoduleCacheSet: function(key, value) {\n\t\tvar orgKey = key;\n\t\tkey = this.getModuleName() + '_' + key;\n\t\tthis.cacheSet(key, value);\n\n\t\tvar cacheKey = 'mCache' + this.getModuleName();\n\t\tvar moduleCache = this.cacheGet(cacheKey);\n\t\tif (moduleCache == null) {\n\t\t\tmoduleCache = [];\n\t\t} else {\n\t\t\tmoduleCache = moduleCache.split(',');\n\t\t}\n\t\tmoduleCache.push(orgKey);\n\t\tthis.cacheSet(cacheKey, Vtiger_Helper_Js.unique(moduleCache).join(','));\n\t},\n\tmoduleCacheGet: function(key) {\n\t\treturn this.cacheGet(this.getModuleName() + '_' + key);\n\t},\n\tmoduleCacheKeys: function() {\n\t\tvar cacheKey = 'mCache' + this.getModuleName();\n\t\tvar modules = this.cacheGet(cacheKey);\n\t\tif (modules) {\n\t\t\treturn modules.split(',');\n\t\t}\n\t\treturn [];\n\t},\n\tmoduleCacheClear: function(key) {\n\t\tvar thisInstance = this;\n\t\tvar moduleName = this.getModuleName();\n\t\tvar cacheKey = 'mCache' + moduleName;\n\t\tvar moduleCache = this.cacheGet(cacheKey);\n\t\tif (moduleCache == null) {\n\t\t\tmoduleCache = [];\n\t\t} else {\n\t\t\tmoduleCache = moduleCache.split(',');\n\t\t}\n\t\t$.each(moduleCache, function(index, value) {\n\t\t\tthisInstance.cacheClear(moduleName + '_' + value);\n\t\t});\n\t\tthisInstance.cacheClear(cacheKey);\n\t},\n\thtmlEncode: function(value) {\n\t\tif (value) {\n\t\t\treturn $('<div />')\n\t\t\t\t.text(value)\n\t\t\t\t.html();\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\thtmlDecode: function(value) {\n\t\tif (value) {\n\t\t\treturn $('<div />')\n\t\t\t\t.html(value)\n\t\t\t\t.text();\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t},\n\t/**\n\t * Function places an element at the center of the page\n\t * @param <jQuery Element> element\n\t */\n\tplaceAtCenter: function(element) {\n\t\telement.css('position', 'absolute');\n\t\telement.css('top', ($(window).height() - element.outerHeight()) / 2 + $(window).scrollTop() + 'px');\n\t\telement.css('left', ($(window).width() - element.outerWidth()) / 2 + $(window).scrollLeft() + 'px');\n\t},\n\tgetvalidationEngineOptions: function(select2Status) {\n\t\treturn Object.assign({}, app.validationEngineOptions);\n\t},\n\t/**\n\t * Function to notify UI page ready after AJAX changes.\n\t * This can help in re-registering the event handlers (which was done during ready event).\n\t */\n\tnotifyPostAjaxReady: function() {\n\t\t$(document).trigger('postajaxready');\n\t},\n\t/**\n\t * Listen to xready notiications.\n\t */\n\tlistenPostAjaxReady: function(callback) {\n\t\t$(document).on('postajaxready', callback);\n\t},\n\t/**\n\t * Form function handlers\n\t */\n\tsetFormValues: function(kv) {\n\t\tfor (var k in kv) {\n\t\t\t$(k).val(kv[k]);\n\t\t}\n\t},\n\tsetRTEValues: function(kv) {\n\t\tfor (var k in kv) {\n\t\t\tvar rte = CKEDITOR.instances[k];\n\t\t\tif (rte) rte.setData(kv[k]);\n\t\t}\n\t},\n\t/**\n\t * Function returns the javascript controller based on the current view\n\t */\n\tgetPageController: function() {\n\t\tif (window.pageController) {\n\t\t\treturn window.pageController;\n\t\t}\n\t\tconst moduleName = app.getModuleName();\n\t\tconst view = app.getViewName();\n\t\tconst parentModule = app.getParentModuleName();\n\t\tlet moduleClassName = parentModule + '_' + moduleName + '_' + view + '_Js';\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = parentModule + '_Vtiger_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = moduleName + '_' + view + '_Js';\n\t\t}\n\t\tvar extendModules = $('#extendModules').val();\n\t\tif (typeof window[moduleClassName] === 'undefined' && extendModules != undefined) {\n\t\t\tmoduleClassName = extendModules + '_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\tmoduleClassName = 'Vtiger_' + view + '_Js';\n\t\t}\n\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\tif (typeof window[moduleClassName] === 'function') {\n\t\t\t\treturn (window.pageController = new window[moduleClassName]());\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] === 'object') {\n\t\t\t\treturn (window.pageController = window[moduleClassName]);\n\t\t\t}\n\t\t}\n\t\tlet moduleBaseClassName = parentModule + '_' + moduleName + '_' + 'Index_Js';\n\t\tif (typeof window[moduleBaseClassName] !== 'undefined') {\n\t\t\tif (typeof window[moduleBaseClassName] === 'function') {\n\t\t\t\treturn (window.pageController = new window[moduleBaseClassName]());\n\t\t\t}\n\t\t\tif (typeof window[moduleBaseClassName] === 'object') {\n\t\t\t\treturn (window.pageController = window[moduleBaseClassName]);\n\t\t\t}\n\t\t}\n\t},\n\t/**\n\t * Function to decode the encoded htmlentities values\n\t */\n\tgetDecodedValue: function(value) {\n\t\treturn $('<div></div>')\n\t\t\t.html(value)\n\t\t\t.text();\n\t},\n\tgetCookie: function(c_name) {\n\t\tvar c_value = document.cookie;\n\t\tvar c_start = c_value.indexOf(' ' + c_name + '=');\n\t\tif (c_start === -1) {\n\t\t\tc_start = c_value.indexOf(c_name + '=');\n\t\t}\n\t\tif (c_start === -1) {\n\t\t\tc_value = null;\n\t\t} else {\n\t\t\tc_start = c_value.indexOf('=', c_start) + 1;\n\t\t\tvar c_end = c_value.indexOf(';', c_start);\n\t\t\tif (c_end === -1) {\n\t\t\t\tc_end = c_value.length;\n\t\t\t}\n\t\t\tc_value = unescape(c_value.substring(c_start, c_end));\n\t\t}\n\t\treturn c_value;\n\t},\n\tsetCookie: function(c_name, value, exdays) {\n\t\tvar exdate = new Date();\n\t\texdate.setDate(exdate.getDate() + exdays);\n\t\tvar c_value = escape(value) + (exdays == null ? '' : '; expires=' + exdate.toUTCString());\n\t\tdocument.cookie = c_name + '=' + c_value;\n\t},\n\tgetUrlVar: function(varName) {\n\t\tvar getVar = function() {\n\t\t\tvar vars = {};\n\t\t\twindow.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {\n\t\t\t\tvars[key] = value;\n\t\t\t});\n\t\t\treturn vars;\n\t\t};\n\n\t\treturn getVar()[varName];\n\t},\n\tgetStringDate: function(date) {\n\t\tvar d = date.getDate();\n\t\tvar m = date.getMonth() + 1;\n\t\tvar y = date.getFullYear();\n\n\t\td = d <= 9 ? '0' + d : d;\n\t\tm = m <= 9 ? '0' + m : m;\n\t\treturn y + '-' + m + '-' + d;\n\t},\n\tformatDate: function(date) {\n\t\tvar y = date.getFullYear(),\n\t\t\tm = date.getMonth() + 1,\n\t\t\td = date.getDate(),\n\t\t\th = date.getHours(),\n\t\t\ti = date.getMinutes(),\n\t\t\ts = date.getSeconds();\n\t\treturn (\n\t\t\ty +\n\t\t\t'-' +\n\t\t\tthis.formatDateZ(m) +\n\t\t\t'-' +\n\t\t\tthis.formatDateZ(d) +\n\t\t\t' ' +\n\t\t\tthis.formatDateZ(h) +\n\t\t\t':' +\n\t\t\tthis.formatDateZ(i) +\n\t\t\t':' +\n\t\t\tthis.formatDateZ(s)\n\t\t);\n\t},\n\tformatDateZ: function(i) {\n\t\treturn i <= 9 ? '0' + i : i;\n\t},\n\thowManyDaysFromDate: function(time) {\n\t\tvar fromTime = time.getTime();\n\t\tvar today = new Date();\n\t\tvar toTime = new Date(today.getFullYear(), today.getMonth(), today.getDate()).getTime();\n\t\treturn Math.floor((toTime - fromTime) / (1000 * 60 * 60 * 24)) + 1;\n\t},\n\tsaveAjax: function(mode, param, addToParams) {\n\t\tvar aDeferred = $.Deferred();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['action'] = 'SaveAjax';\n\t\tif (mode) {\n\t\t\tparams['mode'] = mode;\n\t\t}\n\t\tparams['param'] = param;\n\t\tif (addToParams != undefined) {\n\t\t\tfor (var i in addToParams) {\n\t\t\t\tparams[i] = addToParams[i];\n\t\t\t}\n\t\t}\n\t\tAppConnector.request(params)\n\t\t\t.done(function(data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Hack for Safari breaking down, when sending empty file input\n\t * @param html\n\t */\n\tremoveEmptyFilesInput(form) {\n\t\tfor (let i = 0; i < form.elements.length; i++) {\n\t\t\tif (form.elements[i].type === 'file') {\n\t\t\t\tif (form.elements[i].value === '') {\n\t\t\t\t\tform.elements[i].parentNode.removeChild(form.elements[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tgetMainParams: function(param, json) {\n\t\tif (param in CONFIG) {\n\t\t\treturn CONFIG[param];\n\t\t}\n\t\tif (app.cacheParams[param] === undefined) {\n\t\t\tapp.cacheParams[param] = $('#' + param).val();\n\t\t}\n\t\tlet value = app.cacheParams[param];\n\t\tif (json) {\n\t\t\tif (value) {\n\t\t\t\tvalue = JSON.parse(value);\n\t\t\t} else {\n\t\t\t\tvalue = [];\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\tsetMainParams: function(param, value) {\n\t\tapp.cacheParams[param] = value;\n\t\t$('#' + param).val(value);\n\t},\n\terrorLog: function(error, err, errorThrown) {\n\t\tif (!CONFIG.debug) {\n\t\t\treturn;\n\t\t}\n\t\tconsole.warn(\n\t\t\t'%cYetiForce debug mode!!!',\n\t\t\t'color: red; font-family: sans-serif; font-size: 1.5em; font-weight: bolder; text-shadow: #000 1px 1px;'\n\t\t);\n\t\tif (typeof error === 'object' && error.responseText) {\n\t\t\terror = error.responseText;\n\t\t}\n\t\tif (typeof error === 'object' && error.statusText) {\n\t\t\terror = error.statusText;\n\t\t}\n\t\tif (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t\tif (err && err !== 'error') {\n\t\t\tconsole.error(err);\n\t\t}\n\t\tif (errorThrown) {\n\t\t\tconsole.error(errorThrown);\n\t\t}\n\t},\n\tregisterQuickEditModal: function(container) {\n\t\tif (typeof container === 'undefined') {\n\t\t\tcontainer = $('body');\n\t\t}\n\t\tcontainer.on('click', '.js-quick-edit-modal', function(e) {\n\t\t\te.preventDefault();\n\t\t\tlet element = $(this);\n\t\t\tlet data = {\n\t\t\t\tmodule: element.data('module'),\n\t\t\t\trecord: element.data('record')\n\t\t\t};\n\t\t\tif (element.data('values')) {\n\t\t\t\t$.extend(data, element.data('values'));\n\t\t\t}\n\t\t\tif (element.data('mandatoryFields')) {\n\t\t\t\tdata.mandatoryFields = element.data('mandatoryFields');\n\t\t\t}\n\t\t\tif (element.data('showLayout')) {\n\t\t\t\tdata.showLayout = element.data('showLayout');\n\t\t\t}\n\t\t\tif (element.data('editFields')) {\n\t\t\t\tdata.editFields = element.data('editFields');\n\t\t\t}\n\t\t\tApp.Components.QuickEdit.showModal(data);\n\t\t});\n\t},\n\tregisterModal: function(container) {\n\t\tif (typeof container === 'undefined') {\n\t\t\tcontainer = $('body');\n\t\t}\n\t\tcontainer\n\t\t\t.off('click', 'button.showModal, a.showModal, .js-show-modal')\n\t\t\t.on('click', 'button.showModal, a.showModal, .js-show-modal', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar currentElement = $(e.currentTarget);\n\t\t\t\tvar url = currentElement.data('url');\n\n\t\t\t\tif (typeof url !== 'undefined') {\n\t\t\t\t\tif (currentElement.hasClass('js-popover-tooltip')) {\n\t\t\t\t\t\tcurrentElement.popover('hide');\n\t\t\t\t\t}\n\t\t\t\t\tif (currentElement.hasClass('disabledOnClick')) {\n\t\t\t\t\t\tcurrentElement.attr('disabled', true);\n\t\t\t\t\t}\n\t\t\t\t\tvar modalWindowParams = {\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t\tcb: function(container) {\n\t\t\t\t\t\t\tvar call = currentElement.data('cb');\n\t\t\t\t\t\t\tif (typeof call !== 'undefined') {\n\t\t\t\t\t\t\t\tif (call.indexOf('.') !== -1) {\n\t\t\t\t\t\t\t\t\tvar callerArray = call.split('.');\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\ttypeof window[callerArray[0]] === 'object' ||\n\t\t\t\t\t\t\t\t\t\ttypeof window[callerArray[0]] === 'function'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\twindow[callerArray[0]][callerArray[1]](container);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (typeof window[call] === 'function') {\n\t\t\t\t\t\t\t\t\t\twindow[call](container);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrentElement.removeAttr('disabled');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (currentElement.data('modalid')) {\n\t\t\t\t\t\tmodalWindowParams['id'] = currentElement.data('modalid');\n\t\t\t\t\t}\n\t\t\t\t\tapp.showModalWindow(modalWindowParams);\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t},\n\tplaySound: function(action) {\n\t\tvar soundsConfig = app.getMainParams('sounds');\n\t\tif (soundsConfig['IS_ENABLED']) {\n\t\t\tvar audio = new Audio(app.getMainParams('soundFilesPath') + soundsConfig[action]);\n\t\t\taudio.play();\n\t\t}\n\t},\n\tregisterIframeAndMoreContent() {\n\t\tlet showMoreModal = e => {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tconst btn = $(e.currentTarget);\n\t\t\tconst message = btn.data('iframe')\n\t\t\t\t? btn\n\t\t\t\t\t\t.siblings('iframe')\n\t\t\t\t\t\t.clone()\n\t\t\t\t\t\t.show()\n\t\t\t\t: btn\n\t\t\t\t\t\t.closest('.js-more-content')\n\t\t\t\t\t\t.find('.fullContent')\n\t\t\t\t\t\t.html();\n\t\t\tbootbox.dialog({\n\t\t\t\tmessage,\n\t\t\t\ttitle: '<span class=\"mdi mdi-overscan\"></span>  ' + app.vtranslate('JS_FULL_TEXT'),\n\t\t\t\tclassName: 'u-word-break modal-fullscreen',\n\t\t\t\tbuttons: {\n\t\t\t\t\tdanger: {\n\t\t\t\t\t\tlabel: '<span class=\"fas fa-times mr-1\"></span>' + app.vtranslate('JS_CLOSE'),\n\t\t\t\t\t\tclassName: 'btn-danger',\n\t\t\t\t\t\tcallback: function() {}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t$('.js-more').on('click', showMoreModal);\n\t\t$(document).on('click', '.js-more', showMoreModal);\n\t},\n\tregisterIframeEvents(content) {\n\t\tcontent.find('.js-iframe-full-height').each(function() {\n\t\t\tlet iframe = $(this);\n\t\t\tiframe.on('load', e => {\n\t\t\t\tiframe.height(\n\t\t\t\t\tiframe\n\t\t\t\t\t\t.contents()\n\t\t\t\t\t\t.find('body')\n\t\t\t\t\t\t.height() + 50\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t\tcontent.find('.js-modal-iframe').each(function() {\n\t\t\tlet iframe = $(this);\n\t\t\tiframe.on('load', e => {\n\t\t\t\tlet height = iframe\n\t\t\t\t\t.contents()\n\t\t\t\t\t.find('body')\n\t\t\t\t\t.height();\n\t\t\t\tif (height && height < iframe.height()) {\n\t\t\t\t\tiframe.height(height + 50);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tregisterMenu: function() {\n\t\tconst self = this;\n\t\tself.keyboard = { DOWN: 40, ESCAPE: 27, LEFT: 37, RIGHT: 39, SPACE: 32, UP: 38 };\n\t\tself.sidebarBtn = $('.js-sidebar-btn').first();\n\t\tself.sidebar = $('.js-sidebar').first();\n\t\tself.sidebarBtn.on('click', self.toggleSidebar.bind(self));\n\t\t$(`a.nav-link,[tabindex],input,select,textarea,button`).on('focus', e => {\n\t\t\tif (self.sidebarBtn[0] == e.target || self.sidebar.find(e.target).length) return;\n\t\t\tif (self.sidebar.find(':focus').length) {\n\t\t\t\tself.openSidebar();\n\t\t\t} else if (self.sidebar.hasClass('js-expand')) {\n\t\t\t\tself.closeSidebar();\n\t\t\t}\n\t\t});\n\t\tself.sidebar.on('mouseenter', self.openSidebar.bind(self)).on('mouseleave', self.closeSidebar.bind(self));\n\t\tself.sidebar.find('.js-menu__content').on('keydown', self.sidebarKeyboard.bind(self));\n\t\tself.sidebar.on('keydown', e => {\n\t\t\tif (e.which == self.keyboard.ESCAPE) {\n\t\t\t\tself.closeSidebar();\n\t\t\t\tif (self.sidebarBtn.is(':tabbable')) self.sidebarBtn.focus();\n\t\t\t\telse\n\t\t\t\t\t$(':tabbable')\n\t\t\t\t\t\t.eq(parseInt($(':tabbable').index(self.sidebar.find(':tabbable').last())) + 1)\n\t\t\t\t\t\t.focus();\n\t\t\t}\n\t\t});\n\t\tself.sidebar.find('.js-submenu').on('shown.bs.collapse', e => {\n\t\t\t$(e.target)\n\t\t\t\t.find(':tabbable')\n\t\t\t\t.first()\n\t\t\t\t.focus();\n\t\t});\n\t\t$('.js-submenu-toggler').on('click', e => {\n\t\t\tif (!$(e.currentTarget).hasClass('collapsed') && !$(e.target).closest('.toggler').length) {\n\t\t\t\twindow.location = $(e.currentTarget).attr('href');\n\t\t\t}\n\t\t});\n\t\tself.registerPinEvent();\n\t},\n\topenSidebar: function() {\n\t\tthis.sidebar.addClass('js-expand');\n\t\tthis.sidebarBtn.attr('aria-expanded', true);\n\t},\n\tcloseSidebar: function() {\n\t\tthis.sidebar.removeClass('js-expand');\n\t\tthis.sidebarBtn.attr('aria-expanded', false);\n\t},\n\ttoggleSidebar: function() {\n\t\tif (this.sidebar.hasClass('js-expand')) {\n\t\t\tthis.closeSidebar();\n\t\t} else {\n\t\t\tthis.openSidebar();\n\t\t\tthis.sidebar\n\t\t\t\t.find('.js-menu__content :tabbable')\n\t\t\t\t.first()\n\t\t\t\t.focus();\n\t\t}\n\t},\n\tregisterPinEvent: function() {\n\t\tconst self = this;\n\t\tlet pinButton = self.sidebar.find('.js-menu--pin');\n\t\tlet baseContainer = self.sidebar.closest('.js-base-container');\n\t\tpinButton.on('click', () => {\n\t\t\tlet hideMenu = 0;\n\t\t\tbaseContainer.removeClass('c-menu--animation');\n\t\t\tif (pinButton.attr('data-show') === '0') {\n\t\t\t\thideMenu = 'on';\n\t\t\t\tpinButton.removeClass('u-opacity-muted');\n\t\t\t\tbaseContainer.addClass('c-menu--open');\n\t\t\t\tself.sidebar.off('mouseleave mouseenter');\n\t\t\t} else {\n\t\t\t\tpinButton.addClass('u-opacity-muted');\n\t\t\t\tbaseContainer.removeClass('c-menu--open');\n\t\t\t\tself.sidebar\n\t\t\t\t\t.on('mouseenter', self.openSidebar.bind(self))\n\t\t\t\t\t.on('mouseleave', self.closeSidebar.bind(self));\n\t\t\t\tself.closeSidebar.bind(self);\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'Users',\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tfield: 'leftpanelhide',\n\t\t\t\trecord: CONFIG.userId,\n\t\t\t\tvalue: hideMenu\n\t\t\t}).done(function(responseData) {\n\t\t\t\tif (responseData.success && responseData.result) {\n\t\t\t\t\tpinButton.attr('data-show', hideMenu);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetTimeout(() => {\n\t\t\t\tbaseContainer.addClass('c-menu--animation');\n\t\t\t}, 300);\n\t\t});\n\t},\n\tsidebarKeyboard: function(e) {\n\t\tlet target = $(e.target);\n\t\tif (e.which == this.keyboard.LEFT) {\n\t\t\tif (target.hasClass('js-submenu-toggler') && !target.hasClass('collapsed')) {\n\t\t\t\ttarget.click();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tlet toggler = $(e.target)\n\t\t\t\t\t.closest('.js-submenu')\n\t\t\t\t\t.prev('.js-submenu-toggler');\n\t\t\t\tif (toggler.length && !toggler.hasClass('collapsed')) {\n\t\t\t\t\ttoggler.click().focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (\n\t\t\t(target.hasClass('js-submenu-toggler') && e.which == this.keyboard.RIGHT && target.hasClass('collapsed')) ||\n\t\t\t(target.hasClass('js-submenu-toggler') && e.which == this.keyboard.SPACE)\n\t\t) {\n\t\t\ttarget.click();\n\t\t\treturn false;\n\t\t} else if (e.which == this.keyboard.UP) {\n\t\t\tthis.sidebar\n\t\t\t\t.find('.js-menu__content :tabbable')\n\t\t\t\t.eq(parseInt(this.sidebar.find('.js-menu__content :tabbable').index(target)) - 1)\n\t\t\t\t.focus();\n\t\t\treturn false;\n\t\t} else if (e.which == this.keyboard.DOWN) {\n\t\t\tthis.sidebar\n\t\t\t\t.find('.js-menu__content :tabbable')\n\t\t\t\t.eq(parseInt(this.sidebar.find('.js-menu__content :tabbable').index(target)) + 1)\n\t\t\t\t.focus();\n\t\t\treturn false;\n\t\t}\n\t},\n\tregisterTabdrop: function() {\n\t\tlet tabs = $('.js-tabdrop');\n\t\tif (!tabs.length) return;\n\t\tlet tab = tabs.find('> li');\n\t\ttab.each(function() {\n\t\t\t$(this).removeClass('d-none');\n\t\t});\n\t\ttabs.tabdrop({\n\t\t\ttext: app.vtranslate('JS_MORE')\n\t\t});\n\t\t//change position to the last element (wcag keyboard navigation)\n\t\tlet dropdown = tabs.find('> li.dropdown');\n\t\tdropdown.appendTo(tabs);\n\t\t//fix for toggle button text not changing\n\t\ttab.on('click', function(e) {\n\t\t\tsetTimeout(function() {\n\t\t\t\t$(window).trigger('resize');\n\t\t\t}, 500);\n\t\t});\n\t\t$(window).trigger('resize');\n\t},\n\tgetScreenHeight: function(percantage) {\n\t\tif (typeof percantage === 'undefined') {\n\t\t\tpercantage = 100;\n\t\t}\n\t\treturn ($(window).height() * percantage) / 100;\n\t},\n\tclearBrowsingHistory: function() {\n\t\tAppConnector.request({\n\t\t\tmodule: 'Home',\n\t\t\taction: 'BrowsingHistory'\n\t\t}).done(function(response) {\n\t\t\t$('.historyList').html(\n\t\t\t\t`<a class=\"item dropdown-item\" href=\"#\" role=\"listitem\">${app.vtranslate('JS_NO_RECORDS')}</a>`\n\t\t\t);\n\t\t});\n\t},\n\t/**\n\t * Open url in top window\n\t * @param string url\n\t */\n\topenUrl(url) {\n\t\tif (CONFIG.openUrlTarget === 'parentIframe') {\n\t\t\twindow.parent.location.href = url;\n\t\t} else {\n\t\t\twindow.location.href = url;\n\t\t}\n\t},\n\topenUrlMethodPost(url, postData = {}, formAttr = {}) {\n\t\t$.extend(formAttr, {\n\t\t\tmethod: 'post',\n\t\t\taction: url,\n\t\t\tstyle: 'display:none;'\n\t\t});\n\t\tlet form = $('<form></form>', formAttr);\n\t\tif (typeof csrfMagicName !== 'undefined') {\n\t\t\tpostData[csrfMagicName] = csrfMagicToken;\n\t\t}\n\t\t$.each(postData, (index, value) => {\n\t\t\tlet input = $(document.createElement('input'));\n\t\t\tinput.attr('type', 'hidden');\n\t\t\tinput.attr('name', index);\n\t\t\tinput.val(value);\n\t\t\tform.append(input);\n\t\t});\n\t\t$('body').append(form);\n\t\tform.submit();\n\t\tform.remove();\n\t},\n\t/**\n\t * Convert url string to object\n\t *\n\t * @param   {string}  url  example: index.php?module=LayoutEditor&parent=Settings\n\t *\n\t * @return  {object}       urlObject\n\t */\n\tconvertUrlToObject(url) {\n\t\tlet urlObject = {};\n\t\turl.split('index.php?')[1]\n\t\t\t.split('&')\n\t\t\t.forEach(el => {\n\t\t\t\tif (el.includes('=')) {\n\t\t\t\t\tlet values = el.split('=');\n\t\t\t\t\turlObject[values[0]] = values[1];\n\t\t\t\t}\n\t\t\t});\n\t\treturn urlObject;\n\t},\n\t/**\n\t * Convert object to url string\n\t *\n\t * @param   {object}  urlData\n\t * @param   {string}  entryFile\n\t *\n\t * @return  {string}          url\n\t */\n\tconvertObjectToUrl(urlData = {}, entryFile = 'index.php?') {\n\t\tlet url = entryFile;\n\t\tObject.keys(urlData).forEach(key => {\n\t\t\tlet value = urlData[key];\n\t\t\tif (typeof value === 'object' || (typeof value === 'string' && value.startsWith('<'))) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\turl += key + '=' + value + '&';\n\t\t});\n\t\treturn url;\n\t},\n\tshowConfirmation: function(data, element) {\n\t\tvar params = {};\n\t\tif (data) {\n\t\t\tparams = $.extend(params, data);\n\t\t}\n\t\tif (element) {\n\t\t\telement = $(element);\n\t\t\tif (!params.title) {\n\t\t\t\tparams.title = element.html() + ' ' + (element.data('content') ? element.data('content') : '');\n\t\t\t}\n\t\t\tif (!params.message) {\n\t\t\t\tparams.message = element.data('confirm');\n\t\t\t}\n\t\t\tif (!params.url) {\n\t\t\t\tparams.url = element.data('url');\n\t\t\t}\n\t\t}\n\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function() {\n\t\t\tif (params.type == 'href') {\n\t\t\t\tAppConnector.request(params.url).done(function(data) {\n\t\t\t\t\tapp.openUrl(data.result);\n\t\t\t\t});\n\t\t\t} else if (params.type == 'reloadTab') {\n\t\t\t\tAppConnector.request(params.url).done(function(data) {\n\t\t\t\t\tVtiger_Detail_Js.getInstance().reloadTabContent();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tformatToHourText: function(decTime, type = 'short', withSeconds = false, withMinutes = true) {\n\t\tconst short = type === 'short';\n\t\tconst hour = Math.floor(decTime);\n\t\tconst min = Math.floor((decTime - hour) * 60);\n\t\tconst sec = Math.round(((decTime - hour) * 60 - min) * 60);\n\t\tlet result = '';\n\t\tif (hour) {\n\t\t\tresult += short ? hour + app.vtranslate('JS_H') : `${hour} ` + app.vtranslate('JS_H_LONG');\n\t\t}\n\t\tif ((hour || min) && withMinutes) {\n\t\t\tresult += short ? ` ${min}` + app.vtranslate('JS_M') : ` ${min} ` + app.vtranslate('JS_M_LONG');\n\t\t}\n\t\tif (withSeconds !== false) {\n\t\t\tresult += short ? ` ${sec}` + app.vtranslate('JS_S') : ` ${sec} ` + app.vtranslate('JS_S_LONG');\n\t\t}\n\t\tif (!hour && !min && withSeconds === false && withMinutes) {\n\t\t\tresult += short ? '0' + app.vtranslate('JS_M') : '0 ' + app.vtranslate('JS_M_LONG');\n\t\t}\n\t\tif (!hour && !min && withSeconds === false && !withMinutes) {\n\t\t\tresult += short ? '0' + app.vtranslate('JS_H') : '0 ' + app.vtranslate('JS_H_LONG');\n\t\t}\n\t\treturn result.trim();\n\t},\n\tshowRecordsList: function(params = {}, cb, afterShowModal) {\n\t\tif (!params.view) {\n\t\t\tparams.view = 'RecordsList';\n\t\t}\n\t\tthis.showRecordsListModal(params).done(function(modal) {\n\t\t\tif (typeof afterShowModal === 'function') {\n\t\t\t\tafterShowModal(modal);\n\t\t\t}\n\t\t\tapp.registerModalController(false, modal, cb);\n\t\t});\n\t},\n\t/**\n\t * Show records list modal\n\t * @param {object} params\n\t * @returns {Promise}\n\t */\n\tshowRecordsListModal: function(params) {\n\t\tconst aDeferred = $.Deferred();\n\t\tAppConnector.request(params)\n\t\t\t.done(function(requestData) {\n\t\t\t\tapp.showModalWindow(requestData, function(modal) {\n\t\t\t\t\taDeferred.resolve(modal);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Convert html content to base64 image\n\t * This function can be used in promise chain or with callback if specified\n\t *\n\t * @param {HTMLElement} element\n\t * @param {function} callback with imageString argument which contains an image in base64 string format\n\t * @param {object} options see: https://html2canvas.hertzen.com/configuration , imageType is our custom option\n\t * @return {Promise} with base64 string image as argument\n\t */\n\thtmlToImage(element, callback, options = { imageType: 'image/png', logging: false }) {\n\t\telement = $(element).get(0); // make sure we have HTMLElement not jQuery because it will not work\n\t\tconst imageType = options.imageType;\n\t\tdelete options.imageType;\n\t\treturn html2canvas(element, options).then(canvas => {\n\t\t\tconst base64Image = canvas.toDataURL(imageType);\n\t\t\tif (typeof callback === 'function') {\n\t\t\t\tcallback(base64Image);\n\t\t\t}\n\t\t\treturn base64Image;\n\t\t});\n\t},\n\tdecodeHTML(html) {\n\t\tvar txt = document.createElement('textarea');\n\t\ttxt.innerHTML = html;\n\t\treturn txt.value;\n\t},\n\tshowAlert: function(customParams) {\n\t\tlet userParams = customParams;\n\t\tif (typeof customParams === 'string') {\n\t\t\tuserParams = {};\n\t\t\tuserParams.text = customParams;\n\t\t}\n\t\tlet params = {\n\t\t\ttarget: document.body,\n\t\t\tdata: {\n\t\t\t\ttype: 'error',\n\t\t\t\thide: false,\n\t\t\t\tstack: {\n\t\t\t\t\tdir1: 'down',\n\t\t\t\t\tmodal: true,\n\t\t\t\t\tfirstpos1: 25\n\t\t\t\t},\n\t\t\t\tmodules: {\n\t\t\t\t\tConfirm: {\n\t\t\t\t\t\tconfirm: true,\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: 'Ok',\n\t\t\t\t\t\t\t\tpromptTrigger: true,\n\t\t\t\t\t\t\t\tprimary: true,\n\t\t\t\t\t\t\t\tclick: function(notice) {\n\t\t\t\t\t\t\t\t\tnotice.close();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tButtons: {\n\t\t\t\t\t\tcloser: false,\n\t\t\t\t\t\tsticker: false\n\t\t\t\t\t},\n\t\t\t\t\tHistory: {\n\t\t\t\t\t\thistory: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (typeof userParams !== 'undefined') {\n\t\t\tparams.data = $.extend(params.data, userParams);\n\t\t}\n\t\treturn new PNotify(params);\n\t},\n\tshowConfirmModal: function(customParams, confirmCallback = () => {}, cancelCallback = () => {}) {\n\t\tlet aDeferred = $.Deferred();\n\n\t\tlet userParams = customParams;\n\t\tif (typeof customParams === 'string') {\n\t\t\tuserParams = {};\n\t\t\tuserParams.text = customParams;\n\t\t}\n\t\tlet params = {\n\t\t\ttarget: document.body,\n\t\t\tdata: {\n\t\t\t\thide: false,\n\t\t\t\ticon: 'fas fa-question-circle',\n\t\t\t\tstack: {\n\t\t\t\t\tdir1: 'down',\n\t\t\t\t\tmodal: true,\n\t\t\t\t\tfirstpos1: 25\n\t\t\t\t},\n\t\t\t\tmodules: {\n\t\t\t\t\tConfirm: {\n\t\t\t\t\t\tconfirm: true,\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_OK'),\n\t\t\t\t\t\t\t\tprimary: true,\n\t\t\t\t\t\t\t\tpromptTrigger: true,\n\t\t\t\t\t\t\t\tclick: function(notice) {\n\t\t\t\t\t\t\t\t\tnotice.close();\n\t\t\t\t\t\t\t\t\tconfirmCallback();\n\t\t\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANCEL'),\n\t\t\t\t\t\t\t\tclick: function(notice) {\n\t\t\t\t\t\t\t\t\tnotice.close();\n\t\t\t\t\t\t\t\t\tcancelCallback();\n\t\t\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\tButtons: {\n\t\t\t\t\t\tcloser: false,\n\t\t\t\t\t\tsticker: false\n\t\t\t\t\t},\n\t\t\t\t\tHistory: {\n\t\t\t\t\t\thistory: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif (typeof userParams !== 'undefined') {\n\t\t\tparams.data = $.extend(params.data, userParams);\n\t\t}\n\t\tnew PNotify(params);\n\t\treturn aDeferred.promise();\n\t},\n\tregistesterScrollbar(container) {\n\t\tcontainer.find('.js-scrollbar').each(function() {\n\t\t\tlet element = $(this),\n\t\t\t\tscrollbarFnName = element.data('scrollbarFnName');\n\n\t\t\tif (typeof app[scrollbarFnName] === 'function') {\n\t\t\t\tapp[scrollbarFnName](element);\n\t\t\t} else {\n\t\t\t\tapp.showNewScrollbar(element);\n\t\t\t}\n\t\t});\n\t},\n\tregisterPopover(container = $(document)) {\n\t\twindow.popoverCache = {};\n\t\tcontainer.on('mousemove', e => {\n\t\t\tapp.mousePosition = { x: e.pageX, y: e.pageY };\n\t\t});\n\t\tcontainer.on(\n\t\t\t'mouseenter',\n\t\t\t'.js-popover-tooltip, .js-popover-tooltip--record, .js-popover-tooltip--ellipsis, [data-field-type=\"reference\"], [data-field-type=\"multireference\"]',\n\t\t\te => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.find('.js-popover-tooltip--record').length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (!currentTarget.hasClass('popover-triggered')) {\n\t\t\t\t\tif (currentTarget.hasClass('js-popover-tooltip--record')) {\n\t\t\t\t\t\tapp.registerPopoverRecord(currentTarget, {}, container);\n\t\t\t\t\t\tcurrentTarget.trigger('mouseenter');\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t!currentTarget.hasClass('js-popover-tooltip--record') &&\n\t\t\t\t\t\tcurrentTarget.data('field-type')\n\t\t\t\t\t) {\n\t\t\t\t\t\tapp.registerPopoverRecord(currentTarget.children('a'), {}, container); //popoverRecord on children doesn't need triggering\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t!currentTarget.hasClass('js-popover-tooltip--record') &&\n\t\t\t\t\t\t!currentTarget.find('.js-popover-tooltip--record').length &&\n\t\t\t\t\t\t!currentTarget.data('field-type')\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (currentTarget.hasClass('js-popover-tooltip--ellipsis')) {\n\t\t\t\t\t\t\tapp.registerPopoverEllipsis({ element: currentTarget, container });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showPopoverElementView(currentTarget);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentTarget.trigger('mouseenter');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n\tshowNotify: function(params) {\n\t\tif (typeof params.type === 'undefined') {\n\t\t\tparams.type = 'info';\n\t\t}\n\t\tif (typeof params.title === 'undefined') {\n\t\t\tparams.title = app.vtranslate('JS_MESSAGE');\n\t\t}\n\t\tVtiger_Helper_Js.showPnotify(params);\n\t},\n\tshowDesktopNotification: function(params) {\n\t\tparams = $.extend(params, {\n\t\t\tmodules: {\n\t\t\t\tDesktop: {\n\t\t\t\t\tdesktop: true,\n\t\t\t\t\tfallback: false,\n\t\t\t\t\ticon: params.icon\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tPNotify.notice(params);\n\t},\n\t/**\n\t * Set Pnotify defaults options\n\t */\n\tsetPnotifyDefaultOptions() {\n\t\tPNotify.defaults.textTrusted = true; // *Trusted option enables html as parameter's value\n\t\tPNotify.defaults.titleTrusted = true;\n\t\tPNotify.defaults.styling = 'bootstrap4';\n\t\tPNotify.defaults.icons = 'fontawesome5';\n\t},\n\t/**\n\t * Register auto format number value\n\t */\n\tregisterFormatNumber() {\n\t\t$(document).on('focusout', '.js-format-numer', e => {\n\t\t\t$(e.currentTarget).formatNumber();\n\t\t});\n\t},\n\t/**\n\t * Register toggle icon click event\n\t * @param container\n\t */\n\tregisterToggleIconClick(container) {\n\t\tcontainer.on('click', '.js-toggle-icon, .js-toggle-icon__container', e => {\n\t\t\tlet icon = $(e.target);\n\t\t\tif (icon.hasClass('js-toggle-icon__container')) {\n\t\t\t\ticon = icon.find('.js-toggle-icon');\n\t\t\t}\n\t\t\tlet iconData = icon.data();\n\t\t\ticon.toggleClass(`${iconData.active} ${iconData.inactive}`);\n\t\t\te.stopPropagation();\n\t\t});\n\t},\n\tstripHtml(html) {\n\t\tconst temporalDiv = document.createElement('div');\n\t\ttemporalDiv.innerHTML = html;\n\t\treturn temporalDiv.textContent || temporalDiv.innerText || '';\n\t}\n});\nCKEDITOR.disableAutoInline = true;\n$(document).ready(function() {\n\tQuasar.iconSet.set(Quasar.iconSet.mdiV3);\n\tlet document = $(this);\n\tapp.registerToggleIconClick(document);\n\tapp.touchDevice = app.isTouchDevice();\n\tapp.setPnotifyDefaultOptions();\n\tApp.Fields.Picklist.changeSelectElementView();\n\tapp.registerPopoverEllipsisIcon();\n\tapp.registerPopover();\n\tapp.registerFormatNumber();\n\tapp.registerIframeAndMoreContent();\n\tapp.registerModal();\n\tapp.registerQuickEditModal();\n\tapp.registerMenu();\n\tapp.registerTabdrop();\n\tapp.registerIframeEvents(document);\n\tapp.registesterScrollbar(document);\n\tApp.Components.Scrollbar.initPage();\n\tString.prototype.toCamelCase = function() {\n\t\tlet value = this.valueOf();\n\t\treturn value.charAt(0).toUpperCase() + value.slice(1).toLowerCase();\n\t};\n\t// in IE resize option for textarea is not there, so we have to use .resizable() api\n\tif (/MSIE/.test(navigator.userAgent) || /Trident/.test(navigator.userAgent)) {\n\t\t$('textarea').resizable();\n\t}\n\t// Instantiate Page Controller\n\tlet pageController = app.getPageController();\n\tif (pageController) {\n\t\tpageController.registerEvents();\n\t}\n});\n(function($) {\n\t$.fn.getNumberFromValue = function() {\n\t\treturn App.Fields.Double.formatToDb($(this).val());\n\t};\n\t$.fn.getNumberFromText = function() {\n\t\treturn App.Fields.Double.formatToDb($(this).text());\n\t};\n\t$.fn.setValue = function(value, type = 'value') {\n\t\treturn App.Fields.Utils.setValue($(this), value, type);\n\t};\n\t$.fn.formatNumber = function() {\n\t\tlet element = $(this);\n\t\telement.val(App.Fields.Double.formatToDisplay(App.Fields.Double.formatToDb(element.val()), false));\n\t};\n\t$.fn.disable = function() {\n\t\tthis.attr('disabled', 'disabled');\n\t};\n\t$.fn.enable = function() {\n\t\tthis.removeAttr('disabled');\n\t};\n\t$.fn.serializeFormData = function() {\n\t\tlet form = $(this);\n\t\tfor (var instance in CKEDITOR.instances) {\n\t\t\tCKEDITOR.instances[instance].updateElement();\n\t\t}\n\t\tlet values = form.serializeArray();\n\t\tlet data = {};\n\t\tif (values) {\n\t\t\t$(values).each(function(k, v) {\n\t\t\t\tif (v.name in data && typeof data[v.name] !== 'object') {\n\t\t\t\t\tlet element = form.find('[name=\"' + v.name + '\"]');\n\t\t\t\t\t//Only for muti select element we need to send array of values\n\t\t\t\t\tif (element.is('select') && element.attr('multiple') != undefined) {\n\t\t\t\t\t\tlet prevValue = data[v.name];\n\t\t\t\t\t\tdata[v.name] = [];\n\t\t\t\t\t\tdata[v.name].push(prevValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof data[v.name] === 'object') {\n\t\t\t\t\tdata[v.name].push(v.value);\n\t\t\t\t} else {\n\t\t\t\t\tdata[v.name] = v.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t// If data-type=\"autocomplete\", pickup data-value=\"...\" set\n\t\tlet autocompletes = $('[data-type=\"autocomplete\"]', $(this));\n\t\t$(autocompletes).each(function(i) {\n\t\t\tlet ac = $(autocompletes[i]);\n\t\t\tdata[ac.attr('name')] = ac.data('value');\n\t\t});\n\t\treturn data;\n\t};\n\t// Case-insensitive :icontains expression\n\t$.expr[':'].icontains = function(obj, index, meta, stack) {\n\t\treturn (\n\t\t\t(obj.textContent || obj.innerText || $(obj).text() || '').toLowerCase().indexOf(meta[3].toLowerCase()) !==\n\t\t\t-1\n\t\t);\n\t};\n\t$.fn.removeTextNode = function() {\n\t\t$(this)\n\t\t\t.contents()\n\t\t\t.filter(function() {\n\t\t\t\treturn this.nodeType == 3; //Node.TEXT_NODE\n\t\t\t})\n\t\t\t.remove();\n\t};\n\tbootbox.setLocale(CONFIG.langKey);\n})($);\n"],"names":["App","window","container","$","treeInstance","treeData","generateTree","slef","on","e","data","event","undefined","target","hasClass","instance","select_node","node","children_d","deselect_node","jstree","getRecords","registerSearchEvent","self","searchTimeout","treeSearch","setTimeout","searchValue","val","search","JSON","parse","find","moduleName","params","CONFIG","modalTarget","parent","Components","QuickCreate","createRecord","url","callbackFunction","app","getViewName","getRecordId","getParentModuleName","getModuleName","progress","progressIndicator","blockInfo","enabled","getForm","done","showModal","registerEventForClockPicker","aDeferred","Deferred","requestParams","isCacheActive","noCache","moduleCache","resolve","promise","request","html","showModalWindow","quickCreateForm","editViewInstance","Vtiger_Edit_Js","getInstanceByModuleName","moduleClassName","registerBasicEvents","registerEvents","validationEngine","validationEngineOptions","callbackPostShown","registerPostLoadEvents","registerHelpInfo","form","submitSuccessCallback","goToFullFormCallBack","goToFullFormcallback","currentTarget","InvalidFields","length","removeData","mode","preventDefault","recordPreSaveEvent","Event","recordPreSave","trigger","isDefaultPrevented","moduleInstance","saveHandler","quickCreateSave","save","vtranslate","modalContainer","closest","parentModuleName","viewName","hideModalWindow","id","listInstance","Vtiger_List_Js","getListViewRecords","success","showPnotify","editViewUrl","goToFullForm","registerTabEvents","showPopoverElementView","remove","append","each","key","removeAttr","addClass","submit","tabElements","quickCreateTabOnHide","index","element","attr","quickCreateTabOnShow","not","filter","quickCreateSaveUrl","serializeFormData","textStatus","errorThrown","reject","quickEditSave","location","reload","scrollbarContainer","page","y","getElements","viewport","options","overlayScrollbars","yOptions","mergedOptions","Object","assign","defaults","x","el","arguments","Array","prototype","slice","call","apply","one","off","getMainParams","view","recordId","inArray","action","message","fail","error","document","title","frames","childFrame","top","supportsTouch","navigator","msPointerEnabled","documentElement","appendTo","str","popover","popoverParent","manualTriggerDelay","hideDelay","currentPopover","getBindedPopover","is","hidePopoversAfterClick","clone","css","removeClass","width","selectElement","defaultParams","show","hide","domElement","elementParams","extend","template","delay","registerPopoverManualTrigger","callbackShown","setPopoverPosition","popoverText","isEllipsisActive","iconElement","selector","customParams","link","URL","eq","origin","searchParams","get","href","replace","popoverBody","appendPopoverData","callback","cacheData","popoverCache","popoverElement","iframeOffset","computePopoverIframeOffset","windowHeight","height","windowWidth","popoverPadding","popoverHeight","popoverWidth","offsetTop","mousePosition","offsetLeft","left","iframeOffsetTop","iframeOffsetLeft","iframe","offset","contents","iframe2","iframeOffset2","limit","maximumSelectionLength","isArray","updateResults","parentElement","returnFormat","encodedString","children","serialize","keyValueMap","valueList","split","keyValueString","keyValueArr","nameOfElement","valueOfElement","decodeURIComponent","modal","openAnimation","closeAnimation","paramsObject","cb","sendByAjaxCb","thisInstance","backdrop","keyboard","fn","Constructor","enforceFocus","proxy","Fields","Picklist","showSelect2ElementView","Date","register","Text","Editor","registesterScrollbar","registerModalEvents","registerDataTables","isCurrentWindowTarget","lastModalId","Math","random","toString","substr","modalId","Window","showModalData","response","sourceFunction","args","unshift","reduce","o","i","windowParent","modalClass","modalEvents","validationForm","formAlignmentAfterValidation","progressIndicatorElement","formData","responseData","result","notify","showMessage","procesStop","field","block","click","formError","destination","resizedDestnation","animate","dateFormat","dotMode","indexOf","splitDateFormat","sectionDate","substring","join","dateString","dateFormatParts","day","month","year","dateParts","datepicker","autoclose","ev","currentElement","toUpperCase","date","formatDate","moment","format","Utils","hideMobileKeyboard","timeInputs","stopPropagation","tempElement","clockpicker","formatTimeString","twelvehour","meridiemTime","afterDone","timeString","timeInput","timeStringFormatted","beforeHide","text","formatTime","hourFormat","parseInt","table","dataTable","DataTable","selectId","select2EleId","elements","parentWidth","wheelPropagation","PerfectScrollbar","scrollOptions","scrollbarTopLeftInit","scrollbarTopElement","first","scrollbarBottomRightInit","suppressScrollY","scrollbarLeftElement","slimScroll","middleScroll","clickedMouseButton","which","mouseY","pageY","mouseX","pageX","mouseMoveY","scrollSlowerRate","scrollTop","scrollerY","contentScrollY","mouseMoveX","contentScrollX","scrollLeft","scrollerX","LANG","cacheNSKey","store","value","set","orgKey","cacheSet","cacheKey","cacheGet","push","Vtiger_Helper_Js","unique","modules","cacheClear","outerHeight","outerWidth","select2Status","kv","k","rte","CKEDITOR","instances","setData","pageController","parentModule","extendModules","babelHelpers.typeof","moduleBaseClassName","c_name","c_value","cookie","c_start","c_end","unescape","exdays","exdate","setDate","getDate","escape","toUTCString","varName","getVar","vars","m","d","getMonth","getFullYear","h","getHours","getMinutes","s","getSeconds","formatDateZ","time","fromTime","getTime","today","toTime","floor","param","addToParams","type","parentNode","removeChild","json","cacheParams","err","debug","warn","responseText","statusText","mandatoryFields","showLayout","editFields","QuickEdit","modalWindowParams","callerArray","soundsConfig","audio","Audio","play","showMoreModal","btn","siblings","dialog","content","DOWN","ESCAPE","LEFT","RIGHT","SPACE","UP","sidebarBtn","sidebar","toggleSidebar","bind","openSidebar","closeSidebar","sidebarKeyboard","focus","last","registerPinEvent","pinButton","baseContainer","hideMenu","userId","toggler","prev","tabs","tab","tabdrop","dropdown","percantage","openUrlTarget","postData","formAttr","csrfMagicName","csrfMagicToken","input","createElement","urlObject","forEach","includes","values","urlData","entryFile","keys","startsWith","showConfirmationBox","openUrl","getInstance","reloadTabContent","decTime","withSeconds","withMinutes","short","hour","min","sec","round","trim","afterShowModal","showRecordsListModal","registerModalController","requestData","imageType","logging","html2canvas","then","base64Image","canvas","toDataURL","txt","innerHTML","userParams","body","notice","close","PNotify","confirmCallback","cancelCallback","scrollbarFnName","showNewScrollbar","registerPopoverRecord","registerPopoverEllipsis","icon","textTrusted","titleTrusted","styling","icons","formatNumber","iconData","toggleClass","active","inactive","temporalDiv","textContent","innerText","disableAutoInline","ready","iconSet","Quasar","mdiV3","registerToggleIconClick","touchDevice","isTouchDevice","setPnotifyDefaultOptions","changeSelectElementView","registerPopoverEllipsisIcon","registerPopover","registerFormatNumber","registerIframeAndMoreContent","registerModal","registerQuickEditModal","registerMenu","registerTabdrop","registerIframeEvents","Scrollbar","initPage","toCamelCase","valueOf","charAt","toLowerCase","test","userAgent","resizable","getPageController","getNumberFromValue","Double","formatToDb","getNumberFromText","setValue","formatToDisplay","disable","enable","updateElement","serializeArray","v","name","prevValue","autocompletes","ac","expr","icontains","obj","meta","stack","removeTextNode","nodeType","setLocale","langKey"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;AASA;AAEA,IAAIA,MAAOC,OAAOD,GAAP,GAAa;aACX;QACL;;qBAE6C;SAArCE,SAAqC,uEAAzBC,EAAE,oBAAF,CAAyB;;;UAC3CC,YAAL,GAAoB,KAApB;UACKC,QAAL,GAAgB,KAAhB;UACKC,YAAL,CAAkBJ,SAAlB;;;;;kCAGYA,SAPd,EAOyB;UACjBK,OAAO,IAAb;UACIA,KAAKH,YAAL,KAAsB,KAA1B,EAAiC;YAC3BA,YAAL,GAAoBF,SAApB;YACKE,YAAL,CACEI,EADF,CACK,oBADL,EAC2B,UAASC,CAAT,EAAYC,IAAZ,EAAkB;YACvCA,KAAKC,KAAL,KAAeC,SAAf,IAA4BT,EAAEO,KAAKC,KAAL,CAAWE,MAAb,EAAqBC,QAArB,CAA8B,iBAA9B,CAAhC,EAAkF;;;aAG7EC,QAAL,CAAcC,WAAd,CAA0BN,KAAKO,IAAL,CAAUC,UAApC;QALF,EAOEV,EAPF,CAOK,sBAPL,EAO6B,UAASC,CAAT,EAAYC,IAAZ,EAAkB;YACzCA,KAAKC,KAAL,KAAeC,SAAf,IAA4BT,EAAEO,KAAKC,KAAL,CAAWE,MAAb,EAAqBC,QAArB,CAA8B,iBAA9B,CAAhC,EAAkF;;;aAG7EC,QAAL,CAAcI,aAAd,CAA4BT,KAAKO,IAAL,CAAUC,UAAtC;QAXF,EAaEE,MAbF,CAaS;cACD;eACCb,KAAKc,UAAL,CAAgBnB,SAAhB,CADD;iBAEG;gBACD,QADC;sBAEK;;SALP;iBAQE,CAAC,QAAD,EAAW,UAAX;QArBX;YAuBKoB,mBAAL;;;;;2CAIoB;UACfC,OAAO,IAAb;UACIC,gBAAgB,KAApB;UACCC,aAAatB,EAAE,iBAAF,CADd;iBAEWK,EAAX,CAAc,OAAd,EAAuB,YAAM;WACxBgB,aAAJ,EAAmB;qBACLA,aAAb;;uBAEeE,WAAW,YAAW;YACjCC,cAAcF,WAAWG,GAAX,EAAlB;aACKxB,YAAL,CAAkBgB,MAAlB,CAAyB,IAAzB,EAA+BS,MAA/B,CAAsCF,WAAtC;QAFe,EAGb,GAHa,CAAhB;OAJD;;;;gCAWUzB,SArDZ,EAqDuB;UACjB,KAAKG,QAAL,KAAkB,KAAlB,IAA2BH,cAAc,WAA7C,EAA0D;YACpDG,QAAL,GAAgByB,KAAKC,KAAL,CAAW7B,UAAU8B,IAAV,CAAe,eAAf,EAAgCJ,GAAhC,EAAX,CAAhB;;aAEM,KAAKvB,QAAZ;;;;;GA3DQ;;;;;eAmEE;;;;gBAIC,EAJD;;;;;;;eAAA,wBAWC4B,UAXD,EAW0B;;;QAAbC,MAAa,uEAAJ,EAAI;;QACjC,mBAAmBC,OAAOC,WAA9B,EAA2C;YACnCC,MAAP,CAAcrC,GAAd,CAAkBsC,UAAlB,CAA6BC,WAA7B,CAAyCC,YAAzC,CAAsDP,UAAtD,EAAkEC,MAAlE;;;QAGGO,MAAM,sBAAsBR,UAAtB,GAAmC,uBAA7C;QACIrB,cAAcsB,OAAOQ,gBAAzB,EAA2C;YACnCA,gBAAP,GAA0B,YAAW,EAArC;;QAGA,CAACC,IAAIC,WAAJ,OAAsB,QAAtB,IACCD,IAAIC,WAAJ,OAAsB,MAAtB,IAAgCD,IAAIE,WAAJ,OAAsBjC,SADxD,KAEA+B,IAAIG,mBAAJ,MAA6B,UAH9B,EAIE;YACM,mBAAmBH,IAAII,aAAJ,EAA1B;YACO,mBAAmBJ,IAAIE,WAAJ,EAA1B;;QAEKG,WAAW7C,EAAE8C,iBAAF,CAAoB,EAAEC,WAAW,EAAEC,SAAS,IAAX,EAAb,EAApB,CAAjB;SACKC,OAAL,CAAaX,GAAb,EAAkBR,UAAlB,EAA8BC,MAA9B,EAAsCmB,IAAtC,CAA2C,gBAAQ;WAC7CC,SAAL,CAAe5C,IAAf,EAAqBwB,MAArB;SACIqB,2BAAJ;cACSN,iBAAT,CAA2B;YACpB;MADP;KAHD;IA7BW;;;;;;;;;;;UAAA,mBA8CJR,GA9CI,EA8CCR,UA9CD,EA8C0B;QAAbC,MAAa,uEAAJ,EAAI;;QAC/BsB,YAAYrD,EAAEsD,QAAF,EAAlB;QACIC,sBAAJ;QACIC,gBAAgB,CAACzB,OAAO0B,OAAR,IAAmBhD,cAAcsB,OAAO0B,OAA5D;QACID,aAAJ,EAAmB;SACd3D,IAAIsC,UAAJ,CAAeC,WAAf,CAA2BsB,WAA3B,CAAuC5B,UAAvC,CAAJ,EAAwD;gBAC7C6B,OAAV,CAAkB9D,IAAIsC,UAAJ,CAAeC,WAAf,CAA2BsB,WAA3B,CAAuC5B,UAAvC,CAAlB;aACOuB,UAAUO,OAAV,EAAP;;;oBAGctB,GAAhB;QACI,OAAOP,OAAOxB,IAAd,KAAuB,WAA3B,EAAwC;qBACvB,EAAhB;mBACc,MAAd,IAAwBwB,OAAOxB,IAA/B;mBACc,KAAd,IAAuB+B,GAAvB;;iBAEYuB,OAAb,CAAqBN,aAArB,EAAoCL,IAApC,CAAyC,UAAS3C,IAAT,EAAe;SACnDiD,aAAJ,EAAmB;UACdrB,UAAJ,CAAeC,WAAf,CAA2BsB,WAA3B,CAAuC5B,UAAvC,IAAqDvB,IAArD;;eAESoD,OAAV,CAAkBpD,IAAlB;KAJD;WAMO8C,UAAUO,OAAV,EAAP;IApEW;;;;;;;;YAAA,qBA4EFE,IA5EE,EA4EiB;;;QAAb/B,MAAa,uEAAJ,EAAI;;QACxBgC,eAAJ,CAAoBD,IAApB,EAA0B,qBAAa;SAChCE,kBAAkBjE,UAAU8B,IAAV,CAAe,0BAAf,CAAxB;SACMC,aAAakC,gBAAgBnC,IAAhB,CAAqB,iBAArB,EAAwCJ,GAAxC,EAAnB;SACMwC,mBAAmBC,eAAeC,uBAAf,CAAuCrC,UAAvC,CAAzB;SACMsC,kBAAkBtC,aAAa,iBAArC;sBACiBuC,mBAAjB,CAAqCL,eAArC;SACI,OAAOlE,OAAOsE,eAAP,CAAP,KAAmC,WAAvC,EAAoD;UAC/CtE,OAAOsE,eAAP,CAAJ,GAA8BE,cAA9B,CAA6CvE,SAA7C;;qBAEewE,gBAAhB,CAAiC/B,IAAIgC,uBAArC;SACI,OAAOzC,OAAO0C,iBAAd,KAAoC,WAAxC,EAAqD;aAC7CA,iBAAP,CAAyBT,eAAzB;;YAEIU,sBAAL,CAA4BV,eAA5B,EAA6CjC,MAA7C;YACK4C,gBAAL,CAAsBX,eAAtB;KAdD;IA7EW;;;;;;;;;;yBAAA,kCAsGWY,IAtGX,EAsGiB7C,MAtGjB,EAsGyB;;;QAC9B8C,wBAAwB9C,OAAOQ,gBAAP,IAA2B,YAAW,EAApE;QACMuC,uBAAuB/C,OAAOgD,oBAAP,IAA+B,YAAW,EAAvE;SACK1E,EAAL,CAAQ,QAAR,EAAkB,aAAK;SAChBuE,OAAO5E,EAAEM,EAAE0E,aAAJ,CAAb;SACIJ,KAAKjE,QAAL,CAAc,gBAAd,CAAJ,EAAqC;aAC7B,IAAP;;SAEKmB,aAAa8C,KAAK/C,IAAL,CAAU,iBAAV,EAA6BJ,GAA7B,EAAnB;;SAEI,OAAOmD,KAAKrE,IAAL,CAAU,QAAV,CAAP,KAA+B,WAAnC,EAAgD;aACxC,KAAP;MADD,MAEO;UACFqE,KAAKrE,IAAL,CAAU,KAAV,EAAiB0E,aAAjB,CAA+BC,MAA/B,GAAwC,CAA5C,EAA+C;;YAEzCC,UAAL,CAAgB,QAAhB;SACErC,iBAAF,CAAoB,EAAEsC,MAAM,MAAR,EAApB;SACEC,cAAF;;OAJD,MAMO;;YAED9E,IAAL,CAAU,QAAV,EAAoB,MAApB;SACEuC,iBAAF,CAAoB,EAAEsC,MAAM,MAAR,EAApB;;;UAGKE,qBAAqBtF,EAAEuF,KAAF,CAAQrB,eAAesB,aAAvB,CAA3B;WACKC,OAAL,CAAaH,kBAAb,EAAiC;cACzB,MADyB;eAExBxD;OAFT;UAII,CAACwD,mBAAmBI,kBAAnB,EAAL,EAA8C;WACvCC,iBAAiBzB,eAAeC,uBAAf,CAAuCrC,UAAvC,CAAvB;WACM8D,cAAc,CAAC,CAACD,eAAeE,eAAjB,GACjBF,eAAeE,eADE,GAEjB,OAAKC,IAFR;WAGIjD,WAAW7C,EAAE8C,iBAAF,CAAoB;iBACzBN,IAAIuD,UAAJ,CAAe,qBAAf,CADyB;kBAExB,MAFwB;mBAGvB;kBACD;;QAJI,CAAf;mBAOYnB,IAAZ,EAAkB1B,IAAlB,CAAuB,gBAAQ;YACxB8C,iBAAiBpB,KAAKqB,OAAL,CAAa,iBAAb,CAAvB;YACMC,mBAAmB1D,IAAII,aAAJ,EAAzB;YACMuD,WAAW3D,IAAIC,WAAJ,EAAjB;YACIuD,eAAed,MAAnB,EAA2B;aACtBkB,eAAJ,CAAoB,KAApB,EAA2BJ,eAAe,CAAf,EAAkBK,EAA7C;;YAEGvE,eAAeoE,gBAAf,IAAmC,WAAWC,QAAlD,EAA4D;aACrDG,eAAe,IAAIC,cAAJ,EAArB;sBACaC,kBAAb;;8BAEqBjG,IAAtB;YACIC,KAAJ,CAAUiF,OAAV,CAAkB,4BAAlB,EAAgDlF,IAAhD,EAAsDqE,IAAtD;iBACS9B,iBAAT,CAA2B,EAAEsC,MAAM,MAAR,EAA3B;YACI7E,KAAKkG,OAAT,EAAkB;0BACAC,WAAjB,CAA6B;gBACtBlE,IAAIuD,UAAJ,CAAe,wBAAf,CADsB;gBAEtB;UAFP;;QAfF;OAZD,MAiCO;;YAEDZ,UAAL,CAAgB,QAAhB;SACErC,iBAAF,CAAoB,EAAEsC,MAAM,MAAR,EAApB;;QAECC,cAAF;;KAjEF;;SAqEKxD,IAAL,CAAU,mBAAV,EAA+BxB,EAA/B,CAAkC,OAAlC,EAA2C,aAAK;SACzCuE,OAAO5E,EAAEM,EAAE0E,aAAJ,EAAmBiB,OAAnB,CAA2B,MAA3B,CAAb;SACMU,cAAc3G,EAAEM,EAAE0E,aAAJ,EAAmBzE,IAAnB,CAAwB,KAAxB,CAApB;0BACqBqE,IAArB;YACKgC,YAAL,CAAkBhC,IAAlB,EAAwB+B,WAAxB;KAJD;;SAOKE,iBAAL,CAAuBjC,IAAvB;IArLW;;;;;;;mBAAA,8BA4LgD;QAA3C7E,SAA2C,uEAA/BC,EAAE,0BAAF,CAA+B;;QACvD8G,sBAAJ,CAA2B/G,UAAU8B,IAAV,CAAe,eAAf,CAA3B;IA7LW;;;;;;;eAAA,wBAoMC+C,IApMD,EAoMO;;SAEb/C,IAAL,CAAU,sBAAV,EAAkCkF,MAAlC;SACKC,MAAL,CAAY,kDAAZ;MACEC,IAAF,CAAOrC,KAAK/C,IAAL,CAAU,0BAAV,CAAP,EAA8C,UAASqF,GAAT,EAAc3G,IAAd,EAAoB;OAC/DA,IAAF,EAAQ4G,UAAR,CAAmB,wBAAnB;KADD;SAGKC,QAAL,CAAc,gBAAd;SACKC,MAAL;IA5MW;;;;;;;oBAAA,6BAmNMzC,IAnNN,EAmNY;QACjB0C,cAAc1C,KAAK/C,IAAL,CAAU,gCAAV,EAA4CA,IAA5C,CAAiD,GAAjD,CAApB;;;QAGM0F,uBAAuB,SAAvBA,oBAAuB,CAAS7G,MAAT,EAAiB;OAC3CA,MAAF,EACEmB,IADF,CACO,QADP,EAEEoF,IAFF,CAEO,UAASO,KAAT,EAAgBC,OAAhB,EAAyB;gBACpBzH,EAAEyH,OAAF,CAAV;cACQC,IAAR,CAAa,mBAAb,EAAkCD,QAAQC,IAAR,CAAa,MAAb,CAAlC,EAAwDP,UAAxD,CAAmE,MAAnE;MAJF;KADD;;;QAUMQ,uBAAuB,SAAvBA,oBAAuB,CAASjH,MAAT,EAAiB;OAC3CA,MAAF,EACEmB,IADF,CACO,qBADP,EAEEoF,IAFF,CAEO,UAASO,KAAT,EAAgBC,OAAhB,EAAyB;gBACpBzH,EAAEyH,OAAF,CAAV;cACQC,IAAR,CAAa,MAAb,EAAqBD,QAAQC,IAAR,CAAa,mBAAb,CAArB,EAAwDP,UAAxD,CAAmE,mBAAnE;MAJF;KADD;gBAQY9G,EAAZ,CAAe,OAAf,EAAwB,UAASC,CAAT,EAAY;0BACdgH,YAAYM,GAAZ,CAAgB,yBAAhB,EAA2CF,IAA3C,CAAgD,aAAhD,CAArB;0BACqB1H,EAAE,IAAF,EAAQ0H,IAAR,CAAa,aAAb,CAArB;;UAEKnH,IAAL,CAAU,KAAV,EAAiB0E,aAAjB,GAAiC,EAAjC;KAJD;;gBAOY4C,MAAZ,CAAmB,gBAAnB,EAAqCZ,IAArC,CAA0C,UAAS3G,CAAT,EAAY;0BAChCN,EAAE,IAAF,EAAQ0H,IAAR,CAAa,aAAb,CAArB;KADD;IAhPW;;;;;;;;;OAAA,gBA2PP9C,IA3PO,EA2PD;QACJvB,YAAYrD,EAAEsD,QAAF,EAAlB;QACMwE,qBAAqBlD,KAAKmD,iBAAL,EAA3B;iBACalE,OAAb,CAAqBiE,kBAArB,EAAyC5E,IAAzC,CACC,gBAAQ;eACGS,OAAV,CAAkBpD,IAAlB;KAFF,EAIC,UAACyH,UAAD,EAAaC,WAAb,EAA6B;eAClBC,MAAV,CAAiBF,UAAjB,EAA6BC,WAA7B;KALF;WAQO5E,UAAUO,OAAV,EAAP;;GAzUS;aA4UA;;;;;;;YAAA,uBAOa;QAAb7B,MAAa,uEAAJ,EAAI;;QAChBX,OAAO,IAAb;WACO,MAAP,IAAiB,gBAAjB;iBACayC,OAAb,CAAqB9B,MAArB,EAA6BmB,IAA7B,CAAkC,UAASY,IAAT,EAAe;SAC5CC,eAAJ,CAAoBD,IAApB,EAA0B,qBAAa;UAClCc,OAAO7E,UAAU8B,IAAV,CAAe,wBAAf,CAAX;UACIC,aAAa8C,KAAK/C,IAAL,CAAU,iBAAV,EAA6BJ,GAA7B,EAAjB;UACIwC,mBAAmBC,eAAeC,uBAAf,CAAuCrC,UAAvC,CAAvB;UACIsC,kBAAkBtC,aAAa,eAAnC;uBACiBuC,mBAAjB,CAAqCO,IAArC;UACI,OAAO9E,OAAOsE,eAAP,CAAP,KAAmC,WAAvC,EAAoD;WAC/CtE,OAAOsE,eAAP,CAAJ,GAA8BE,cAA9B,CAA6CvE,SAA7C;;WAEIwE,gBAAL,CAAsB/B,IAAIgC,uBAA1B;UACI,OAAOzC,OAAO0C,iBAAd,KAAoC,WAAxC,EAAqD;cAC7CA,iBAAP,CAAyBG,IAAzB,EAA+B7C,MAA/B;;WAEI2C,sBAAL,CAA4BE,IAA5B,EAAkC7C,MAAlC;MAbD;KADD;IAVS;;;;;;;;;;yBAAA,kCAoCa6C,IApCb,EAoCmB7C,MApCnB,EAoC2B;;;QAC9B8C,wBAAwB9C,OAAOQ,gBAAP,IAA2B,YAAW,EAApE;SACKlC,EAAL,CAAQ,QAAR,EAAkB,aAAK;SAChBuE,OAAO5E,EAAEM,EAAE0E,aAAJ,CAAb;SACIJ,KAAKjE,QAAL,CAAc,gBAAd,CAAJ,EAAqC;aAC7B,IAAP;;SAEKmB,aAAa8C,KAAK/C,IAAL,CAAU,iBAAV,EAA6BJ,GAA7B,EAAnB;;SAEI,OAAOmD,KAAKrE,IAAL,CAAU,QAAV,CAAP,KAA+B,WAAnC,EAAgD;aACxC,KAAP;MADD,MAEO;UACFqE,KAAKrE,IAAL,CAAU,KAAV,EAAiB0E,aAAjB,CAA+BC,MAA/B,GAAwC,CAA5C,EAA+C;;YAEzCC,UAAL,CAAgB,QAAhB;SACErC,iBAAF,CAAoB,EAAEsC,MAAM,MAAR,EAApB;SACEC,cAAF;;OAJD,MAMO;;YAED9E,IAAL,CAAU,QAAV,EAAoB,MAApB;SACEuC,iBAAF,CAAoB,EAAEsC,MAAM,MAAR,EAApB;;;UAGKE,qBAAqBtF,EAAEuF,KAAF,CAAQrB,eAAesB,aAAvB,CAA3B;WACKC,OAAL,CAAaH,kBAAb,EAAiC;cACzB,MADyB;eAExBxD;OAFT;UAII,CAACwD,mBAAmBI,kBAAnB,EAAL,EAA8C;WACvCC,iBAAiBzB,eAAeC,uBAAf,CAAuCrC,UAAvC,CAAvB;WACM8D,cAAc,CAAC,CAACD,eAAewC,aAAjB,GACjBxC,eAAewC,aADE,GAEjB,OAAKrC,IAFR;WAGIjD,WAAW7C,EAAE8C,iBAAF,CAAoB;iBACzBN,IAAIuD,UAAJ,CAAe,qBAAf,CADyB;kBAExB,MAFwB;mBAGvB;kBACD;;QAJI,CAAf;mBAOYnB,IAAZ,EAAkB1B,IAAlB,CAAuB,gBAAQ;YACxB8C,iBAAiBpB,KAAKqB,OAAL,CAAa,iBAAb,CAAvB;YACMC,mBAAmB1D,IAAII,aAAJ,EAAzB;YACMuD,WAAW3D,IAAIC,WAAJ,EAAjB;YACIuD,eAAed,MAAnB,EAA2B;aACtBkB,eAAJ,CAAoB,KAApB,EAA2BJ,eAAe,CAAf,EAAkBK,EAA7C;;YAEGvE,eAAeoE,gBAAf,IAAmC,WAAWC,QAAlD,EAA4D;aACrDG,eAAe,IAAIC,cAAJ,EAArB;sBACaC,kBAAb;;8BAEqBjG,IAAtB;YACIC,KAAJ,CAAUiF,OAAV,CAAkB,0BAAlB,EAA8ClF,IAA9C,EAAoDqE,IAApD;iBACS9B,iBAAT,CAA2B,EAAEsC,MAAM,MAAR,EAA3B;YACI7E,KAAKkG,OAAT,EAAkB;0BACAC,WAAjB,CAA6B;gBACtBlE,IAAIuD,UAAJ,CAAe,wBAAf,CADsB;gBAEtB;UAFP;;YAKG,aAAaI,QAAb,IAAyB3D,IAAIE,WAAJ,OAAsBkC,KAAK/C,IAAL,CAAU,iBAAV,EAA6BJ,GAA7B,EAAnD,EAAuF;gBAC/E2G,QAAP,CAAgBC,MAAhB;;QArBF;OAZD,MAoCO;;YAEDlD,UAAL,CAAgB,QAAhB;SACErC,iBAAF,CAAoB,EAAEsC,MAAM,MAAR,EAApB;;QAECC,cAAF;;KApEF;IAtCS;;;;;;;;;OAAA,gBAqHLT,IArHK,EAqHC;QACJvB,YAAYrD,EAAEsD,QAAF,EAAlB;QACMwE,qBAAqBlD,KAAKmD,iBAAL,EAA3B;iBACalE,OAAb,CAAqBiE,kBAArB,EAAyC5E,IAAzC,CACC,gBAAQ;eACGS,OAAV,CAAkBpD,IAAlB;KAFF,EAIC,UAACyH,UAAD,EAAaC,WAAb,EAA6B;eAClBC,MAAV,CAAiBF,UAAjB,EAA6BC,WAA7B;KALF;WAQO5E,UAAUO,OAAV,EAAP;;GA5cS;aA+cA;aACA;gBACG;eACD;;IAHF;SAMJ;cACK,EADL;aAEI;IARA;WAAA,sBAUC;QACN0E,qBAAqBtI,EAAE,WAAF,CAAzB;QACI,CAACsI,mBAAmBpD,MAAxB,EAAgC;0BACVlF,EAAE,MAAF,CAArB;;SAEIuI,IAAL,CAAU3H,QAAV,GAAqB,KAAK4H,CAAL,CAAOF,kBAAP,CAArB;SACKC,IAAL,CAAUd,OAAV,GAAoBzH,EAAE,KAAKuI,IAAL,CAAU3H,QAAV,CAAmB6H,WAAnB,GAAiCC,QAAnC,CAApB;IAhBS;KAAA,cAkBPjB,OAlBO,EAkBgB;QAAdkB,OAAc,uEAAJ,EAAI;;WAClBlB,QAAQmB,iBAAR,CAA0BD,OAA1B,EAAmCC,iBAAnC,EAAP;IAnBS;IAAA,aAqBRnB,OArBQ,EAqBCkB,OArBD,EAqBU;QACbE,WAAW;uBACE;SACd;;KAFL;QAKMC,gBAAgBC,OAAOC,MAAP,CAAc,KAAKC,QAAnB,EAA6BN,OAA7B,EAAsCE,QAAtC,CAAtB;WACOpB,QAAQmB,iBAAR,CAA0BE,aAA1B,EAAyCF,iBAAzC,EAAP;;;;CA5eJ;;AAkfA,IAAIpG,MAAO1C,OAAO0C,GAAP,GAAa;;;;iBAIP,EAJO;cAKV;MACR,CADQ;MAER,GAFQ;MAGR,GAHQ;MAIR,GAJQ;MAKR,IALQ;OAMP,IANO;QAON;EAZgB;cAcV,EAdU;cAeV,EAfU;gBAgBR,EAAE0G,GAAG,CAAL,EAAQV,GAAG,CAAX,EAhBQ;aAiBX,KAjBW;cAkBV,KAlBU;QAmBhB,IAAK,YAAW;OACjBW,EAAL,GAAUnJ,EAAE,EAAF,CAAV;OACKyF,OAAL,GAAe,YAAW;QACpB0D,EAAL,CAAQ1D,OAAR,CAAgB2D,UAAU,CAAV,CAAhB,EAA8BC,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BJ,SAA3B,EAAsC,CAAtC,CAA9B;GADD;OAGK/I,EAAL,GAAU,YAAW;QACf8I,EAAL,CAAQ9I,EAAR,CAAWoJ,KAAX,CAAiB,KAAKN,EAAtB,EAA0BC,SAA1B;GADD;OAGKM,GAAL,GAAW,YAAW;QAChBP,EAAL,CAAQO,GAAR,CAAYD,KAAZ,CAAkB,KAAKN,EAAvB,EAA2BC,SAA3B;GADD;OAGKO,GAAL,GAAW,YAAW;QAChBR,EAAL,CAAQQ,GAAR,CAAYF,KAAZ,CAAkB,KAAKN,EAAvB,EAA2BC,SAA3B;GADD;EAXM,EAnBgB;;;;;gBAsCR,yBAAW;SAClB,KAAKQ,aAAL,CAAmB,QAAnB,CAAP;EAvCsB;;;;;sBA6CF,+BAAW;SACxB,KAAKA,aAAL,CAAmB,QAAnB,CAAP;EA9CsB;;;;cAmDV,uBAAW;SAChB,KAAKA,aAAL,CAAmB,MAAnB,CAAP;EApDsB;;;;cAyDV,uBAAW;MACnBC,OAAO,KAAKpH,WAAL,EAAX;MACIqH,QAAJ;MACI9J,EAAE+J,OAAF,CAAUF,IAAV,EAAgB,CAAC,MAAD,EAAS,gBAAT,EAA2B,QAA3B,EAAqC,kBAArC,EAAyD,eAAzD,CAAhB,MAA+F,CAAC,CAApG,EAAuG;cAC3F,KAAKD,aAAL,CAAmB,UAAnB,CAAX;;SAEME,QAAP;EA/DsB;;;;;mBAqEL,0BAAS/H,MAAT,EAAiB;MAC9BsB,YAAYrD,EAAEsD,QAAF,EAAhB;MACId,IAAIG,mBAAJ,OAA8B,UAAlC,EAA8C;UACtCT,MAAP,GAAgB,UAAhB;;eAEY2B,OAAb,CAAqBkF,OAAOC,MAAP,CAAcjH,MAAd,EAAsB,EAAEiI,QAAQ,SAAV,EAAtB,CAArB,EACE9G,IADF,CACO,UAAS3C,IAAT,EAAe;OAChBA,KAAKkG,OAAT,EAAkB;cACP9C,OAAV,CAAkBpD,IAAlB;IADD,MAEO;cACI2H,MAAV,CAAiB3H,KAAK0J,OAAtB;;GALH,EAQEC,IARF,CAQO,UAASC,KAAT,EAAgB;aACXjC,MAAV;GATF;SAWO7E,UAAUO,OAAV,EAAP;EArFsB;;;;cA0FV,uBAAW;SAChB5D,EAAE,MAAF,EAAUO,IAAV,CAAe,UAAf,CAAP;EA3FsB;;;;eAgGT,wBAAW;SACjB6J,SAASC,KAAhB;EAjGsB;;;;;gBAAA,6BAuGL;MAEhB,OAAOvK,OAAOwK,MAAP,CAAc,CAAd,CAAP,KAA4B,WAA5B,IACA,OAAOxK,OAAOwK,MAAP,CAAc,CAAd,EAAiB9H,GAAxB,KAAgC,WADhC,IAEA1C,OAAOwK,MAAP,CAAc,CAAd,EAAiB9H,GAAjB,CAAqB+H,UAHtB,EAIE;UACMzK,OAAOwK,MAAP,CAAc,CAAd,CAAP;GALD,MAMO;UACCxK,MAAP;;EA/GqB;;;;;YAAA,yBAqHT;SACNA,OAAO0K,GAAP,KAAe1K,OAAOsB,IAA7B;EAtHsB;;;;;;cAAA,2BA4HP;MACXqJ,gBAAgB,KAApB;MACI,kBAAkB3K,MAAtB,EAA8B;;mBAEb,IAAhB;GAFD,MAGO,IAAIA,OAAO4K,SAAP,CAAiBC,gBAArB,EAAuC;;mBAE7B,IAAhB;GAFM,MAGA,IAAI,kBAAkBP,SAASQ,eAA/B,EAAgD;;mBAEtC,IAAhB;;MAEGH,aAAJ,EAAmB;;KAEhB,wEAAF,EAA4EI,QAA5E,CAAqF,MAArF;;SAEMJ,aAAP;EA5IsB;;;;;;;aAAA,wBAmJVK,GAnJU,EAmJL;MACb;QACElJ,KAAL,CAAWkJ,GAAX;GADD,CAEE,OAAOxK,CAAP,EAAU;UACJ,KAAP;;SAEM,IAAP;EAzJsB;;;;;eA8JT,sBAAS+J,KAAT,EAAgB;WACpBA,KAAT,GAAiBA,KAAjB;EA/JsB;;;;;uBAqKD,gCAAW;SACzBrK,EAAE,eAAF,CAAP;EAtKsB;cAwKV,qBAASyH,OAAT,EAAkB;MAC1B,OAAOA,OAAP,KAAmB,WAAvB,EAAoC;aACzBzH,EAAE,0BAAF,CAAV;;UAEO+K,OAAR,CAAgB,MAAhB;EA5KsB;uBAAA,kCA8KAC,aA9KA,EA8Ke;gBACvB3K,EAAd,CAAiB,WAAjB,EAA8B,aAAK;cACvB,YAAM;kBACF0K,OAAd,CAAsB,MAAtB;IADD,EAEG,GAFH;GADD;EA/KsB;6BAAA,wCAqLMtD,OArLN,EAqLewD,kBArLf,EAqLmC;;;MACnDC,YAAY,GAAlB;UACQ7K,EAAR,CAAW,YAAX,EAAyB,aAAK;cAClB,YAAM;QACZ8K,iBAAiB,OAAKC,gBAAL,CAAsB3D,OAAtB,CAArB;QAEC,CAACzH,EAAE,QAAF,EAAY6H,MAAZ,CAAmBsD,cAAnB,EAAmCjG,MAApC,IACA,CAACiG,eAAetJ,IAAf,CAAoB,+CAApB,EAAqEqD,MAFvE,EAGE;oBACc6F,OAAf,CAAuB,MAAvB;;IANF,EAQGG,SARH;GADD;;UAYQ7K,EAAR,CAAW,YAAX,EAAyB,YAAM;cACnB,YAAM;QACZoH,QAAQ4D,EAAR,CAAW,QAAX,CAAJ,EAA0B;aACjBN,OAAR,CAAgB,MAAhB;SACII,iBAAiB,OAAKC,gBAAL,CAAsB3D,OAAtB,CAArB;oBACepH,EAAf,CAAkB,YAAlB,EAAgC,YAAM;iBAC1B,YAAM;WAEf,CAACL,EAAE,QAAF,EAAY6H,MAAZ,CAAmBsD,cAAnB,EAAmCjG,MAApC,IACA,CAACiG,eAAetJ,IAAf,CAAoB,+CAApB,EAAqEqD,MAFvE,EAGE;uBACc6F,OAAf,CAAuB,MAAvB,EADC;;WAGE,CAAC/K,EAAE,QAAF,EAAY6H,MAAZ,CAAmB7H,EAAE,UAAF,CAAnB,EAAkCkF,MAAvC,EAA+C;UAC5C,UAAF,EAAc6F,OAAd,CAAsB,MAAtB,EAD8C;;OAPhD,EAUGG,SAVH;MADD;;IAJF,EAkBGD,kBAlBH;GADD;;MAsBIK,sBAAJ,CAA2B7D,OAA3B;EAzNsB;iBAAA,4BA2NNA,OA3NM,EA2NG;MACrB8D,QAAQ9D,QACV8D,KADU,GAEVnE,QAFU,CAED,6BAFC,EAGVoE,GAHU,CAGN/D,QAAQ+D,GAAR,CAAY,CAAC,WAAD,EAAc,aAAd,EAA6B,aAA7B,CAAZ,CAHM,EAIVX,QAJU,CAID,MAJC,CAAZ;QAMEhJ,IADF,CACO,kBADP,EAEE4J,WAFF,CAEc,iBAFd,EAGErE,QAHF,CAGW,6BAHX;MAIImE,MAAMG,KAAN,KAAgB,CAAhB,GAAoBjE,QAAQiE,KAAR,EAAxB,EAAyC;SAClC3E,MAAN;UACO,IAAP;;QAEKA,MAAN;SACO,KAAP;EA1OsB;;yBA4OC,kCAAgE;MAAvD4E,aAAuD,uEAAvC3L,EAAE,qBAAF,CAAuC;MAAb+B,MAAa,uEAAJ,EAAI;;MACnF6J,gBAAgB;YACV,QADU;uBAEC,GAFD;cAGR,MAHQ;SAIb,IAJa;aAMlB,qIANkB;cAOR,MAPQ;aAQT,UARS;UASZ,EAAEC,MAAM,GAAR,EAAaC,MAAM,GAAnB;GATR;gBAWc7E,IAAd,CAAmB,UAASO,KAAT,EAAgBuE,UAAhB,EAA4B;OAC1CtE,UAAUzH,EAAE+L,UAAF,CAAd;OACIC,gBAAgBhM,EAAEiM,MAAF,CAAS,IAAT,EAAeL,aAAf,EAA8B7J,MAA9B,EAAsC0F,QAAQlH,IAAR,EAAtC,CAApB;OACIkH,QAAQlH,IAAR,CAAa,OAAb,CAAJ,EAA2B;kBACZ2L,QAAd,GACC,yBACAzE,QAAQlH,IAAR,CAAa,OAAb,CADA,GAEA,kHAHD;;OAKGkH,QAAQ9G,QAAR,CAAiB,QAAjB,CAAJ,EAAgC;kBACjBwL,KAAd,GAAsB,EAAEN,MAAM,CAAR,EAAWC,MAAM,CAAjB,EAAtB;;WAEOf,OAAR,CAAgBiB,aAAhB;OACIA,cAAcvG,OAAd,KAA0B,QAA1B,IAAsC,OAAOuG,cAAcvG,OAArB,KAAiC,WAA3E,EAAwF;QACnF2G,4BAAJ,CAAiC3E,OAAjC,EAA0CuE,cAAcf,kBAAxD;;OAEGe,cAAcK,aAAlB,EAAiC;YACxBhM,EAAR,CAAW,kBAAX,EAA+B,UAASC,CAAT,EAAY;mBAC5B+L,aAAd,CAA4B/L,CAA5B;KADD;;WAIO8G,QAAR,CAAiB,mBAAjB;GArBD;SAuBOuE,aAAP;EA/QsB;wBAAA,qCAqRf;iFAAJ,EAAI;0BAHPlE,OAGO;MAHPA,OAGO,gCAHGzH,EAAE,+BAAF,CAGH;yBAFP+B,MAEO;MAFPA,MAEO,+BAFE,EAAE0D,SAAS,aAAX,EAEF;4BADP1F,SACO;MADPA,SACO,kCADKC,EAAEF,MAAF,CACL;;MACDsB,OAAO,IAAb;WACS;kBACO,yBAAM;SACfkL,kBAAL,CAAwB7E,OAAxB,EAAiC1H,SAAjC;IAFO;YAIC,QAJD;cAKG,OALH;aAOP;GAPF;MASIwM,cAAc9E,QAAQ5F,IAAR,CAAa,kBAAb,EAAiCqD,MAAjC,GAA0CuC,QAAQ5F,IAAR,CAAa,kBAAb,CAA1C,GAA6E4F,OAA/F;MACI,CAACjF,IAAIgK,gBAAJ,CAAqBD,WAArB,CAAL,EAAwC;WAC/BnF,QAAR,CAAiB,mBAAjB;;;MAGGN,sBAAJ,CAA2BW,OAA3B,EAAoC1F,MAApC;EArSsB;4BAAA,yCA0SrB;MAFD4J,aAEC,uEAFe3L,EAAE,oCAAF,CAEf;MADD+B,MACC,uEADQ,EAAE0D,SAAS,aAAX,EACR;;gBACawB,IAAd,CAAmB,UAASO,KAAT,EAAgBuE,UAAhB,EAA4B;OAC1CtE,UAAUzH,EAAE+L,UAAF,CAAd;OACIQ,cAAc9E,QAAQ5F,IAAR,CAAa,kBAAb,EAAiCqD,MAAjC,GAA0CuC,QAAQ5F,IAAR,CAAa,kBAAb,CAA1C,GAA6E4F,OAA/F;OACI,CAACjF,IAAIgK,gBAAJ,CAAqBD,WAArB,CAAL,EAAwC;;;OAGpCE,cAAchF,QAAQ5F,IAAR,CAAa,kBAAb,CAAlB;OACI4K,YAAYvH,MAAhB,EAAwB;YACfrD,IAAR,CAAa,kBAAb,EAAiC4J,WAAjC,CAA6C,QAA7C;WACOiB,QAAP,GAAkB,kBAAlB;;OAEG5F,sBAAJ,CAA2BW,OAA3B,EAAoC1F,MAApC;GAXD;EA3SsB;;;;;;;wBA8TA,iCAIrB;MAHD4J,aAGC,uEAHe3L,EAAE,8BAAF,CAGf;MAFD2M,YAEC,uEAFc,EAEd;MADD5M,SACC,uEADWC,EAAEoK,QAAF,CACX;;MACKhJ,OAAO,IAAb;MACIW,SAAS;aAEX,0HAFW;YAGH,4BAHG;uBAIQS,IAAIoH,aAAJ,CAAkB,oBAAlB,CAJR;cAKD,OALC;kBAMG,yBAAM;QAChB,CAAC+B,cAAcjE,IAAd,CAAmB,MAAnB,CAAL,EAAiC;YACzB,KAAP;;QAEGkF,OAAO,IAAIC,GAAJ,CAAQlB,cAAcmB,EAAd,CAAiB,CAAjB,EAAoBpF,IAApB,CAAyB,MAAzB,CAAR,EAA0C5H,OAAOsI,QAAP,CAAgB2E,MAA1D,CAAX;QACI,CAACH,KAAKI,YAAL,CAAkBC,GAAlB,CAAsB,QAAtB,CAAD,IAAoC,CAACL,KAAKI,YAAL,CAAkBC,GAAlB,CAAsB,MAAtB,CAAzC,EAAwE;YAChE,KAAP;;QAEG3K,MAAMsK,KAAKM,IAAf;UACM5K,IAAI6K,OAAJ,CAAY,OAAZ,EAAqB,QAArB,IAAiC,qBAAvC;QACIhC,iBAAiB/J,KAAKgK,gBAAL,CAAsBO,aAAtB,CAArB;QACIyB,cAAcjC,eAAetJ,IAAf,CAAoB,eAApB,CAAlB;gBACYiB,iBAAZ,CAA8B,EAA9B;QACIuK,oBAAoB,SAApBA,iBAAoB,OAAQ;iBACnBvK,iBAAZ,CAA8B,EAAEsC,MAAM,MAAR,EAA9B,EAAgDtB,IAAhD,CAAqDvD,IAArD;SACI,OAAOoM,aAAaW,QAApB,KAAiC,UAArC,EAAiD;mBACnCA,QAAb,CAAsBF,WAAtB;;UAEId,kBAAL,CAAwBX,aAAxB,EAAuC5L,SAAvC;KALD;QAOIwN,YAAYzN,OAAO0N,YAAP,CAAoBlL,GAApB,CAAhB;QACI,OAAOiL,SAAP,KAAqB,WAAzB,EAAsC;uBACnBA,SAAlB;KADD,MAEO;kBACO1J,OAAb,CAAqBvB,GAArB,EAA0BY,IAA1B,CAA+B,gBAAQ;aAC/BsK,YAAP,CAAoBlL,GAApB,IAA2B/B,IAA3B;wBACkBA,IAAlB;MAFD;;;GA9BH;MAqCIuG,sBAAJ,CAA2B6E,aAA3B,EAA0C5J,MAA1C;EAzWsB;;;;;;mBAAA,8BAgXJ0L,cAhXI,EAgXmC;MAAvB1N,SAAuB,uEAAXC,EAAEF,MAAF,CAAW;;MACrDiL,UAAU,KAAKK,gBAAL,CAAsBqC,cAAtB,CAAd;MACI,CAAC1C,QAAQ7F,MAAb,EAAqB;;;MAGfwI,eAAe,KAAKC,0BAAL,CAAgCF,cAAhC,CAArB;MACIG,eAAe5N,EAAEF,MAAF,EAAU+N,MAAV,EAAnB;MACCC,cAAc9N,EAAEF,MAAF,EAAU4L,KAAV,EADf;MAECqC,iBAAiB,EAFlB;MAGCX,cAAcrC,QAAQlJ,IAAR,CAAa,eAAb,CAHf;MAICmM,gBAAgBZ,YAAYS,MAAZ,EAJjB;MAKCI,eAAeb,YAAY1B,KAAZ,EALhB;MAMCwC,YAAY1L,IAAI2L,aAAJ,CAAkB3F,CAAlB,GAAsBkF,aAAalD,GANhD;MAOC4D,aAAa5L,IAAI2L,aAAJ,CAAkBjF,CAAlB,GAAsBwE,aAAaW,IAPjD;MAQIL,gBAAgBE,SAAhB,GAA4BH,cAA5B,GAA6CH,YAAjD,EAA+D;eAClDM,YAAYF,aAAZ,GAA4BD,cAAxC;;MAEGE,eAAeG,UAAf,GAA4BL,cAA5B,GAA6CD,WAAjD,EAA8D;gBAChDA,cAAcG,YAA3B;;UAEOzC,GAAR,CAAY;+BACe4C,UAA1B,YAA2CF,SAA3C;GADD;UAGQzC,WAAR,CAAoB,+BAApB;iBACe/B,GAAf,CAAmB,iBAAnB,EAAsC,YAAM;WACnCtC,QAAR,CAAiB,+BAAjB;GADD;EAxYsB;;;;;;;;;2BAAA,sCAmZIqG,cAnZJ,EAmZoB;MACtCa,kBAAkB,CAAtB;MACIC,mBAAmB,CAAvB;MACI,CAACvO,EAAEoK,QAAF,EAAYvI,IAAZ,CAAiB4L,cAAjB,EAAiCvI,MAAtC,EAA8C;OACzCsJ,SAASxO,EAAEoK,QAAF,EAAYvI,IAAZ,CAAiB,QAAjB,CAAb;OACM6L,eAAec,OAAOC,MAAP,EAArB;sBACmBf,aAAalD,GAAhC;uBACoBkD,aAAaW,IAAjC;OACI,CAACG,OAAOE,QAAP,GAAkB7M,IAAlB,CAAuB4L,cAAvB,EAAuCvI,MAA5C,EAAoD;QAC/CyJ,UAAUH,OAAOE,QAAP,GAAkB7M,IAAlB,CAAuB,QAAvB,CAAd;QACM+M,gBAAgBD,QAAQF,MAAR,EAAtB;uBACmBG,cAAcpE,GAAjC;wBACoBoE,cAAcP,IAAlC;;;SAGK,EAAE7D,KAAK8D,eAAP,EAAwBD,MAAME,gBAA9B,EAAP;EAlasB;;;;;;;iBAAA,4BAyaN9G,OAzaM,EAyaG;SAClBzH,QAAMyH,QAAQC,IAAR,CAAa,kBAAb,CAAN,CAAP;EA1asB;;;;;;;oCAibY,2CAASiE,aAAT,EAAwB5J,MAAxB,EAAgC;MAC9D,OAAO4J,aAAP,KAAyB,WAA7B,EAA0C;;;MAGtC/K,WAAW+K,cAAcpL,IAAd,CAAmB,SAAnB,CAAf;MACIsO,QAAQ9M,OAAO+M,sBAAnB;gBACczO,EAAd,CAAiB,QAAjB,EAA2B,UAASC,CAAT,EAAY;OAClCC,OAAOK,SAASL,IAAT,EAAX;OACIP,EAAE+O,OAAF,CAAUxO,IAAV,KAAmBA,KAAK2E,MAAL,IAAe2J,KAAtC,EAA6C;aACnCG,aAAT;;GAHF;EAvbsB;;;;;;;oBAocJ,2BAASC,aAAT,EAAwBC,YAAxB,EAAsC;MACpD,OAAOA,YAAP,KAAwB,WAA5B,EAAyC;kBACzB,QAAf;;;kBAGelP,EAAEiP,aAAF,CAAhB;;MAEIE,gBAAgBF,cAAcG,QAAd,GAAyBC,SAAzB,EAApB;MACIH,gBAAgB,QAApB,EAA8B;UACtBC,aAAP;;MAEGG,cAAc,EAAlB;MACIC,YAAYJ,cAAcK,KAAd,CAAoB,GAApB,CAAhB;;OAEK,IAAIhI,KAAT,IAAkB+H,SAAlB,EAA6B;OACxBE,iBAAiBF,UAAU/H,KAAV,CAArB;OACIkI,cAAcD,eAAeD,KAAf,CAAqB,GAArB,CAAlB;OACIG,gBAAgBD,YAAY,CAAZ,CAApB;OACIE,iBAAiBF,YAAY,CAAZ,CAArB;eACYC,aAAZ,IAA6BE,mBAAmBD,cAAnB,CAA7B;;SAEMN,WAAP;EAzdsB;;;;;;;aAAA,wBAieVQ,KAjeU,EAieHC,aAjeG,EAieYC,cAjeZ,EAie4B;QAC5C3P,EAAN,CAAS,eAAT,EAA0B,UAASC,CAAT,EAAY;SAC/BmL,WAAN,eAA8BuE,cAA9B;SACM5I,QAAN,eAA2B2I,aAA3B;GAFD;QAIM1P,EAAN,CAAS,eAAT,EAA0B,UAASC,CAAT,EAAY;SAC/BmL,WAAN,eAA8BsE,aAA9B;SACM3I,QAAN,eAA2B4I,cAA3B;GAFD;EAtesB;cAAA,yBA2eTzP,IA3eS,EA2eHR,SA3eG,EA2eQkQ,YA3eR,EA2esBC,EA3etB,EA2e0B5N,GA3e1B,EA2e+B6N,YA3e/B,EA2e6C;MAC7DC,eAAe,IAArB;MACIrO,SAAS;SACN;GADP;MAGI,CAACS,IAAIoH,aAAJ,CAAkB,wBAAlB,CAAL,EAAkD;UAC1CyG,QAAP,GAAkB,QAAlB;UACOC,QAAP,GAAkB,KAAlB;;MAEG,QAAOL,YAAP,yCAAOA,YAAP,OAAwB,QAA5B,EAAsC;aAC3BzE,GAAV,CAAcyE,YAAd;YACSjQ,EAAEiM,MAAF,CAASlK,MAAT,EAAiBkO,YAAjB,CAAT;;YAESnM,IAAV,CAAevD,IAAf;MACIR,UAAU8B,IAAV,CAAe,QAAf,EAAyBlB,QAAzB,CAAkC,QAAlC,CAAJ,EAAiD;UACzC0P,QAAP,GAAkB,QAAlB;;;IAGCE,EAAF,CAAKT,KAAL,CAAWU,WAAX,CAAuBlH,SAAvB,CAAiCmH,YAAjC,GAAgD,UAASnQ,CAAT,EAAY;KACzD8J,QAAF,EACET,GADF,CACM,kBADN;IAEEtJ,EAFF,CAGE,kBAHF,EAIEL,EAAE0Q,KAAF,CAAQ,UAASpQ,CAAT,EAAY;QACfN,EAAEM,EAAEI,MAAJ,EAAYC,QAAZ,CAAqB,uBAArB,CAAJ,EAAmD;YAC3C,IAAP;;IAFF,EAIG,IAJH,CAJF;GADD;MAYMqF,iBAAiBjG,UAAU8B,IAAV,CAAe,cAAf,CAAvB;iBACe6H,GAAf,CAAmB,gBAAnB,EAAqC,YAAW;MAC5C1D,cAAH;OACI2K,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2C7K,eAAenE,IAAf,CAAoB,gBAApB,CAA3C;OACI8O,MAAJ,CAAWG,IAAX,CAAgBC,QAAhB,CAAyB/K,cAAzB;OACInG,IAAI8Q,MAAJ,CAAWK,IAAX,CAAgBC,MAApB,CAA2BjL,eAAenE,IAAf,CAAoB,YAApB,CAA3B,EAA8D;YACrD,KADqD;aAEpD;IAFV;OAIIqP,oBAAJ,CAAyBlL,cAAzB;GARD;IAUE,MAAF,EAAUgB,MAAV,CAAiBjH,SAAjB;iBACe+P,KAAf,CAAqB/N,MAArB;eACaoP,mBAAb,CAAiCnL,cAAjC,EAAiDmK,YAAjD;eACaiB,kBAAb,CAAgCpL,eAAenE,IAAf,CAAoB,YAApB,CAAhC;EAvhBsB;;kBAyhBN,yBAAStB,IAAT,EAAe+B,GAAf,EAAoB4N,EAApB,EAA2C;MAAnBD,YAAmB,uEAAJ,EAAI;;MACvD,CAACzN,IAAI6O,qBAAJ,CAA0B,qBAA1B,EAAiDjI,SAAjD,CAAL,EAAkE;UAC1D,KAAP;;MAEKgH,eAAe,IAArB;MACID,qBAAJ;SACOmB,WAAP,GACC,WACAC,KAAKC,MAAL,GACEC,QADF,CACW,EADX,EAEEC,MAFF,CAES,CAFT,EAEY,CAFZ,CAFD;;MAMI,QAAOnR,IAAP,yCAAOA,IAAP,OAAgB,QAAhB,IAA4BA,QAAQ,IAApC,IAA4C,EAAEA,gBAAgBP,CAAlB,CAAhD,EAAsE;OACjEO,KAAK8F,EAAL,IAAW5F,SAAf,EAA0B;WAClB6Q,WAAP,GAAqB/Q,KAAK8F,EAA1B;;kBAEc9F,KAAKiL,GAApB;QACKjL,KAAK2P,EAAV;SACM3P,KAAK+B,GAAX;OACI/B,KAAK4P,YAAL,KAAsB,WAA1B,EAAuC;mBACvB5P,KAAK4P,YAApB;;UAEM5P,KAAKA,IAAZ;;MAEG,OAAO+B,GAAP,KAAe,UAAnB,EAA+B;OAC1B,QAAO4N,EAAP,yCAAOA,EAAP,OAAc,QAAlB,EAA4B;mBACZA,EAAf;;QAEI5N,GAAL;SACM,KAAN;GALD,MAMO,IAAI,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;QAC9B,cAAW,EAAhB;kBACeA,GAAf;SACM,KAAN;;MAEG,OAAO4N,EAAP,KAAc,UAAlB,EAA8B;QACxB,cAAW,EAAhB;;MAEG,OAAOC,YAAP,KAAwB,UAA5B,EAAwC;kBACxB,wBAAW,EAA1B;;MAEGF,iBAAiBxP,SAAjB,IAA8BwP,aAAa0B,OAAb,KAAyBlR,SAA3D,EAAsE;UAC9D6Q,WAAP,GAAqBrB,aAAa0B,OAAlC;;;MAGG5R,YAAYC,EAAE,MAAM4R,OAAON,WAAf,CAAhB;MACIvR,UAAUmF,MAAd,EAAsB;aACX6B,MAAV;;cAEW/G,EAAE,aAAF,CAAZ;YACU0H,IAAV,CAAe,IAAf,EAAqBkK,OAAON,WAA5B,EAAyClK,QAAzC,CAAkD,mCAAlD;YACUsC,GAAV,CAAc,iBAAd,EAAiC,YAAW;aACjC3C,MAAV;OACIsJ,WAAWrQ,EAAE,iBAAF,CAAf;OACI,CAACA,EAAE,aAAF,EAAiBkF,MAAtB,EAA8B;aACpB6B,MAAT;;OAEGsJ,SAASnL,MAAT,GAAkB,CAAtB,EAAyB;MACtB,MAAF,EAAUkC,QAAV,CAAmB,YAAnB;;GAPF;MAUI7G,IAAJ,EAAU;gBACIsR,aAAb,CAA2BtR,IAA3B,EAAiCR,SAAjC,EAA4CkQ,YAA5C,EAA0DC,EAA1D,EAA8D5N,GAA9D,EAAmE6N,YAAnE;GADD,MAEO;KACJlD,GAAF,CAAM3K,GAAN,EAAWY,IAAX,CAAgB,UAAS4O,QAAT,EAAmB;iBACrBD,aAAb,CAA2BC,QAA3B,EAAqC/R,SAArC,EAAgDkQ,YAAhD,EAA8DC,EAA9D,EAAkE5N,GAAlE,EAAuE6N,YAAvE;IADD;;SAIMpQ,SAAP;EA7lBsB;;;;;;;;;sBAAA,iCAumBDgS,cAvmBC,EAumBeC,IAvmBf,EAumBqB;MACvCX,wBAAwB,IAA5B;MACIrP,OAAOC,WAAP,KAAuB,cAA3B,EAA2C;QACrCsI,UAAL,GAAkB,IAAlB;oBACiBwH,eAAevC,KAAf,CAAqB,GAArB,CAAjB;kBACeyC,OAAf,CAAuB,QAAvB;oBACiBF,eAAeG,MAAf,CAAsB,UAACC,CAAD,EAAIC,CAAJ;WAAUD,EAAEC,CAAF,CAAV;IAAtB,EAAsCtS,MAAtC,CAAjB;kBACe2J,KAAf,CAAqB3J,OAAOoC,MAAP,CAAcM,GAAnC,EAAwCwP,IAAxC;2BACwB,KAAxB;;SAEMX,qBAAP;EAjnBsB;;;;;;kBAunBN,yBAAS/D,QAAT,EAAmBjH,EAAnB,EAAuB;MACnC,CAAC7D,IAAI6O,qBAAJ,CAA0B,qBAA1B,EAAiDjI,SAAjD,CAAL,EAAkE;UAC1D,KAAP;;MAEGrJ,kBAAJ;MACIuN,YAAY,QAAOA,QAAP,yCAAOA,QAAP,OAAoB,QAApC,EAA8C;eACjCA,QAAZ;GADD,MAEO,IAAIjH,MAAM5F,SAAV,EAAqB;eACfT,EAAE,iBAAF,CAAZ;GADM,MAEA;eACMA,EAAE,MAAMqG,EAAR,CAAZ;;MAEGtG,UAAUmF,MAAV,IAAoB,CAAxB,EAA2B;;;MAGvB,OAAOoI,QAAP,KAAoB,UAAxB,EAAoC;cACxB,oBAAW,EAAtB;;MAEGtH,iBAAiBjG,UAAU8B,IAAV,CAAe,QAAf,CAArB;iBACeiO,KAAf,CAAqB,MAArB;MACIO,WAAWrQ,EAAE,sBAAF,CAAf;MACIA,EAAE,iBAAF,EAAqBkF,MAArB,IAA+B,CAA/B,IAAoCmL,SAASnL,MAAjD,EAAyD;YAC/C6B,MAAT;;iBAEc2C,GAAf,CAAmB,iBAAnB,EAAsC4D,QAAtC;EA/oBsB;0BAipBE,iCAASqE,OAAT,EAAkB3L,cAAlB,EAAkCkK,EAAlC,EAAsC;MAC1DmC,eAAe,KAAK9H,UAAL,GAAkBzK,OAAOoC,MAAzB,GAAkCpC,MAArD;MACI6R,YAAYlR,SAAhB,EAA2B;aAChBmR,OAAON,WAAjB;;MAEGtL,mBAAmBvF,SAAvB,EAAkC;oBAChBT,EAAE,MAAM2R,OAAN,GAAgB,iBAAlB,CAAjB;;MAEGW,aAAatM,eAAezF,IAAf,CAAoB,QAApB,IAAgC,GAAhC,GAAsCyF,eAAezF,IAAf,CAAoB,MAApB,CAAtC,GAAoE,KAArF;MACI,OAAO8R,aAAaC,UAAb,CAAP,KAAoC,WAAxC,EAAqD;OAChD1R,WAAW,IAAIyR,aAAaC,UAAb,CAAJ,EAAf;OACI,OAAOpC,EAAP,KAAc,UAAlB,EAA8B;OAC1BlK,cAAH,EAAmBpF,QAAnB;;YAEQ0D,cAAT,CAAwB0B,cAAxB;OACI2L,WAAWnP,IAAI+P,WAAJ,CAAgBZ,OAAhB,CAAf,EAAyC;QACpCY,WAAJ,CAAgBZ,OAAhB,EAAyB3L,cAAzB,EAAyCpF,QAAzC;;;eAGW,UAAUoF,eAAezF,IAAf,CAAoB,MAApB,CAAV,GAAwC,KAArD;MACI,OAAO8R,aAAaC,UAAb,CAAP,KAAoC,WAAxC,EAAqD;OAChD1R,YAAW,IAAIyR,aAAaC,UAAb,CAAJ,EAAf;OACI,OAAOpC,EAAP,KAAc,UAAlB,EAA8B;OAC1BlK,cAAH,EAAmBpF,SAAnB;;aAEQ0D,cAAT,CAAwB0B,cAAxB;OACI2L,WAAWnP,IAAI+P,WAAJ,CAAgBZ,OAAhB,CAAf,EAAyC;QACpCY,WAAJ,CAAgBZ,OAAhB,EAAyB3L,cAAzB,EAAyCpF,SAAzC;;;EA5qBoB;sBAgrBF,6BAASb,SAAT,EAAoBoQ,YAApB,EAAkC;MAClDvL,OAAO7E,UAAU8B,IAAV,CAAe,MAAf,CAAX;MACI2Q,iBAAiB,KAArB;MACI5N,KAAKjE,QAAL,CAAc,cAAd,CAAJ,EAAmC;QAC7B4D,gBAAL,CAAsB/B,IAAIgC,uBAA1B;oBACiB,IAAjB;;MAEGI,KAAKjE,QAAL,CAAc,YAAd,CAAJ,EAAiC;QAC3BN,EAAL,CAAQ,QAAR,EAAkB,UAASC,CAAT,EAAY;QACzBwF,OAAO,IAAX;MACET,cAAF;QACImN,kBAAkB5N,KAAKrE,IAAL,CAAU,KAAV,EAAiB0E,aAAjB,CAA+BC,MAA/B,GAAwC,CAA9D,EAAiE;SAC5DuN,4BAAJ,CAAiC7N,IAAjC;YACO,KAAP;;QAEGkB,IAAJ,EAAU;SACL4M,2BAA2B1S,EAAE8C,iBAAF,CAAoB;iBACvC,EAAEE,SAAS,IAAX;MADmB,CAA/B;SAGI2P,WAAW/N,KAAKmD,iBAAL,EAAf;kBACalE,OAAb,CAAqB8O,QAArB,EACEzP,IADF,CACO,UAAS0P,YAAT,EAAuB;mBACfD,QAAb,EAAuBC,YAAvB;UACIA,aAAanM,OAAb,IAAwBmM,aAAaC,MAAzC,EAAiD;WAC5CD,aAAaC,MAAb,CAAoBC,MAAxB,EAAgC;yBACdC,WAAjB,CAA6BH,aAAaC,MAAb,CAAoBC,MAAjD;;WAEGF,aAAaC,MAAb,CAAoBG,UAAxB,EAAoC;iCACVlQ,iBAAzB,CAA2C,EAAEsC,MAAM,MAAR,EAA3C;eACO,KAAP;;;UAGEgB,eAAJ;+BACyBtD,iBAAzB,CAA2C,EAAEsC,MAAM,MAAR,EAA3C;MAbF,EAeE8E,IAfF,CAeO,YAAW;+BACSpH,iBAAzB,CAA2C,EAAEsC,MAAM,MAAR,EAA3C;MAhBF;;IAZF;;EAxrBqB;WA0tBb,kBAASqC,OAAT,EAAkB;MACvBA,QAAQ+D,GAAR,CAAY,SAAZ,KAA0B,MAA9B,EAAsC;UAC9B,IAAP;;SAEM,KAAP;EA9tBsB;cAguBV,qBAAS/D,OAAT,EAAkB;MAC1BA,QAAQ+D,GAAR,CAAY,YAAZ,KAA6B,QAAjC,EAA2C;UACnC,IAAP;;SAEM,KAAP;EApuBsB;;;;0BAyuBE;;;UAGhB,KAHgB;kBAIR,SAJQ;;gBAMV,IANU;aAOb;EAhvBW;mCAkvBW;UACzB,KADyB;kBAEjB,SAFiB;;gBAInB,IAJmB;aAKtB,OALsB;4BAMP,IANO;sBAOb,4BAASyH,KAAT,EAAgB;OAC/BC,QAAQD,MAAMhN,OAAN,CAAc,kBAAd,CAAZ;OACIiN,MAAMrR,IAAN,CAAW,eAAX,EAA4BwJ,EAA5B,CAA+B,SAA/B,CAAJ,EAA+C;UACxCxJ,IAAN,CAAW,cAAX,EAA2BsR,KAA3B;;;EA5vBoB;;;;gBAmwBR;cACF;EApwBU;;;;;+BA0wBO,sCAASvO,IAAT,EAAe;;MAExCwO,YAAYxO,KAAK/C,IAAL,CAAU,qCAAV,CAAhB;MACIuR,UAAUlO,MAAV,GAAmB,CAAvB,EAA0B;OACrBmO,cAAcD,UAAU3E,MAAV,GAAmBjE,GAArC;OACI8I,oBAAoBD,cAAc,GAAtC;KACE,MAAF,EAAUE,OAAV,CACC;eACYD;IAFb,EAIC,MAJD;;EAhxBqB;4BAwxBI,mCAASE,UAAT,EAAqB;UACvCA,UAAR;QACM,YAAL;WACQ,OAAP;;QAEI,YAAL;WACQ,OAAP;;QAEI,YAAL;WACQ,OAAP;;QAEI,YAAL;WACQ,OAAP;;QAEI,YAAL;WACQ,OAAP;;QAEI,YAAL;WACQ,OAAP;;QAEI,YAAL;WACQ,OAAP;;QAEI,YAAL;WACQ,OAAP;;QAEI,YAAL;WACQ,OAAP;;;EAnzBoB;kCAuzBU,yCAASA,UAAT,EAAqB;MACjDpB,UAAJ;MACCqB,UAAU,GADX;MAEID,WAAWE,OAAX,CAAmB,GAAnB,MAA4B,CAAC,CAAjC,EAAoC;aACzB,GAAV;;MAEGF,WAAWE,OAAX,CAAmB,GAAnB,MAA4B,CAAC,CAAjC,EAAoC;aACzB,GAAV;;MAEGF,WAAWE,OAAX,CAAmB,GAAnB,MAA4B,CAAC,CAAjC,EAAoC;aACzB,GAAV;;MAEGC,kBAAkBH,WAAWhE,KAAX,CAAiBiE,OAAjB,CAAtB;OACKrB,CAAL,IAAUuB,eAAV,EAA2B;OACtBC,cAAcD,gBAAgBvB,CAAhB,CAAlB;OACIwB,YAAY1O,MAAZ,KAAuB,CAA3B,EAA8B;oBACbkN,CAAhB,IAAqBwB,YAAYC,SAAZ,CAAsB,CAAtB,EAAyB,CAAzB,CAArB;;;SAGKF,gBAAgBG,IAAhB,CAAqBL,OAArB,CAAP;EA10BsB;;;;0BA+0BE,iCAASD,UAAT,EAAqBO,UAArB,EAAiC;MACrD3B,IAAI,CAAR;MACIqB,UAAU,GAAd;MACID,WAAWE,OAAX,CAAmB,GAAnB,MAA4B,CAAC,CAAjC,EAAoC;aACzB,GAAV;GADD,MAEO,IAAIF,WAAWE,OAAX,CAAmB,GAAnB,MAA4B,CAAC,CAAjC,EAAoC;aAChC,GAAV;GADM,MAEA,IAAIF,WAAWE,OAAX,CAAmB,GAAnB,MAA4B,CAAC,CAAjC,EAAoC;aAChC,GAAV;;MAEGM,kBAAkBR,WAAWhE,KAAX,CAAiBiE,OAAjB,CAAtB;MACIQ,MAAM,EAAV;MACCC,QAAQ,EADT;MAECC,OAAO,EAFR;MAGIC,YAAYL,WAAWvE,KAAX,CAAiBiE,OAAjB,CAAhB;OACKrB,CAAL,IAAU4B,eAAV,EAA2B;OACtBJ,cAAcI,gBAAgB5B,CAAhB,CAAlB;WACQwB,WAAR;SACM,IAAL;WACOQ,UAAUhC,CAAV,CAAN;;;SAGI,IAAL;aACSgC,UAAUhC,CAAV,CAAR;;;SAGI,MAAL;YACQgC,UAAUhC,CAAV,CAAP;;;;SAII+B,OAAO,GAAP,GAAaD,KAAb,GAAqB,GAArB,GAA2BD,GAAlC;EA92BsB;6BAg3BK,oCAAShF,aAAT,EAAwB;MAC/C,OAAOA,aAAP,KAAyB,WAA7B,EAA0C;mBACzBjP,EAAE,MAAF,CAAhB;;;kBAGeA,EAAEiP,aAAF,CAAhB;MACIxH,gBAAJ;MACIwH,cAActO,QAAd,CAAuB,WAAvB,CAAJ,EAAyC;aAC9BsO,aAAV;GADD,MAEO;aACIjP,EAAE,YAAF,EAAgBiP,aAAhB,CAAV;;UAEOoF,UAAR,CAAmB,EAAEC,WAAW,IAAb,EAAnB,EAAwCjU,EAAxC,CAA2C,YAA3C,EAAyD,UAASkU,EAAT,EAAa;OACjEC,iBAAiBxU,EAAEuU,GAAGvP,aAAL,CAArB;OACCwO,aAAagB,eAAejU,IAAf,CAAoB,YAApB,EAAkCkU,WAAlC,EADd;OAECC,OAAO1U,EAAEqU,UAAF,CAAaM,UAAb,CAAwBC,OAAOL,GAAGG,IAAV,EAAgBG,MAAhB,CAAuBrB,UAAvB,CAAxB,EAA4De,GAAGG,IAA/D,CAFR;kBAGejT,GAAf,CAAmBiT,IAAnB;GAJD;MAMI/D,MAAJ,CAAWmE,KAAX,CAAiBC,kBAAjB,CAAoCtN,OAApC;EAl4BsB;8BAo4BM,uCAAyC;MAAhCuN,UAAgC,uEAAnBhV,EAAE,cAAF,CAAmB;;MACjE,CAACgV,WAAWrU,QAAX,CAAoB,aAApB,CAAL,EAAyC;gBAC3BqU,WAAWnT,IAAX,CAAgB,cAAhB,CAAb;;MAEG,CAACmT,WAAW9P,MAAhB,EAAwB;;;MAGpBnD,SAAS;cACD,QADC;cAED,IAFC;eAGA;GAHb;;IAME,gBAAF,EAAoB1B,EAApB,CAAuB,OAAvB,EAAgC,aAAK;KAClC4U,eAAF;OACIC,cAAclV,EAAEM,EAAE0E,aAAJ,EAChBiB,OADgB,CACR,OADQ,EAEhBpE,IAFgB,CAEX,mBAFW,CAAlB;OAGIqT,YAAYxN,IAAZ,CAAiB,UAAjB,MAAiC,UAAjC,IAA+CwN,YAAYxN,IAAZ,CAAiB,UAAjB,MAAiC,UAApF,EAAgG;gBACnFyN,WAAZ,CAAwB,MAAxB;;GANF;;MAUIC,mBAAmB,SAAnBA,gBAAmB,YAAa;OAC/BrT,OAAOsT,UAAX,EAAuB;QAClBC,eAAe,EAAnB;WACOC,SAAP,GAAmB,YAAM;;SAEpBC,aAAaC,UAAUhU,GAAV,EAAjB;SACCiU,sBAAsBF,WAAWjM,KAAX,CAAiB,CAAjB,EAAoBiM,WAAWtQ,MAAX,GAAoB,CAAxC,IAA6C,GAA7C,GAAmDoQ,YAD1E;eAEU7T,GAAV,CAAciU,mBAAd;SACIlV,KAAJ,CAAUiF,OAAV,CAAkB,qBAAlB,EAAyCgQ,SAAzC;KALD;WAOOE,UAAP,GAAoB,YAAM;oBACV3V,EAAE,oCAAF,EACb6B,IADa,CACR,uBADQ,EAEb+T,IAFa,EAAf;KADD;IATD,MAcO;WACCL,SAAP,GAAmB,YAAM;SACpB/U,KAAJ,CAAUiF,OAAV,CAAkB,qBAAlB,EAAyCgQ,SAAzC;KADD;;GAhBF;;aAsBWxO,IAAX,CAAgB,UAACmL,CAAD,EAAI9R,CAAJ,EAAU;OACrBmV,YAAYzV,EAAEM,CAAF,CAAhB;OACIuV,aAAab,WAAWzU,IAAX,CAAgB,QAAhB,KAA6ByB,OAAO8T,UAArD;UACOT,UAAP,GAAoBU,SAASF,UAAT,MAAyB,EAAzB,GAA8B,IAA9B,GAAqC,KAAzD;oBACiBJ,SAAjB;aACUN,WAAV,CAAsBpT,MAAtB;GALD;MAOI4O,MAAJ,CAAWmE,KAAX,CAAiBC,kBAAjB,CAAoCC,UAApC;EAx7BsB;qBA07BH,4BAASgB,KAAT,EAA8B;MAAdrN,OAAc,uEAAJ,EAAI;;MAC7C3I,EAAEuQ,EAAF,CAAK0F,SAAL,IAAkBxV,SAAtB,EAAiC;UACzB,KAAP;;MAEGuV,MAAM9Q,MAAN,IAAgB,CAApB,EAAuB;UACf,KAAP;;IAEC+G,MAAF,CAASjM,EAAEuQ,EAAF,CAAK0F,SAAL,CAAehN,QAAxB,EAAkC;aACvB;iBACIzG,IAAIuD,UAAJ,CAAe,kBAAf,CADJ;kBAEKvD,IAAIuD,UAAJ,CAAe,qBAAf,CAFL;WAGFvD,IAAIuD,UAAJ,CAAe,WAAf,CAHE;gBAIGvD,IAAIuD,UAAJ,CAAe,iBAAf,CAJH;aAKAvD,IAAIuD,UAAJ,CAAe,WAAf,CALA;iBAMIvD,IAAIuD,UAAJ,CAAe,qBAAf,CANJ;mBAOMvD,IAAIuD,UAAJ,CAAe,oBAAf,CAPN;qBAQQvD,IAAIuD,UAAJ,CAAe,uBAAf,CARR;iBASIvD,IAAIuD,UAAJ,CAAe,uBAAf,CATJ;eAUE;aACFvD,IAAIuD,UAAJ,CAAe,YAAf,CADE;gBAECvD,IAAIuD,UAAJ,CAAe,eAAf,CAFD;YAGHvD,IAAIuD,UAAJ,CAAe,WAAf,CAHG;YAIHvD,IAAIuD,UAAJ,CAAe,WAAf;KAdC;WAgBF;qBACUvD,IAAIuD,UAAJ,CAAe,qBAAf,CADV;sBAEWvD,IAAIuD,UAAJ,CAAe,sBAAf;;;GAnBpB;SAuBOiQ,MAAME,SAAN,CAAgBvN,OAAhB,CAAP;EAx9BsB;;;;;;8BA+9BM,qCAASgD,aAAT,EAAwB;MAChDwK,WAAWxK,cAAcjE,IAAd,CAAmB,IAAnB,CAAf;;MAEI0O,eAAe,aAAaD,QAAb,GAAwB,YAA3C;SACOnW,EAAE,MAAMoW,YAAR,EAAsBnQ,OAAtB,CAA8B,oBAA9B,CAAP;EAn+BsB;;;;;kBAy+BN,yBAASoQ,QAAT,EAAmB;IACjCA,QAAF,EAAYpP,IAAZ,CAAiB,UAASO,KAAT,EAAgBC,OAAhB,EAAyB;OACrC6O,cAActW,EAAEyH,OAAF,EAChBvF,MADgB,GAEhBwJ,KAFgB,EAAlB;KAGEjE,OAAF,EAAWiE,KAAX,CAAiB4K,WAAjB;GAJD;EA1+BsB;mBAi/BL,0BAAS7O,OAAT,EAAwD;MAAtCkB,OAAsC,uEAA5B,EAAE4N,kBAAkB,IAApB,EAA4B;;MACrE,OAAO9O,OAAP,KAAmB,WAAnB,IAAkC,CAACA,QAAQvC,MAA/C,EAAuD;SAChD,IAAIsR,gBAAJ,CAAqB/O,QAAQ,CAAR,CAArB,EAAiCsB,OAAOC,MAAP,CAAc,KAAKyN,aAAnB,EAAkC9N,OAAlC,CAAjC,CAAP;EAn/BsB;iCAq/BS,wCAASlB,OAAT,EAAgC;MAAdkB,OAAc,uEAAJ,EAAI;;MAC3D,OAAOlB,OAAP,KAAmB,WAAnB,IAAkC,CAACA,QAAQvC,MAA/C,EAAuD;YAC7C6D,OAAOC,MAAP,CAAc,KAAKyN,aAAnB,EAAkC9N,OAAlC,CAAV;MACI+N,uBAAuB,IAAIF,gBAAJ,CAAqB/O,QAAQ,CAAR,CAArB,EAAiCkB,OAAjC,CAA3B;MACIgO,sBAAsBlP,QAAQ5F,IAAR,CAAa,aAAb,EAA4B+U,KAA5B,EAA1B;sBACoBpL,GAApB,CAAwB;QAClB,CADkB;WAEf;GAFT;sBAIoB3J,IAApB,CAAyB,cAAzB,EAAyC2J,GAAzC,CAA6C;QACvC,CADuC;WAEpC;GAFT;MAIIqL,2BAA2B,IAAIL,gBAAJ,CAAqB/O,QAAQ,CAAR,CAArB,EAAiCkB,OAAjC,CAA/B;SACO,CAAC+N,oBAAD,EAAuBG,wBAAvB,CAAP;EAngCsB;4BAqgCI,mCAASpP,OAAT,EAA+E;MAA7DkB,OAA6D,uEAAnD,EAAE4N,kBAAkB,IAApB,EAA0BO,iBAAiB,IAA3C,EAAmD;;MACrG,OAAOrP,OAAP,KAAmB,WAAnB,IAAkC,CAACA,QAAQvC,MAA/C,EAAuD;YAC7C6D,OAAOC,MAAP,CAAc,KAAKyN,aAAnB,EAAkC9N,OAAlC,CAAV;MACI6N,gBAAJ,CAAqB/O,QAAQ,CAAR,CAArB,EAAiCkB,OAAjC;MACI6N,gBAAJ,CAAqB/O,QAAQ,CAAR,CAArB,EAAiCkB,OAAjC;MACIgO,sBAAsBlP,QAAQ5F,IAAR,CAAa,aAAb,EAA4B+U,KAA5B,EAA1B;sBACoBpL,GAApB,CAAwB;QAClB,CADkB;WAEf;GAFT;sBAIoB3J,IAApB,CAAyB,cAAzB,EAAyC2J,GAAzC,CAA6C;QACvC,CADuC;WAEpC;GAFT;EA/gCsB;sBAohCF,6BAAS/D,OAAT,EAA+E;MAA7DkB,OAA6D,uEAAnD,EAAE4N,kBAAkB,IAApB,EAA0BO,iBAAiB,IAA3C,EAAmD;;MAC/F,OAAOrP,OAAP,KAAmB,WAAnB,IAAkC,CAACA,QAAQvC,MAA/C,EAAuD;YAC7C6D,OAAOC,MAAP,CAAc,KAAKyN,aAAnB,EAAkC9N,OAAlC,CAAV;MACI6N,gBAAJ,CAAqB/O,QAAQ,CAAR,CAArB,EAAiCkB,OAAjC;MACIgO,sBAAsBlP,QAAQ5F,IAAR,CAAa,aAAb,EAA4B+U,KAA5B,EAA1B;sBACoBpL,GAApB,CAAwB;QAClB,CADkB;WAEf;GAFT;sBAIoB3J,IAApB,CAAyB,cAAzB,EAAyC2J,GAAzC,CAA6C;QACvC,CADuC;WAEpC;GAFT;EA7hCsB;uBAkiCD,8BAAS/D,OAAT,EAAwD;MAAtCkB,OAAsC,uEAA5B,EAAE4N,kBAAkB,IAApB,EAA4B;;MACzE,OAAO9O,OAAP,KAAmB,WAAnB,IAAkC,CAACA,QAAQvC,MAA/C,EAAuD;YAC7C6D,OAAOC,MAAP,CAAc,KAAKyN,aAAnB,EAAkC9N,OAAlC,CAAV;MACI6N,gBAAJ,CAAqB/O,QAAQ,CAAR,CAArB,EAAiCkB,OAAjC;MACIoO,uBAAuBtP,QAAQ2H,QAAR,CAAiB,aAAjB,EAAgCwH,KAAhC,EAA3B;uBACqBpL,GAArB,CAAyB;SAClB,CADkB;UAEjB;GAFR;uBAIqB3J,IAArB,CAA0B,cAA1B,EAA0C2J,GAA1C,CAA8C;SACvC,CADuC;UAEtC;GAFR;EA3iCsB;gBAgjCR,uBAAS/D,OAAT,EAAgC;MAAdkB,OAAc,uEAAJ,EAAI;;MAC1C,OAAOA,QAAQkF,MAAf,KAA0B,WAA9B,EAA2ClF,QAAQkF,MAAR,GAAiBpG,QAAQ+D,GAAR,CAAY,QAAZ,CAAjB;SACpC/D,QAAQuP,UAAR,CAAmBrO,OAAnB,CAAP;EAljCsB;;;;;0BAAA,qCAwjCG5I,SAxjCH,EAwjCc;MAChCkX,eAAe,KAAnB;YACU5W,EAAV,CAAa,WAAb,EAA0B,aAAK;OAC1B6W,qBAAqB5W,EAAE6W,KAA3B,CAD8B;OAE1BD,sBAAsB,CAAtB,IAA2BD,gBAAgB,KAA/C,EAAsD;mBACtC,IAAf;QACIG,SAAS9W,EAAE+W,KAAf;QACCC,SAAShX,EAAEiX,KADZ;MAEEnN,QAAF,EAAY/J,EAAZ,CAAe,WAAf,EAA4B,aAAK;SAC5B4W,gBAAgB,IAApB,EAA0B;QACvB,MAAF,EAAU7P,QAAV,CAAmB,qBAAnB;UACIoQ,aAAaJ,SAAS9W,EAAE+W,KAA5B;UACCI,mBAAmB,GADpB;;uBAEkB1X,UAAU2X,SAAV,EAFlB;UAGCC,YAAYC,iBAAiBJ,UAAjB,GAA8BC,gBAH3C;UAICI,aAAaP,SAAShX,EAAEiX,KAJzB;UAKCO,iBAAiB/X,UAAUgY,UAAV,EALlB;UAMCC,YAAYF,iBAAiBD,UAAjB,GAA8BJ,gBAN3C;gBAOUC,SAAV,CAAoBC,SAApB;gBACUI,UAAV,CAAqBC,SAArB;;KAXF;;GANF;YAsBU3X,EAAV,CAAa,SAAb,EAAwB,YAAM;KAC3B,MAAF,EAAUoL,WAAV,CAAsB,qBAAtB;kBACe,KAAf;GAFD;EAhlCsB;;;;;aAwlCX,oBAASvE,GAAT,EAAc;MACrBA,OAAO+Q,IAAX,EAAiB;UACTA,KAAK/Q,GAAL,CAAP;;SAEMA,GAAP;EA5lCsB;;;;aAimCX,oBAASA,GAAT,EAAc;;SAElB,QAAQA,GAAf;EAnmCsB;WAqmCb,kBAASA,GAAT,EAAc;QACjB,KAAKgR,UAAL,CAAgBhR,GAAhB,CAAN;SACOiR,MAAMlL,GAAN,CAAU/F,GAAV,CAAP;EAvmCsB;WAymCb,kBAASA,GAAT,EAAckR,KAAd,EAAqB;QACxB,KAAKF,UAAL,CAAgBhR,GAAhB,CAAN;QACMmR,GAAN,CAAUnR,GAAV,EAAekR,KAAf;EA3mCsB;aA6mCX,oBAASlR,GAAT,EAAc;QACnB,KAAKgR,UAAL,CAAgBhR,GAAhB,CAAN;SACOiR,MAAMpR,MAAN,CAAaG,GAAb,CAAP;EA/mCsB;iBAinCP,wBAASA,GAAT,EAAckR,KAAd,EAAqB;MAChCE,SAASpR,GAAb;QACM,KAAKtE,aAAL,KAAuB,GAAvB,GAA6BsE,GAAnC;OACKqR,QAAL,CAAcrR,GAAd,EAAmBkR,KAAnB;;MAEII,WAAW,WAAW,KAAK5V,aAAL,EAA1B;MACIc,cAAc,KAAK+U,QAAL,CAAcD,QAAd,CAAlB;MACI9U,eAAe,IAAnB,EAAyB;iBACV,EAAd;GADD,MAEO;iBACQA,YAAY8L,KAAZ,CAAkB,GAAlB,CAAd;;cAEWkJ,IAAZ,CAAiBJ,MAAjB;OACKC,QAAL,CAAcC,QAAd,EAAwBG,iBAAiBC,MAAjB,CAAwBlV,WAAxB,EAAqCoQ,IAArC,CAA0C,GAA1C,CAAxB;EA9nCsB;iBAgoCP,wBAAS5M,GAAT,EAAc;SACtB,KAAKuR,QAAL,CAAc,KAAK7V,aAAL,KAAuB,GAAvB,GAA6BsE,GAA3C,CAAP;EAjoCsB;kBAmoCN,2BAAW;MACvBsR,WAAW,WAAW,KAAK5V,aAAL,EAA1B;MACIiW,UAAU,KAAKJ,QAAL,CAAcD,QAAd,CAAd;MACIK,OAAJ,EAAa;UACLA,QAAQrJ,KAAR,CAAc,GAAd,CAAP;;SAEM,EAAP;EAzoCsB;mBA2oCL,0BAAStI,GAAT,EAAc;MAC3BkJ,eAAe,IAAnB;MACItO,aAAa,KAAKc,aAAL,EAAjB;MACI4V,WAAW,WAAW1W,UAA1B;MACI4B,cAAc,KAAK+U,QAAL,CAAcD,QAAd,CAAlB;MACI9U,eAAe,IAAnB,EAAyB;iBACV,EAAd;GADD,MAEO;iBACQA,YAAY8L,KAAZ,CAAkB,GAAlB,CAAd;;IAECvI,IAAF,CAAOvD,WAAP,EAAoB,UAAS8D,KAAT,EAAgB4Q,KAAhB,EAAuB;gBAC7BU,UAAb,CAAwBhX,aAAa,GAAb,GAAmBsW,KAA3C;GADD;eAGaU,UAAb,CAAwBN,QAAxB;EAxpCsB;aA0pCX,oBAASJ,KAAT,EAAgB;MACvBA,KAAJ,EAAW;UACHpY,EAAE,SAAF,EACL4V,IADK,CACAwC,KADA,EAELtU,IAFK,EAAP;GADD,MAIO;UACC,EAAP;;EAhqCqB;aAmqCX,oBAASsU,KAAT,EAAgB;MACvBA,KAAJ,EAAW;UACHpY,EAAE,SAAF,EACL8D,IADK,CACAsU,KADA,EAELxC,IAFK,EAAP;GADD,MAIO;UACC,EAAP;;EAzqCqB;;;;;gBAgrCR,uBAASnO,OAAT,EAAkB;UACxB+D,GAAR,CAAY,UAAZ,EAAwB,UAAxB;UACQA,GAAR,CAAY,KAAZ,EAAmB,CAACxL,EAAEF,MAAF,EAAU+N,MAAV,KAAqBpG,QAAQsR,WAAR,EAAtB,IAA+C,CAA/C,GAAmD/Y,EAAEF,MAAF,EAAU4X,SAAV,EAAnD,GAA2E,IAA9F;UACQlM,GAAR,CAAY,MAAZ,EAAoB,CAACxL,EAAEF,MAAF,EAAU4L,KAAV,KAAoBjE,QAAQuR,UAAR,EAArB,IAA6C,CAA7C,GAAiDhZ,EAAEF,MAAF,EAAUiY,UAAV,EAAjD,GAA0E,IAA9F;EAnrCsB;6BAqrCK,oCAASkB,aAAT,EAAwB;SAC5ClQ,OAAOC,MAAP,CAAc,EAAd,EAAkBxG,IAAIgC,uBAAtB,CAAP;EAtrCsB;;;;;sBA4rCF,+BAAW;IAC7B4F,QAAF,EAAY3E,OAAZ,CAAoB,eAApB;EA7rCsB;;;;sBAksCF,6BAAS6H,QAAT,EAAmB;IACrClD,QAAF,EAAY/J,EAAZ,CAAe,eAAf,EAAgCiN,QAAhC;EAnsCsB;;;;gBAwsCR,uBAAS4L,EAAT,EAAa;OACtB,IAAIC,CAAT,IAAcD,EAAd,EAAkB;KACfC,CAAF,EAAK1X,GAAL,CAASyX,GAAGC,CAAH,CAAT;;EA1sCqB;eA6sCT,sBAASD,EAAT,EAAa;OACrB,IAAIC,CAAT,IAAcD,EAAd,EAAkB;OACbE,MAAMC,SAASC,SAAT,CAAmBH,CAAnB,CAAV;OACIC,GAAJ,EAASA,IAAIG,OAAJ,CAAYL,GAAGC,CAAH,CAAZ;;EAhtCY;;;;oBAstCJ,6BAAW;MACzBrZ,OAAO0Z,cAAX,EAA2B;UACnB1Z,OAAO0Z,cAAd;;MAEK1X,aAAaU,IAAII,aAAJ,EAAnB;MACMiH,OAAOrH,IAAIC,WAAJ,EAAb;MACMgX,eAAejX,IAAIG,mBAAJ,EAArB;MACIyB,kBAAkBqV,eAAe,GAAf,GAAqB3X,UAArB,GAAkC,GAAlC,GAAwC+H,IAAxC,GAA+C,KAArE;MACI,OAAO/J,OAAOsE,eAAP,CAAP,KAAmC,WAAvC,EAAoD;qBACjCqV,eAAe,UAAf,GAA4B5P,IAA5B,GAAmC,KAArD;;MAEG,OAAO/J,OAAOsE,eAAP,CAAP,KAAmC,WAAvC,EAAoD;qBACjCtC,aAAa,GAAb,GAAmB+H,IAAnB,GAA0B,KAA5C;;MAEG6P,gBAAgB1Z,EAAE,gBAAF,EAAoByB,GAApB,EAApB;MACI,OAAO3B,OAAOsE,eAAP,CAAP,KAAmC,WAAnC,IAAkDsV,iBAAiBjZ,SAAvE,EAAkF;qBAC/DiZ,gBAAgB,GAAhB,GAAsB7P,IAAtB,GAA6B,KAA/C;;MAEG,OAAO/J,OAAOsE,eAAP,CAAP,KAAmC,WAAvC,EAAoD;qBACjC,YAAYyF,IAAZ,GAAmB,KAArC;;MAEG,OAAO/J,OAAOsE,eAAP,CAAP,KAAmC,WAAvC,EAAoD;OAC/C,OAAOtE,OAAOsE,eAAP,CAAP,KAAmC,UAAvC,EAAmD;WAC1CtE,OAAO0Z,cAAP,GAAwB,IAAI1Z,OAAOsE,eAAP,CAAJ,EAAhC;;OAEGuV,QAAO7Z,OAAOsE,eAAP,CAAP,MAAmC,QAAvC,EAAiD;WACxCtE,OAAO0Z,cAAP,GAAwB1Z,OAAOsE,eAAP,CAAhC;;;MAGEwV,sBAAsBH,eAAe,GAAf,GAAqB3X,UAArB,GAAkC,GAAlC,GAAwC,UAAlE;MACI,OAAOhC,OAAO8Z,mBAAP,CAAP,KAAuC,WAA3C,EAAwD;OACnD,OAAO9Z,OAAO8Z,mBAAP,CAAP,KAAuC,UAA3C,EAAuD;WAC9C9Z,OAAO0Z,cAAP,GAAwB,IAAI1Z,OAAO8Z,mBAAP,CAAJ,EAAhC;;OAEGD,QAAO7Z,OAAO8Z,mBAAP,CAAP,MAAuC,QAA3C,EAAqD;WAC5C9Z,OAAO0Z,cAAP,GAAwB1Z,OAAO8Z,mBAAP,CAAhC;;;EAzvCoB;;;;kBAgwCN,yBAASxB,KAAT,EAAgB;SACzBpY,EAAE,aAAF,EACL8D,IADK,CACAsU,KADA,EAELxC,IAFK,EAAP;EAjwCsB;YAqwCZ,mBAASiE,MAAT,EAAiB;MACvBC,UAAU1P,SAAS2P,MAAvB;MACIC,UAAUF,QAAQpG,OAAR,CAAgB,MAAMmG,MAAN,GAAe,GAA/B,CAAd;MACIG,YAAY,CAAC,CAAjB,EAAoB;aACTF,QAAQpG,OAAR,CAAgBmG,SAAS,GAAzB,CAAV;;MAEGG,YAAY,CAAC,CAAjB,EAAoB;aACT,IAAV;GADD,MAEO;aACIF,QAAQpG,OAAR,CAAgB,GAAhB,EAAqBsG,OAArB,IAAgC,CAA1C;OACIC,QAAQH,QAAQpG,OAAR,CAAgB,GAAhB,EAAqBsG,OAArB,CAAZ;OACIC,UAAU,CAAC,CAAf,EAAkB;YACTH,QAAQ5U,MAAhB;;aAESgV,SAASJ,QAAQjG,SAAR,CAAkBmG,OAAlB,EAA2BC,KAA3B,CAAT,CAAV;;SAEMH,OAAP;EArxCsB;YAuxCZ,mBAASD,MAAT,EAAiBzB,KAAjB,EAAwB+B,MAAxB,EAAgC;MACtCC,SAAS,IAAItJ,IAAJ,EAAb;SACOuJ,OAAP,CAAeD,OAAOE,OAAP,KAAmBH,MAAlC;MACIL,UAAUS,OAAOnC,KAAP,KAAiB+B,UAAU,IAAV,GAAiB,EAAjB,GAAsB,eAAeC,OAAOI,WAAP,EAAtD,CAAd;WACST,MAAT,GAAkBF,SAAS,GAAT,GAAeC,OAAjC;EA3xCsB;YA6xCZ,mBAASW,OAAT,EAAkB;MACxBC,SAAS,SAATA,MAAS,GAAW;OACnBC,OAAO,EAAX;UACOvS,QAAP,CAAgB8E,IAAhB,CAAqBC,OAArB,CAA6B,yBAA7B,EAAwD,UAASyN,CAAT,EAAY1T,GAAZ,EAAiBkR,KAAjB,EAAwB;SAC1ElR,GAAL,IAAYkR,KAAZ;IADD;UAGOuC,IAAP;GALD;;SAQOD,SAASD,OAAT,CAAP;EAtyCsB;gBAwyCR,uBAAS/F,IAAT,EAAe;MACzBmG,IAAInG,KAAK4F,OAAL,EAAR;MACIM,IAAIlG,KAAKoG,QAAL,KAAkB,CAA1B;MACItS,IAAIkM,KAAKqG,WAAL,EAAR;;MAEIF,KAAK,CAAL,GAAS,MAAMA,CAAf,GAAmBA,CAAvB;MACID,KAAK,CAAL,GAAS,MAAMA,CAAf,GAAmBA,CAAvB;SACOpS,IAAI,GAAJ,GAAUoS,CAAV,GAAc,GAAd,GAAoBC,CAA3B;EA/yCsB;aAizCX,oBAASnG,IAAT,EAAe;MACtBlM,IAAIkM,KAAKqG,WAAL,EAAR;MACCH,IAAIlG,KAAKoG,QAAL,KAAkB,CADvB;MAECD,IAAInG,KAAK4F,OAAL,EAFL;MAGCU,IAAItG,KAAKuG,QAAL,EAHL;MAIC7I,IAAIsC,KAAKwG,UAAL,EAJL;MAKCC,IAAIzG,KAAK0G,UAAL,EALL;SAOC5S,IACA,GADA,GAEA,KAAK6S,WAAL,CAAiBT,CAAjB,CAFA,GAGA,GAHA,GAIA,KAAKS,WAAL,CAAiBR,CAAjB,CAJA,GAKA,GALA,GAMA,KAAKQ,WAAL,CAAiBL,CAAjB,CANA,GAOA,GAPA,GAQA,KAAKK,WAAL,CAAiBjJ,CAAjB,CARA,GASA,GATA,GAUA,KAAKiJ,WAAL,CAAiBF,CAAjB,CAXD;EAxzCsB;cAs0CV,qBAAS/I,CAAT,EAAY;SACjBA,KAAK,CAAL,GAAS,MAAMA,CAAf,GAAmBA,CAA1B;EAv0CsB;sBAy0CF,6BAASkJ,IAAT,EAAe;MAC/BC,WAAWD,KAAKE,OAAL,EAAf;MACIC,QAAQ,IAAI3K,IAAJ,EAAZ;MACI4K,SAAS,IAAI5K,IAAJ,CAAS2K,MAAMV,WAAN,EAAT,EAA8BU,MAAMX,QAAN,EAA9B,EAAgDW,MAAMnB,OAAN,EAAhD,EAAiEkB,OAAjE,EAAb;SACOjK,KAAKoK,KAAL,CAAW,CAACD,SAASH,QAAV,KAAuB,OAAO,EAAP,GAAY,EAAZ,GAAiB,EAAxC,CAAX,IAA0D,CAAjE;EA70CsB;WA+0Cb,kBAASnW,IAAT,EAAewW,KAAf,EAAsBC,WAAtB,EAAmC;MACxCxY,YAAYrD,EAAEsD,QAAF,EAAhB;MACIvB,SAAS,EAAb;SACO,QAAP,IAAmBS,IAAII,aAAJ,EAAnB;SACO,QAAP,IAAmBJ,IAAIG,mBAAJ,EAAnB;SACO,QAAP,IAAmB,UAAnB;MACIyC,IAAJ,EAAU;UACF,MAAP,IAAiBA,IAAjB;;SAEM,OAAP,IAAkBwW,KAAlB;MACIC,eAAepb,SAAnB,EAA8B;QACxB,IAAI2R,CAAT,IAAcyJ,WAAd,EAA2B;WACnBzJ,CAAP,IAAYyJ,YAAYzJ,CAAZ,CAAZ;;;eAGWvO,OAAb,CAAqB9B,MAArB,EACEmB,IADF,CACO,UAAS3C,IAAT,EAAe;aACVoD,OAAV,CAAkBpD,IAAlB;GAFF,EAIE2J,IAJF,CAIO,UAASlC,UAAT,EAAqBC,WAArB,EAAkC;aAC7BC,MAAV,CAAiBF,UAAjB,EAA6BC,WAA7B;GALF;SAOO5E,UAAUO,OAAV,EAAP;EAr2CsB;;;;;sBAAA,iCA22CDgB,IA32CC,EA22CK;OACtB,IAAIwN,IAAI,CAAb,EAAgBA,IAAIxN,KAAKyR,QAAL,CAAcnR,MAAlC,EAA0CkN,GAA1C,EAA+C;OAC1CxN,KAAKyR,QAAL,CAAcjE,CAAd,EAAiB0J,IAAjB,KAA0B,MAA9B,EAAsC;QACjClX,KAAKyR,QAAL,CAAcjE,CAAd,EAAiBgG,KAAjB,KAA2B,EAA/B,EAAmC;UAC7B/B,QAAL,CAAcjE,CAAd,EAAiB2J,UAAjB,CAA4BC,WAA5B,CAAwCpX,KAAKyR,QAAL,CAAcjE,CAAd,CAAxC;;;;EA/2CmB;;gBAo3CR,uBAASwJ,KAAT,EAAgBK,IAAhB,EAAsB;MAChCL,SAAS5Z,MAAb,EAAqB;UACbA,OAAO4Z,KAAP,CAAP;;MAEGpZ,IAAI0Z,WAAJ,CAAgBN,KAAhB,MAA2Bnb,SAA/B,EAA0C;OACrCyb,WAAJ,CAAgBN,KAAhB,IAAyB5b,EAAE,MAAM4b,KAAR,EAAena,GAAf,EAAzB;;MAEG2W,QAAQ5V,IAAI0Z,WAAJ,CAAgBN,KAAhB,CAAZ;MACIK,IAAJ,EAAU;OACL7D,KAAJ,EAAW;YACFzW,KAAKC,KAAL,CAAWwW,KAAX,CAAR;IADD,MAEO;YACE,EAAR;;;SAGKA,KAAP;EAn4CsB;gBAq4CR,uBAASwD,KAAT,EAAgBxD,KAAhB,EAAuB;MACjC8D,WAAJ,CAAgBN,KAAhB,IAAyBxD,KAAzB;IACE,MAAMwD,KAAR,EAAena,GAAf,CAAmB2W,KAAnB;EAv4CsB;WAy4Cb,kBAASjO,KAAT,EAAgBgS,GAAhB,EAAqBlU,WAArB,EAAkC;MACvC,CAACjG,OAAOoa,KAAZ,EAAmB;;;UAGXC,IAAR,CACC,2BADD,EAEC,wGAFD;MAII,QAAOlS,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,IAA6BA,MAAMmS,YAAvC,EAAqD;WAC5CnS,MAAMmS,YAAd;;MAEG,QAAOnS,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,IAA6BA,MAAMoS,UAAvC,EAAmD;WAC1CpS,MAAMoS,UAAd;;MAEGpS,KAAJ,EAAW;WACFA,KAAR,CAAcA,KAAd;;MAEGgS,OAAOA,QAAQ,OAAnB,EAA4B;WACnBhS,KAAR,CAAcgS,GAAd;;MAEGlU,WAAJ,EAAiB;WACRkC,KAAR,CAAclC,WAAd;;EA95CqB;yBAi6CC,gCAASlI,SAAT,EAAoB;MACvC,OAAOA,SAAP,KAAqB,WAAzB,EAAsC;eACzBC,EAAE,MAAF,CAAZ;;YAESK,EAAV,CAAa,OAAb,EAAsB,sBAAtB,EAA8C,UAASC,CAAT,EAAY;KACvD+E,cAAF;OACIoC,UAAUzH,EAAE,IAAF,CAAd;OACIO,OAAO;YACFkH,QAAQlH,IAAR,CAAa,QAAb,CADE;YAEFkH,QAAQlH,IAAR,CAAa,QAAb;IAFT;OAIIkH,QAAQlH,IAAR,CAAa,QAAb,CAAJ,EAA4B;MACzB0L,MAAF,CAAS1L,IAAT,EAAekH,QAAQlH,IAAR,CAAa,QAAb,CAAf;;OAEGkH,QAAQlH,IAAR,CAAa,iBAAb,CAAJ,EAAqC;SAC/Bic,eAAL,GAAuB/U,QAAQlH,IAAR,CAAa,iBAAb,CAAvB;;OAEGkH,QAAQlH,IAAR,CAAa,YAAb,CAAJ,EAAgC;SAC1Bkc,UAAL,GAAkBhV,QAAQlH,IAAR,CAAa,YAAb,CAAlB;;OAEGkH,QAAQlH,IAAR,CAAa,YAAb,CAAJ,EAAgC;SAC1Bmc,UAAL,GAAkBjV,QAAQlH,IAAR,CAAa,YAAb,CAAlB;;OAEG4B,UAAJ,CAAewa,SAAf,CAAyBxZ,SAAzB,CAAmC5C,IAAnC;GAnBD;EAr6CsB;gBA27CR,uBAASR,SAAT,EAAoB;MAC9B,OAAOA,SAAP,KAAqB,WAAzB,EAAsC;eACzBC,EAAE,MAAF,CAAZ;;YAGC2J,GADF,CACM,OADN,EACe,+CADf,EAEEtJ,EAFF,CAEK,OAFL,EAEc,+CAFd,EAE+D,UAASC,CAAT,EAAY;KACvE+E,cAAF;OACImP,iBAAiBxU,EAAEM,EAAE0E,aAAJ,CAArB;OACI1C,MAAMkS,eAAejU,IAAf,CAAoB,KAApB,CAAV;;OAEI,OAAO+B,GAAP,KAAe,WAAnB,EAAgC;QAC3BkS,eAAe7T,QAAf,CAAwB,oBAAxB,CAAJ,EAAmD;oBACnCoK,OAAf,CAAuB,MAAvB;;QAEGyJ,eAAe7T,QAAf,CAAwB,iBAAxB,CAAJ,EAAgD;oBAChC+G,IAAf,CAAoB,UAApB,EAAgC,IAAhC;;QAEGkV,oBAAoB;UAClBta,GADkB;SAEnB,YAASvC,SAAT,EAAoB;UACnByJ,OAAOgL,eAAejU,IAAf,CAAoB,IAApB,CAAX;UACI,OAAOiJ,IAAP,KAAgB,WAApB,EAAiC;WAC5BA,KAAKkK,OAAL,CAAa,GAAb,MAAsB,CAAC,CAA3B,EAA8B;YACzBmJ,cAAcrT,KAAKgG,KAAL,CAAW,GAAX,CAAlB;YAECmK,QAAO7Z,OAAO+c,YAAY,CAAZ,CAAP,CAAP,MAAkC,QAAlC,IACA,OAAO/c,OAAO+c,YAAY,CAAZ,CAAP,CAAP,KAAkC,UAFnC,EAGE;gBACMA,YAAY,CAAZ,CAAP,EAAuBA,YAAY,CAAZ,CAAvB,EAAuC9c,SAAvC;;QANF,MAQO;YACF,OAAOD,OAAO0J,IAAP,CAAP,KAAwB,UAA5B,EAAwC;gBAChCA,IAAP,EAAazJ,SAAb;;;;qBAIYoH,UAAf,CAA0B,UAA1B;;KAnBF;QAsBIqN,eAAejU,IAAf,CAAoB,SAApB,CAAJ,EAAoC;uBACjB,IAAlB,IAA0BiU,eAAejU,IAAf,CAAoB,SAApB,CAA1B;;QAEGwD,eAAJ,CAAoB6Y,iBAApB;;KAEC3H,eAAF;GAzCF;EA/7CsB;YA2+CZ,mBAASjL,MAAT,EAAiB;MACvB8S,eAAeta,IAAIoH,aAAJ,CAAkB,QAAlB,CAAnB;MACIkT,aAAa,YAAb,CAAJ,EAAgC;OAC3BC,QAAQ,IAAIC,KAAJ,CAAUxa,IAAIoH,aAAJ,CAAkB,gBAAlB,IAAsCkT,aAAa9S,MAAb,CAAhD,CAAZ;SACMiT,IAAN;;EA/+CqB;6BAAA,0CAk/CQ;MAC1BC,gBAAgB,SAAhBA,aAAgB,IAAK;KACtB7X,cAAF;KACE4P,eAAF;OACMkI,MAAMnd,EAAEM,EAAE0E,aAAJ,CAAZ;OACMiF,UAAUkT,IAAI5c,IAAJ,CAAS,QAAT,IACb4c,IACCC,QADD,CACU,QADV,EAEC7R,KAFD,GAGCM,IAHD,EADa,GAKbsR,IACClX,OADD,CACS,kBADT,EAECpE,IAFD,CAEM,cAFN,EAGCiC,IAHD,EALH;WASQuZ,MAAR,CAAe;oBAAA;WAEP,6CAA6C7a,IAAIuD,UAAJ,CAAe,cAAf,CAFtC;eAGH,+BAHG;aAIL;aACA;aACA,4CAA4CvD,IAAIuD,UAAJ,CAAe,UAAf,CAD5C;iBAEI,YAFJ;gBAGG,oBAAW;;;IARxB;GAbD;IA0BE,UAAF,EAAc1F,EAAd,CAAiB,OAAjB,EAA0B6c,aAA1B;IACE9S,QAAF,EAAY/J,EAAZ,CAAe,OAAf,EAAwB,UAAxB,EAAoC6c,aAApC;EA9gDsB;qBAAA,gCAghDFI,OAhhDE,EAghDO;UACrBzb,IAAR,CAAa,wBAAb,EAAuCoF,IAAvC,CAA4C,YAAW;OAClDuH,SAASxO,EAAE,IAAF,CAAb;UACOK,EAAP,CAAU,MAAV,EAAkB,aAAK;WACfwN,MAAP,CACCW,OACEE,QADF,GAEE7M,IAFF,CAEO,MAFP,EAGEgM,MAHF,KAGa,EAJd;IADD;GAFD;UAWQhM,IAAR,CAAa,kBAAb,EAAiCoF,IAAjC,CAAsC,YAAW;OAC5CuH,SAASxO,EAAE,IAAF,CAAb;UACOK,EAAP,CAAU,MAAV,EAAkB,aAAK;QAClBwN,SAASW,OACXE,QADW,GAEX7M,IAFW,CAEN,MAFM,EAGXgM,MAHW,EAAb;QAIIA,UAAUA,SAASW,OAAOX,MAAP,EAAvB,EAAwC;YAChCA,MAAP,CAAcA,SAAS,EAAvB;;IANF;GAFD;EA5hDsB;;eAyiDT,wBAAW;MAClBzM,OAAO,IAAb;OACKkP,QAAL,GAAgB,EAAEiN,MAAM,EAAR,EAAYC,QAAQ,EAApB,EAAwBC,MAAM,EAA9B,EAAkCC,OAAO,EAAzC,EAA6CC,OAAO,EAApD,EAAwDC,IAAI,EAA5D,EAAhB;OACKC,UAAL,GAAkB7d,EAAE,iBAAF,EAAqB4W,KAArB,EAAlB;OACKkH,OAAL,GAAe9d,EAAE,aAAF,EAAiB4W,KAAjB,EAAf;OACKiH,UAAL,CAAgBxd,EAAhB,CAAmB,OAAnB,EAA4Be,KAAK2c,aAAL,CAAmBC,IAAnB,CAAwB5c,IAAxB,CAA5B;0DACwDf,EAAxD,CAA2D,OAA3D,EAAoE,aAAK;OACpEe,KAAKyc,UAAL,CAAgB,CAAhB,KAAsBvd,EAAEI,MAAxB,IAAkCU,KAAK0c,OAAL,CAAajc,IAAb,CAAkBvB,EAAEI,MAApB,EAA4BwE,MAAlE,EAA0E;OACtE9D,KAAK0c,OAAL,CAAajc,IAAb,CAAkB,QAAlB,EAA4BqD,MAAhC,EAAwC;SAClC+Y,WAAL;IADD,MAEO,IAAI7c,KAAK0c,OAAL,CAAand,QAAb,CAAsB,WAAtB,CAAJ,EAAwC;SACzCud,YAAL;;GALF;OAQKJ,OAAL,CAAazd,EAAb,CAAgB,YAAhB,EAA8Be,KAAK6c,WAAL,CAAiBD,IAAjB,CAAsB5c,IAAtB,CAA9B,EAA2Df,EAA3D,CAA8D,YAA9D,EAA4Ee,KAAK8c,YAAL,CAAkBF,IAAlB,CAAuB5c,IAAvB,CAA5E;OACK0c,OAAL,CAAajc,IAAb,CAAkB,mBAAlB,EAAuCxB,EAAvC,CAA0C,SAA1C,EAAqDe,KAAK+c,eAAL,CAAqBH,IAArB,CAA0B5c,IAA1B,CAArD;OACK0c,OAAL,CAAazd,EAAb,CAAgB,SAAhB,EAA2B,aAAK;OAC3BC,EAAE6W,KAAF,IAAW/V,KAAKkP,QAAL,CAAckN,MAA7B,EAAqC;SAC/BU,YAAL;QACI9c,KAAKyc,UAAL,CAAgBxS,EAAhB,CAAmB,WAAnB,CAAJ,EAAqCjK,KAAKyc,UAAL,CAAgBO,KAAhB,GAArC,KAECpe,EAAE,WAAF,EACE8M,EADF,CACKiJ,SAAS/V,EAAE,WAAF,EAAewH,KAAf,CAAqBpG,KAAK0c,OAAL,CAAajc,IAAb,CAAkB,WAAlB,EAA+Bwc,IAA/B,EAArB,CAAT,IAAwE,CAD7E,EAEED,KAFF;;GALH;OAUKN,OAAL,CAAajc,IAAb,CAAkB,aAAlB,EAAiCxB,EAAjC,CAAoC,mBAApC,EAAyD,aAAK;KAC3DC,EAAEI,MAAJ,EACEmB,IADF,CACO,WADP,EAEE+U,KAFF,GAGEwH,KAHF;GADD;IAME,qBAAF,EAAyB/d,EAAzB,CAA4B,OAA5B,EAAqC,aAAK;OACrC,CAACL,EAAEM,EAAE0E,aAAJ,EAAmBrE,QAAnB,CAA4B,WAA5B,CAAD,IAA6C,CAACX,EAAEM,EAAEI,MAAJ,EAAYuF,OAAZ,CAAoB,UAApB,EAAgCf,MAAlF,EAA0F;WAClFkD,QAAP,GAAkBpI,EAAEM,EAAE0E,aAAJ,EAAmB0C,IAAnB,CAAwB,MAAxB,CAAlB;;GAFF;OAKK4W,gBAAL;EA9kDsB;cAglDV,uBAAW;OAClBR,OAAL,CAAa1W,QAAb,CAAsB,WAAtB;OACKyW,UAAL,CAAgBnW,IAAhB,CAAqB,eAArB,EAAsC,IAAtC;EAllDsB;eAolDT,wBAAW;OACnBoW,OAAL,CAAarS,WAAb,CAAyB,WAAzB;OACKoS,UAAL,CAAgBnW,IAAhB,CAAqB,eAArB,EAAsC,KAAtC;EAtlDsB;gBAwlDR,yBAAW;MACrB,KAAKoW,OAAL,CAAand,QAAb,CAAsB,WAAtB,CAAJ,EAAwC;QAClCud,YAAL;GADD,MAEO;QACDD,WAAL;QACKH,OAAL,CACEjc,IADF,CACO,6BADP,EAEE+U,KAFF,GAGEwH,KAHF;;EA7lDqB;mBAmmDL,4BAAW;MACtBhd,OAAO,IAAb;MACImd,YAAYnd,KAAK0c,OAAL,CAAajc,IAAb,CAAkB,eAAlB,CAAhB;MACI2c,gBAAgBpd,KAAK0c,OAAL,CAAa7X,OAAb,CAAqB,oBAArB,CAApB;YACU5F,EAAV,CAAa,OAAb,EAAsB,YAAM;OACvBoe,WAAW,CAAf;iBACchT,WAAd,CAA0B,mBAA1B;OACI8S,UAAU7W,IAAV,CAAe,WAAf,MAAgC,GAApC,EAAyC;eAC7B,IAAX;cACU+D,WAAV,CAAsB,iBAAtB;kBACcrE,QAAd,CAAuB,cAAvB;SACK0W,OAAL,CAAanU,GAAb,CAAiB,uBAAjB;IAJD,MAKO;cACIvC,QAAV,CAAmB,iBAAnB;kBACcqE,WAAd,CAA0B,cAA1B;SACKqS,OAAL,CACEzd,EADF,CACK,YADL,EACmBe,KAAK6c,WAAL,CAAiBD,IAAjB,CAAsB5c,IAAtB,CADnB,EAEEf,EAFF,CAEK,YAFL,EAEmBe,KAAK8c,YAAL,CAAkBF,IAAlB,CAAuB5c,IAAvB,CAFnB;SAGK8c,YAAL,CAAkBF,IAAlB,CAAuB5c,IAAvB;;gBAEYyC,OAAb,CAAqB;YACZ,OADY;YAEZ,UAFY;WAGb,eAHa;YAIZ7B,OAAO0c,MAJK;WAKbD;IALR,EAMGvb,IANH,CAMQ,UAAS0P,YAAT,EAAuB;QAC1BA,aAAanM,OAAb,IAAwBmM,aAAaC,MAAzC,EAAiD;eACtCnL,IAAV,CAAe,WAAf,EAA4B+W,QAA5B;;IARF;cAWW,YAAM;kBACFrX,QAAd,CAAuB,mBAAvB;IADD,EAEG,GAFH;GA3BD;EAvmDsB;kBAuoDN,yBAAS9G,CAAT,EAAY;MACxBI,SAASV,EAAEM,EAAEI,MAAJ,CAAb;MACIJ,EAAE6W,KAAF,IAAW,KAAK7G,QAAL,CAAcmN,IAA7B,EAAmC;OAC9B/c,OAAOC,QAAP,CAAgB,oBAAhB,KAAyC,CAACD,OAAOC,QAAP,CAAgB,WAAhB,CAA9C,EAA4E;WACpEwS,KAAP;WACO,KAAP;IAFD,MAGO;QACFwL,UAAU3e,EAAEM,EAAEI,MAAJ,EACZuF,OADY,CACJ,aADI,EAEZ2Y,IAFY,CAEP,qBAFO,CAAd;QAGID,QAAQzZ,MAAR,IAAkB,CAACyZ,QAAQhe,QAAR,CAAiB,WAAjB,CAAvB,EAAsD;aAC7CwS,KAAR,GAAgBiL,KAAhB;YACO,KAAP;;;GAVH,MAaO,IACL1d,OAAOC,QAAP,CAAgB,oBAAhB,KAAyCL,EAAE6W,KAAF,IAAW,KAAK7G,QAAL,CAAcoN,KAAlE,IAA2Ehd,OAAOC,QAAP,CAAgB,WAAhB,CAA5E,IACCD,OAAOC,QAAP,CAAgB,oBAAhB,KAAyCL,EAAE6W,KAAF,IAAW,KAAK7G,QAAL,CAAcqN,KAF7D,EAGL;UACMxK,KAAP;UACO,KAAP;GALM,MAMA,IAAI7S,EAAE6W,KAAF,IAAW,KAAK7G,QAAL,CAAcsN,EAA7B,EAAiC;QAClCE,OAAL,CACEjc,IADF,CACO,6BADP,EAEEiL,EAFF,CAEKiJ,SAAS,KAAK+H,OAAL,CAAajc,IAAb,CAAkB,6BAAlB,EAAiD2F,KAAjD,CAAuD9G,MAAvD,CAAT,IAA2E,CAFhF,EAGE0d,KAHF;UAIO,KAAP;GALM,MAMA,IAAI9d,EAAE6W,KAAF,IAAW,KAAK7G,QAAL,CAAciN,IAA7B,EAAmC;QACpCO,OAAL,CACEjc,IADF,CACO,6BADP,EAEEiL,EAFF,CAEKiJ,SAAS,KAAK+H,OAAL,CAAajc,IAAb,CAAkB,6BAAlB,EAAiD2F,KAAjD,CAAuD9G,MAAvD,CAAT,IAA2E,CAFhF,EAGE0d,KAHF;UAIO,KAAP;;EAvqDqB;kBA0qDN,2BAAW;MACvBS,OAAO7e,EAAE,aAAF,CAAX;MACI,CAAC6e,KAAK3Z,MAAV,EAAkB;MACd4Z,MAAMD,KAAKhd,IAAL,CAAU,MAAV,CAAV;MACIoF,IAAJ,CAAS,YAAW;KACjB,IAAF,EAAQwE,WAAR,CAAoB,QAApB;GADD;OAGKsT,OAAL,CAAa;SACNvc,IAAIuD,UAAJ,CAAe,SAAf;GADP;;MAIIiZ,WAAWH,KAAKhd,IAAL,CAAU,eAAV,CAAf;WACSgJ,QAAT,CAAkBgU,IAAlB;;MAEIxe,EAAJ,CAAO,OAAP,EAAgB,UAASC,CAAT,EAAY;cAChB,YAAW;MACnBR,MAAF,EAAU2F,OAAV,CAAkB,QAAlB;IADD,EAEG,GAFH;GADD;IAKE3F,MAAF,EAAU2F,OAAV,CAAkB,QAAlB;EA7rDsB;kBA+rDN,yBAASwZ,UAAT,EAAqB;MACjC,OAAOA,UAAP,KAAsB,WAA1B,EAAuC;gBACzB,GAAb;;SAEOjf,EAAEF,MAAF,EAAU+N,MAAV,KAAqBoR,UAAtB,GAAoC,GAA3C;EAnsDsB;uBAqsDD,gCAAW;eACnBpb,OAAb,CAAqB;WACZ,MADY;WAEZ;GAFT,EAGGX,IAHH,CAGQ,UAAS4O,QAAT,EAAmB;KACxB,cAAF,EAAkBhO,IAAlB,6DAC2DtB,IAAIuD,UAAJ,CAAe,eAAf,CAD3D;GAJD;EAtsDsB;;;;;QAAA,mBAmtDfzD,GAntDe,EAmtDV;MACRN,OAAOkd,aAAP,KAAyB,cAA7B,EAA6C;UACrChd,MAAP,CAAckG,QAAd,CAAuB8E,IAAvB,GAA8B5K,GAA9B;GADD,MAEO;UACC8F,QAAP,CAAgB8E,IAAhB,GAAuB5K,GAAvB;;EAvtDqB;kBAAA,6BA0tDLA,GA1tDK,EA0tD8B;MAA9B6c,QAA8B,uEAAnB,EAAmB;MAAfC,QAAe,uEAAJ,EAAI;;IAClDnT,MAAF,CAASmT,QAAT,EAAmB;WACV,MADU;WAEV9c,GAFU;UAGX;GAHR;MAKIsC,OAAO5E,EAAE,eAAF,EAAmBof,QAAnB,CAAX;MACI,OAAOC,aAAP,KAAyB,WAA7B,EAA0C;YAChCA,aAAT,IAA0BC,cAA1B;;IAECrY,IAAF,CAAOkY,QAAP,EAAiB,UAAC3X,KAAD,EAAQ4Q,KAAR,EAAkB;OAC9BmH,QAAQvf,EAAEoK,SAASoV,aAAT,CAAuB,OAAvB,CAAF,CAAZ;SACM9X,IAAN,CAAW,MAAX,EAAmB,QAAnB;SACMA,IAAN,CAAW,MAAX,EAAmBF,KAAnB;SACM/F,GAAN,CAAU2W,KAAV;QACKpR,MAAL,CAAYuY,KAAZ;GALD;IAOE,MAAF,EAAUvY,MAAV,CAAiBpC,IAAjB;OACKyC,MAAL;OACKN,MAAL;EA7uDsB;;;;;;;;;mBAAA,8BAsvDJzE,GAtvDI,EAsvDC;MACnBmd,YAAY,EAAhB;MACIjQ,KAAJ,CAAU,YAAV,EAAwB,CAAxB,EACEA,KADF,CACQ,GADR,EAEEkQ,OAFF,CAEU,cAAM;OACVvW,GAAGwW,QAAH,CAAY,GAAZ,CAAJ,EAAsB;QACjBC,SAASzW,GAAGqG,KAAH,CAAS,GAAT,CAAb;cACUoQ,OAAO,CAAP,CAAV,IAAuBA,OAAO,CAAP,CAAvB;;GALH;SAQOH,SAAP;EAhwDsB;;;;;;;;;;mBAAA,gCA0wDoC;MAAxCI,OAAwC,uEAA9B,EAA8B;MAA1BC,SAA0B,uEAAd,YAAc;;MACtDxd,MAAMwd,SAAV;SACOC,IAAP,CAAYF,OAAZ,EAAqBH,OAArB,CAA6B,eAAO;OAC/BtH,QAAQyH,QAAQ3Y,GAAR,CAAZ;OACI,QAAOkR,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,IAA8B,OAAOA,KAAP,KAAiB,QAAjB,IAA6BA,MAAM4H,UAAN,CAAiB,GAAjB,CAA/D,EAAuF;;;UAGhF9Y,MAAM,GAAN,GAAYkR,KAAZ,GAAoB,GAA3B;GALD;SAOO9V,GAAP;EAnxDsB;;mBAqxDL,0BAAS/B,IAAT,EAAekH,OAAf,EAAwB;MACrC1F,SAAS,EAAb;MACIxB,IAAJ,EAAU;YACAP,EAAEiM,MAAF,CAASlK,MAAT,EAAiBxB,IAAjB,CAAT;;MAEGkH,OAAJ,EAAa;aACFzH,EAAEyH,OAAF,CAAV;OACI,CAAC1F,OAAOsI,KAAZ,EAAmB;WACXA,KAAP,GAAe5C,QAAQ3D,IAAR,KAAiB,GAAjB,IAAwB2D,QAAQlH,IAAR,CAAa,SAAb,IAA0BkH,QAAQlH,IAAR,CAAa,SAAb,CAA1B,GAAoD,EAA5E,CAAf;;OAEG,CAACwB,OAAOkI,OAAZ,EAAqB;WACbA,OAAP,GAAiBxC,QAAQlH,IAAR,CAAa,SAAb,CAAjB;;OAEG,CAACwB,OAAOO,GAAZ,EAAiB;WACTA,GAAP,GAAamF,QAAQlH,IAAR,CAAa,KAAb,CAAb;;;mBAGe0f,mBAAjB,CAAqCle,MAArC,EAA6CmB,IAA7C,CAAkD,YAAW;OACxDnB,OAAO+Z,IAAP,IAAe,MAAnB,EAA2B;iBACbjY,OAAb,CAAqB9B,OAAOO,GAA5B,EAAiCY,IAAjC,CAAsC,UAAS3C,IAAT,EAAe;SAChD2f,OAAJ,CAAY3f,KAAKsS,MAAjB;KADD;IADD,MAIO,IAAI9Q,OAAO+Z,IAAP,IAAe,WAAnB,EAAgC;iBACzBjY,OAAb,CAAqB9B,OAAOO,GAA5B,EAAiCY,IAAjC,CAAsC,UAAS3C,IAAT,EAAe;sBACnC4f,WAAjB,GAA+BC,gBAA/B;KADD;;GANF;EAtyDsB;mBAkzDL,0BAASC,OAAT,EAA2E;MAAzDvE,IAAyD,uEAAlD,OAAkD;MAAzCwE,WAAyC,uEAA3B,KAA2B;MAApBC,WAAoB,uEAAN,IAAM;;MACtFC,QAAQ1E,SAAS,OAAvB;MACM2E,OAAOlP,KAAKoK,KAAL,CAAW0E,OAAX,CAAb;MACMK,MAAMnP,KAAKoK,KAAL,CAAW,CAAC0E,UAAUI,IAAX,IAAmB,EAA9B,CAAZ;MACME,MAAMpP,KAAKqP,KAAL,CAAW,CAAC,CAACP,UAAUI,IAAX,IAAmB,EAAnB,GAAwBC,GAAzB,IAAgC,EAA3C,CAAZ;MACI7N,SAAS,EAAb;MACI4N,IAAJ,EAAU;aACCD,QAAQC,OAAOje,IAAIuD,UAAJ,CAAe,MAAf,CAAf,GAA2C0a,IAAH,SAAaje,IAAIuD,UAAJ,CAAe,WAAf,CAA/D;;MAEG,CAAC0a,QAAQC,GAAT,KAAiBH,WAArB,EAAkC;aACvBC,QAAQ,MAAIE,GAAJ,GAAYle,IAAIuD,UAAJ,CAAe,MAAf,CAApB,GAA6C,MAAI2a,GAAJ,SAAale,IAAIuD,UAAJ,CAAe,WAAf,CAApE;;MAEGua,gBAAgB,KAApB,EAA2B;aAChBE,QAAQ,MAAIG,GAAJ,GAAYne,IAAIuD,UAAJ,CAAe,MAAf,CAApB,GAA6C,MAAI4a,GAAJ,SAAane,IAAIuD,UAAJ,CAAe,WAAf,CAApE;;MAEG,CAAC0a,IAAD,IAAS,CAACC,GAAV,IAAiBJ,gBAAgB,KAAjC,IAA0CC,WAA9C,EAA2D;aAChDC,QAAQ,MAAMhe,IAAIuD,UAAJ,CAAe,MAAf,CAAd,GAAuC,OAAOvD,IAAIuD,UAAJ,CAAe,WAAf,CAAxD;;MAEG,CAAC0a,IAAD,IAAS,CAACC,GAAV,IAAiBJ,gBAAgB,KAAjC,IAA0C,CAACC,WAA/C,EAA4D;aACjDC,QAAQ,MAAMhe,IAAIuD,UAAJ,CAAe,MAAf,CAAd,GAAuC,OAAOvD,IAAIuD,UAAJ,CAAe,WAAf,CAAxD;;SAEM8M,OAAOgO,IAAP,EAAP;EAv0DsB;kBAy0DN,2BAA0C;MAAjC9e,MAAiC,uEAAxB,EAAwB;MAApBmO,EAAoB;MAAhB4Q,cAAgB;;MACtD,CAAC/e,OAAO8H,IAAZ,EAAkB;UACVA,IAAP,GAAc,aAAd;;OAEIkX,oBAAL,CAA0Bhf,MAA1B,EAAkCmB,IAAlC,CAAuC,UAAS4M,KAAT,EAAgB;OAClD,OAAOgR,cAAP,KAA0B,UAA9B,EAA0C;mBAC1BhR,KAAf;;OAEGkR,uBAAJ,CAA4B,KAA5B,EAAmClR,KAAnC,EAA0CI,EAA1C;GAJD;EA70DsB;;;;;;uBAy1DD,8BAASnO,MAAT,EAAiB;MAChCsB,YAAYrD,EAAEsD,QAAF,EAAlB;eACaO,OAAb,CAAqB9B,MAArB,EACEmB,IADF,CACO,UAAS+d,WAAT,EAAsB;OACvBld,eAAJ,CAAoBkd,WAApB,EAAiC,UAASnR,KAAT,EAAgB;cACtCnM,OAAV,CAAkBmM,KAAlB;IADD;GAFF,EAME5F,IANF,CAMO,UAASlC,UAAT,EAAqBC,WAArB,EAAkC;aAC7BC,MAAV,CAAiBF,UAAjB,EAA6BC,WAA7B;GAPF;SASO5E,UAAUO,OAAV,EAAP;EAp2DsB;;;;;;;;;;YAAA,uBA+2DX6D,OA/2DW,EA+2DF6F,QA/2DE,EA+2D8D;MAAtD3E,OAAsD,uEAA5C,EAAEuY,WAAW,WAAb,EAA0BC,SAAS,KAAnC,EAA4C;;YAC1EnhB,EAAEyH,OAAF,EAAWwF,GAAX,CAAe,CAAf,CAAV,CADoF;MAE9EiU,YAAYvY,QAAQuY,SAA1B;SACOvY,QAAQuY,SAAf;SACOE,YAAY3Z,OAAZ,EAAqBkB,OAArB,EAA8B0Y,IAA9B,CAAmC,kBAAU;OAC7CC,cAAcC,OAAOC,SAAP,CAAiBN,SAAjB,CAApB;OACI,OAAO5T,QAAP,KAAoB,UAAxB,EAAoC;aAC1BgU,WAAT;;UAEMA,WAAP;GALM,CAAP;EAn3DsB;WAAA,sBA23DZxd,IA33DY,EA23DN;MACZ2d,MAAMrX,SAASoV,aAAT,CAAuB,UAAvB,CAAV;MACIkC,SAAJ,GAAgB5d,IAAhB;SACO2d,IAAIrJ,KAAX;EA93DsB;;YAg4DZ,mBAASzL,YAAT,EAAuB;MAC7BgV,aAAahV,YAAjB;MACI,OAAOA,YAAP,KAAwB,QAA5B,EAAsC;gBACxB,EAAb;cACWiJ,IAAX,GAAkBjJ,YAAlB;;MAEG5K,SAAS;WACJqI,SAASwX,IADL;SAEN;UACC,OADD;UAEC,KAFD;WAGE;WACA,MADA;YAEC,IAFD;gBAGK;KANP;aAQI;cACC;eACC,IADD;eAEC,CACR;aACO,IADP;sBAEgB,IAFhB;gBAGU,IAHV;cAIQ,eAASC,MAAT,EAAiB;eAChBC,KAAP;;OANM;MAHF;cAcC;cACA,KADA;eAEC;MAhBF;cAkBC;eACC;;;;GA7Bb;MAkCI,OAAOH,UAAP,KAAsB,WAA1B,EAAuC;UAC/BphB,IAAP,GAAcP,EAAEiM,MAAF,CAASlK,OAAOxB,IAAhB,EAAsBohB,UAAtB,CAAd;;SAEM,IAAII,OAAJ,CAAYhgB,MAAZ,CAAP;EA36DsB;mBA66DL,0BAAS4K,YAAT,EAA8E;MAAvDqV,eAAuD,uEAArC,YAAM,EAA+B;MAA3BC,cAA2B,uEAAV,YAAM,EAAI;;MAC3F5e,YAAYrD,EAAEsD,QAAF,EAAhB;;MAEIqe,aAAahV,YAAjB;MACI,OAAOA,YAAP,KAAwB,QAA5B,EAAsC;gBACxB,EAAb;cACWiJ,IAAX,GAAkBjJ,YAAlB;;MAEG5K,SAAS;WACJqI,SAASwX,IADL;SAEN;UACC,KADD;UAEC,wBAFD;WAGE;WACA,MADA;YAEC,IAFD;gBAGK;KANP;aAQI;cACC;eACC,IADD;eAEC,CACR;aACOpf,IAAIuD,UAAJ,CAAe,OAAf,CADP;gBAEU,IAFV;sBAGgB,IAHhB;cAIQ,eAAS8b,MAAT,EAAiB;eAChBC,KAAP;;kBAEUne,OAAV,CAAkB,IAAlB;;OARM,EAWR;aACOnB,IAAIuD,UAAJ,CAAe,WAAf,CADP;cAEQ,eAAS8b,MAAT,EAAiB;eAChBC,KAAP;;kBAEUne,OAAV,CAAkB,KAAlB;;OAhBM;MAHF;cAwBC;cACA,KADA;eAEC;MA1BF;cA4BC;eACC;;;;GAvCb;MA4CI,OAAOge,UAAP,KAAsB,WAA1B,EAAuC;UAC/BphB,IAAP,GAAcP,EAAEiM,MAAF,CAASlK,OAAOxB,IAAhB,EAAsBohB,UAAtB,CAAd;;MAEGI,OAAJ,CAAYhgB,MAAZ;SACOsB,UAAUO,OAAV,EAAP;EAr+DsB;qBAAA,gCAu+DF7D,SAv+DE,EAu+DS;YACrB8B,IAAV,CAAe,eAAf,EAAgCoF,IAAhC,CAAqC,YAAW;OAC3CQ,UAAUzH,EAAE,IAAF,CAAd;OACCkiB,kBAAkBza,QAAQlH,IAAR,CAAa,iBAAb,CADnB;;OAGI,OAAOiC,IAAI0f,eAAJ,CAAP,KAAgC,UAApC,EAAgD;QAC3CA,eAAJ,EAAqBza,OAArB;IADD,MAEO;QACF0a,gBAAJ,CAAqB1a,OAArB;;GAPF;EAx+DsB;gBAAA,6BAm/DkB;MAAzB1H,SAAyB,uEAAbC,EAAEoK,QAAF,CAAa;;SACjCoD,YAAP,GAAsB,EAAtB;YACUnN,EAAV,CAAa,WAAb,EAA0B,aAAK;OAC1B8N,aAAJ,GAAoB,EAAEjF,GAAG5I,EAAEiX,KAAP,EAAc/O,GAAGlI,EAAE+W,KAAnB,EAApB;GADD;YAGUhX,EAAV,CACC,YADD,EAEC,oJAFD,EAGC,aAAK;OACA2E,gBAAgBhF,EAAEM,EAAE0E,aAAJ,CAApB;OACIA,cAAcnD,IAAd,CAAmB,6BAAnB,EAAkDqD,MAAtD,EAA8D;;;OAG1D,CAACF,cAAcrE,QAAd,CAAuB,mBAAvB,CAAL,EAAkD;QAC7CqE,cAAcrE,QAAd,CAAuB,4BAAvB,CAAJ,EAA0D;SACrDyhB,qBAAJ,CAA0Bpd,aAA1B,EAAyC,EAAzC,EAA6CjF,SAA7C;mBACc0F,OAAd,CAAsB,YAAtB;KAFD,MAGO,IACN,CAACT,cAAcrE,QAAd,CAAuB,4BAAvB,CAAD,IACAqE,cAAczE,IAAd,CAAmB,YAAnB,CAFM,EAGL;SACG6hB,qBAAJ,CAA0Bpd,cAAcoK,QAAd,CAAuB,GAAvB,CAA1B,EAAuD,EAAvD,EAA2DrP,SAA3D,EADC;KAHK,MAKA,IACN,CAACiF,cAAcrE,QAAd,CAAuB,4BAAvB,CAAD,IACA,CAACqE,cAAcnD,IAAd,CAAmB,6BAAnB,EAAkDqD,MADnD,IAEA,CAACF,cAAczE,IAAd,CAAmB,YAAnB,CAHK,EAIL;SACGyE,cAAcrE,QAAd,CAAuB,8BAAvB,CAAJ,EAA4D;UACvD0hB,uBAAJ,CAA4B,EAAE5a,SAASzC,aAAX,EAA0BjF,oBAA1B,EAA5B;MADD,MAEO;UACF+G,sBAAJ,CAA2B9B,aAA3B;;mBAEaS,OAAd,CAAsB,YAAtB;;;GA3BJ;EAx/DsB;;aAyhEX,oBAAS1D,MAAT,EAAiB;MACxB,OAAOA,OAAO+Z,IAAd,KAAuB,WAA3B,EAAwC;UAChCA,IAAP,GAAc,MAAd;;MAEG,OAAO/Z,OAAOsI,KAAd,KAAwB,WAA5B,EAAyC;UACjCA,KAAP,GAAe7H,IAAIuD,UAAJ,CAAe,YAAf,CAAf;;mBAEgBW,WAAjB,CAA6B3E,MAA7B;EAhiEsB;0BAkiEE,iCAASA,MAAT,EAAiB;WAChC/B,EAAEiM,MAAF,CAASlK,MAAT,EAAiB;YAChB;aACC;cACC,IADD;eAEE,KAFF;WAGFA,OAAOugB;;;GALP,CAAT;UASQT,MAAR,CAAe9f,MAAf;EA5iEsB;;;;yBAAA,sCAijEI;UAClBkH,QAAR,CAAiBsZ,WAAjB,GAA+B,IAA/B,CAD0B;UAElBtZ,QAAR,CAAiBuZ,YAAjB,GAAgC,IAAhC;UACQvZ,QAAR,CAAiBwZ,OAAjB,GAA2B,YAA3B;UACQxZ,QAAR,CAAiByZ,KAAjB,GAAyB,cAAzB;EArjEsB;;;;;qBAAA,kCA0jEA;IACpBtY,QAAF,EAAY/J,EAAZ,CAAe,UAAf,EAA2B,kBAA3B,EAA+C,aAAK;KACjDC,EAAE0E,aAAJ,EAAmB2d,YAAnB;GADD;EA3jEsB;;;;;;wBAAA,mCAmkEC5iB,SAnkED,EAmkEY;YACxBM,EAAV,CAAa,OAAb,EAAsB,6CAAtB,EAAqE,aAAK;OACrEiiB,OAAOtiB,EAAEM,EAAEI,MAAJ,CAAX;OACI4hB,KAAK3hB,QAAL,CAAc,2BAAd,CAAJ,EAAgD;WACxC2hB,KAAKzgB,IAAL,CAAU,iBAAV,CAAP;;OAEG+gB,WAAWN,KAAK/hB,IAAL,EAAf;QACKsiB,WAAL,CAAoBD,SAASE,MAA7B,SAAuCF,SAASG,QAAhD;KACE9N,eAAF;GAPD;EApkEsB;UAAA,qBA8kEbnR,IA9kEa,EA8kEP;MACTkf,cAAc5Y,SAASoV,aAAT,CAAuB,KAAvB,CAApB;cACYkC,SAAZ,GAAwB5d,IAAxB;SACOkf,YAAYC,WAAZ,IAA2BD,YAAYE,SAAvC,IAAoD,EAA3D;;CAjlEF;AAolEA7J,SAAS8J,iBAAT,GAA6B,IAA7B;AACAnjB,EAAEoK,QAAF,EAAYgZ,KAAZ,CAAkB,YAAW;QACrBC,OAAP,CAAehL,GAAf,CAAmBiL,OAAOD,OAAP,CAAeE,KAAlC;KACInZ,WAAWpK,EAAE,IAAF,CAAf;KACIwjB,uBAAJ,CAA4BpZ,QAA5B;KACIqZ,WAAJ,GAAkBjhB,IAAIkhB,aAAJ,EAAlB;KACIC,wBAAJ;KACIhT,MAAJ,CAAWC,QAAX,CAAoBgT,uBAApB;KACIC,2BAAJ;KACIC,eAAJ;KACIC,oBAAJ;KACIC,4BAAJ;KACIC,aAAJ;KACIC,sBAAJ;KACIC,YAAJ;KACIC,eAAJ;KACIC,oBAAJ,CAAyBja,QAAzB;KACI8G,oBAAJ,CAAyB9G,QAAzB;KACIjI,UAAJ,CAAemiB,SAAf,CAAyBC,QAAzB;QACOjb,SAAP,CAAiBkb,WAAjB,GAA+B,YAAW;MACrCpM,QAAQ,KAAKqM,OAAL,EAAZ;SACOrM,MAAMsM,MAAN,CAAa,CAAb,EAAgBjQ,WAAhB,KAAgC2D,MAAM7O,KAAN,CAAY,CAAZ,EAAeob,WAAf,EAAvC;EAFD;;KAKI,OAAOC,IAAP,CAAYla,UAAUma,SAAtB,KAAoC,UAAUD,IAAV,CAAela,UAAUma,SAAzB,CAAxC,EAA6E;IAC1E,UAAF,EAAcC,SAAd;;;KAGGtL,iBAAiBhX,IAAIuiB,iBAAJ,EAArB;KACIvL,cAAJ,EAAoB;iBACJlV,cAAf;;CA7BF;AAgCA,CAAC,UAAStE,CAAT,EAAY;GACVuQ,EAAF,CAAKyU,kBAAL,GAA0B,YAAW;SAC7BnlB,IAAI8Q,MAAJ,CAAWsU,MAAX,CAAkBC,UAAlB,CAA6BllB,EAAE,IAAF,EAAQyB,GAAR,EAA7B,CAAP;EADD;GAGE8O,EAAF,CAAK4U,iBAAL,GAAyB,YAAW;SAC5BtlB,IAAI8Q,MAAJ,CAAWsU,MAAX,CAAkBC,UAAlB,CAA6BllB,EAAE,IAAF,EAAQ4V,IAAR,EAA7B,CAAP;EADD;GAGErF,EAAF,CAAK6U,QAAL,GAAgB,UAAShN,KAAT,EAAgC;MAAhB0D,IAAgB,uEAAT,OAAS;;SACxCjc,IAAI8Q,MAAJ,CAAWmE,KAAX,CAAiBsQ,QAAjB,CAA0BplB,EAAE,IAAF,CAA1B,EAAmCoY,KAAnC,EAA0C0D,IAA1C,CAAP;EADD;GAGEvL,EAAF,CAAKoS,YAAL,GAAoB,YAAW;MAC1Blb,UAAUzH,EAAE,IAAF,CAAd;UACQyB,GAAR,CAAY5B,IAAI8Q,MAAJ,CAAWsU,MAAX,CAAkBI,eAAlB,CAAkCxlB,IAAI8Q,MAAJ,CAAWsU,MAAX,CAAkBC,UAAlB,CAA6Bzd,QAAQhG,GAAR,EAA7B,CAAlC,EAA+E,KAA/E,CAAZ;EAFD;GAIE8O,EAAF,CAAK+U,OAAL,GAAe,YAAW;OACpB5d,IAAL,CAAU,UAAV,EAAsB,UAAtB;EADD;GAGE6I,EAAF,CAAKgV,MAAL,GAAc,YAAW;OACnBpe,UAAL,CAAgB,UAAhB;EADD;GAGEoJ,EAAF,CAAKxI,iBAAL,GAAyB,YAAW;MAC/BnD,OAAO5E,EAAE,IAAF,CAAX;OACK,IAAIY,QAAT,IAAqByY,SAASC,SAA9B,EAAyC;YAC/BA,SAAT,CAAmB1Y,QAAnB,EAA6B4kB,aAA7B;;MAEG5F,SAAShb,KAAK6gB,cAAL,EAAb;MACIllB,OAAO,EAAX;MACIqf,MAAJ,EAAY;KACTA,MAAF,EAAU3Y,IAAV,CAAe,UAASkS,CAAT,EAAYuM,CAAZ,EAAe;QACzBA,EAAEC,IAAF,IAAUplB,IAAV,IAAkBoZ,QAAOpZ,KAAKmlB,EAAEC,IAAP,CAAP,MAAwB,QAA9C,EAAwD;SACnDle,UAAU7C,KAAK/C,IAAL,CAAU,YAAY6jB,EAAEC,IAAd,GAAqB,IAA/B,CAAd;;SAEIle,QAAQ4D,EAAR,CAAW,QAAX,KAAwB5D,QAAQC,IAAR,CAAa,UAAb,KAA4BjH,SAAxD,EAAmE;UAC9DmlB,YAAYrlB,KAAKmlB,EAAEC,IAAP,CAAhB;WACKD,EAAEC,IAAP,IAAe,EAAf;WACKD,EAAEC,IAAP,EAAajN,IAAb,CAAkBkN,SAAlB;;;QAGEjM,QAAOpZ,KAAKmlB,EAAEC,IAAP,CAAP,MAAwB,QAA5B,EAAsC;UAChCD,EAAEC,IAAP,EAAajN,IAAb,CAAkBgN,EAAEtN,KAApB;KADD,MAEO;UACDsN,EAAEC,IAAP,IAAeD,EAAEtN,KAAjB;;IAbF;;;MAkBGyN,gBAAgB7lB,EAAE,4BAAF,EAAgCA,EAAE,IAAF,CAAhC,CAApB;IACE6lB,aAAF,EAAiB5e,IAAjB,CAAsB,UAASmL,CAAT,EAAY;OAC7B0T,KAAK9lB,EAAE6lB,cAAczT,CAAd,CAAF,CAAT;QACK0T,GAAGpe,IAAH,CAAQ,MAAR,CAAL,IAAwBoe,GAAGvlB,IAAH,CAAQ,OAAR,CAAxB;GAFD;SAIOA,IAAP;EA/BD;;GAkCEwlB,IAAF,CAAO,GAAP,EAAYC,SAAZ,GAAwB,UAASC,GAAT,EAAcze,KAAd,EAAqB0e,IAArB,EAA2BC,KAA3B,EAAkC;SAExD,CAACF,IAAIhD,WAAJ,IAAmBgD,IAAI/C,SAAvB,IAAoCljB,EAAEimB,GAAF,EAAOrQ,IAAP,EAApC,IAAqD,EAAtD,EAA0D+O,WAA1D,GAAwEjR,OAAxE,CAAgFwS,KAAK,CAAL,EAAQvB,WAAR,EAAhF,MACA,CAAC,CAFF;EADD;GAMEpU,EAAF,CAAK6V,cAAL,GAAsB,YAAW;IAC9B,IAAF,EACE1X,QADF,GAEE7G,MAFF,CAES,YAAW;UACX,KAAKwe,QAAL,IAAiB,CAAxB,CADkB;GAFpB,EAKEtf,MALF;EADD;SAQQuf,SAAR,CAAkBtkB,OAAOukB,OAAzB;CApED,EAqEGvmB,CArEH"}