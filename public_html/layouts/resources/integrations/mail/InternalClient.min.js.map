{"version":3,"file":"InternalClient.min.js","sources":["InternalClient.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\nIntegrations_Mail_Base.driver = 'InternalClient';\n/**\n * @classdesc Internal client mail integrations class.\n * @class\n */\nwindow.Integrations_Mail_InternalClient = class Integrations_Mail_InternalClient extends Integrations_Mail_Base {\n\t/** @inheritdoc */\n\tsendMail(attr) {\n\t\tthis.log('|â–º| sendMail', attr);\n\t\tif (attr['record'] && app.getRecordId() && attr['record'] !== app.getRecordId()) {\n\t\t\tattr['crmModule'] = app.getModuleName();\n\t\t\tattr['crmRecord'] = app.getRecordId();\n\t\t}\n\t\tAppConnector.request({\n\t\t\tdataType: 'json',\n\t\t\tdata: {\n\t\t\t\tmodule: 'AppComponents',\n\t\t\t\taction: 'Mail',\n\t\t\t\tmode: 'sendMail',\n\t\t\t\t...attr\n\t\t\t}\n\t\t}).done(function (response) {\n\t\t\tif (response.result.status) {\n\t\t\t\tif (attr['record'] && app.getRecordId() && attr['record'] !== app.getRecordId()) {\n\t\t\t\t\tresponse.result.url += '&crmModule=' + attr['crmModule'] + '&crmRecord=' + attr['crmRecord'];\n\t\t\t\t}\n\t\t\t\tVtiger_Index_Js.sendMailWindow(response.result.url, response.result.popup);\n\t\t\t} else {\n\t\t\t\tapp.showError({ title: app.vtranslate('JS_UNEXPECTED_ERROR'), text: response.result.text });\n\t\t\t}\n\t\t});\n\t}\n};\n"],"names":["Integrations_Mail_Base","driver","window","Integrations_Mail_InternalClient","attr","log","app","getRecordId","getModuleName","AppConnector","request","dataType","data","module","action","mode","done","response","result","status","url","Vtiger_Index_Js","sendMailWindow","popup","showError","title","vtranslate","text"],"mappings":"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"}