{"version":3,"file":"Base.min.js","sources":["Base.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n/**\n * @classdesc Base Pbx integrations class.\n * @class\n */\nwindow.Integrations_Pbx_Base = class Integrations_Pbx_Base {\n\t/** @type {string} */\n\tstatic driver = 'Base';\n\n\t/** @type {Integrations_Pbx_Base} */\n\tstatic instance;\n\n\t/**\n\t * Get current class instance\n\t * @param {jQuery} container\n\t * @returns {window.Integrations_Pbx_Base}\n\t */\n\tstatic getInstance(container) {\n\t\tconst moduleClassName = 'Integrations_Pbx_' + Integrations_Pbx_Base.driver;\n\t\treturn (Integrations_Pbx_Base.instance = new window[moduleClassName](container));\n\t}\n\t/**\n\t * Constructor\n\t * @param {jQuery} container\n\t */\n\tconstructor(container) {\n\t\tthis.container = container;\n\t}\n\t/**\n\t * Register events.\n\t */\n\tregisterEvents() {\n\t\tthis.container.on('click', '.js-phone-perform-call', (e) => {\n\t\t\tthis.performCall($(e.currentTarget).data(), e);\n\t\t});\n\t}\n\t/**\n\t * Perform call\n\t * @param {Object} data\n\t */\n\tperformCall(data) {\n\t\tAppConnector.request({\n\t\t\tmodule: 'AppComponents',\n\t\t\taction: 'Pbx',\n\t\t\tmode: 'performCall',\n\t\t\t...data\n\t\t}).done(function (response) {\n\t\t\tif (response.result.status) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: response.result.text,\n\t\t\t\t\ttype: 'info'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tapp.showError({\n\t\t\t\t\ttitle: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\ttext: response.result.text\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Show console logs\n\t * @param {string} message\n\t * @param {string} body\n\t */\n\tlog(message, body) {\n\t\tif (CONFIG.debug) {\n\t\t\tif (body) {\n\t\t\t\tconsole.groupCollapsed('[PBX] ' + message);\n\t\t\t\tconsole.dirxml(body);\n\t\t\t\tconsole.groupEnd();\n\t\t\t} else {\n\t\t\t\tconsole.log('PBX ' + message, 'color: red;font-size: 1.2em;font-weight: bolder;');\n\t\t\t}\n\t\t}\n\t}\n};\n"],"names":["window","Integrations_Pbx_Base","container","on","e","performCall","$","currentTarget","data","AppConnector","request","module","action","mode","done","response","result","status","app","showNotify","title","text","type","showError","vtranslate","message","body","CONFIG","debug","console","groupCollapsed","dirxml","groupEnd","log","moduleClassName","driver","instance"],"mappings":"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"}