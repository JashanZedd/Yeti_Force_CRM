{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_Detail_Js',\n\t{\n\t\tdetailInstance: false,\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Detail_Js.detailInstance == false) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_' + app.getViewName() + '_Js',\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new Vtiger_Detail_Js();\n\t\t\t\t}\n\t\t\t\tVtiger_Detail_Js.detailInstance = instance;\n\t\t\t}\n\t\t\treturn Vtiger_Detail_Js.detailInstance;\n\t\t},\n\t\t/*\n\t\t * function to trigger Detail view actions\n\t\t * @params: Action url , callback function.\n\t\t */\n\t\ttriggerDetailViewAction: function (detailActionUrl, callBackFunction) {\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tlet selectedIds = [];\n\t\t\tselectedIds.push(detailInstance.getRecordId());\n\t\t\tlet postData = {\n\t\t\t\tselected_ids: JSON.stringify(selectedIds)\n\t\t\t};\n\t\t\tlet actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: detailActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: postData\n\t\t\t};\n\n\t\t\tAppConnector.request(actionParams)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, { 'text-align': 'left' });\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\t/*\n\t\t * function to trigger send Sms\n\t\t * @params: send sms url , module name.\n\t\t */\n\t\ttriggerSendSms: function (detailActionUrl, module) {\n\t\t\tVtiger_Detail_Js.triggerDetailViewAction(detailActionUrl);\n\t\t},\n\t\ttriggerTransferOwnership: function (massActionUrl) {\n\t\t\tlet thisInstance = this;\n\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\tlet actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: massActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: {}\n\t\t\t};\n\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tlet callback = function (data) {\n\t\t\t\t\t\tlet params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tif (form.attr('name') == 'changeOwner') {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tjQuery('#changeOwner').validationEngine(app.validationEngineOptions);\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tlet selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttransferOwnershipSave: function (form) {\n\t\t\tlet transferOwner = jQuery('#transferOwnerId').val();\n\t\t\tlet relatedModules = jQuery('#related_modules').val();\n\t\t\tlet recordId = jQuery('#recordId').val();\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\taction: 'TransferOwnership',\n\t\t\t\trecord: recordId,\n\t\t\t\ttransferOwnerId: transferOwner,\n\t\t\t\trelated_modules: relatedModules\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tlet oldvalue = jQuery('.assigned_user_id').val();\n\t\t\t\t\tlet element = jQuery('.assigned_user_id ');\n\n\t\t\t\t\telement.find('option[value=\"' + oldvalue + '\"]').removeAttr('selected');\n\t\t\t\t\telement.find('option[value=\"' + transferOwner + '\"]').attr('selected', 'selected');\n\t\t\t\t\telement.trigger('liszt:updated');\n\t\t\t\t\tlet Fieldname = element\n\t\t\t\t\t\t.find('option[value=\"' + transferOwner + '\"]')\n\t\t\t\t\t\t.data('picklistvalue');\n\t\t\t\t\telement\n\t\t\t\t\t\t.closest('.row-fluid')\n\t\t\t\t\t\t.find('.value')\n\t\t\t\t\t\t.html(\n\t\t\t\t\t\t\t'<a href=\"index.php?module=Users&amp;parent=Settings&amp;view=Detail&amp;record=' +\n\t\t\t\t\t\t\t\ttransferOwner +\n\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\tFieldname +\n\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t);\n\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to get the related module container\n\t\t */\n\t\tgetRelatedModuleContainer: function () {\n\t\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t\t}\n\t\t\treturn this.getRelatedModulesContainer;\n\t\t},\n\t\treloadRelatedList: function () {\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tlet params = {};\n\t\t\tif (jQuery('[name=\"currentPageNum\"]').length > 0) {\n\t\t\t\tparams.page = jQuery('[name=\"currentPageNum\"]').val();\n\t\t\t}\n\t\t\tdetailInstance.loadRelatedList(params);\n\t\t},\n\t\trunRecordChanger: function (id) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\taction: 'Save',\n\t\t\t\tmode: 'recordChanger',\n\t\t\t\tid: id\n\t\t\t})\n\t\t\t\t.done(function () {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t})\n\t\t\t\t.fail(function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tshowWorkflowTriggerView: function (instance) {\n\t\t\t$(instance).popover('hide');\n\t\t\tconst detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\t\tcallback = function (data) {\n\t\t\t\t\tlet treeInstance = data.find('#treeWorkflowContents');\n\t\t\t\t\ttreeInstance.jstree({\n\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\tdata: JSON.parse(data.find('.js-tree-workflow-data').val()),\n\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\t\t\ticons: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcheckbox: {\n\t\t\t\t\t\t\tthree_state: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplugins: ['search', 'category']\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[type=\"submit\"]').on('click', function () {\n\t\t\t\t\t\tlet tasks = {};\n\t\t\t\t\t\tlet selected = treeInstance.jstree('getCategory', true);\n\t\t\t\t\t\t$.each(selected, function (index, treeElement) {\n\t\t\t\t\t\t\tif (treeElement.attr === 'record') {\n\t\t\t\t\t\t\t\ttasks[treeElement.record_id] = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$.each(selected, function (index, treeElement) {\n\t\t\t\t\t\t\tif (tasks[treeElement.parent] !== undefined && treeElement.attr === 'task') {\n\t\t\t\t\t\t\t\ttasks[treeElement.parent].push(treeElement.record_id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (Object.keys(tasks).length === 0) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_INFORMATION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_SELECTED_WORKFLOW_TRIGGER'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_STARTED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\taction: 'Workflow',\n\t\t\t\t\t\t\t\tmode: 'execute',\n\t\t\t\t\t\t\t\tuser: data.find('[name=\"user\"]').val(),\n\t\t\t\t\t\t\t\trecord: detailInstance.getRecordId(),\n\t\t\t\t\t\t\t\ttasks: JSON.stringify(tasks)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_COMPLETED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\tdetailInstance.loadWidgets();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR_DURING_TRIGGER_OF_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'WorkflowTrigger',\n\t\t\t\trecord: detailInstance.getRecordId()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tapp.showModalWindow(data, '', callback);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\ttargetPicklistChange: false,\n\t\ttargetPicklist: false,\n\t\tdetailViewContentHolder: false,\n\t\tdetailViewForm: false,\n\t\tdetailViewDetailsTabLabel: 'LBL_RECORD_DETAILS',\n\t\tdetailViewSummaryTabLabel: 'LBL_RECORD_SUMMARY',\n\t\tdetailViewRecentCommentsTabLabel: 'ModComments',\n\t\tdetailViewRecentActivitiesTabLabel: 'Activities',\n\t\tdetailViewRecentUpdatesTabLabel: 'LBL_UPDATES',\n\t\tdetailViewRecentDocumentsTabLabel: 'Documents',\n\t\tfieldUpdatedEvent: 'Vtiger.Field.Updated',\n\t\t//Filels list on updation of which we need to upate the detailview header\n\t\tupdatedFields: ['company', 'designation', 'title'],\n\t\t//Event that will triggered before saving the ajax edit of fields\n\t\tfieldPreSave: 'Vtiger.Field.PreSave',\n\t\ttempData: [],\n\t\treferenceFieldNames: {\n\t\t\tCalendar: {\n\t\t\t\tAccounts: 'link',\n\t\t\t\tLeads: 'link',\n\t\t\t\tVendors: 'link',\n\t\t\t\tOSSEmployees: 'link',\n\t\t\t\tContacts: 'linkextend',\n\t\t\t\tCampaigns: 'process',\n\t\t\t\tHelpDesk: 'process',\n\t\t\t\tProjects: 'process',\n\t\t\t\tServiceContracts: 'process'\n\t\t\t},\n\t\t\tOutsourcedProducts: {\n\t\t\t\tLeads: 'parent_id',\n\t\t\t\tAccounts: 'parent_id',\n\t\t\t\tContacts: 'parent_id'\n\t\t\t},\n\t\t\tAssets: {\n\t\t\t\tAccounts: 'parent_id',\n\t\t\t\tContacts: 'parent_id'\n\t\t\t},\n\t\t\tOSSOutsourcedServices: {\n\t\t\t\tLeads: 'parent_id',\n\t\t\t\tAccounts: 'parent_id',\n\t\t\t\tContacts: 'parent_id'\n\t\t\t},\n\t\t\tOSSSoldServices: {\n\t\t\t\tAccounts: 'parent_id',\n\t\t\t\tContacts: 'parent_id'\n\t\t\t}\n\t\t},\n\t\t//constructor\n\t\tinit: function () {},\n\t\tloadWidgetsEvents: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tapp.event.on('DetailView.Widget.AfterLoad', function (\n\t\t\t\te,\n\t\t\t\twidgetContent,\n\t\t\t\trelatedModuleName,\n\t\t\t\tinstance\n\t\t\t) {\n\t\t\t\tif (relatedModuleName === 'Calendar') {\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(\n\t\t\t\t\t\twidgetContent.closest('.activityWidgetContainer')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'ModComments') {\n\t\t\t\t\tthisInstance.registerCommentEventsInDetail(\n\t\t\t\t\t\twidgetContent.closest('.updatesWidgetContainer')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (widgetContent.find('[name=\"relatedModule\"]').length) {\n\t\t\t\t\tthisInstance.registerShowSummary(widgetContent);\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'OSSMailView') {\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t\twidgetContent.find('.showMailModal').on('click', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function (\n\t\t\t\t\t\t\tdata\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.registerEmailEvents(widgetContent);\n\t\t\t\tif (relatedModuleName === 'DetailView') {\n\t\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t}\n\t\t\t\tthisInstance.registerCollapsiblePanels(widgetContent.closest('.js-detail-widget'));\n\t\t\t});\n\t\t},\n\t\tloadWidgets: function () {\n\t\t\tlet container = this.getForm();\n\t\t\tlet widgetList = jQuery('[class^=\"widgetContainer_\"]');\n\t\t\tlet length = widgetList.length;\n\t\t\twidgetList.each((index, widget) => {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tthis.loadWidget(widget);\n\t\t\t\t}\n\t\t\t\tif (length === index + 1) {\n\t\t\t\t\tcontainer.validationEngine('detach');\n\t\t\t\t\tcontainer.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerRelatedModulesRecordCount();\n\t\t},\n\t\tloadWidget: function (widgetContainer, params) {\n\t\t\tconst thisInstance = this,\n\t\t\t\tcontentContainer = $('.js-detail-widget-content', widgetContainer);\n\t\t\tlet relatedModuleName;\n\t\t\tthis.registerFilterForAddingModuleRelatedRecordFromSummaryWidget(widgetContainer);\n\t\t\tif (widgetContainer.find('[name=\"relatedModule\"]').length) {\n\t\t\t\trelatedModuleName = widgetContainer.find('[name=\"relatedModule\"]').val();\n\t\t\t} else {\n\t\t\t\trelatedModuleName = widgetContainer.data('name');\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\tlet urlParams = widgetContainer.data('url');\n\t\t\t\tif (urlParams == undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet queryParameters = urlParams.split('&'),\n\t\t\t\t\tkeyValueMap = {},\n\t\t\t\t\tindex;\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParamComponents = queryParameters[index].split('=');\n\t\t\t\t\tkeyValueMap[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t}\n\t\t\t\tparams = keyValueMap;\n\t\t\t}\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tcontentContainer.progressIndicator({});\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: params\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tcontentContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetContainer.find('.select2'));\n\t\t\t\t\tapp.registerModal(contentContainer);\n\t\t\t\t\tif (relatedModuleName) {\n\t\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(\n\t\t\t\t\t\t\twidgetContainer.data('url'),\n\t\t\t\t\t\t\tthisInstance.getSelectedTab()\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(contentContainer);\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t\tthisInstance.widgetRelatedRecordView(widgetContainer, true);\n\t\t\t\t\t\tlet chart = contentContainer.find('[name=\"typeChart\"]');\n\t\t\t\t\t\tif(chart.length && typeof window['Vtiger_Widget_Js'] !== 'undefined'){\n\t\t\t\t\t\t\tlet widgetInstance = Vtiger_Widget_Js.getInstance(contentContainer, chart.val());\n\t\t\t\t\t\t\twidgetInstance.init(contentContainer);\n\t\t\t\t\t\t\twidgetInstance.loadChart();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger(\n\t\t\t\t\t\t'DetailView.Widget.AfterLoad',\n\t\t\t\t\t\tcontentContainer,\n\t\t\t\t\t\trelatedModuleName,\n\t\t\t\t\t\tthisInstance\n\t\t\t\t\t);\n\t\t\t\t\taDeferred.resolve(params);\n\t\t\t\t})\n\t\t\t\t.fail(function () {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\twidgetRelatedRecordView: function (container, load) {\n\t\t\tlet cacheKey = this.getRecordId() + '_' + container.data('id');\n\t\t\tlet relatedRecordCacheID = app.moduleCacheGet(cacheKey);\n\t\t\tif (relatedRecordCacheID !== null) {\n\t\t\t\tlet newActive = container.find(\n\t\t\t\t\t\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\"\n\t\t\t\t);\n\t\t\t\tif (newActive.length) {\n\t\t\t\t\tcontainer.find('.js-carousel-item.active').removeClass('active');\n\t\t\t\t\tcontainer\n\t\t\t\t\t\t.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\")\n\t\t\t\t\t\t.addClass('active');\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet controlBox = container.find('.control-widget');\n\t\t\tlet prev = controlBox.find('.prev');\n\t\t\tlet next = controlBox.find('.next');\n\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.next().length) {\n\t\t\t\tnext.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tnext.removeClass('disabled');\n\t\t\t}\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.prev().length) {\n\t\t\t\tprev.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tprev.removeClass('disabled');\n\t\t\t}\n\t\t\tif (load) {\n\t\t\t\tnext.on('click', function () {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tlet nextElement = active.next();\n\t\t\t\t\tnextElement.addClass('active');\n\t\t\t\t\tif (!nextElement.next().length) {\n\t\t\t\t\t\tnext.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.prev()) {\n\t\t\t\t\t\tprev.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, nextElement.data('id'));\n\t\t\t\t});\n\t\t\t\tprev.on('click', function () {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tlet prevElement = active.prev();\n\t\t\t\t\tprevElement.addClass('active');\n\t\t\t\t\tif (!prevElement.prev().length) {\n\t\t\t\t\t\tprev.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.next()) {\n\t\t\t\t\t\tnext.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, prevElement.data('id'));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tloadContents: function (url, data) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tlet params = url;\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t\tparams.url = url;\n\t\t\t\tparams.data = data;\n\t\t\t}\n\t\t\tAppConnector.requestPjax(params).done(function (responseData) {\n\t\t\t\tdetailContentsHolder.html(responseData);\n\t\t\t\tresponseData = detailContentsHolder.html();\n\t\t\t\t//thisInstance.triggerDisplayTypeEvent();\n\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t//Make select box more usability\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(detailContentsHolder);\n\t\t\t\t//Attach date picker event to date fields\n\t\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\t\tthisInstance.getForm().validationEngine();\n\t\t\t\tapp.event.trigger('DetailView.LoadContents.AfterLoad', responseData);\n\t\t\t\taDeferred.resolve(responseData);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetUpdateFieldsArray: function () {\n\t\t\treturn this.updatedFields;\n\t\t},\n\t\t/**\n\t\t * Function to return related tab.\n\t\t * @return : jQuery Object.\n\t\t */\n\t\tgetTabByLabel: function (tabLabel) {\n\t\t\tlet tabs = this.getTabs();\n\t\t\tlet targetTab = false;\n\t\t\ttabs.each(function (index, element) {\n\t\t\t\tlet tab = jQuery(element);\n\t\t\t\tlet labelKey = tab.data('labelKey');\n\t\t\t\tif (labelKey == tabLabel) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tgetTabByModule: function (moduleName, relationId = '') {\n\t\t\tlet tabs = this.getTabs();\n\t\t\tlet targetTab = false;\n\t\t\ttabs.each(function (index, element) {\n\t\t\t\tlet tab = jQuery(element);\n\t\t\t\tif (\n\t\t\t\t\ttab.data('reference') == moduleName &&\n\t\t\t\t\t(!relationId || (relationId && relationId == tab.data('relation-id')))\n\t\t\t\t) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tselectModuleTab: function () {\n\t\t\tlet relatedTabContainer = this.getTabContainer();\n\t\t\tlet moduleTab = relatedTabContainer.find('li.module-tab');\n\t\t\tthis.deSelectAllrelatedTabs();\n\t\t\tthis.markTabAsSelected(moduleTab);\n\t\t},\n\t\tdeSelectAllrelatedTabs: function () {\n\t\t\tthis.getTabs().removeClass('active');\n\t\t},\n\t\tmarkTabAsSelected: function (tabElement) {\n\t\t\ttabElement.addClass('active');\n\t\t\t$(\n\t\t\t\t'.related .dropdown [data-reference=\"' +\n\t\t\t\t\ttabElement.data('reference') +\n\t\t\t\t\t'\"][data-relation-id=\"' +\n\t\t\t\t\ttabElement.data('relation-id') +\n\t\t\t\t\t'\"]'\n\t\t\t).addClass('active');\n\t\t},\n\t\treloadTabContent: function () {\n\t\t\tthis.getSelectedTab().trigger('click');\n\t\t},\n\t\tgetSelectedTab: function () {\n\t\t\tlet tabContainer = this.getTabContainer();\n\t\t\treturn tabContainer.find('.js-detail-tab.active:not(.d-none)');\n\t\t},\n\t\tgetTabContainer: function () {\n\t\t\treturn jQuery('div.related');\n\t\t},\n\t\tgetTabs: function () {\n\t\t\tlet topTabs = this.getTabContainer().find('li.baseLink:not(.d-none)');\n\t\t\tlet dropdownMenuTabs = this.getTabContainer().find('li:not(.baseLink)');\n\t\t\tdropdownMenuTabs.each(function (n, e) {\n\t\t\t\tlet currentTarget = jQuery(this);\n\t\t\t\tlet iteration = currentTarget.data('iteration');\n\t\t\t\tlet className = currentTarget.hasClass('mainNav') ? 'mainNav' : 'relatedNav';\n\t\t\t\tif (\n\t\t\t\t\titeration != undefined &&\n\t\t\t\t\ttopTabs.filter('.' + className + '[data-iteration=\"' + iteration + '\"]').length < 1\n\t\t\t\t) {\n\t\t\t\t\ttopTabs.push(currentTarget.get(0));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn topTabs;\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = jQuery('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\t/**\n\t\t * Function which will give the detail view form\n\t\t * @return : jQuery element\n\t\t */\n\t\tgetForm: function () {\n\t\t\tif (this.detailViewForm == false) {\n\t\t\t\tthis.detailViewForm = jQuery('#detailView');\n\t\t\t}\n\t\t\treturn this.detailViewForm;\n\t\t},\n\t\tgetRecordId: function () {\n\t\t\treturn app.getRecordId();\n\t\t},\n\t\tgetRelatedModuleName: function () {\n\t\t\tif (jQuery('.relatedModuleName', this.getContentHolder()).length == 1) {\n\t\t\t\treturn jQuery('.relatedModuleName', this.getContentHolder()).val();\n\t\t\t}\n\t\t},\n\t\tsaveFieldValues: function (fieldDetailList) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet recordId = this.getRecordId();\n\n\t\t\tlet data = {};\n\t\t\tif (typeof fieldDetailList !== 'undefined') {\n\t\t\t\tdata = fieldDetailList;\n\t\t\t}\n\t\t\tdata['record'] = recordId;\n\t\t\tdata['module'] = app.getModuleName();\n\t\t\tdata['action'] = 'SaveAjax';\n\n\t\t\tconst params = {};\n\t\t\tparams.data = data;\n\t\t\tparams.async = false;\n\t\t\tparams.dataType = 'json';\n\t\t\tthis.preSaveValidation(JSON.parse(JSON.stringify(params)), this.getForm()).then(\n\t\t\t\t(response) => {\n\t\t\t\t\tif (response === true) {\n\t\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail((jqXHR, textStatus, errorThrown) => {\n\t\t\t\t\t\t\t\taDeferred.reject(jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\t\tapp.errorLog(jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\taDeferred.resolve({ success: false });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tpreSaveValidation: function (params, form) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (form.find('#preSaveValidation').val()) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tparams.data.mode = 'preSaveValidation';\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tfor (let i = 0; i < response.length; i++) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data.result.length <= 0) {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedListCurrentPageNum: function () {\n\t\t\treturn jQuery('input[name=\"currentPageNum\"]', this.getContentHolder()).val();\n\t\t},\n\t\t/**\n\t\t * function to hide comment block.\n\t\t */\n\t\tremoveCommentBlock: function () {\n\t\t\t$('.js-add-comment-block', $('.js-comments-body', this.getContentHolder())).remove();\n\t\t},\n\n\t\t/**\n\t\t * function to hide button action.\n\t\t */\n\t\thideButtonAction: function () {\n\t\t\t$('.js-hb__container').removeClass('u-hidden-block__opened');\n\t\t},\n\n\t\t/**\n\t\t * function to show comment block.\n\t\t */\n\t\tshowCommentBlock: function () {\n\t\t\t$('.js-add-comment-block', $('.js-comments-body', this.getContentHolder())).show();\n\t\t},\n\n\t\t/**\n\t\t * function to get the Comment thread for the given parent.\n\t\t * params: Url to get the Comment thread\n\t\t */\n\t\tgetCommentThread: function (url) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save comment\n\t\t */\n\t\tsaveCommentAjax: function (\n\t\t\telement,\n\t\t\tcommentMode,\n\t\t\tcommentContentValue,\n\t\t\teditCommentReason,\n\t\t\tcommentId,\n\t\t\tparentCommentId,\n\t\t\taDeferred\n\t\t) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({});\n\t\t\tlet commentInfoBlock = element.closest('.js-comment-single');\n\t\t\tlet relatedTo = commentInfoBlock.find('.related_to').val();\n\t\t\tif (!relatedTo) {\n\t\t\t\trelatedTo = thisInstance.getRecordId();\n\t\t\t}\n\t\t\tlet postData = {\n\t\t\t\tcommentcontent: commentContentValue,\n\t\t\t\trelated_to: relatedTo,\n\t\t\t\tmodule: 'ModComments'\n\t\t\t};\n\n\t\t\tif (commentMode == 'edit') {\n\t\t\t\tpostData['record'] = commentId;\n\t\t\t\tpostData['reasontoedit'] = editCommentReason;\n\t\t\t\tpostData['parent_comments'] = parentCommentId;\n\t\t\t\tpostData['mode'] = 'edit';\n\t\t\t\tpostData['action'] = 'Save';\n\t\t\t} else if (commentMode == 'add') {\n\t\t\t\tpostData['parent_comments'] = commentId;\n\t\t\t\tpostData['action'] = 'SaveAjax';\n\t\t\t}\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (commentMode == 'add') {\n\t\t\t\t\t\tthisInstance.addRelationBetweenRecords(\n\t\t\t\t\t\t\t'ModComments',\n\t\t\t\t\t\t\tdata.result.id,\n\t\t\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel),\n\t\t\t\t\t\t\t{ relationId: null }\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterAjax', commentInfoBlock, postData, data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\tsaveComment: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tcurrentTarget = jQuery(e.currentTarget),\n\t\t\t\tcommentMode = currentTarget.data('mode'),\n\t\t\t\tclosestCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentContent = closestCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentContentValue = commentContent.html(),\n\t\t\t\terrorMsg,\n\t\t\t\teditCommentReason;\n\t\t\tif ('' === commentContentValue) {\n\t\t\t\terrorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY');\n\t\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\t\taDeferred.reject(errorMsg);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif ('edit' === commentMode) {\n\t\t\t\teditCommentReason = closestCommentBlock.find('[name=\"reasonToEdit\"]').val();\n\t\t\t}\n\t\t\tlet element = jQuery(e.currentTarget),\n\t\t\t\tcommentInfoHeader = closestCommentBlock\n\t\t\t\t\t.closest('.js-comment-details')\n\t\t\t\t\t.find('.js-comment-info-header'),\n\t\t\t\tcommentId = commentInfoHeader.data('commentid'),\n\t\t\t\tparentCommentId = commentInfoHeader.data('parentcommentid');\n\t\t\tthis.saveCommentAjax(\n\t\t\t\telement,\n\t\t\t\tcommentMode,\n\t\t\t\tcommentContentValue,\n\t\t\t\teditCommentReason,\n\t\t\t\tcommentId,\n\t\t\t\tparentCommentId,\n\t\t\t\taDeferred\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return the UI of the comment.\n\t\t * return html\n\t\t */\n\t\tgetCommentUI: function (commentId) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet postData = {\n\t\t\t\tview: 'DetailAjax',\n\t\t\t\tmodule: 'ModComments',\n\t\t\t\trecord: commentId\n\t\t\t};\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return cloned add comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetCommentBlock: function () {\n\t\t\tlet clonedCommentBlock = jQuery('.basicAddCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicAddCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/**\n\t\t * function to return cloned edit comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetEditCommentBlock: function () {\n\t\t\tlet clonedCommentBlock = jQuery('.basicEditCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicEditCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\tnew App.Fields.Text.Completions(clonedCommentBlock.find('.js-completions'), {\n\t\t\t\temojiPanel: false\n\t\t\t});\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/*\n\t\t * Function to register the submit event for Send Sms\n\t\t */\n\t\tregisterSendSmsSubmitEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tjQuery('body').on('submit', '#massSave', function (e) {\n\t\t\t\tlet form = jQuery(e.currentTarget);\n\t\t\t\tlet smsTextLength = form.find('#message').html().length;\n\t\t\t\tif (smsTextLength > 160) {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('LBL_SMS_MAX_CHARACTERS_ALLOWED'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet submitButton = form.find(':submit');\n\t\t\t\tsubmitButton.attr('disabled', 'disabled');\n\t\t\t\tthisInstance.SendSmsSave(form);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to Save and sending the Sms and hide the modal window of send sms\n\t\t */\n\t\tSendSmsSave: function (form) {\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet SendSmsUrl = form.serializeFormData();\n\t\t\tAppConnector.request(SendSmsUrl)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tprogressInstance.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\t/**\n\t\t * Function which will register events to update the record name in the detail view when any of\n\t\t * the name field is changed\n\t\t */\n\t\tregisterNameAjaxEditEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, '.nameField', function (e, params) {\n\t\t\t\tlet form = thisInstance.getForm();\n\t\t\t\tlet nameFields = form.data('nameFields');\n\t\t\t\tlet recordLabel = '';\n\t\t\t\tfor (let index in nameFields) {\n\t\t\t\t\tif (index != 0) {\n\t\t\t\t\t\trecordLabel += ' ';\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nameFieldName = nameFields[index];\n\t\t\t\t\trecordLabel += form.find('[name=\"' + nameFieldName + '\"]').val();\n\t\t\t\t}\n\t\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t});\n\t\t},\n\t\tupdateHeaderNameFields: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet form = thisInstance.getForm();\n\t\t\tlet nameFields = form.data('nameFields');\n\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\tlet title = '';\n\t\t\tfor (let index in nameFields) {\n\t\t\t\tlet nameFieldName = nameFields[index];\n\t\t\t\tlet nameField = form.find('[name=\"' + nameFieldName + '\"]');\n\t\t\t\tif (nameField.length > 0) {\n\t\t\t\t\tlet recordLabel = nameField.val();\n\t\t\t\t\ttitle += recordLabel + ' ';\n\t\t\t\t\trecordLabelElement.find('[class=\"' + nameFieldName + '\"]').text(recordLabel);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet salutatioField = recordLabelElement.find('.salutation');\n\t\t\tif (salutatioField.length > 0) {\n\t\t\t\tlet salutatioValue = salutatioField.text();\n\t\t\t\ttitle = salutatioValue + title;\n\t\t\t}\n\t\t\trecordLabelElement.attr('title', title);\n\t\t},\n\t\tregisterAjaxEditEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, 'input,select,textarea', function (\n\t\t\t\te\n\t\t\t) {\n\t\t\t\tthisInstance.updateHeaderValues(jQuery(e.currentTarget));\n\t\t\t});\n\t\t},\n\t\tupdateHeaderValues: function (currentElement) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (currentElement.hasClass('nameField')) {\n\t\t\t\tthisInstance.updateHeaderNameFields();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tlet name = currentElement.attr('name');\n\t\t\tlet updatedFields = this.getUpdateFieldsArray();\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tif (jQuery.inArray(name, updatedFields) != '-1') {\n\t\t\t\tlet recordLabel = currentElement.val();\n\t\t\t\tlet recordLabelElement = detailContentsHolder\n\t\t\t\t\t.closest('.contentsDiv')\n\t\t\t\t\t.find('.' + name + '_label');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of email field\n\t\t */\n\t\tregisterEmailFieldClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.emailField', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of phone field\n\t\t */\n\t\tregisterPhoneFieldClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.phoneField', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of url field\n\t\t */\n\t\tregisterUrlFieldClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.urlField', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for related list row click\n\t\t */\n\t\tregisterRelatedRowClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.listViewEntries', function (e) {\n\t\t\t\tlet targetElement = jQuery(e.target, jQuery(e.currentTarget));\n\t\t\t\tif (\n\t\t\t\t\ttargetElement.is('td:first-child') &&\n\t\t\t\t\ttargetElement.children('input[type=\"checkbox\"]').length > 0\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\tlet elem = jQuery(e.currentTarget);\n\t\t\t\tlet recordUrl = elem.data('recordurl');\n\t\t\t\tif (typeof recordUrl !== 'undefined') {\n\t\t\t\t\twindow.location.href = recordUrl;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (params == undefined) {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tlet relatedListInstance = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\tthis.getRecordId(),\n\t\t\t\tapp.getModuleName(),\n\t\t\t\tthis.getSelectedTab(),\n\t\t\t\tthis.getRelatedModuleName()\n\t\t\t);\n\t\t\trelatedListInstance.loadRelatedList(params).done(\n\t\t\t\tfunction (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t},\n\t\t\t\tfunction (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register Event for Sorting\n\t\t */\n\t\tregisterEventForRelatedList: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tlet relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\tif (relatedModuleName) {\n\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tthisInstance.getSelectedTab(),\n\t\t\t\t\trelatedModuleName\n\t\t\t\t);\n\t\t\t\trelatedController.setRelatedContainer(detailContentsHolder);\n\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t}\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink').each(function (n, block) {\n\t\t\t\tblock = $(block);\n\t\t\t\tlet blockContent = block.find('.blockContent');\n\t\t\t\tif (blockContent.is(':visible')) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\tdata: {},\n\t\t\t\t\t\turl: block.data('url')\n\t\t\t\t\t}).done(function (response) {\n\t\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(\n\t\t\t\t\t\t\tblock.data('url'),\n\t\t\t\t\t\t\tthisInstance.getSelectedTab()\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink .blockHeader').on('click', function (e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst block = $(this).closest('.js-toggle-panel');\n\t\t\t\tconst blockContent = block.find('.blockContent');\n\t\t\t\tconst isEmpty = blockContent.is(':empty');\n\t\t\t\tlet url = block.data('url');\n\t\t\t\tif (!blockContent.is(':visible') && url) {\n\t\t\t\t\tblockContent.progressIndicator();\n\t\t\t\t\tAppConnector.request(url).done(function (response) {\n\t\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\t\tconst relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tthisInstance.getSelectedTab()\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trelatedController.registerPostLoadEvents();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterBlockAnimationEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.find('.blockHeader').on('click', function (e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet currentTarget = $(this).find('.js-block-toggle').not('.d-none');\n\t\t\t\tlet blockId = currentTarget.data('id');\n\t\t\t\tlet closestBlock = currentTarget.closest('.js-toggle-panel');\n\t\t\t\tlet bodyContents = closestBlock.find('.blockContent');\n\t\t\t\tlet data = currentTarget.data();\n\t\t\t\tlet module = app.getModuleName();\n\t\t\t\tif (data.mode === 'show') {\n\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\tapp.cacheSet(module + '.' + blockId, 0);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tclosestBlock.find('[data-mode=\"hide\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\tapp.cacheSet(module + '.' + blockId, 1);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tclosestBlock.find('[data-mode=\"show\"]').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tapp.event.trigger('DetailView.js-block-toggle.PostLoad', bodyContents, data, thisInstance);\n\t\t\t});\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getContentHolder().find('.js-toggle-panel');\n\t\t\tlet module = app.getModuleName();\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = jQuery(block);\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.closest('.js-toggle-panel').find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle the ajax edit for detailview and summary view fields\n\t\t * which will expects the currentTdElement\n\t\t */\n\t\tajaxEditHandling: function (currentTdElement) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet readRecord = $('.setReadRecord'),\n\t\t\t\tdetailViewValue = $('.value', currentTdElement),\n\t\t\t\teditElement = $('.edit', currentTdElement),\n\t\t\t\tactionElement = $('.js-detail-quick-edit', currentTdElement),\n\t\t\t\tfieldElement = $('.fieldname', editElement);\n\t\t\treadRecord.prop('disabled', true);\n\t\t\t$(fieldElement).each(function (index, element) {\n\t\t\t\tlet fieldName = $(element).val(),\n\t\t\t\t\telementTarget = $(element),\n\t\t\t\t\telementName =\n\t\t\t\t\t\t$.inArray(elementTarget.data('type'), [\n\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t'multiListFields',\n\t\t\t\t\t\t\t'multiDomain',\n\t\t\t\t\t\t\t'mailScannerFields',\n\t\t\t\t\t\t\t'mailScannerActions'\n\t\t\t\t\t\t]) != -1\n\t\t\t\t\t\t\t? fieldName + '[]'\n\t\t\t\t\t\t\t: fieldName;\n\t\t\t\tlet fieldElement = $('[name=\"' + elementName + '\"]:not([type=\"hidden\"])', editElement);\n\t\t\t\tif (fieldElement.attr('disabled') == 'disabled') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.is(':visible')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t}\n\t\t\t\tdetailViewValue.addClass('d-none');\n\t\t\t\tactionElement.addClass('d-none');\n\t\t\t\teditElement\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.children()\n\t\t\t\t\t.filter('input[type!=\"hidden\"]input[type!=\"image\"],select')\n\t\t\t\t\t.filter(':first')\n\t\t\t\t\t.focus();\n\t\t\t\tlet saveHandler = function (e) {\n\t\t\t\t\tthisInstance.registerNameAjaxEditEvent();\n\t\t\t\t\tlet element = $(e.target);\n\t\t\t\t\tif ($(e.currentTarget).find('.dateTimePickerField').length) {\n\t\t\t\t\t\tif (element.closest('.drp-calendar').length || element.hasClass('drp-calendar')) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\telement.closest('.fieldValue').is(currentTdElement) ||\n\t\t\t\t\t\telement.hasClass('select2-selection__choice__remove') ||\n\t\t\t\t\t\telement.closest('.select2-container--open').length ||\n\t\t\t\t\t\telement.parents('.clockpicker-popover').length\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentTdElement.removeAttr('tabindex');\n\t\t\t\t\tcurrentTdElement.removeClass('is-edit-active');\n\t\t\t\t\tlet previousValue = elementTarget.data('prevValue'),\n\t\t\t\t\t\teditElement = elementTarget.closest('.edit'),\n\t\t\t\t\t\tajaxEditNewValue =\n\t\t\t\t\t\t\teditElement.find('[name=\"' + elementName + '\"]').length > 0\n\t\t\t\t\t\t\t\t? editElement.find('[name=\"' + elementName + '\"]').val()\n\t\t\t\t\t\t\t\t: editElement.find('[name=\"' + fieldName + '\"]').val(),\n\t\t\t\t\t\tfieldInfo = Vtiger_Field_Js.getInstance(fieldElement.data('fieldinfo')),\n\t\t\t\t\t\tdateTimeField = [],\n\t\t\t\t\t\tdateTime = false;\n\t\t\t\t\tif (editElement.find('[data-fieldinfo]').length == 2) {\n\t\t\t\t\t\teditElement.find('[data-fieldinfo]').each(function () {\n\t\t\t\t\t\t\tlet field = {\n\t\t\t\t\t\t\t\tname: $(this).attr('name'),\n\t\t\t\t\t\t\t\ttype: $(this).data('fieldinfo').type\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (field['type'] == 'datetime') {\n\t\t\t\t\t\t\t\tdateTime = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdateTimeField.push(field);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.is('input:checkbox')) {\n\t\t\t\t\t\tif (fieldElement.is(':checked')) {\n\t\t\t\t\t\t\tajaxEditNewValue = '1';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tajaxEditNewValue = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfieldElement = fieldElement.filter('[type=\"checkbox\"]');\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.validationEngine('validate')) {\n\t\t\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tfunction toStr(v) {\n\t\t\t\t\t\treturn v === undefined || v === null ? '' : v + '';\n\t\t\t\t\t}\n\t\t\t\t\tfieldElement.validationEngine('hide');\n\t\t\t\t\tif (toStr(previousValue) === toStr(ajaxEditNewValue)) {\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave),\n\t\t\t\t\t\t\tfieldNameValueMap = {};\n\t\t\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\t\t\tfieldValue: ajaxEditNewValue,\n\t\t\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (preFieldSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentTdElement.progressIndicator();\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tfieldNameValueMap['value'] = ajaxEditNewValue;\n\t\t\t\t\t\tfieldNameValueMap['field'] = fieldName;\n\t\t\t\t\t\tfieldNameValueMap = thisInstance.getCustomFieldNameValueMap(fieldNameValueMap);\n\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t.saveFieldValues(fieldNameValueMap)\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tcurrentTdElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst postSaveRecordDetails = response.result;\n\t\t\t\t\t\t\t\tlet displayValue = postSaveRecordDetails[fieldName].display_value,\n\t\t\t\t\t\t\t\t\tprevDisplayValue = postSaveRecordDetails[fieldName].prev_display_value;\n\t\t\t\t\t\t\t\tif (dateTimeField.length && dateTime) {\n\t\t\t\t\t\t\t\t\tdisplayValue =\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[0].name].display_value +\n\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[1].name].display_value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdetailViewValue.html(displayValue);\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tfieldInfo.data.label +\n\t\t\t\t\t\t\t\t\t\t'</b><br>' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_FROM') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tprevDisplayValue +\n\t\t\t\t\t\t\t\t\t\t'<br> ' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_TO') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tdisplayValue,\n\t\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\t\ttextTrusted: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (postSaveRecordDetails['_isViewable'] === false) {\n\t\t\t\t\t\t\t\t\tlet urlObject = app.convertUrlToObject(window.location.href);\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.parent.location.href =\n\t\t\t\t\t\t\t\t\t\t\t'index.php?module=' + urlObject['module'] + '&view=ListPreview';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = 'index.php?module=' + urlObject['module'] + '&view=List';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tpostSaveRecordDetails['_isEditable'] === false ||\n\t\t\t\t\t\t\t\t\tpostSaveRecordDetails['_reload'] === true\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t$.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = window.location.href.replace(\n\t\t\t\t\t\t\t\t\t\t\t'view=Detail',\n\t\t\t\t\t\t\t\t\t\t\t'view=DetailPreview'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfieldElement.trigger(thisInstance.fieldUpdatedEvent, {\n\t\t\t\t\t\t\t\t\told: previousValue,\n\t\t\t\t\t\t\t\t\tnew: ajaxEditNewValue\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tajaxEditNewValue = ajaxEditNewValue === undefined ? '' : ajaxEditNewValue; //data cannot be undefined\n\t\t\t\t\t\t\t\telementTarget.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tfieldElement.data('selectedValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tif (thisInstance.targetPicklistChange) {\n\t\t\t\t\t\t\t\t\tif ($('.js-widget-general-info', thisInstance.getForm()).length > 0) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.find('.js-detail-quick-edit').trigger('click');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.trigger('click');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\t\t\t\tif (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tselectedTabElement.data('linkKey') == thisInstance.detailViewDetailsTabLabel\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.updateRecordsPDFTemplateBtn(thisInstance.getForm());\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tcurrentTdElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_FAIL'),\n\t\t\t\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\teditElement.on('clickoutside', saveHandler);\n\t\t\t});\n\t\t},\n\t\ttriggerDisplayTypeEvent: function () {\n\t\t\tlet widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\t\tif (widthType) {\n\t\t\t\tlet elements = jQuery('#detailView').find('td');\n\t\t\t\telements.addClass(widthType);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function updates the hidden elements which is used for creating relations\n\t\t */\n\t\taddElementsToQuickCreateForCreatingRelation: function (container, customParams) {\n\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" >').appendTo(container);\n\t\t\tjQuery.each(customParams, function (index, value) {\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + index + '\" value=\"' + value + '\" >').appendTo(\n\t\t\t\t\tcontainer\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for activity widget for adding\n\t\t * event and task from the widget\n\t\t */\n\t\tregisterEventForActivityWidget: function () {\n\t\t\tlet thisInstance = this;\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related Activities widget\n\t\t\t */\n\t\t\tjQuery('.createActivity').on('click', function (e) {\n\t\t\t\tlet referenceModuleName = 'Calendar';\n\t\t\t\tlet recordId = thisInstance.getRecordId();\n\t\t\t\tlet module = app.getModuleName();\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\n\t\t\t\tlet customParams = {};\n\t\t\t\tcustomParams['sourceModule'] = module;\n\t\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\t\tif (\n\t\t\t\t\tmodule != '' &&\n\t\t\t\t\treferenceModuleName != '' &&\n\t\t\t\t\ttypeof thisInstance.referenceFieldNames[referenceModuleName] !== 'undefined' &&\n\t\t\t\t\ttypeof thisInstance.referenceFieldNames[referenceModuleName][module] !== 'undefined'\n\t\t\t\t) {\n\t\t\t\t\tlet relField = thisInstance.referenceFieldNames[referenceModuleName][module];\n\t\t\t\t\tcustomParams[relField] = recordId;\n\t\t\t\t}\n\t\t\t\tlet fullFormUrl = element.data('url');\n\t\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\t\tlet taskGoToFullFormButton = data\n\t\t\t\t\t\t.find('[class^=\"CalendarQuikcCreateContents\"]')\n\t\t\t\t\t\t.find('.js-full-editlink');\n\t\t\t\t\tlet eventsGoToFullFormButton = data\n\t\t\t\t\t\t.find('[class^=\"EventsQuikcCreateContents\"]')\n\t\t\t\t\t\t.find('.js-full-editlink');\n\t\t\t\t\tlet taskFullFormUrl = taskGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\tlet eventsFullFormUrl = eventsGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\ttaskGoToFullFormButton.data('url', taskFullFormUrl);\n\t\t\t\t\teventsGoToFullFormButton.data('url', eventsFullFormUrl);\n\t\t\t\t};\n\t\t\t\tlet callbackFunction = function () {\n\t\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t\t\tthisInstance.loadWidget($('.widgetContentBlock[data-type=\"Updates\"]'));\n\t\t\t\t};\n\t\t\t\tlet QuickCreateParams = {};\n\t\t\t\tQuickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\t\tQuickCreateParams['callbackFunction'] = callbackFunction;\n\t\t\t\tQuickCreateParams['data'] = Object.assign({}, customParams);\n\t\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, QuickCreateParams);\n\t\t\t});\n\t\t},\n\t\tgetEndDate: function (startDate) {\n\t\t\tlet dateTab = startDate.split('-');\n\t\t\tlet date = new Date(dateTab[0], dateTab[1], dateTab[2]);\n\t\t\tlet newDate = new Date();\n\n\t\t\tnewDate.setDate(date.getDate() + 2);\n\t\t\treturn app.getStringDate(newDate);\n\t\t},\n\t\tgetSingleEventType: function (modDay, id, type) {\n\t\t\tlet dateStartEl = jQuery('[name=\"date_start\"]');\n\t\t\tlet dateStartVal = jQuery(dateStartEl).val();\n\t\t\tlet dateStartFormat = jQuery(dateStartEl).data('date-format');\n\t\t\tlet validDateFromat = Vtiger_Helper_Js.convertToDateString(\n\t\t\t\tdateStartVal,\n\t\t\t\tdateStartFormat,\n\t\t\t\tmodDay,\n\t\t\t\ttype\n\t\t\t);\n\t\t\tlet map = jQuery.extend({}, ['#b6a996,black']);\n\n\t\t\tlet params = {\n\t\t\t\tmodule: 'Calendar',\n\t\t\t\taction: 'Feed',\n\t\t\t\tstart: validDateFromat,\n\t\t\t\tend: this.getEndDate(validDateFromat),\n\t\t\t\ttype: type,\n\t\t\t\tmapping: map\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function (events) {\n\t\t\t\tlet testDate = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay);\n\t\t\t\tif (!jQuery.isEmptyObject(events)) {\n\t\t\t\t\tif (events[0]['activitytype'] === 'Task') {\n\t\t\t\t\t\tfor (let ev in events) {\n\t\t\t\t\t\t\tif (events[ev]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append(\n\t\t\t\t\t\t\t\t\t'<tr><td><a target=\"_blank\" href=\"' +\n\t\t\t\t\t\t\t\t\t\tevents[ev]['url'] +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tevents[ev]['title'] +\n\t\t\t\t\t\t\t\t\t\t'</a></td></tr>'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (let i = 0; i < events[0].length; i++) {\n\t\t\t\t\t\t\tif (events[0][i]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append(\n\t\t\t\t\t\t\t\t\t'<tr><td><a target=\"_blank\" href=\"' +\n\t\t\t\t\t\t\t\t\t\tevents[0][i]['url'] +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tevents[0][i]['title'] +\n\t\t\t\t\t\t\t\t\t\t'</a></td></tr>'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to add module related record from summary widget\n\t\t */\n\t\tregisterFilterForAddingModuleRelatedRecordFromSummaryWidget: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer\n\t\t\t\t.find('.createRecordFromFilter')\n\t\t\t\t.off()\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\t\tlet quickcreateUrl = currentElement.data('url');\n\t\t\t\t\tlet quickCreateParams = {};\n\t\t\t\t\tlet autoCompleteFields = currentElement.data('acf');\n\t\t\t\t\tlet moduleName = currentElement\n\t\t\t\t\t\t.closest('.js-detail-widget-header')\n\t\t\t\t\t\t.find('[name=\"relatedModule\"]')\n\t\t\t\t\t\t.val();\n\t\t\t\t\tlet relatedParams = {};\n\t\t\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\t\t\tif (referenceModuleName == 'ProjectTask') {\n\t\t\t\t\t\t\tthisInstance.loadModuleSummary();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\t\t\trelatedParams[index] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (Object.keys(relatedParams).length > 0) {\n\t\t\t\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\t\t\t}\n\t\t\t\t\tquickCreateParams['noCache'] = true;\n\t\t\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\t\t\tlet progress = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet headerInstance;\n\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\theaderInstance = window.parent.Vtiger_Header_Js.getInstance();\n\t\t\t\t\t} else {\n\t\t\t\t\t\theaderInstance = Vtiger_Header_Js.getInstance();\n\t\t\t\t\t}\n\t\t\t\t\theaderInstance\n\t\t\t\t\t\t.getQuickCreateForm(quickcreateUrl, moduleName, quickCreateParams)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\theaderInstance.handleQuickCreateData(data, quickCreateParams);\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('button.selectRelation')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet summaryWidgetContainer = jQuery(e.currentTarget).closest('.js-detail-widget');\n\t\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tmodule: referenceModuleName,\n\t\t\t\t\t\tsrc_module: app.getModuleName(),\n\t\t\t\t\t\tsrc_record: thisInstance.getRecordId(),\n\t\t\t\t\t\tmulti_select: true,\n\t\t\t\t\t\trelationId: summaryWidgetContainer.data('relationId')\n\t\t\t\t\t};\n\t\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\t\tparams['search_key'] = restrictionsField.key;\n\t\t\t\t\t\tparams['search_value'] = restrictionsField.name;\n\t\t\t\t\t}\n\t\t\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t.addRelationBetweenRecords(referenceModuleName, Object.keys(responseData), null, {\n\t\t\t\t\t\t\t\t\trelationId: params.relationId\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('.widgetContentBlock'));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tregisterAddingInventoryRecords: function () {\n\t\t\tjQuery('.createInventoryRecordFromFilter').on('click', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet createUrl = currentElement.data('url');\n\t\t\t\tlet autoCompleteFields = currentElement.data('acf');\n\t\t\t\tlet addidtionalParams = '';\n\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\t\taddidtionalParams = '&' + index + '=' + value;\n\t\t\t\t\t\tcreateUrl = createUrl.concat(addidtionalParams);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\twindow.location.href = createUrl;\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvent: function () {\n\t\t\tthis.getContentHolder()\n\t\t\t\t.find('.resetRelationsEmail')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_EMAIL_RESET_RELATIONS_CONFIRMATION')\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\t\t\taction: 'Relation',\n\t\t\t\t\t\t\tmoduleName: app.getModuleName(),\n\t\t\t\t\t\t\trecord: app.getRecordId()\n\t\t\t\t\t\t}).done(function (d) {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({ text: d.result });\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgetFiltersDataAndLoad: function (e, params) {\n\t\t\tlet data = this.getFiltersData(e, params);\n\t\t\tthis.loadWidget(data['container'], data['params']);\n\t\t},\n\t\tgetFiltersData: function (e, params) {\n\t\t\tlet currentElement;\n\t\t\tif (e.currentTarget) {\n\t\t\t\tcurrentElement = jQuery(e.currentTarget);\n\t\t\t} else {\n\t\t\t\tcurrentElement = e;\n\t\t\t}\n\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tlet widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\t\tlet url = '&' + widget.data('url');\n\t\t\tlet urlParams = {};\n\t\t\turl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n\t\t\t\turlParams[key] = value;\n\t\t\t});\n\t\t\tlet urlNewParams = [];\n\t\t\tsummaryWidgetContainer.find('.js-switch, .js-filter_field').each(function (n, item) {\n\t\t\t\tlet value = '';\n\t\t\t\tlet element = jQuery(item);\n\t\t\t\tlet name = element.data('urlparams');\n\t\t\t\tif (element.attr('type') == 'radio') {\n\t\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\t\tvalue =\n\t\t\t\t\t\t\ttypeof element.data('on-val') !== 'undefined'\n\t\t\t\t\t\t\t\t? element.data('on-val')\n\t\t\t\t\t\t\t\t: element.data('off-val');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet selectedFilter = element.find('option:selected').val();\n\t\t\t\t\tlet fieldlable = element.data('fieldlable');\n\t\t\t\t\tlet filter = element.data('filter');\n\t\t\t\t\tif (element.data('return') === 'value') {\n\t\t\t\t\t\tvalue = selectedFilter;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selectedFilter != fieldlable) {\n\t\t\t\t\t\t\tvalue = [[filter, 'e', selectedFilter]];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (name && value) {\n\t\t\t\t\tif (element.data('return') === 'value') {\n\t\t\t\t\t\turlNewParams[name] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (name in urlNewParams) {\n\t\t\t\t\t\t\turlNewParams[name].push(value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlNewParams[name] = [value];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (params != undefined) {\n\t\t\t\t$.extend(urlNewParams, params);\n\t\t\t}\n\t\t\treturn { container: $(widget), params: $.extend(urlParams, urlNewParams) };\n\t\t},\n\t\tregisterChangeFilterForWidget: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tjQuery('.js-switch').on('change', function (e, state) {\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('.js-switch__btn')\n\t\t\t\t\t.addClass('active')\n\t\t\t\t\t.siblings()\n\t\t\t\t\t.removeClass('active');\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t\tjQuery('.js-filter_field').on('select2:select', function (e, state) {\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register all the events related to summary view widgets\n\t\t */\n\t\tregisterSummaryViewContainerEvents: function (summaryViewContainer) {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerEventForActivityWidget();\n\t\t\tthis.registerChangeFilterForWidget();\n\t\t\tthis.registerAddingInventoryRecords();\n\t\t\tthis.registerEmailEvent();\n\t\t\t/**\n\t\t\t * Function to handle the ajax edit for summary view fields\n\t\t\t */\n\t\t\tsummaryViewContainer.off('click').on('click', '.row .js-detail-quick-edit', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tlet currentTdElement = currentTarget.closest('.fieldValue');\n\t\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t\t});\n\t\t\t/**\n\t\t\t * Function to handle actions after ajax save in summary view\n\t\t\t */\n\t\t\tsummaryViewContainer.on(\n\t\t\t\tthisInstance.fieldUpdatedEvent,\n\t\t\t\t'.js-widget-general-info',\n\t\t\t\tfunction () {\n\t\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\"),\n\t\t\t\t\t\tparams;\n\t\t\t\t\tif (updatesWidget.length) {\n\t\t\t\t\t\tparams = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tsummaryViewContainer.on('click', '.editDefaultStatus', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.popover('hide');\n\t\t\t\tlet url = currentTarget.data('url');\n\t\t\t\tif (url) {\n\t\t\t\t\tif (currentTarget.hasClass('showEdit')) {\n\t\t\t\t\t\tlet headerInstance = Vtiger_Header_Js.getInstance();\n\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\theaderInstance = window.parent.Vtiger_Header_Js.getInstance();\n\t\t\t\t\t\t}\n\t\t\t\t\t\theaderInstance.getQuickCreateForm(url, 'Calendar', { noCache: true }).done((data) => {\n\t\t\t\t\t\t\theaderInstance.handleQuickCreateData(data, {\n\t\t\t\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\t\t\t\tlet widget = currentTarget.closest('.widgetContentBlock');\n\t\t\t\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(widget);\n\t\t\t\t\t\t\t\t\t\tlet updatesWidget = thisInstance\n\t\t\t\t\t\t\t\t\t\t\t.getContentHolder()\n\t\t\t\t\t\t\t\t\t\t\t.find(\"[data-type='Updates']\");\n\t\t\t\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showModalWindow(null, url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register the event to edit Description for related activities\n\t\t\t */\n\t\t\tsummaryViewContainer.on('click', '.editDescription', function (e) {\n\t\t\t\tApp.Fields.Text.Editor.register(thisInstance.getContentHolder(), { toolbar: 'Min' });\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentDiv = currentTarget.closest('.activityDescription'),\n\t\t\t\t\teditElement = currentDiv.find('.edit'),\n\t\t\t\t\tdetailViewElement = currentDiv.find('.value'),\n\t\t\t\t\tdescriptionText = currentDiv.find('.js-description-text'),\n\t\t\t\t\tdescriptionEmpty = currentDiv.find('.js-no-description'),\n\t\t\t\t\tsaveButton = currentDiv.find('.js-save-description'),\n\t\t\t\t\tcloseButton = currentDiv.find('.js-close-description'),\n\t\t\t\t\tactivityButtonContainer = currentDiv.find('.js-activity-buttons__container'),\n\t\t\t\t\tfieldnameElement = jQuery('.fieldname', editElement),\n\t\t\t\t\tfieldName = fieldnameElement.val(),\n\t\t\t\t\tfieldElement = jQuery('[name=\"' + fieldName + '\"]', editElement),\n\t\t\t\t\tcallbackFunction = () => {\n\t\t\t\t\t\tlet previousValue = fieldnameElement.data('prevValue'),\n\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(),\n\t\t\t\t\t\t\tajaxEditNewLable = fieldElement.val(),\n\t\t\t\t\t\t\tactivityDiv = currentDiv.closest('.activityEntries'),\n\t\t\t\t\t\t\tactivityId = activityDiv.find('.activityId').val(),\n\t\t\t\t\t\t\tmoduleName = activityDiv.find('.activityModule').val(),\n\t\t\t\t\t\t\tactivityType = activityDiv.find('.activityType').val();\n\t\t\t\t\t\tif (previousValue == ajaxEditNewValue) {\n\t\t\t\t\t\t\tcloseDescription();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentDiv.progressIndicator();\n\t\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\t\t\tresolve(fieldElement.validationEngine('validate'));\n\t\t\t\t\t\t\t}).then((errorExists) => {\n\t\t\t\t\t\t\t\t//If validation fails\n\t\t\t\t\t\t\t\tif (errorExists) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.addClickOutSideEvent(currentDiv, callbackFunction);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(); //update editor value after conversion\n\t\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\t\t\trecord: activityId,\n\t\t\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue,\n\t\t\t\t\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\t\t\t\t\tactivitytype: activityType\n\t\t\t\t\t\t\t\t\t}).done(() => {\n\t\t\t\t\t\t\t\t\t\tcurrentDiv.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t\t\t\t\t\tdescriptionText.html(ajaxEditNewLable);\n\t\t\t\t\t\t\t\t\t\tfieldnameElement.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\t\t\tif (ajaxEditNewValue === '') {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.addClass('d-none');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcloseDescription = function () {\n\t\t\t\t\t\tfieldElement.val(fieldnameElement.data('prevValue'));\n\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t};\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tdetailViewElement.addClass('d-none');\n\t\t\t\tactivityButtonContainer.removeClass('d-none');\n\t\t\t\teditElement.removeClass('d-none').show();\n\t\t\t\tsaveButton.off('click').one('click', callbackFunction);\n\t\t\t\tcloseButton.off('click').one('click', closeDescription);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related widgets\n\t\t\t * to add record from widget\n\t\t\t */\n\n\t\t\tjQuery('.changeDetailViewMode').on('click', function (e) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.getTabs()\n\t\t\t\t\t.filter('[data-link-key=\"' + thisInstance.detailViewDetailsTabLabel + '\"]:not(.d-none)')\n\t\t\t\t\t.trigger('click');\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related widgets\n\t\t\t * to add record from widget\n\t\t\t */\n\t\t\tjQuery('.createRecord').on('click', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\t\tlet widgetHeaderContainer = summaryWidgetContainer.find('.js-detail-widget-header');\n\t\t\t\tlet referenceModuleName = widgetHeaderContainer.find('[name=\"relatedModule\"]').val();\n\t\t\t\tlet recordId = thisInstance.getRecordId();\n\t\t\t\tlet module = app.getModuleName();\n\t\t\t\tlet customParams = {};\n\t\t\t\tcustomParams['sourceModule'] = module;\n\t\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\t\tif (\n\t\t\t\t\tmodule != '' &&\n\t\t\t\t\treferenceModuleName != '' &&\n\t\t\t\t\ttypeof thisInstance.referenceFieldNames[referenceModuleName] !== 'undefined' &&\n\t\t\t\t\ttypeof thisInstance.referenceFieldNames[referenceModuleName][module] !== 'undefined'\n\t\t\t\t) {\n\t\t\t\t\tlet fieldName = thisInstance.referenceFieldNames[referenceModuleName][module];\n\t\t\t\t\tcustomParams[fieldName] = recordId;\n\t\t\t\t}\n\n\t\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\t};\n\n\t\t\t\tlet goToFullFormcallback = function (data) {\n\t\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\t};\n\n\t\t\t\tlet QuickCreateParams = {};\n\t\t\t\tQuickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\t\tQuickCreateParams['goToFullFormcallback'] = goToFullFormcallback;\n\t\t\t\tQuickCreateParams['data'] = customParams;\n\t\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, QuickCreateParams);\n\t\t\t});\n\t\t\tthis.registerFastEditingFiels();\n\t\t},\n\t\taddRelationBetweenRecords: function (\n\t\t\trelatedModule,\n\t\t\trelatedModuleRecordId,\n\t\t\tselectedTabElement,\n\t\t\tparams = {},\n\t\t\turl\n\t\t) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedController;\n\t\t\tif (selectedTabElement == undefined) {\n\t\t\t\tselectedTabElement = thisInstance.getSelectedTab();\n\t\t\t}\n\t\t\tif (url) {\n\t\t\t\trelatedController = Vtiger_RelatedList_Js.getInstanceByUrl(url, selectedTabElement);\n\t\t\t} else {\n\t\t\t\trelatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tselectedTabElement,\n\t\t\t\t\trelatedModule\n\t\t\t\t);\n\t\t\t}\n\t\t\trelatedController\n\t\t\t\t.addRelations(relatedModuleRecordId, params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet summaryViewContainer = thisInstance.getContentHolder();\n\t\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\");\n\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\tlet params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle Post actions after adding record from\n\t\t * summary view widget\n\t\t */\n\t\tpostSummaryWidgetAddRecord: function (data, currentElement) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tlet widgetContainer = summaryWidgetContainer.find('[class^=\"widgetContainer_\"]');\n\t\t\tlet widgetHeaderContainer = summaryWidgetContainer.find('.js-detail-widget-header');\n\t\t\tlet referenceModuleName = widgetHeaderContainer.find('[name=\"relatedModule\"]').val();\n\t\t\tlet idList = [];\n\t\t\tidList.push(data.result._recordId);\n\t\t\tlet params = {};\n\t\t\tif (summaryWidgetContainer.data('relationId')) {\n\t\t\t\tparams.relationId = summaryWidgetContainer.data('relationId');\n\t\t\t}\n\t\t\tthis.addRelationBetweenRecords(\n\t\t\t\treferenceModuleName,\n\t\t\t\tidList,\n\t\t\t\tnull,\n\t\t\t\tparams,\n\t\t\t\twidgetContainer.data('url')\n\t\t\t).done(function (data) {\n\t\t\t\tthisInstance.loadWidget(widgetContainer);\n\t\t\t});\n\t\t},\n\t\tregisterChangeEventForModulesList: function () {\n\t\t\tjQuery('#tagSearchModulesList').on('change', function (e) {\n\t\t\t\tlet modulesSelectElement = jQuery(e.currentTarget);\n\t\t\t\tif (modulesSelectElement.val() == 'all') {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t\tlet selectedOptionValue = modulesSelectElement.val();\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]')\n\t\t\t\t\t\t.filter(':not(#' + selectedOptionValue + ')')\n\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEventForRelatedTabClick: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\n\t\t\tjQuery('.related', detailContainer).on('click', 'li:not(.spaceRelatedList)', function (\n\t\t\t\te,\n\t\t\t\turlAttributes\n\t\t\t) {\n\t\t\t\tlet tabElement = jQuery(e.currentTarget);\n\t\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\t\tlet element = jQuery('<div></div>');\n\t\t\t\t\telement.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: detailContainer\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\tif (typeof urlAttributes !== 'undefined') {\n\t\t\t\t\t\tlet callBack = urlAttributes.callback;\n\t\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.loadContents(url, urlAttributes)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\t\t\tapp.event.trigger('DetailView.Tab.AfterLoad', data, thisInstance);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for setting up picklistdependency\n\t\t * for a module if exist on change of picklist value\n\t\t */\n\t\tregisterEventForPicklistDependencySetup: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet picklistDependcyElemnt = jQuery('[name=\"picklistDependency\"]', container);\n\t\t\tif (picklistDependcyElemnt.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());\n\t\t\tlet sourcePicklists = Object.keys(picklistDependencyMapping);\n\t\t\tif (sourcePicklists.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet sourcePickListNames = [];\n\t\t\tfor (let i = 0; i < sourcePicklists.length; i++) {\n\t\t\t\tsourcePickListNames.push('[name=\"' + sourcePicklists[i] + '\"]');\n\t\t\t}\n\t\t\tsourcePickListNames = sourcePickListNames.join(',');\n\t\t\tlet sourcePickListElements = container.find(sourcePickListNames);\n\t\t\tsourcePickListElements.on('change', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet sourcePicklistname = currentElement.attr('name');\n\n\t\t\t\tlet configuredDependencyObject = picklistDependencyMapping[sourcePicklistname];\n\t\t\t\tlet selectedValue = currentElement.val();\n\t\t\t\tlet targetObjectForSelectedSourceValue = configuredDependencyObject[selectedValue];\n\t\t\t\tlet picklistmap = configuredDependencyObject['__DEFAULT__'];\n\n\t\t\t\tif (typeof targetObjectForSelectedSourceValue === 'undefined') {\n\t\t\t\t\ttargetObjectForSelectedSourceValue = picklistmap;\n\t\t\t\t}\n\t\t\t\tjQuery.each(picklistmap, function (targetPickListName, targetPickListValues) {\n\t\t\t\t\tlet targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];\n\t\t\t\t\tif (typeof targetPickListMap === 'undefined') {\n\t\t\t\t\t\ttargetPickListMap = targetPickListValues;\n\t\t\t\t\t}\n\t\t\t\t\tlet targetPickList = jQuery('[name=\"' + targetPickListName + '\"]', container);\n\t\t\t\t\tif (targetPickList.length <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//On change of SourceField value, If TargetField value is not there in mapping, make user to select the new target value also.\n\t\t\t\t\tlet selectedValue = targetPickList.data('selectedValue');\n\t\t\t\t\tif (jQuery.inArray(selectedValue, targetPickListMap) == -1) {\n\t\t\t\t\t\tthisInstance.targetPicklistChange = true;\n\t\t\t\t\t\tthisInstance.targetPicklist = targetPickList.closest('td');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet listOfAvailableOptions = targetPickList.data('availableOptions');\n\t\t\t\t\tif (typeof listOfAvailableOptions === 'undefined') {\n\t\t\t\t\t\tlistOfAvailableOptions = jQuery('option', targetPickList);\n\t\t\t\t\t\ttargetPickList.data('available-options', listOfAvailableOptions);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet targetOptions = new jQuery();\n\t\t\t\t\tlet optionSelector = [];\n\t\t\t\t\toptionSelector.push('');\n\t\t\t\t\tfor (let i = 0; i < targetPickListMap.length; i++) {\n\t\t\t\t\t\toptionSelector.push(targetPickListMap[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.each(listOfAvailableOptions, function (i, e) {\n\t\t\t\t\t\tlet picklistValue = jQuery(e).val();\n\t\t\t\t\t\tif (jQuery.inArray(picklistValue, optionSelector) != -1) {\n\t\t\t\t\t\t\ttargetOptions = targetOptions.add(jQuery(e));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet targetPickListSelectedValue = '';\n\t\t\t\t\ttargetPickListSelectedValue = targetOptions.filter('[selected]').val();\n\t\t\t\t\tif (targetPickListMap.length == 1) {\n\t\t\t\t\t\ttargetPickListSelectedValue = targetPickListMap[0]; // to automatically select picklist if only one picklistmap is present.\n\t\t\t\t\t}\n\t\t\t\t\ttargetPickList.html(targetOptions).val(targetPickListSelectedValue).trigger('change');\n\t\t\t\t});\n\t\t\t});\n\t\t\t//To Trigger the change on load\n\t\t\tsourcePickListElements.trigger('change');\n\t\t},\n\t\t/**\n\t\t * Function to get child comments\n\t\t */\n\t\tgetChildComments: function (commentId) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet url =\n\t\t\t\t'module=' +\n\t\t\t\tapp.getModuleName() +\n\t\t\t\t'&view=Detail&record=' +\n\t\t\t\tthis.getRecordId() +\n\t\t\t\t'&mode=showChildComments&commentid=' +\n\t\t\t\tcommentId;\n\t\t\tlet dataObj = this.getCommentThread(url);\n\t\t\tdataObj.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get parent comment\n\t\t * @param {number} commentId\n\t\t * @returns {string}\n\t\t */\n\t\tgetParentComments(commentId) {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\turl =\n\t\t\t\t\t'module=' +\n\t\t\t\t\tapp.getModuleName() +\n\t\t\t\t\t'&view=Detail&record=' +\n\t\t\t\t\tthis.getRecordId() +\n\t\t\t\t\t'&mode=showParentComments&commentid=' +\n\t\t\t\t\tcommentId;\n\t\t\tthis.getCommentThread(url).done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to show total records count in listview on hover\n\t\t * of pageNumber text\n\t\t */\n\t\tregisterEventForTotalRecordsCount: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.totalNumberOfRecords', function (e) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\t\telement.addClass('d-none');\n\t\t\t\telement.parent().progressIndicator({});\n\t\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\tlet relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\tselectedTabElement,\n\t\t\t\t\t\trelatedModuleName\n\t\t\t\t\t);\n\t\t\t\t\trelatedController.getRelatedPageCount().done(function () {\n\t\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t}\n\t\t\t\telement.parent().progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowPagingInfo: function () {\n\t\t\tlet totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\tlet pageNumberElement = jQuery('.pageNumbersText');\n\t\t\tlet pageRange = pageNumberElement.text();\n\t\t\tlet newPagingInfo = pageRange + ' (' + totalNumberOfRecords + ')';\n\t\t\tlet listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\t\tif (listViewEntriesCount != 0) {\n\t\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t\t} else {\n\t\t\t\tjQuery('.pageNumbersText').html('');\n\t\t\t}\n\t\t},\n\t\tgetCustomFieldNameValueMap: function (fieldNameValueMap) {\n\t\t\treturn fieldNameValueMap;\n\t\t},\n\t\tregisterSetReadRecord: function (detailContentsHolder) {\n\t\t\tlet thisInstance = this;\n\t\t\tdetailContentsHolder.on('click', '.setReadRecord', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tcurrentElement.closest('.btn-group').addClass('d-none');\n\t\t\t\tjQuery('#Accounts_detailView_fieldValue_was_read')\n\t\t\t\t\t.find('.value')\n\t\t\t\t\t.text(app.vtranslate('LBL_YES'));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\t\tfield: 'was_read',\n\t\t\t\t\tvalue: 'on'\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_SET_READ_RECORD'),\n\t\t\t\t\t\ttitle: app.vtranslate('System'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tlet relatedTabKey = jQuery('.related li.active');\n\t\t\t\t\tif (\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewSummaryTabLabel ||\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewDetailsTabLabel\n\t\t\t\t\t) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterFastEditingFiels: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet fastEditingFiels = jQuery('.summaryWidgetFastEditing select');\n\t\t\tfastEditingFiels.on('change', function (e) {\n\t\t\t\tlet fieldElement = jQuery(e.currentTarget);\n\t\t\t\tlet fieldContainer = fieldElement.closest('.editField');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'summaryWidgetFastEditing',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet fieldName = fieldContainer.data('fieldname');\n\t\t\t\tfieldName = fieldName.replace('q_', '');\n\t\t\t\tlet fieldValue = fieldElement.val();\n\t\t\t\tlet errorExists = fieldElement.validationEngine('validate');\n\t\t\t\tif (errorExists) {\n\t\t\t\t\tfieldContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\tfieldValue: fieldValue,\n\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t});\n\t\t\t\tlet fieldNameValueMap = {};\n\t\t\t\tfieldNameValueMap['value'] = fieldValue;\n\t\t\t\tfieldNameValueMap['field'] = fieldName;\n\t\t\t\tfieldNameValueMap = thisInstance.getCustomFieldNameValueMap(fieldNameValueMap);\n\t\t\t\tthisInstance.saveFieldValues(fieldNameValueMap);\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tlet params = {\n\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\ttype: 'success'\n\t\t\t\t};\n\t\t\t\tapp.showNotify(params);\n\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t});\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\t/**\n\t\t * Register related modules record cound\n\t\t * @param {jQuery} tabContainer\n\t\t */\n\t\tregisterRelatedModulesRecordCount(tabContainer) {\n\t\t\tconst moreList = $('.related .nav .dropdown-menu');\n\t\t\tlet relationContainer = tabContainer;\n\t\t\tif (!relationContainer || typeof relationContainer.length === 'undefined') {\n\t\t\t\trelationContainer = $(\n\t\t\t\t\t'.related .nav > .relatedNav, .related .nav > .mainNav, .detailViewBlockLink, .related .nav .dropdown-menu > .relatedNav'\n\t\t\t\t);\n\t\t\t}\n\t\t\trelationContainer.each((n, item) => {\n\t\t\t\titem = $(item);\n\t\t\t\tlet relationId = item.data('relationId'),\n\t\t\t\t\trelatedModule = item.data('reference');\n\t\t\t\tif (item.data('count') === 1) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\trelatedModule: relatedModule,\n\t\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\t\trelationId: relationId,\n\t\t\t\t\t\ttab_label: item.data('label-key')\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tif (response.result.numberOfRecords === 0) {\n\t\t\t\t\t\t\t\tresponse.result.numberOfRecords = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem.find('.count').text(response.result.numberOfRecords);\n\t\t\t\t\t\t\tmoreList\n\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t'[data-reference=\"${relatedModule}\"][data-relation-id=\"${relationId}\"] .count'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.text(response.result.numberOfRecords);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to display a new comments\n\t\t */\n\t\taddComment: function (currentTarget, data) {\n\t\t\tconst self = this;\n\t\t\tlet mode = currentTarget.data('mode'),\n\t\t\t\tclosestAddCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentTextAreaElement = closestAddCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentInfoBlock = currentTarget.closest('.js-comment-single');\n\t\t\tcommentTextAreaElement.html('');\n\t\t\tif (mode == 'add') {\n\t\t\t\tlet commentId = data['result']['id'],\n\t\t\t\t\tcommentHtml = self.getCommentUI(commentId);\n\t\t\t\tcommentHtml.done(function (data) {\n\t\t\t\t\tlet commentBlock = closestAddCommentBlock.closest('.js-comment-details'),\n\t\t\t\t\t\tdetailContentsHolder = self.getContentHolder(),\n\t\t\t\t\t\tnoCommentsMsgContainer = $('.js-noCommentsMsgContainer', detailContentsHolder);\n\t\t\t\t\tnoCommentsMsgContainer.remove();\n\t\t\t\t\tif (commentBlock.length > 0) {\n\t\t\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\t\t\tlet childComments = commentBlock.find('ul');\n\t\t\t\t\t\tif (childComments.length <= 0) {\n\t\t\t\t\t\t\tlet currentChildCommentsCount = commentInfoBlock\n\t\t\t\t\t\t\t\t\t.find('.js-view-thread-block')\n\t\t\t\t\t\t\t\t\t.data('data-child-comments-count'),\n\t\t\t\t\t\t\t\tnewChildCommentCount = currentChildCommentsCount + 1;\n\t\t\t\t\t\t\tcommentInfoBlock.find('.js-child-comments-count').text(newChildCommentCount);\n\t\t\t\t\t\t\tlet parentCommentId = commentInfoBlock\n\t\t\t\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t\t\t\t.data('commentid');\n\t\t\t\t\t\t\tself.getChildComments(parentCommentId).done(function (responsedata) {\n\t\t\t\t\t\t\t\t$(responsedata).appendTo(commentBlock);\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.js-view-thread-block').hide();\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.hideThreadBlock').show();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').appendTo(\n\t\t\t\t\t\t\t\tcommentBlock.find('.js-comments-body')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').prependTo(\n\t\t\t\t\t\t\tclosestAddCommentBlock.closest('.contents').find('.commentsList')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterLoad', commentInfoBlock, data);\n\t\t\t\t});\n\t\t\t} else if (mode == 'edit') {\n\t\t\t\tlet modifiedTime = commentInfoBlock.find('.js-comment-modified-time'),\n\t\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\tcommentEditStatus = commentInfoBlock.find('.js-edited-status'),\n\t\t\t\t\tcommentReason = commentInfoBlock.find('.js-edit-reason-span');\n\t\t\t\tcommentInfoContent.html(data.result.commentcontent);\n\t\t\t\tcommentReason.html(data.result.reasontoedit);\n\t\t\t\tmodifiedTime.html(data.result.modifiedtime);\n\t\t\t\tmodifiedTime.attr('title', data.result.modifiedtimetitle);\n\t\t\t\tif (commentEditStatus.hasClass('d-none')) {\n\t\t\t\t\tcommentEditStatus.removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (data.result.reasontoedit != '') {\n\t\t\t\t\tcommentInfoBlock.find('.js-edit-reason').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tcommentInfoContent.show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterUpdate', commentInfoBlock, data);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register all comment events\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tregisterCommentEvents(detailContentsHolder) {\n\t\t\tconst self = this;\n\t\t\tdetailContentsHolder.on('click', '.js-close-comment-block', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget.closest('.js-comment-single'));\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\t\tself.removeCommentBlock();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-reply-comment', function (e) {\n\t\t\t\tself.removeCommentBlock();\n\t\t\t\tself.hideButtonAction();\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\t\tself.getCommentBlock().appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-edit-comment', function (e) {\n\t\t\t\tself.removeCommentBlock();\n\t\t\t\tself.hideButtonAction();\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single'),\n\t\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\teditCommentBlock = self.getEditCommentBlock();\n\t\t\t\teditCommentBlock.find('.js-comment-content').html(commentInfoContent.html());\n\t\t\t\teditCommentBlock\n\t\t\t\t\t.find('.js-reason-to-edit')\n\t\t\t\t\t.html(commentInfoBlock.find('.js-edit-reason-span').text());\n\t\t\t\tcommentInfoContent.hide();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\t\teditCommentBlock.appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-detail-view-save-comment', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself\n\t\t\t\t\t\t.saveComment(e)\n\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\tself\n\t\t\t\t\t\t\t\t.loadWidget(detailContentsHolder.find(\"[data-type='Comments']\"))\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-save-comment', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself\n\t\t\t\t\t\t.saveComment(e)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount(\n\t\t\t\t\t\t\t\tself.getTabByLabel(self.detailViewRecentCommentsTabLabel)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tself.addComment(element, data);\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t\tself.showCommentBlock();\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-more-recent-comments ', function () {\n\t\t\t\tself.getTabByLabel(self.detailViewRecentCommentsTabLabel).trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments').on('change', function (e) {\n\t\t\t\tlet recentCommentsTab = self.getTabByLabel(self.detailViewRecentCommentsTabLabel),\n\t\t\t\t\turl = recentCommentsTab.data('url'),\n\t\t\t\t\tregex = /&hierarchy=+([\\w,]+)/;\n\t\t\t\turl = url.replace(regex, '');\n\t\t\t\tlet hierarchy = [];\n\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t});\n\t\t\t\tif (hierarchy.length !== 0) {\n\t\t\t\t\turl += '&hierarchy=' + hierarchy.join(',');\n\t\t\t\t}\n\t\t\t\trecentCommentsTab.data('url', url);\n\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('keypress', '.js-comment-search', function (e) {\n\t\t\t\tif (13 === e.which) {\n\t\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-search-icon', function (e) {\n\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Submit search comment form\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tsubmitSearchForm(detailContentsHolder) {\n\t\t\tlet searchTextDom = detailContentsHolder.find('.js-comment-search'),\n\t\t\t\twidgetContainer = searchTextDom.closest('[data-name=\"ModComments\"]'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator();\n\t\t\tif (searchTextDom.data('container') === 'widget' && !searchTextDom.val()) {\n\t\t\t\tlet request = widgetContainer.data('url');\n\t\t\t\tAppConnector.request(request).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tdetailContentsHolder.find('.js-comments-container').html(data);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet hierarchy = [],\n\t\t\t\t\tlimit = '',\n\t\t\t\t\tisWidget = false;\n\t\t\t\tif (searchTextDom.data('container') === 'widget') {\n\t\t\t\t\t(limit = widgetContainer.data('limit')), (isWidget = true);\n\t\t\t\t\twidgetContainer.find('.js-hierarchy-comments:checked').each(function () {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showSearchComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tsearch_key: searchTextDom.val(),\n\t\t\t\t\tis_widget: isWidget\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (!searchTextDom.val()) {\n\t\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdetailContentsHolder.find('.js-comments-body').html(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register hierarchy comments buttons\n\t\t * @param {jQuery} widgetContainer\n\t\t */\n\t\tregisterCommentEventsInDetail(widgetContainer) {\n\t\t\tnew App.Fields.Text.Completions($('.js-completions').eq(0), { emojiPanel: false });\n\t\t\twidgetContainer.on('change', '.js-hierarchy-comments', function (e) {\n\t\t\t\tlet hierarchy = [];\n\t\t\t\twidgetContainer.find('.js-hierarchy-comments').each(function () {\n\t\t\t\t\tif ($(this).is(':checked')) {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!hierarchy.length) {\n\t\t\t\t\twidgetContainer.find('.js-detail-widget-content').html('');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showRecentComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tlimit: widgetContainer.find('.widgetContentBlock').data('limit')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet widgetDataContainer = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetDataContainer.find('.select2'));\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterMailPreviewWidget: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.showMailBody', (e) => {\n\t\t\t\tlet row = $(e.currentTarget).closest('.js-mail-row'),\n\t\t\t\t\tmailBody = row.find('.mailBody'),\n\t\t\t\t\tmailTeaser = row.find('.mailTeaser');\n\t\t\t\tmailBody.toggleClass('d-none');\n\t\t\t\tmailTeaser.toggleClass('d-none');\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mail-type\"]').on('change', function (e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mailFilter\"]').on('change', function (e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.on('click', '.showMailsModal', (e) => {\n\t\t\t\tlet url = $(e.currentTarget).data('url');\n\t\t\t\tlet type = container.find('[name=\"mail-type\"]');\n\t\t\t\tlet typeValue = '';\n\t\t\t\tif (type.length > 0) {\n\t\t\t\t\ttypeValue = type.val();\n\t\t\t\t} else {\n\t\t\t\t\ttypeValue = 'All';\n\t\t\t\t}\n\t\t\t\turl += '&type=' + typeValue;\n\t\t\t\tif (container.find('[name=\"mailFilter\"]').length > 0) {\n\t\t\t\t\turl += '&mailFilter=' + container.find('[name=\"mailFilter\"]').val();\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tapp.showModalWindow('', url, (data) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tself.registerMailPreviewWidget(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\tdata.find('.expandAllMails').click();\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.expandAllMails').on('click', function (e) {\n\t\t\t\tcontainer.find('.mailBody').removeClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').addClass('d-none');\n\t\t\t\tcontainer\n\t\t\t\t\t.find('.showMailBody .js-toggle-icon')\n\t\t\t\t\t.removeClass('fa-caret-down')\n\t\t\t\t\t.addClass('fa-caret-up');\n\t\t\t});\n\t\t\tcontainer.find('.collapseAllMails').on('click', function (e) {\n\t\t\t\tcontainer.find('.mailBody').addClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').removeClass('d-none');\n\t\t\t\tcontainer\n\t\t\t\t\t.find('.showMailBody .js-toggle-icon')\n\t\t\t\t\t.removeClass('fa-caret-up')\n\t\t\t\t\t.addClass('fa-caret-down');\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('.showMailModal')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tloadMailPreviewWidget: function (widgetContent) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet widgetDataContainer = widgetContent.find('.js-detail-widget-content');\n\t\t\tlet recordId = $('#recordId').val();\n\t\t\tlet progress = widgetDataContainer.progressIndicator();\n\t\t\tlet params = {};\n\t\t\tparams['module'] = 'OSSMailView';\n\t\t\tparams['view'] = 'Widget';\n\t\t\tparams['smodule'] = $('#module').val();\n\t\t\tparams['srecord'] = recordId;\n\t\t\tparams['mode'] = 'showEmailsList';\n\t\t\tparams['type'] = $('[name=\"mail-type\"]').val();\n\t\t\tparams['mailFilter'] = $('[name=\"mailFilter\"]').val();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\tapp.event.trigger(\n\t\t\t\t\t'DetailView.Widget.AfterLoad',\n\t\t\t\t\twidgetDataContainer,\n\t\t\t\t\tparams['module'],\n\t\t\t\t\tthisInstance\n\t\t\t\t);\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvents: function (detailContentsHolder) {\n\t\t\tVtiger_Index_Js.registerMailButtons(detailContentsHolder);\n\t\t},\n\t\tregisterMapsEvents: function (container) {\n\t\t\tif (container.find('#coordinates').length) {\n\t\t\t\tlet mapView = new OpenStreetMap_Map_Js();\n\t\t\t\tmapView.registerDetailView(container);\n\t\t\t}\n\t\t},\n\t\tregisterSocialMediaEvents(container) {\n\t\t\tlet socialMediaContainer = container.find('.tpl-Detail-SocialMedia');\n\t\t\tif (socialMediaContainer.length) {\n\t\t\t}\n\t\t},\n\t\tregisterShowSummary: function (container) {\n\t\t\tcontainer.on('click', '.showSummaryRelRecord', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet id = currentTarget.data('id');\n\t\t\t\tlet summaryView = container.find('.summaryRelRecordView' + id);\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'none');\n\t\t\t\tsummaryView.show();\n\t\t\t});\n\t\t\tcontainer.on('click', '.hideSummaryRelRecordView', function (e) {\n\t\t\t\tlet summaryView = container.find('.summaryRelRecordView');\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'table');\n\t\t\t\tsummaryView.hide();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show confirmation on event click\n\t\t * @param {jQuery} element\n\t\t * @param {string} picklistName\n\t\t */\n\t\tshowProgressConfirmation(element, picklistName) {\n\t\t\tconst self = this;\n\t\t\tlet picklistValue = $(element).data('picklistValue');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\ttitle: $(element).data('picklistLabel'),\n\t\t\t\tmessage: app.vtranslate('JS_CHANGE_VALUE_CONFIRMATION')\n\t\t\t}).done(() => {\n\t\t\t\tconst progressIndicatorElement = $.progressIndicator();\n\t\t\t\tself\n\t\t\t\t\t.saveFieldValues({\n\t\t\t\t\t\tvalue: picklistValue,\n\t\t\t\t\t\tfield: picklistName\n\t\t\t\t\t})\n\t\t\t\t\t.done(() => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Change status from progress\n\t\t */\n\t\tregisterProgress() {\n\t\t\tconst self = this;\n\t\t\t$('.js-header-progress-bar').each((index, element) => {\n\t\t\t\tlet picklistName = $(element).data('picklistName');\n\t\t\t\t$(element)\n\t\t\t\t\t.find('.js-access')\n\t\t\t\t\t.on('click', (e) => {\n\t\t\t\t\t\tself.showProgressConfirmation(e.currentTarget, picklistName);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tloadChat() {\n\t\t\tlet chatVue = $('#ChatRecordRoomVue', this.detailViewContentHolder);\n\t\t\tif (chatVue.length) {\n\t\t\t\tlet chatContainer = this.detailViewContentHolder.find('.js-chat-container');\n\t\t\t\tconst padding = 10;\n\t\t\t\tchatContainer.height(\n\t\t\t\t\t$(document).height() -\n\t\t\t\t\t\tchatContainer.offset().top -\n\t\t\t\t\t\t$('.js-footer').outerHeight() -\n\t\t\t\t\t\tpadding\n\t\t\t\t);\n\t\t\t\twindow.ChatRecordRoomVueComponent.mount({\n\t\t\t\t\tel: '#ChatRecordRoomVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window.ChatRecordRoomVueComponent !== undefined) {\n\t\t\t\tthis.loadChat();\n\t\t\t\tapp.event.on('DetailView.Tab.AfterLoad', (e, data, instance) => {\n\t\t\t\t\tinstance.detailViewContentHolder.ready(() => {\n\t\t\t\t\t\tthis.loadChat();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t//register all the events for summary view container\n\n\t\t\tif (this.getSelectedTab().data('labelKey') === 'ModComments') {\n\t\t\t\tnew App.Fields.Text.Completions(detailContentsHolder.find('.js-completions'), {\n\t\t\t\t\temojiPanel: false\n\t\t\t\t});\n\t\t\t}\n\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\tthisInstance.registerCommentEvents(detailContentsHolder);\n\t\t\tthisInstance.registerEmailEvents(detailContentsHolder);\n\t\t\tthisInstance.registerMapsEvents(detailContentsHolder);\n\t\t\tthisInstance.registerSocialMediaEvents(detailContentsHolder);\n\t\t\tthisInstance.registerSubProducts(detailContentsHolder);\n\t\t\tthisInstance.registerCollapsiblePanels(detailContentsHolder);\n\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\tApp.Fields.DateTime.register(detailContentsHolder);\n\t\t\tApp.Fields.MultiImage.register(detailContentsHolder);\n\t\t\t//Attach time picker event to time fields\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tthis.registerHelpInfo(detailContentsHolder);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(detailContentsHolder.find('select.select2'));\n\t\t\tApp.Fields.Text.Editor.register(detailContentsHolder, { toolbar: 'Min' });\n\t\t\tdetailContentsHolder.on('click', '#detailViewNextRecordButton', function (e) {\n\t\t\t\tlet url = selectedTabElement.data('url');\n\t\t\t\tlet currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tlet requestedPage = parseInt(currentPageNum) + 1;\n\t\t\t\tlet nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '#detailViewPreviousRecordButton', function (e) {\n\t\t\t\tlet url = selectedTabElement.data('url');\n\t\t\t\tlet currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tlet requestedPage = parseInt(currentPageNum) - 1;\n\t\t\t\tlet nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on(\n\t\t\t\t'click',\n\t\t\t\t'div.detailViewTable div.fieldValue:not(.is-edit-active)',\n\t\t\t\tfunction (e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('a').hasClass('btnNoFastEdit') || target.hasClass('btnNoFastEdit'))\n\t\t\t\t\t\treturn;\n\t\t\t\t\tlet currentTdElement = jQuery(e.currentTarget);\n\t\t\t\t\tcurrentTdElement.addClass('is-edit-active');\n\t\t\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t\t\t}\n\t\t\t);\n\t\t\tdetailContentsHolder.on('click', 'div.recordDetails span.squeezedWell', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet relatedLabel = currentElement.data('reference');\n\t\t\t\tjQuery('.detailViewInfo .related .nav > li[data-reference=\"' + relatedLabel + '\"]').trigger(\n\t\t\t\t\t'click'\n\t\t\t\t);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.relatedPopup', function (e) {\n\t\t\t\tlet editViewObj = new Vtiger_Edit_Js();\n\t\t\t\teditViewObj.showRecordsList(e);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.viewThread', function (e) {\n\t\t\t\tthisInstance.hideButtonAction();\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentActionsBlock = currentTarget.closest('.js-comment-actions'),\n\t\t\t\t\tcurrentCommentBlock = currentTarget.closest('.js-comment-details'),\n\t\t\t\t\tulElements = currentCommentBlock.find('ul');\n\t\t\t\tif (ulElements.length > 0) {\n\t\t\t\t\tulElements.show();\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet commentId = currentTarget\n\t\t\t\t\t.closest('.js-comment-div')\n\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t.data('commentid');\n\t\t\t\tthisInstance.getChildComments(commentId).done(function (data) {\n\t\t\t\t\tjQuery(data).appendTo(jQuery(e.currentTarget).closest('.js-comment-details'));\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-view-parent-thread', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentId = currentTarget\n\t\t\t\t\t\t.closest('.js-comment-div')\n\t\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t\t.data('commentid');\n\t\t\t\tthisInstance.getParentComments(commentId).done(function (data) {\n\t\t\t\t\t$(e.currentTarget.closest('.js-comment-details')).html(data);\n\t\t\t\t\tcurrentTarget.closest('.js-comment-actions').find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.hideThread', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tlet currentTargetParent = currentTarget.parent();\n\t\t\t\tlet commentActionsBlock = currentTarget.closest('.js-comment-actions');\n\t\t\t\tlet currentCommentBlock = currentTarget.closest('.js-comment-details');\n\t\t\t\tcurrentCommentBlock.find('ul').hide();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\tcommentActionsBlock.find('.js-view-thread-block').show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.detailViewThread', function (e) {\n\t\t\t\tlet recentCommentsTab = thisInstance.getTabByLabel(\n\t\t\t\t\tthisInstance.detailViewRecentCommentsTabLabel\n\t\t\t\t);\n\t\t\t\tlet commentId = jQuery(e.currentTarget)\n\t\t\t\t\t.closest('.js-comment-single')\n\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t.data('commentid');\n\t\t\t\tlet commentLoad = function (data) {\n\t\t\t\t\twindow.location.href = window.location.href + '#' + commentId;\n\t\t\t\t};\n\t\t\t\trecentCommentsTab.trigger('click', { commentid: commentId, callback: commentLoad });\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentRecords', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet recentCommentsTab = thisInstance.getTabByModule(\n\t\t\t\t\t$(this).data('label-key'),\n\t\t\t\t\t$(this).data('relation-id')\n\t\t\t\t);\n\t\t\t\tif (recentCommentsTab.length) {\n\t\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t\t} else {\n\t\t\t\t\tlet currentTarget = $(e.currentTarget),\n\t\t\t\t\t\tcontainer = currentTarget.closest(\"[class^='widgetContainer_']\");\n\t\t\t\t\tif (container.length) {\n\t\t\t\t\t\tlet page = container.find('[name=\"page\"]:last').val(),\n\t\t\t\t\t\t\turl = container.data('url');\n\t\t\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\t\t\turl = url.replace('&page=1', '&page=' + ++page);\n\t\t\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\t\t\tlet dataObj = $(data),\n\t\t\t\t\t\t\t\tcontainerTable = container.find('.js-detail-widget-content table');\n\t\t\t\t\t\t\tcurrentTarget.prop('disabled', false).addClass('d-none');\n\t\t\t\t\t\t\tcontainer.find('[name=\"page\"]:last').val(dataObj.find('[name=\"page\"]').val());\n\t\t\t\t\t\t\tif (containerTable.length) {\n\t\t\t\t\t\t\t\tcontainerTable.append(dataObj.find('tbody tr'));\n\t\t\t\t\t\t\t\tif (dataObj.find('.moreRecentRecords').length) {\n\t\t\t\t\t\t\t\t\tcurrentTarget.removeClass('d-none');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(dataObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('change', '.relatedHistoryTypes', function (e) {\n\t\t\t\tlet widgetContent = jQuery(this).closest('.widgetContentBlock').find('.widgetContent'),\n\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: widgetContent.find('.js-relatedHistoryPageLimit').val(),\n\t\t\t\t\ttype: $(e.currentTarget).val()\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.html(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreProductsService', function () {\n\t\t\t\tjQuery('.related .mainNav[data-reference=\"ProductsAndServices\"]:not(.d-none)').trigger(\n\t\t\t\t\t'click'\n\t\t\t\t);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRelatedUpdates', function () {\n\t\t\t\tlet widgetContainer = jQuery(this).closest('.widgetContentBlock');\n\t\t\t\tlet widgetContent = widgetContainer.find('.widgetContent');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet currentPage = widgetContent.find('#relatedHistoryCurrentPage').val();\n\t\t\t\tlet nextPage = parseInt(currentPage) + 1;\n\t\t\t\tlet types = widgetContainer.find('.relatedHistoryTypes').val();\n\t\t\t\tlet pageLimit = widgetContent.find('#relatedHistoryPageLimit').val();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: nextPage,\n\t\t\t\t\tlimit: pageLimit,\n\t\t\t\t\ttype: types\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.find('#relatedUpdates').append(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentUpdates', function (e) {\n\t\t\t\tconst container = $(e.currentTarget).closest('.recentActivitiesContainer');\n\t\t\t\tlet newChange = container.find('#newChange').val(),\n\t\t\t\t\tnextPage = parseInt(container.find('#updatesCurrentPage').val()) + 1,\n\t\t\t\t\turl;\n\t\t\t\tif (container.closest('.js-detail-widget').length) {\n\t\t\t\t\tlet data = thisInstance.getFiltersData(\n\t\t\t\t\t\te,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpage: nextPage,\n\t\t\t\t\t\t\ttab_label: 'LBL_UPDATES',\n\t\t\t\t\t\t\tnewChange: newChange\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontainer.find('#updates')\n\t\t\t\t\t);\n\t\t\t\t\turl = data['params'];\n\t\t\t\t} else {\n\t\t\t\t\turl = thisInstance\n\t\t\t\t\t\t.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel)\n\t\t\t\t\t\t.data('url');\n\t\t\t\t\turl =\n\t\t\t\t\t\turl.replace('&page=1', '&page=' + nextPage) + '&skipHeader=true&newChange=' + newChange;\n\t\t\t\t\tif (url.indexOf('&whereCondition') === -1) {\n\t\t\t\t\t\tlet switchBtn = jQuery('.active .js-switch--recentActivities');\n\t\t\t\t\t\turl +=\n\t\t\t\t\t\t\t'&whereCondition=' +\n\t\t\t\t\t\t\t(typeof switchBtn.data('on-val') === 'undefined'\n\t\t\t\t\t\t\t\t? switchBtn.data('off-val')\n\t\t\t\t\t\t\t\t: switchBtn.data('on-val'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tlet dataContainer = jQuery(data);\n\t\t\t\t\tcontainer.find('#newChange').val(dataContainer.find('#newChange').val());\n\t\t\t\t\tcontainer\n\t\t\t\t\t\t.find('#updatesCurrentPage')\n\t\t\t\t\t\t.val(dataContainer.find('#updatesCurrentPage').val());\n\t\t\t\t\tcontainer.find('.js-more-link').html(dataContainer.find('.js-more-link').html());\n\t\t\t\t\tcontainer.find('#updates ul').append(dataContainer.find('#updates ul').html());\n\t\t\t\t\tapp.event.trigger('DetailView.UpdatesWidget.AddMore', data, thisInstance);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.btnChangesReviewedOn', function (e) {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet url =\n\t\t\t\t\t'index.php?module=ModTracker&action=ChangesReviewedOn&record=' + app.getRecordId();\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tjQuery(e.currentTarget).parent().remove();\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel)\n\t\t\t\t\t\t.find('.count.badge')\n\t\t\t\t\t\t.text('');\n\t\t\t\t\tif (selectedTabElement.data('labelKey') == thisInstance.detailViewRecentUpdatesTabLabel) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tlet updatesWidget = detailContentsHolder.find(\"[data-type='Updates']\");\n\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\tlet params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentDocuments', function () {\n\t\t\t\tlet recentDocumentsTab = thisInstance.getTabByLabel(\n\t\t\t\t\tthisInstance.detailViewRecentDocumentsTabLabel\n\t\t\t\t);\n\t\t\t\trecentDocumentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentActivities', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\tlet container = currentTarget.closest('.activityWidgetContainer');\n\t\t\t\tlet page = container.find('.currentPage').val();\n\t\t\t\tlet records = container.find('.countActivities').val();\n\t\t\t\tlet data = thisInstance.getFiltersData(e, { page: ++page });\n\t\t\t\tAppConnector.request({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: data['params']\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tcurrentTarget.prop('disabled', false);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tcontainer.find('.currentPage').remove();\n\t\t\t\t\tcontainer.find('.countActivities').remove();\n\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(data);\n\t\t\t\t\tlet newRecords = container.find('.countActivities').val();\n\t\t\t\t\tcontainer.find('.countActivities').val(parseInt(newRecords) + parseInt(records));\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(container);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.widgetFullscreen', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet widgetContentBlock = currentTarget.closest('.widgetContentBlock');\n\t\t\t\tlet url = widgetContentBlock.data('url');\n\t\t\t\turl = url.replace('&view=Detail&', '&view=WidgetFullscreen&');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.showModalWindow(null, 'index.php?' + url, function (modal) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t});\n\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\tthisInstance.registerBlockAnimationEvent();\n\t\t\tthisInstance.registerMailPreviewWidget(\n\t\t\t\tdetailContentsHolder.find('.widgetContentBlock[data-type=\"EmailList\"]')\n\t\t\t);\n\t\t\tthisInstance.registerMailPreviewWidget(\n\t\t\t\tdetailContentsHolder.find('.widgetContentBlock[data-type=\"HistoryRelation\"]')\n\t\t\t);\n\t\t\tdetailContentsHolder\n\t\t\t\t.find('.js-switch--recentActivities')\n\t\t\t\t.off()\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tconst currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\t\ttabElement = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel),\n\t\t\t\t\t\tvariableName = currentTarget.data('urlparams'),\n\t\t\t\t\t\tvalueOn = $(this).data('on-val'),\n\t\t\t\t\t\tvalueOff = $(this).data('off-val');\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\turl = url\n\t\t\t\t\t\t.replace('&' + variableName + '=' + valueOn, '')\n\t\t\t\t\t\t.replace('&' + variableName + '=' + valueOff, '');\n\t\t\t\t\tif (typeof currentTarget.data('on-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOn;\n\t\t\t\t\t} else if (typeof currentTarget.data('off-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOff;\n\t\t\t\t\t}\n\t\t\t\t\ttabElement.data('url', url);\n\t\t\t\t\ttabElement.trigger('click');\n\t\t\t\t});\n\t\t\tapp.registerIframeEvents(detailContentsHolder);\n\t\t},\n\t\treloadWidgetActivitesStats: function (container) {\n\t\t\tlet countElement = container.find('.countActivities');\n\t\t\tlet totalElement = container.find('.totaltActivities');\n\t\t\tlet switchBtn = container.find('.active .js-switch');\n\t\t\tif (!switchBtn.length) {\n\t\t\t\tswitchBtn = container.find('.js-switch.previousMark');\n\t\t\t} else {\n\t\t\t\tcontainer.find('.js-switch').removeClass('previousMark');\n\t\t\t\tswitchBtn.addClass('previousMark');\n\t\t\t}\n\t\t\tcontainer.find('.js-switch').toggleClass('previousMark');\n\t\t\tif (!countElement.length || !totalElement.length || totalElement.val() === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet stats = ' (' + countElement.val() + '/' + totalElement.val() + ')';\n\t\t\tlet switchBtnParent = switchBtn.parent();\n\t\t\tlet text = switchBtn.data('basic-text') + stats;\n\t\t\tswitchBtnParent.removeTextNode();\n\t\t\tswitchBtnParent.append(text);\n\t\t},\n\t\trefreshCommentContainer: function (commentId) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet commentContainer = $('.commentsBody');\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\tmode: 'showThreadComments',\n\t\t\t\tcommentid: commentId\n\t\t\t};\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: commentContainer\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tcommentContainer.html(data);\n\t\t\t});\n\t\t},\n\t\tupdateRecordsPDFTemplateBtn: function (form) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet btnToolbar = $('.js-btn-toolbar .js-pdf');\n\t\t\tif (btnToolbar.length) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'PDF',\n\t\t\t\t\t\tmode: 'hasValidTemplate',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\tview: app.getViewName()\n\t\t\t\t\t},\n\t\t\t\t\tdataType: 'json'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data['result'].valid === false) {\n\t\t\t\t\t\t\tbtnToolbar.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbtnToolbar.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (data, err) {\n\t\t\t\t\t\tapp.errorLog(data, err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tupdateWindowHeight: function (currentHeight, frame) {\n\t\t\tframe.height(currentHeight);\n\t\t},\n\t\tloadSubProducts: function (parentRow) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet recordId = parentRow.data('product-id'),\n\t\t\t\tsubProrductParams = {\n\t\t\t\t\tmodule: 'Products',\n\t\t\t\t\taction: 'SubProducts',\n\t\t\t\t\trecord: recordId\n\t\t\t\t};\n\t\t\tAppConnector.request(subProrductParams).done(function (data) {\n\t\t\t\tlet responseData = data.result;\n\t\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t\t});\n\t\t},\n\t\taddSubProducts: function (parentRow, responseData) {\n\t\t\tlet subProductsContainer = $('.js-subproducts-container ul', parentRow);\n\t\t\tfor (let id in responseData) {\n\t\t\t\tlet productText = $('<li>').text(responseData[id]);\n\t\t\t\tsubProductsContainer.append(productText);\n\t\t\t}\n\t\t},\n\t\tregisterSubProducts: function (container) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.inventoryItems .js-inventory-row').each(function (index) {\n\t\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t\t});\n\t\t},\n\t\tregisterCollapsiblePanels(detailViewContainer) {\n\t\t\tconst panels = detailViewContainer.find('.js-detail-widget-collapse');\n\t\t\tconst storageName = `yf-${app.getModuleName()}-detail-widgets`;\n\t\t\tif (Quasar.plugins.LocalStorage.has(storageName)) {\n\t\t\t\tthis.setPanels({ panels, storageName });\n\t\t\t} else {\n\t\t\t\tpanels.collapse('show');\n\t\t\t\tlet panelsStorage = {};\n\t\t\t\tpanels.each((i, item) => {\n\t\t\t\t\tpanelsStorage[item.dataset.storageId] = 'shown';\n\t\t\t\t});\n\t\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t\t}\n\t\t\tpanels.on('hidden.bs.collapse shown.bs.collapse', (e) => {\n\t\t\t\tthis.updatePanelsStorage({ id: e.target.dataset.storageKey, type: e.type, storageName });\n\t\t\t});\n\t\t\tpanels.on('hide.bs.collapse show.bs.collapse', function (e) {\n\t\t\t\t$(e.currentTarget).siblings('.js-detail-widget-header').toggleClass('collapsed');\n\t\t\t});\n\t\t},\n\t\tsetPanels({ panels, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanels.each((i, item) => {\n\t\t\t\tif (\n\t\t\t\t\tpanelsStorage[item.dataset.storageKey] === 'shown' ||\n\t\t\t\t\tundefined === panelsStorage[item.dataset.storageKey]\n\t\t\t\t) {\n\t\t\t\t\t$(item).collapse('show');\n\t\t\t\t\t$(item).siblings('.js-detail-widget-header').toggleClass('collapsed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdatePanelsStorage({ id, type, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanelsStorage[id] = type;\n\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\t//this.triggerDisplayTypeEvent();\n\t\t\tthis.registerSendSmsSubmitEvent();\n\t\t\tthis.registerAjaxEditEvent();\n\t\t\tthis.registerRelatedRowClickEvent();\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEmailFieldClickEvent();\n\t\t\tthis.registerPhoneFieldClickEvent();\n\t\t\tthis.registerEventForRelatedTabClick();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tthis.registerUrlFieldClickEvent();\n\t\t\tlet detailViewContainer = jQuery('div.detailViewContainer');\n\t\t\tif (detailViewContainer.length <= 0) {\n\t\t\t\t// Not detail view page\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.registerSetReadRecord(detailViewContainer);\n\t\t\tthis.registerEventForPicklistDependencySetup(this.getForm());\n\t\t\tthis.getForm().validationEngine(app.validationEngineOptionsForRecord);\n\t\t\tthis.loadWidgetsEvents();\n\t\t\tthis.loadWidgets();\n\t\t\tthis.registerBasicEvents();\n\t\t\tthis.registerEventForTotalRecordsCount();\n\t\t\tthis.registerProgress();\n\t\t\tthis.registerChat(detailViewContainer);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","detailInstance","getInstance","moduleClassName","app","getModuleName","getViewName","instance","Vtiger_Detail_Js","triggerDetailViewAction","detailActionUrl","callBackFunction","selectedIds","push","getRecordId","selected_ids","JSON","stringify","AppConnector","request","type","url","dataType","data","postData","done","showModalWindow","fail","triggerSendSms","triggerTransferOwnership","massActionUrl","thisInstance","getRelatedModulesContainer","validationEngineOptions","params","onValidationComplete","form","valid","attr","transferOwnershipSave","validationEngine","getRelatedModuleContainer","App","Fields","Picklist","changeSelectElementView","selectElement","callback","val","relatedModules","recordId","module","action","record","transferOwnerId","transferOwner","related_modules","success","hideModalWindow","title","vtranslate","text","oldvalue","element","find","removeAttr","trigger","closest","html","Fieldname","showNotify","reloadRelatedList","length","page","loadRelatedList","runRecordChanger","id","mode","window","location","reload","jqXHR","textStatus","showWorkflowTriggerView","$","popover","treeInstance","jstree","core","parse","themes","name","responsive","icons","checkbox","three_state","plugins","on","selected","each","index","treeElement","tasks","record_id","parent","keys","user","loadWidgets","view","targetPicklistChange","targetPicklist","detailViewContentHolder","detailViewForm","detailViewDetailsTabLabel","detailViewSummaryTabLabel","detailViewRecentCommentsTabLabel","detailViewRecentActivitiesTabLabel","detailViewRecentUpdatesTabLabel","detailViewRecentDocumentsTabLabel","fieldUpdatedEvent","updatedFields","fieldPreSave","tempData","referenceFieldNames","Calendar","Accounts","Leads","Vendors","OSSEmployees","Contacts","Campaigns","HelpDesk","Projects","ServiceContracts","OutsourcedProducts","Assets","OSSOutsourcedServices","OSSSoldServices","init","loadWidgetsEvents","event","e","widgetContent","relatedModuleName","reloadWidgetActivitesStats","registerCommentEventsInDetail","registerShowSummary","Vtiger_Index_Js","registerMailButtons","preventDefault","progressIndicator","currentTarget","progressIndicatorElement","registerEmailEvents","registerBlockStatusCheckOnLoad","registerCollapsiblePanels","container","getForm","widgetList","widget","is","loadWidget","validationEngineOptionsForRecord","registerRelatedModulesRecordCount","widgetContainer","contentContainer","registerFilterForAddingModuleRelatedRecordFromSummaryWidget","queryParameters","urlParams","split","keyValueMap","queryParamComponents","Deferred","async","showSelect2ElementView","registerModal","Vtiger_RelatedList_Js","getInstanceByUrl","getSelectedTab","relatedController","setRelatedContainer","registerRelatedEvents","widgetRelatedRecordView","chart","Vtiger_Widget_Js","widgetInstance","loadChart","aDeferred","resolve","reject","promise","load","relatedRecordCacheID","moduleCacheGet","cacheKey","newActive","removeClass","addClass","prev","controlBox","next","active","hasClass","nextElement","moduleCacheSet","prevElement","loadContents","detailContentsHolder","getContentHolder","requestPjax","responseData","Date","register","getUpdateFieldsArray","getTabByLabel","tabLabel","getTabs","targetTab","labelKey","tab","getTabByModule","moduleName","tabs","relationId","selectModuleTab","getTabContainer","moduleTab","relatedTabContainer","deSelectAllrelatedTabs","markTabAsSelected","tabElement","reloadTabContent","dropdownMenuTabs","iteration","className","filter","topTabs","get","getRelatedModuleName","saveFieldValues","fieldDetailList","preSaveValidation","then","response","errorThrown","errorLog","document","progressLoader","message","position","blockInfo","enabled","result","i","getRelatedListCurrentPageNum","removeCommentBlock","remove","hideButtonAction","showCommentBlock","show","getCommentThread","saveCommentAjax","commentMode","commentContentValue","editCommentReason","commentId","parentCommentId","commentInfoBlock","relatedTo","commentcontent","related_to","addRelationBetweenRecords","saveComment","closestCommentBlock","commentContent","errorMsg","commentInfoHeader","getCommentUI","getCommentBlock","clone","clonedCommentBlock","getEditCommentBlock","Text","Completions","emojiPanel","registerSendSmsSubmitEvent","smsTextLength","submitButton","SendSmsSave","SendSmsUrl","serializeFormData","progressInstance","registerNameAjaxEditEvent","nameFields","recordLabel","nameFieldName","recordLabelElement","updateHeaderNameFields","nameField","salutatioField","salutatioValue","registerAjaxEditEvent","updateHeaderValues","currentElement","inArray","registerEmailFieldClickEvent","stopPropagation","registerPhoneFieldClickEvent","registerUrlFieldClickEvent","registerRelatedRowClickEvent","target","targetElement","children","recordUrl","elem","href","registerEventForRelatedList","n","block","blockContent","parents","isEmpty","registerPostLoadEvents","registerBlockAnimationEvent","not","blockId","closestBlock","bodyContents","cacheSet","blocks","dynamicAttr","currentBlock","headerAnimationElement","value","cacheGet","ajaxEditHandling","currentTdElement","readRecord","detailViewValue","editElement","actionElement","fieldElement","prop","elementTarget","elementName","fieldName","inputmask","focus","v","ajaxEditNewValue","fieldInfo","Vtiger_Field_Js","dateTimeField","dateTime","field","toStr","previousValue","off","Event","fieldNameValueMap","preFieldSaveEvent","fieldValue","isDefaultPrevented","getCustomFieldNameValueMap","displayValue","postSaveRecordDetails","display_value","prevDisplayValue","prev_display_value","label","textTrusted","convertUrlToObject","urlObject","replace","old","new","selectedTabElement","registerSummaryViewContainerEvents","registerEventForPicklistDependencySetup","updateRecordsPDFTemplateBtn","saveHandler","triggerDisplayTypeEvent","widthType","elements","addElementsToQuickCreateForCreatingRelation","customParams","appendTo","registerEventForActivityWidget","relField","QuickCreateParams","eventsGoToFullFormButton","taskFullFormUrl","taskGoToFullFormButton","fullFormUrl","eventsFullFormUrl","getFiltersDataAndLoad","Object","assign","Vtiger_Header_Js","quickCreateModule","getEndDate","startDate","date","dateTab","newDate","setDate","getDate","getStringDate","getSingleEventType","modDay","dateStartVal","dateStartEl","dateStartFormat","validDateFromat","Vtiger_Helper_Js","convertToDateString","map","extend","start","end","mapping","events","isEmptyObject","ev","indexOf","testDate","append","summaryWidgetContainer","referenceModuleName","quickcreateUrl","quickCreateParams","autoCompleteFields","relatedParams","postSummaryWidgetAddRecord","loadModuleSummary","headerInstance","getQuickCreateForm","handleQuickCreateData","progress","restrictionsField","src_module","src_record","multi_select","key","showRecordsList","modal","setSelectEvent","registerAddingInventoryRecords","createUrl","addidtionalParams","concat","registerEmailEvent","showConfirmationBox","d","showMessage","getFiltersData","m","item","fieldlable","selectedFilter","urlNewParams","registerChangeFilterForWidget","siblings","summaryViewContainer","updatesWidget","noCache","callbackFunction","Editor","toolbar","currentDiv","detailViewElement","descriptionText","descriptionEmpty","saveButton","closeButton","activityButtonContainer","fieldnameElement","ajaxEditNewLable","activityDiv","activityId","activityType","add","errorExists","addClickOutSideEvent","activitytype","closeDescription","hide","one","widgetHeaderContainer","registerFastEditingFiels","relatedModule","relatedModuleRecordId","addRelations","idList","_recordId","registerChangeEventForModulesList","modulesSelectElement","selectedOptionValue","registerEventForRelatedTabClick","detailContainer","urlAttributes","elementToBlock","showHorizontalTopScrollBar","callBack","registerBasicEvents","notifyPostAjaxReady","picklistDependcyElemnt","sourcePicklists","picklistDependencyMapping","sourcePickListNames","join","sourcePickListElements","sourcePicklistname","configuredDependencyObject","selectedValue","targetObjectForSelectedSourceValue","picklistmap","targetPickListName","targetPickListValues","targetPickListMap","targetPickList","listOfAvailableOptions","optionSelector","picklistValue","targetOptions","targetPickListSelectedValue","getChildComments","dataObj","getParentComments","registerEventForTotalRecordsCount","totalNumberOfRecords","getRelatedPageCount","showPagingInfo","pageNumberElement","pageRange","listViewEntriesCount","parseInt","registerSetReadRecord","relatedTabKey","fastEditingFiels","fieldContainer","registerHelpInfo","showPopoverElementView","tabContainer","relationContainer","tab_label","numberOfRecords","moreList","addComment","closestAddCommentBlock","commentTextAreaElement","commentHtml","self","noCommentsMsgContainer","commentBlock","currentChildCommentsCount","responsedata","prependTo","commentInfoContent","commentEditStatus","commentReason","reasontoedit","modifiedTime","modifiedtime","modifiedtimetitle","registerCommentEvents","editCommentBlock","error","err","recentCommentsTab","regex","hierarchy","which","submitSearchForm","searchTextDom","limit","isWidget","search_key","is_widget","eq","widgetDataContainer","registerMailPreviewWidget","mailBody","row","mailTeaser","toggleClass","loadMailPreviewWidget","typeValue","click","registerMapsEvents","mapView","registerDetailView","registerSocialMediaEvents","socialMediaContainer","summaryView","css","showProgressConfirmation","picklistName","registerProgress","loadChat","chatVue","chatContainer","height","offset","top","outerHeight","ChatRecordRoomVueComponent","mount","el","registerChat","ready","registerSubProducts","DateTime","MultiImage","registerEventForClockPicker","currentPageNum","requestedPage","relatedLabel","currentTargetParent","commentActionsBlock","currentCommentBlock","ulElements","commentid","containerTable","currentPage","nextPage","types","pageLimit","newChange","switchBtn","dataContainer","recentDocumentsTab","records","newRecords","widgetContentBlock","variableName","valueOn","valueOff","registerIframeEvents","totalElement","countElement","switchBtnParent","stats","removeTextNode","refreshCommentContainer","commentContainer","btnToolbar","updateWindowHeight","currentHeight","frame","loadSubProducts","parentRow","addSubProducts","subProductsContainer","productText","detailViewContainer","panels","storageName","Quasar","LocalStorage","has","setPanels","collapse","panelsStorage","dataset","storageId","set","updatePanelsStorage","storageKey","getItem","registerEvents"],"mappings":"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"}