{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_Detail_Js',\n\t{\n\t\tdetailInstance: false,\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Detail_Js.detailInstance == false) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_' + app.getViewName() + '_Js',\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new Vtiger_Detail_Js();\n\t\t\t\t}\n\t\t\t\tVtiger_Detail_Js.detailInstance = instance;\n\t\t\t}\n\t\t\treturn Vtiger_Detail_Js.detailInstance;\n\t\t},\n\t\t/*\n\t\t * function to trigger Detail view actions\n\t\t * @params: Action url , callback function.\n\t\t */\n\t\ttriggerDetailViewAction: function (detailActionUrl, callBackFunction) {\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tlet selectedIds = [];\n\t\t\tselectedIds.push(detailInstance.getRecordId());\n\t\t\tlet postData = {\n\t\t\t\tselected_ids: JSON.stringify(selectedIds)\n\t\t\t};\n\t\t\tlet actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: detailActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: postData\n\t\t\t};\n\n\t\t\tAppConnector.request(actionParams)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, { 'text-align': 'left' });\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\t/**\n\t\t * Function to trigger SMS quick view actions\n\t\t */\n\t\ttriggerSMSmodal: () => {\n\t\t\tApp.Components.QuickCreate.createRecord('SMSNotifier', { noCache: true });\n\t\t},\n\t\ttriggerTransferOwnership: function (massActionUrl) {\n\t\t\tlet thisInstance = this;\n\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\tlet actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: massActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: {}\n\t\t\t};\n\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tlet callback = function (data) {\n\t\t\t\t\t\tlet params = { ...app.validationEngineOptions };\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tif (form.attr('name') == 'changeOwner') {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tjQuery('#changeOwner').validationEngine(params);\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tlet selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttransferOwnershipSave: function (form) {\n\t\t\tlet transferOwner = jQuery('#transferOwnerId').val();\n\t\t\tlet relatedModules = jQuery('#related_modules').val();\n\t\t\tlet recordId = jQuery('#recordId').val();\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\taction: 'TransferOwnership',\n\t\t\t\trecord: recordId,\n\t\t\t\ttransferOwnerId: transferOwner,\n\t\t\t\trelated_modules: relatedModules\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tlet oldValue = jQuery('.assigned_user_id').val();\n\t\t\t\t\tlet element = jQuery('.assigned_user_id ');\n\n\t\t\t\t\telement.find('option[value=\"' + oldValue + '\"]').removeAttr('selected');\n\t\t\t\t\telement.find('option[value=\"' + transferOwner + '\"]').attr('selected', 'selected');\n\t\t\t\t\telement.trigger('liszt:updated');\n\t\t\t\t\tlet fieldName = element.find('option[value=\"' + transferOwner + '\"]').data('picklistvalue');\n\t\t\t\t\telement\n\t\t\t\t\t\t.closest('.row-fluid')\n\t\t\t\t\t\t.find('.value')\n\t\t\t\t\t\t.html(\n\t\t\t\t\t\t\t'<a href=\"index.php?module=Users&amp;parent=Settings&amp;view=Detail&amp;record=' +\n\t\t\t\t\t\t\t\ttransferOwner +\n\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\tfieldName +\n\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t);\n\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to get the related module container\n\t\t */\n\t\tgetRelatedModuleContainer: function () {\n\t\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t\t}\n\t\t\treturn this.getRelatedModulesContainer;\n\t\t},\n\t\treloadRelatedList: function () {\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tlet params = {};\n\t\t\tif (jQuery('[name=\"currentPageNum\"]').length > 0) {\n\t\t\t\tparams.page = jQuery('[name=\"currentPageNum\"]').val();\n\t\t\t}\n\t\t\tdetailInstance.loadRelatedList(params);\n\t\t},\n\t\trunRecordChanger: function (id) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\taction: 'Save',\n\t\t\t\tmode: 'recordChanger',\n\t\t\t\tid: id\n\t\t\t})\n\t\t\t\t.done(function () {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t})\n\t\t\t\t.fail(function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tshowWorkflowTriggerView: function (instance) {\n\t\t\t$(instance).popover('hide');\n\t\t\tconst detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\t\tcallback = function (data) {\n\t\t\t\t\tlet treeInstance = data.find('#treeWorkflowContents');\n\t\t\t\t\ttreeInstance.jstree({\n\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\tdata: JSON.parse(data.find('.js-tree-workflow-data').val()),\n\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\t\t\ticons: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcheckbox: {\n\t\t\t\t\t\t\tthree_state: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplugins: ['search', 'category']\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[type=\"submit\"]').on('click', function () {\n\t\t\t\t\t\tlet tasks = {};\n\t\t\t\t\t\tlet selected = treeInstance.jstree('getCategory', true);\n\t\t\t\t\t\t$.each(selected, function (index, treeElement) {\n\t\t\t\t\t\t\tif (treeElement.attr === 'record') {\n\t\t\t\t\t\t\t\ttasks[treeElement.record_id] = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$.each(selected, function (index, treeElement) {\n\t\t\t\t\t\t\tif (tasks[treeElement.parent] !== undefined && treeElement.attr === 'task') {\n\t\t\t\t\t\t\t\ttasks[treeElement.parent].push(treeElement.record_id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (Object.keys(tasks).length === 0) {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_INFORMATION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_SELECTED_WORKFLOW_TRIGGER'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_STARTED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\taction: 'Workflow',\n\t\t\t\t\t\t\t\tmode: 'execute',\n\t\t\t\t\t\t\t\tuser: data.find('[name=\"user\"]').val(),\n\t\t\t\t\t\t\t\trecord: detailInstance.getRecordId(),\n\t\t\t\t\t\t\t\ttasks: JSON.stringify(tasks)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_COMPLETED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\tdetailInstance.loadWidgets();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR_DURING_TRIGGER_OF_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'WorkflowTrigger',\n\t\t\t\trecord: detailInstance.getRecordId()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tapp.showModalWindow(data, '', callback);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\ttargetPicklistChange: false,\n\t\ttargetPicklist: false,\n\t\tdetailViewContentHolder: false,\n\t\tdetailViewForm: false,\n\t\tdetailViewDetailsTabLabel: 'LBL_RECORD_DETAILS',\n\t\tdetailViewSummaryTabLabel: 'LBL_RECORD_SUMMARY',\n\t\tdetailViewRecentCommentsTabLabel: 'ModComments',\n\t\tdetailViewRecentActivitiesTabLabel: 'Activities',\n\t\tdetailViewRecentUpdatesTabLabel: 'LBL_UPDATES',\n\t\tdetailViewRecentDocumentsTabLabel: 'Documents',\n\t\tfieldUpdatedEvent: 'Vtiger.Field.Updated',\n\t\t//Filels list on updation of which we need to upate the detailview header\n\t\tupdatedFields: ['company', 'designation', 'title'],\n\t\t//Event that will triggered before saving the ajax edit of fields\n\t\tfieldPreSave: 'Vtiger.Field.PreSave',\n\t\ttempData: [],\n\t\t//constructor\n\t\tinit: function () {},\n\t\tloadWidgetsEvents: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tapp.event.on('DetailView.Widget.AfterLoad', function (e, widgetContent, relatedModuleName, instance) {\n\t\t\t\tif (relatedModuleName === 'Calendar') {\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(widgetContent.closest('.activityWidgetContainer'));\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'ModComments') {\n\t\t\t\t\tthisInstance.registerCommentEventsInDetail(widgetContent.closest('.updatesWidgetContainer'));\n\t\t\t\t}\n\t\t\t\tif (widgetContent.find('[name=\"relatedModule\"]').length) {\n\t\t\t\t\tthisInstance.registerShowSummary(widgetContent);\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'OSSMailView') {\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t\twidgetContent.find('.showMailModal').on('click', function (e) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.registerEmailEvents(widgetContent);\n\t\t\t\tif (relatedModuleName === 'DetailView') {\n\t\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t}\n\t\t\t\tthisInstance.registerCollapsiblePanels(widgetContent.closest('.js-detail-widget'));\n\t\t\t});\n\t\t},\n\t\tloadWidgets: function () {\n\t\t\tlet container = this.getForm();\n\t\t\tlet widgetList = jQuery('[class^=\"widgetContainer_\"]');\n\t\t\tlet length = widgetList.length;\n\t\t\twidgetList.each((index, widget) => {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tthis.loadWidget(widget);\n\t\t\t\t}\n\t\t\t\tif (length === index + 1) {\n\t\t\t\t\tcontainer.validationEngine('detach');\n\t\t\t\t\tcontainer.validationEngine(app.validationEngineOptionsForRecord);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerRelatedModulesRecordCount();\n\t\t},\n\t\tloadWidget: function (widgetContainer, params) {\n\t\t\tconst thisInstance = this,\n\t\t\t\tcontentContainer = $('.js-detail-widget-content', widgetContainer);\n\t\t\tlet relatedModuleName;\n\t\t\tthis.registerFilterForAddingModuleRelatedRecordFromSummaryWidget(widgetContainer);\n\t\t\tif (widgetContainer.find('[name=\"relatedModule\"]').length) {\n\t\t\t\trelatedModuleName = widgetContainer.find('[name=\"relatedModule\"]').val();\n\t\t\t} else {\n\t\t\t\trelatedModuleName = widgetContainer.data('name');\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\tlet urlParams = widgetContainer.data('url');\n\t\t\t\tif (urlParams == undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet queryParameters = urlParams.split('&'),\n\t\t\t\t\tkeyValueMap = {},\n\t\t\t\t\tindex;\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParamComponents = queryParameters[index].split('=');\n\t\t\t\t\tkeyValueMap[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t}\n\t\t\t\tparams = keyValueMap;\n\t\t\t}\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tcontentContainer.progressIndicator({});\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: params\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tcontentContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetContainer.find('.select2'));\n\t\t\t\t\tapp.registerModal(contentContainer);\n\t\t\t\t\tApp.Components.DropFile.register(contentContainer);\n\t\t\t\t\tif (relatedModuleName) {\n\t\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(\n\t\t\t\t\t\t\twidgetContainer.data('url'),\n\t\t\t\t\t\t\tthisInstance.getSelectedTab()\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(contentContainer);\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t\tthisInstance.widgetRelatedRecordView(widgetContainer, true);\n\t\t\t\t\t\tlet chart = contentContainer.find('[name=\"typeChart\"]');\n\t\t\t\t\t\tif (chart.length && typeof window['Vtiger_Widget_Js'] !== 'undefined') {\n\t\t\t\t\t\t\tlet widgetInstance = Vtiger_Widget_Js.getInstance(contentContainer, chart.val());\n\t\t\t\t\t\t\twidgetInstance.init(contentContainer);\n\t\t\t\t\t\t\twidgetInstance.loadChart();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.Widget.AfterLoad', contentContainer, relatedModuleName, thisInstance);\n\t\t\t\t\taDeferred.resolve(params);\n\t\t\t\t})\n\t\t\t\t.fail(function () {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Adding relationships in the products and services widget.\n\t\t */\n\t\tregisterWidgetProductAndServices: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.getForm().on('click', '.js-widget-products-services', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateRelation',\n\t\t\t\t\trecordsToAdd: [],\n\t\t\t\t\tsrc_record: app.getRecordId(),\n\t\t\t\t\trelated_module: currentTarget.closest('.js-detail-widget-header').find('[name=\"relatedModule\"]').val()\n\t\t\t\t};\n\t\t\t\tlet url = currentTarget.data('url');\n\t\t\t\tapp.showRecordsList(url, (_, instance) => {\n\t\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\t\tfor (let i in data) {\n\t\t\t\t\t\t\tparams.recordsToAdd.push(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tAppConnector.request(params).done(function () {\n\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\twidgetRelatedRecordView: function (container, load) {\n\t\t\tlet cacheKey = this.getRecordId() + '_' + container.data('id');\n\t\t\tlet relatedRecordCacheID = app.moduleCacheGet(cacheKey);\n\t\t\tif (relatedRecordCacheID !== null) {\n\t\t\t\tlet newActive = container.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\");\n\t\t\t\tif (newActive.length) {\n\t\t\t\t\tcontainer.find('.js-carousel-item.active').removeClass('active');\n\t\t\t\t\tcontainer.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\").addClass('active');\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet controlBox = container.find('.control-widget');\n\t\t\tlet prev = controlBox.find('.prev');\n\t\t\tlet next = controlBox.find('.next');\n\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.next().length) {\n\t\t\t\tnext.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tnext.removeClass('disabled');\n\t\t\t}\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.prev().length) {\n\t\t\t\tprev.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tprev.removeClass('disabled');\n\t\t\t}\n\t\t\tif (load) {\n\t\t\t\tnext.on('click', function () {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tlet nextElement = active.next();\n\t\t\t\t\tnextElement.addClass('active');\n\t\t\t\t\tif (!nextElement.next().length) {\n\t\t\t\t\t\tnext.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.prev()) {\n\t\t\t\t\t\tprev.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, nextElement.data('id'));\n\t\t\t\t});\n\t\t\t\tprev.on('click', function () {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tlet active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tlet prevElement = active.prev();\n\t\t\t\t\tprevElement.addClass('active');\n\t\t\t\t\tif (!prevElement.prev().length) {\n\t\t\t\t\t\tprev.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.next()) {\n\t\t\t\t\t\tnext.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, prevElement.data('id'));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tloadContents: function (url, data) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet aDeferred = jQuery.Deferred();\n\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tlet params = url;\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t\tparams.url = url;\n\t\t\t\tparams.data = data;\n\t\t\t}\n\t\t\tAppConnector.requestPjax(params).done(function (responseData) {\n\t\t\t\tdetailContentsHolder.html(responseData);\n\t\t\t\tresponseData = detailContentsHolder.html();\n\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t//Make select box more usability\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(detailContentsHolder);\n\t\t\t\t//Attach date picker event to date fields\n\t\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\t\tthisInstance.getForm().validationEngine();\n\t\t\t\tapp.event.trigger('DetailView.LoadContents.AfterLoad', responseData);\n\t\t\t\taDeferred.resolve(responseData);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetUpdateFieldsArray: function () {\n\t\t\treturn this.updatedFields;\n\t\t},\n\t\t/**\n\t\t * Function to return related tab.\n\t\t * @return : jQuery Object.\n\t\t */\n\t\tgetTabByLabel: function (tabLabel) {\n\t\t\tlet tabs = this.getTabs();\n\t\t\tlet targetTab = false;\n\t\t\ttabs.each(function (index, element) {\n\t\t\t\tlet tab = jQuery(element);\n\t\t\t\tlet labelKey = tab.data('labelKey');\n\t\t\t\tif (labelKey == tabLabel) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tgetTabByModule: function (moduleName, relationId = '') {\n\t\t\tlet tabs = this.getTabs();\n\t\t\tlet targetTab = false;\n\t\t\ttabs.each(function (index, element) {\n\t\t\t\tlet tab = jQuery(element);\n\t\t\t\tif (\n\t\t\t\t\ttab.data('reference') == moduleName &&\n\t\t\t\t\t(!relationId || (relationId && relationId == tab.data('relation-id')))\n\t\t\t\t) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tselectModuleTab: function () {\n\t\t\tlet relatedTabContainer = this.getTabContainer();\n\t\t\tlet moduleTab = relatedTabContainer.find('li.module-tab');\n\t\t\tthis.deSelectAllrelatedTabs();\n\t\t\tthis.markTabAsSelected(moduleTab);\n\t\t},\n\t\tdeSelectAllrelatedTabs: function () {\n\t\t\tthis.getTabs().removeClass('active');\n\t\t},\n\t\tmarkTabAsSelected: function (tabElement) {\n\t\t\ttabElement.addClass('active');\n\t\t\t$(\n\t\t\t\t'.related .dropdown [data-reference=\"' +\n\t\t\t\t\ttabElement.data('reference') +\n\t\t\t\t\t'\"][data-relation-id=\"' +\n\t\t\t\t\ttabElement.data('relation-id') +\n\t\t\t\t\t'\"]'\n\t\t\t).addClass('active');\n\t\t},\n\t\treloadTabContent: function () {\n\t\t\tthis.getSelectedTab().trigger('click');\n\t\t},\n\t\tgetSelectedTab: function () {\n\t\t\tlet tabContainer = this.getTabContainer();\n\t\t\treturn tabContainer.find('.js-detail-tab.active:not(.d-none)');\n\t\t},\n\t\tgetTabContainer: function () {\n\t\t\treturn jQuery('div.related');\n\t\t},\n\t\tgetTabs: function () {\n\t\t\tlet topTabs = this.getTabContainer().find('li.baseLink:not(.d-none)');\n\t\t\tlet dropdownMenuTabs = this.getTabContainer().find('li:not(.baseLink)');\n\t\t\tdropdownMenuTabs.each(function (n, e) {\n\t\t\t\tlet currentTarget = jQuery(this);\n\t\t\t\tlet iteration = currentTarget.data('iteration');\n\t\t\t\tlet className = currentTarget.hasClass('mainNav') ? 'mainNav' : 'relatedNav';\n\t\t\t\tif (\n\t\t\t\t\titeration != undefined &&\n\t\t\t\t\ttopTabs.filter('.' + className + '[data-iteration=\"' + iteration + '\"]').length < 1\n\t\t\t\t) {\n\t\t\t\t\ttopTabs.push(currentTarget.get(0));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn topTabs;\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = jQuery('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\t/**\n\t\t * Function which will give the detail view form\n\t\t * @return : jQuery element\n\t\t */\n\t\tgetForm: function () {\n\t\t\tif (this.detailViewForm == false) {\n\t\t\t\tthis.detailViewForm = jQuery('#detailView');\n\t\t\t}\n\t\t\treturn this.detailViewForm;\n\t\t},\n\t\tgetRecordId: function () {\n\t\t\treturn app.getRecordId();\n\t\t},\n\t\tgetRelatedModuleName: function () {\n\t\t\tif (jQuery('.relatedModuleName', this.getContentHolder()).length == 1) {\n\t\t\t\treturn jQuery('.relatedModuleName', this.getContentHolder()).val();\n\t\t\t}\n\t\t},\n\t\tgetRelatedListCurrentPageNum: function () {\n\t\t\treturn jQuery('input[name=\"currentPageNum\"]', this.getContentHolder()).val();\n\t\t},\n\n\t\t/**\n\t\t * function to hide button action.\n\t\t */\n\t\thideButtonAction: function () {\n\t\t\t$('.js-hb__container').removeClass('u-hidden-block__opened');\n\t\t},\n\n\t\t/**\n\t\t * function to get the Comment thread for the given parent.\n\t\t * params: Url to get the Comment thread\n\t\t */\n\t\tgetCommentThread: function (url) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save comment\n\t\t */\n\t\tsaveCommentAjax: function (\n\t\t\telement,\n\t\t\tcommentMode,\n\t\t\tcommentContentValue,\n\t\t\teditCommentReason,\n\t\t\tcommentId,\n\t\t\tparentCommentId,\n\t\t\taDeferred\n\t\t) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({});\n\t\t\tlet commentInfoBlock = element.closest('.js-comment-single');\n\t\t\tlet relatedTo = commentInfoBlock.find('.related_to').val();\n\t\t\tif (!relatedTo) {\n\t\t\t\trelatedTo = thisInstance.getRecordId();\n\t\t\t}\n\t\t\tlet postData = {\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tcommentcontent: commentContentValue,\n\t\t\t\trelated_to: relatedTo,\n\t\t\t\tmodule: 'ModComments'\n\t\t\t};\n\t\t\tif (commentMode == 'edit') {\n\t\t\t\tpostData['fromView'] = 'QuickEdit';\n\t\t\t\tpostData['record'] = commentId;\n\t\t\t\tpostData['reasontoedit'] = editCommentReason;\n\t\t\t\tpostData['parent_comments'] = parentCommentId;\n\t\t\t} else if (commentMode == 'add') {\n\t\t\t\tpostData['parent_comments'] = commentId;\n\t\t\t}\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (commentMode == 'add') {\n\t\t\t\t\t\tthisInstance.addRelationBetweenRecords(\n\t\t\t\t\t\t\t'ModComments',\n\t\t\t\t\t\t\tdata.result._recordId,\n\t\t\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel),\n\t\t\t\t\t\t\t{ relationId: null }\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterAjax', commentInfoBlock, postData, data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\tsaveComment: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tcurrentTarget = jQuery(e.currentTarget),\n\t\t\t\tcommentMode = currentTarget.data('mode'),\n\t\t\t\tclosestCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentContent = closestCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentContentValue = commentContent.html(),\n\t\t\t\terrorMsg,\n\t\t\t\teditCommentReason;\n\t\t\tif ('' === commentContentValue) {\n\t\t\t\terrorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY');\n\t\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\t\taDeferred.reject(errorMsg);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif ('edit' === commentMode) {\n\t\t\t\teditCommentReason = closestCommentBlock.find('[name=\"reasonToEdit\"]').val();\n\t\t\t}\n\t\t\tlet element = jQuery(e.currentTarget),\n\t\t\t\tcommentInfoHeader = closestCommentBlock.closest('.js-comment-details').find('.js-comment-info-header'),\n\t\t\t\tcommentId = commentInfoHeader.data('commentid'),\n\t\t\t\tparentCommentId = commentInfoHeader.data('parentcommentid');\n\t\t\tthis.saveCommentAjax(\n\t\t\t\telement,\n\t\t\t\tcommentMode,\n\t\t\t\tcommentContentValue,\n\t\t\t\teditCommentReason,\n\t\t\t\tcommentId,\n\t\t\t\tparentCommentId,\n\t\t\t\taDeferred\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return the UI of the comment.\n\t\t * return html\n\t\t */\n\t\tgetCommentUI: function (commentId) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet postData = {\n\t\t\t\tview: 'DetailAjax',\n\t\t\t\tmodule: 'ModComments',\n\t\t\t\trecord: commentId\n\t\t\t};\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return cloned add comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetCommentBlock: function () {\n\t\t\tlet clonedCommentBlock = jQuery('.basicAddCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicAddCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/**\n\t\t * function to return cloned edit comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetEditCommentBlock: function () {\n\t\t\tlet clonedCommentBlock = jQuery('.basicEditCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicEditCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\tnew App.Fields.Text.Completions(clonedCommentBlock.find('.js-completions'));\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/*\n\t\t * Function to register the submit event for Send Sms\n\t\t */\n\t\tregisterSendSmsSubmitEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tjQuery('body').on('submit', '#massSave', function (e) {\n\t\t\t\tlet form = jQuery(e.currentTarget);\n\t\t\t\tlet smsTextLength = form.find('#message').html().length;\n\t\t\t\tif (smsTextLength > 160) {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('LBL_SMS_MAX_CHARACTERS_ALLOWED'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet submitButton = form.find(':submit');\n\t\t\t\tsubmitButton.attr('disabled', 'disabled');\n\t\t\t\tthisInstance.SendSmsSave(form);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to Save and sending the Sms and hide the modal window of send sms\n\t\t */\n\t\tSendSmsSave: function (form) {\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet SendSmsUrl = form.serializeFormData();\n\t\t\tAppConnector.request(SendSmsUrl)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tprogressInstance.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\t/**\n\t\t * Function which will register events to update the record name in the detail view when any of\n\t\t * the name field is changed\n\t\t */\n\t\tregisterNameAjaxEditEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, '.nameField', function (e, params) {\n\t\t\t\tlet form = thisInstance.getForm();\n\t\t\t\tlet nameFields = form.data('nameFields');\n\t\t\t\tlet recordLabel = '';\n\t\t\t\tfor (let index in nameFields) {\n\t\t\t\t\tif (index != 0) {\n\t\t\t\t\t\trecordLabel += ' ';\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nameFieldName = nameFields[index];\n\t\t\t\t\trecordLabel += form.find('[name=\"' + nameFieldName + '\"]').val();\n\t\t\t\t}\n\t\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t});\n\t\t},\n\t\tupdateHeaderNameFields: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet form = thisInstance.getForm();\n\t\t\tlet nameFields = form.data('nameFields');\n\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\tlet title = '';\n\t\t\tfor (let index in nameFields) {\n\t\t\t\tlet nameFieldName = nameFields[index];\n\t\t\t\tlet nameField = form.find('[name=\"' + nameFieldName + '\"]');\n\t\t\t\tif (nameField.length > 0) {\n\t\t\t\t\tlet recordLabel = nameField.val();\n\t\t\t\t\ttitle += recordLabel + ' ';\n\t\t\t\t\trecordLabelElement.find('[class=\"' + nameFieldName + '\"]').text(recordLabel);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet salutatioField = recordLabelElement.find('.salutation');\n\t\t\tif (salutatioField.length > 0) {\n\t\t\t\tlet salutatioValue = salutatioField.text();\n\t\t\t\ttitle = salutatioValue + title;\n\t\t\t}\n\t\t\trecordLabelElement.attr('title', title);\n\t\t},\n\t\tregisterAjaxEditEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, 'input,select,textarea', function (e) {\n\t\t\t\tthisInstance.updateHeaderValues(jQuery(e.currentTarget));\n\t\t\t});\n\t\t},\n\t\tupdateHeaderValues: function (currentElement) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (currentElement.hasClass('nameField')) {\n\t\t\t\tthisInstance.updateHeaderNameFields();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tlet name = currentElement.attr('name');\n\t\t\tlet updatedFields = this.getUpdateFieldsArray();\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tif (jQuery.inArray(name, updatedFields) != '-1') {\n\t\t\t\tlet recordLabel = currentElement.val();\n\t\t\t\tlet recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.' + name + '_label');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of url field\n\t\t */\n\t\tregisterUrlFieldClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.urlField', function (e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for related list row click\n\t\t */\n\t\tregisterRelatedRowClickEvent: function () {\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.listViewEntries', function (e) {\n\t\t\t\tlet targetElement = jQuery(e.target, jQuery(e.currentTarget));\n\t\t\t\tif (targetElement.is('td:first-child') && targetElement.children('input[type=\"checkbox\"]').length > 0) return;\n\t\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\tlet elem = jQuery(e.currentTarget);\n\t\t\t\tlet recordUrl = elem.data('recordurl');\n\t\t\t\tif (typeof recordUrl !== 'undefined') {\n\t\t\t\t\twindow.location.href = recordUrl;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (params == undefined) {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tlet relatedListInstance = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\tthis.getRecordId(),\n\t\t\t\tapp.getModuleName(),\n\t\t\t\tthis.getSelectedTab(),\n\t\t\t\tthis.getRelatedModuleName()\n\t\t\t);\n\t\t\trelatedListInstance\n\t\t\t\t.loadRelatedList(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register Event for Sorting\n\t\t */\n\t\tregisterEventForRelatedList: function () {\n\t\t\tconst self = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tlet relatedModuleName = self.getRelatedModuleName();\n\t\t\tif (relatedModuleName) {\n\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tself.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tself.getSelectedTab(),\n\t\t\t\t\trelatedModuleName\n\t\t\t\t);\n\t\t\t\trelatedController.setRelatedContainer(detailContentsHolder);\n\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t}\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink').each(function (n, block) {\n\t\t\t\tself.reloadDetailViewBlock($(block), false);\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink .blockHeader').on('click', function (e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tself.reloadDetailViewBlock($(this).closest('.js-toggle-panel'));\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to reload detail view block\n\t\t * @param {$} block - Jquery container.\n\t\t */\n\t\treloadDetailViewBlock: function (block, progressIndicator = true) {\n\t\t\tconst self = this;\n\t\t\tconst blockContent = block.find('.blockContent');\n\t\t\tconst isEmpty = blockContent.is(':empty');\n\t\t\tlet url = block.data('url');\n\t\t\tif (blockContent.is(':visible') && url) {\n\t\t\t\tif (progressIndicator) {\n\t\t\t\t\tblockContent.progressIndicator();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(url).done(function (response) {\n\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\tconst relatedController = Vtiger_RelatedList_Js.getInstanceByUrl(url, self.getSelectedTab());\n\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trelatedController.registerPostLoadEvents();\n\t\t\t\t\t\trelatedController.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getContentHolder().find('.js-toggle-panel');\n\t\t\tlet module = app.getModuleName();\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = jQuery(block);\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.closest('.js-toggle-panel').find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle the ajax edit for detailview and summary view fields\n\t\t * which will expects the currentTdElement\n\t\t */\n\t\tajaxEditHandling: function (currentTdElement) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet readRecord = $('.setReadRecord'),\n\t\t\t\tdetailViewValue = $('.value', currentTdElement),\n\t\t\t\teditElement = $('.edit', currentTdElement),\n\t\t\t\tactionElement = $('.js-detail-quick-edit', currentTdElement),\n\t\t\t\tfieldElement = $('.fieldname', editElement);\n\t\t\treadRecord.prop('disabled', true);\n\t\t\t$(fieldElement).each(function (index, element) {\n\t\t\t\tlet fieldName = $(element).val(),\n\t\t\t\t\telementTarget = $(element),\n\t\t\t\t\telementName =\n\t\t\t\t\t\t$.inArray(elementTarget.data('type'), [\n\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t'multiListFields',\n\t\t\t\t\t\t\t'multiDomain',\n\t\t\t\t\t\t\t'mailScannerFields',\n\t\t\t\t\t\t\t'mailScannerActions'\n\t\t\t\t\t\t]) != -1\n\t\t\t\t\t\t\t? fieldName + '[]'\n\t\t\t\t\t\t\t: fieldName;\n\t\t\t\tlet fieldElement = $('[name=\"' + elementName + '\"]:not([type=\"hidden\"])', editElement);\n\t\t\t\tif (fieldElement.attr('disabled') == 'disabled' && fieldElement.attr('type') !== 'password') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.is(':visible')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t}\n\t\t\t\tdetailViewValue.addClass('d-none');\n\t\t\t\tactionElement.addClass('d-none');\n\t\t\t\teditElement\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.children()\n\t\t\t\t\t.filter('input[type!=\"hidden\"]input[type!=\"image\"],select')\n\t\t\t\t\t.filter(':first')\n\t\t\t\t\t.focus();\n\t\t\t\tlet saveHandler = function (e) {\n\t\t\t\t\tthisInstance.registerNameAjaxEditEvent();\n\t\t\t\t\tlet element = $(e.target);\n\t\t\t\t\tif ($(e.currentTarget).find('.dateTimePickerField').length) {\n\t\t\t\t\t\tif (element.closest('.drp-calendar').length || element.hasClass('drp-calendar')) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\telement.closest('.fieldValue').is(currentTdElement) ||\n\t\t\t\t\t\telement.closest('.pnotify-modal').length ||\n\t\t\t\t\t\telement.hasClass('select2-selection__choice__remove') ||\n\t\t\t\t\t\telement.closest('.select2-container--open').length ||\n\t\t\t\t\t\telement.parents('.clockpicker-popover').length\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentTdElement.removeAttr('tabindex');\n\t\t\t\t\tcurrentTdElement.removeClass('is-edit-active');\n\t\t\t\t\tlet previousValue = elementTarget.data('prevValue'),\n\t\t\t\t\t\teditElement = elementTarget.closest('.edit'),\n\t\t\t\t\t\tajaxEditNewValue =\n\t\t\t\t\t\t\teditElement.find('[name=\"' + elementName + '\"]').length > 0\n\t\t\t\t\t\t\t\t? editElement.find('[name=\"' + elementName + '\"]').val()\n\t\t\t\t\t\t\t\t: editElement.find('[name=\"' + fieldName + '\"]').val(),\n\t\t\t\t\t\tfieldInfo = Vtiger_Field_Js.getInstance(fieldElement.data('fieldinfo')),\n\t\t\t\t\t\tdateTimeField = [],\n\t\t\t\t\t\tdateTime = false;\n\t\t\t\t\tif (editElement.find('[data-fieldinfo]').length == 2) {\n\t\t\t\t\t\teditElement.find('[data-fieldinfo]').each(function () {\n\t\t\t\t\t\t\tlet field = {\n\t\t\t\t\t\t\t\tname: $(this).attr('name'),\n\t\t\t\t\t\t\t\ttype: $(this).data('fieldinfo').type\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (field['type'] == 'datetime') {\n\t\t\t\t\t\t\t\tdateTime = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdateTimeField.push(field);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.is('input:checkbox')) {\n\t\t\t\t\t\tif (fieldElement.is(':checked')) {\n\t\t\t\t\t\t\tajaxEditNewValue = '1';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tajaxEditNewValue = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfieldElement = fieldElement.filter('[type=\"checkbox\"]');\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.validationEngine('validate')) {\n\t\t\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tfunction toStr(v) {\n\t\t\t\t\t\treturn v === undefined || v === null ? '' : v + '';\n\t\t\t\t\t}\n\t\t\t\t\tfieldElement.validationEngine('hide');\n\t\t\t\t\tif (toStr(previousValue) === toStr(ajaxEditNewValue)) {\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\t\t\tfieldValue: ajaxEditNewValue,\n\t\t\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (preFieldSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tVtiger_Edit_Js.saveAjax(\n\t\t\t\t\t\t\tthisInstance.getCustomFieldNameValueMap({\n\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst postSaveRecordDetails = response.result;\n\t\t\t\t\t\t\t\tlet displayValue = postSaveRecordDetails[fieldName].display_value,\n\t\t\t\t\t\t\t\t\tprevDisplayValue = postSaveRecordDetails[fieldName].prev_display_value;\n\t\t\t\t\t\t\t\tif (dateTimeField.length && dateTime) {\n\t\t\t\t\t\t\t\t\tdisplayValue =\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[0].name].display_value +\n\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[1].name].display_value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdetailViewValue.html(displayValue);\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tfieldInfo.data.label +\n\t\t\t\t\t\t\t\t\t\t'</b><br>' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_FROM') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tprevDisplayValue +\n\t\t\t\t\t\t\t\t\t\t'<br> ' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_TO') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tdisplayValue,\n\t\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\t\ttextTrusted: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (postSaveRecordDetails['_isViewable'] === false) {\n\t\t\t\t\t\t\t\t\tlet urlObject = app.convertUrlToObject(window.location.href);\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.parent.location.href = 'index.php?module=' + urlObject['module'] + '&view=ListPreview';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = 'index.php?module=' + urlObject['module'] + '&view=List';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tpostSaveRecordDetails['_isEditable'] === false ||\n\t\t\t\t\t\t\t\t\tpostSaveRecordDetails['_reload'] === true\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t$.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = window.location.href.replace('view=Detail', 'view=DetailPreview');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfieldElement.trigger(thisInstance.fieldUpdatedEvent, {\n\t\t\t\t\t\t\t\t\told: previousValue,\n\t\t\t\t\t\t\t\t\tnew: ajaxEditNewValue\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tajaxEditNewValue = ajaxEditNewValue === undefined ? '' : ajaxEditNewValue; //data cannot be undefined\n\t\t\t\t\t\t\t\telementTarget.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tfieldElement.data('selectedValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tif (thisInstance.targetPicklistChange) {\n\t\t\t\t\t\t\t\t\tif ($('.js-widget-general-info', thisInstance.getForm()).length > 0) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.find('.js-detail-quick-edit').trigger('click');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.trigger('click');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\t\t\t\tif (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.updateRecordsPDFTemplateBtn(thisInstance.getForm());\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_FAIL'),\n\t\t\t\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\teditElement.on('clickoutside', saveHandler);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function updates the hidden elements which is used for creating relations\n\t\t */\n\t\taddElementsToQuickCreateForCreatingRelation: function (container, customParams) {\n\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" >').appendTo(container);\n\t\t\tjQuery.each(customParams, function (index, value) {\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + index + '\" value=\"' + value + '\" >').appendTo(container);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for activity widget for adding\n\t\t * event and task from the widget\n\t\t */\n\t\tregisterEventForActivityWidget: function () {\n\t\t\tlet thisInstance = this;\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related Activities widget\n\t\t\t */\n\t\t\tjQuery('.createActivity').on('click', function (e) {\n\t\t\t\tlet referenceModuleName = 'Calendar';\n\t\t\t\tlet recordId = thisInstance.getRecordId();\n\t\t\t\tlet module = app.getModuleName();\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\n\t\t\t\tlet customParams = {};\n\t\t\t\tcustomParams['sourceModule'] = module;\n\t\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\t\tlet fullFormUrl = element.data('url');\n\t\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\t\tlet taskGoToFullFormButton = data.find('[class^=\"CalendarQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\t\tlet eventsGoToFullFormButton = data.find('[class^=\"EventsQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\t\tlet taskFullFormUrl = taskGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\tlet eventsFullFormUrl = eventsGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\ttaskGoToFullFormButton.data('url', taskFullFormUrl);\n\t\t\t\t\teventsGoToFullFormButton.data('url', eventsFullFormUrl);\n\t\t\t\t};\n\t\t\t\tlet callbackFunction = function () {\n\t\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t\t\tthisInstance.loadWidget($('.widgetContentBlock[data-type=\"Updates\"]'));\n\t\t\t\t};\n\t\t\t\tlet QuickCreateParams = {};\n\t\t\t\tQuickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\t\tQuickCreateParams['callbackFunction'] = callbackFunction;\n\t\t\t\tQuickCreateParams['data'] = Object.assign({}, customParams);\n\t\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, QuickCreateParams);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to add module related record from summary widget\n\t\t */\n\t\tregisterFilterForAddingModuleRelatedRecordFromSummaryWidget: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer\n\t\t\t\t.find('.createRecordFromFilter')\n\t\t\t\t.off()\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\t\tlet quickcreateUrl = currentElement.data('url');\n\t\t\t\t\tlet quickCreateParams = {};\n\t\t\t\t\tlet autoCompleteFields = currentElement.data('acf');\n\t\t\t\t\tlet moduleName = currentElement.closest('.js-detail-widget-header').find('[name=\"relatedModule\"]').val();\n\t\t\t\t\tlet relatedParams = {};\n\t\t\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\t\t\tif (referenceModuleName == 'ProjectTask') {\n\t\t\t\t\t\t\tthisInstance.loadModuleSummary();\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\t\t\trelatedParams[index] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (Object.keys(relatedParams).length > 0) {\n\t\t\t\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\t\t\t}\n\t\t\t\t\tquickCreateParams['noCache'] = true;\n\t\t\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\t\t\tlet progress = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet quickCreate;\n\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\tquickCreate = window.parent.App.Components.QuickCreate;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquickCreate = App.Components.QuickCreate;\n\t\t\t\t\t}\n\t\t\t\t\tquickCreate.getForm(quickcreateUrl, moduleName, quickCreateParams).done(function (data) {\n\t\t\t\t\t\tquickCreate.showModal(data, quickCreateParams, currentElement);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('button.selectRelation')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet summaryWidgetContainer = jQuery(e.currentTarget).closest('.js-detail-widget');\n\t\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tmodule: referenceModuleName,\n\t\t\t\t\t\tsrc_module: app.getModuleName(),\n\t\t\t\t\t\tsrc_record: thisInstance.getRecordId(),\n\t\t\t\t\t\tmulti_select: true,\n\t\t\t\t\t\trelationId: summaryWidgetContainer.data('relationId')\n\t\t\t\t\t};\n\t\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\t\tparams['search_key'] = restrictionsField.key;\n\t\t\t\t\t\tparams['search_value'] = restrictionsField.name;\n\t\t\t\t\t}\n\t\t\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t.addRelationBetweenRecords(referenceModuleName, Object.keys(responseData), null, {\n\t\t\t\t\t\t\t\t\trelationId: params.relationId\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('.widgetContentBlock'));\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tregisterAddingInventoryRecords: function () {\n\t\t\tjQuery('.createInventoryRecordFromFilter').on('click', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet createUrl = currentElement.data('url');\n\t\t\t\tlet autoCompleteFields = currentElement.data('acf');\n\t\t\t\tlet addidtionalParams = '';\n\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\t\taddidtionalParams = '&' + index + '=' + value;\n\t\t\t\t\t\tcreateUrl = createUrl.concat(addidtionalParams);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\twindow.location.href = createUrl;\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvent: function () {\n\t\t\tthis.getContentHolder()\n\t\t\t\t.find('.resetRelationsEmail')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_EMAIL_RESET_RELATIONS_CONFIRMATION'),\n\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\t\t\t\taction: 'Relation',\n\t\t\t\t\t\t\t\tmoduleName: app.getModuleName(),\n\t\t\t\t\t\t\t\trecord: app.getRecordId()\n\t\t\t\t\t\t\t}).done(function (d) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({ text: d.result });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgetFiltersDataAndLoad: function (e, params) {\n\t\t\tlet data = this.getFiltersData(e, params);\n\t\t\tthis.loadWidget(data['container'], data['params']);\n\t\t},\n\t\tgetFiltersData: function (e, params) {\n\t\t\tlet currentElement;\n\t\t\tif (e.currentTarget) {\n\t\t\t\tcurrentElement = jQuery(e.currentTarget);\n\t\t\t} else {\n\t\t\t\tcurrentElement = e;\n\t\t\t}\n\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tlet widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\t\tlet url = '&' + widget.data('url');\n\t\t\tlet urlParams = {};\n\t\t\turl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n\t\t\t\turlParams[key] = value;\n\t\t\t});\n\t\t\tlet urlNewParams = [];\n\t\t\tsummaryWidgetContainer.find('.js-switch, .js-filter_field').each(function (n, item) {\n\t\t\t\tlet value = '';\n\t\t\t\tlet element = jQuery(item);\n\t\t\t\tlet name = element.data('urlparams');\n\t\t\t\tif (element.attr('type') == 'radio') {\n\t\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\t\tvalue = typeof element.data('on-val') !== 'undefined' ? element.data('on-val') : element.data('off-val');\n\t\t\t\t\t\tlet additionalParams = element.data('params');\n\t\t\t\t\t\tif (typeof additionalParams !== typeof undefined && additionalParams !== false) {\n\t\t\t\t\t\t\t$.each(additionalParams, function (paramName, paramValue) {\n\t\t\t\t\t\t\t\tif (paramName in urlNewParams) {\n\t\t\t\t\t\t\t\t\turlNewParams[paramName].push(paramValue);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\turlNewParams[paramName] = paramValue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet selectedFilter = element.find('option:selected').val();\n\t\t\t\t\tlet fieldlable = element.data('fieldlable');\n\t\t\t\t\tlet filter = element.data('filter');\n\t\t\t\t\tif (element.data('return') === 'value') {\n\t\t\t\t\t\tvalue = selectedFilter;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (selectedFilter != fieldlable) {\n\t\t\t\t\t\t\tvalue = [[filter, 'e', selectedFilter]];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (name && value) {\n\t\t\t\t\tif (element.data('return') === 'value') {\n\t\t\t\t\t\turlNewParams[name] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (name in urlNewParams) {\n\t\t\t\t\t\t\turlNewParams[name].push(value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlNewParams[name] = [value];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (params != undefined) {\n\t\t\t\t$.extend(urlNewParams, params);\n\t\t\t}\n\t\t\treturn { container: $(widget), params: $.extend(urlParams, urlNewParams) };\n\t\t},\n\t\tregisterChangeFilterForWidget: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tjQuery('.js-switch').on('change', function (e, state) {\n\t\t\t\t$(e.currentTarget).closest('.js-switch__btn').addClass('active').siblings().removeClass('active');\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t\tjQuery('.js-filter_field').on('select2:select', function (e, state) {\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register all the events related to summary view widgets\n\t\t */\n\t\tregisterSummaryViewContainerEvents: function (summaryViewContainer) {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerEventForActivityWidget();\n\t\t\tthis.registerChangeFilterForWidget();\n\t\t\tthis.registerAddingInventoryRecords();\n\t\t\tthis.registerEmailEvent();\n\t\t\t/**\n\t\t\t * Function to handle the ajax edit for summary view fields\n\t\t\t */\n\t\t\tsummaryViewContainer.off('click').on('click', '.row .js-detail-quick-edit', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tlet currentTdElement = currentTarget.closest('.fieldValue');\n\t\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t\t});\n\t\t\t/**\n\t\t\t * Function to handle actions after ajax save in summary view\n\t\t\t */\n\t\t\tsummaryViewContainer.on(thisInstance.fieldUpdatedEvent, '.js-widget-general-info', function () {\n\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\"),\n\t\t\t\t\tparams;\n\t\t\t\tif (updatesWidget.length) {\n\t\t\t\t\tparams = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsummaryViewContainer.on('click', '.editDefaultStatus', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.popover('hide');\n\t\t\t\tlet url = currentTarget.data('url');\n\t\t\t\tif (url) {\n\t\t\t\t\tif (currentTarget.hasClass('showEdit')) {\n\t\t\t\t\t\tlet quickCreate = App.Components.QuickCreate;\n\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\tquickCreate = window.parent.App.Components.QuickCreate;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tquickCreate.getForm(url, 'Calendar', { noCache: true }).done((data) => {\n\t\t\t\t\t\t\tquickCreate.showModal(\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\t\t\t\t\tlet widget = currentTarget.closest('.widgetContentBlock');\n\t\t\t\t\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(widget);\n\t\t\t\t\t\t\t\t\t\t\tlet updatesWidget = thisInstance.getContentHolder().find(\"[data-type='Updates']\");\n\t\t\t\t\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tthisInstance.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcurrentTarget\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showModalWindow(null, url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register the event to edit Description for related activities\n\t\t\t */\n\t\t\tsummaryViewContainer.on('click', '.editDescription', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentDiv = currentTarget.closest('.activityDescription'),\n\t\t\t\t\teditElement = currentDiv.find('.edit'),\n\t\t\t\t\tdetailViewElement = currentDiv.find('.value'),\n\t\t\t\t\tdescriptionText = currentDiv.find('.js-description-text'),\n\t\t\t\t\tdescriptionEmpty = currentDiv.find('.js-no-description'),\n\t\t\t\t\tsaveButton = currentDiv.find('.js-save-description'),\n\t\t\t\t\tcloseButton = currentDiv.find('.js-close-description'),\n\t\t\t\t\tactivityButtonContainer = currentDiv.find('.js-activity-buttons__container'),\n\t\t\t\t\tfieldnameElement = jQuery('.fieldname', editElement),\n\t\t\t\t\tfieldName = fieldnameElement.val(),\n\t\t\t\t\tfieldElement = jQuery('[name=\"' + fieldName + '\"]', editElement),\n\t\t\t\t\tcallbackFunction = () => {\n\t\t\t\t\t\tlet previousValue = fieldnameElement.data('prevValue'),\n\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(),\n\t\t\t\t\t\t\tajaxEditNewLable = fieldElement.val(),\n\t\t\t\t\t\t\tactivityDiv = currentDiv.closest('.activityEntries'),\n\t\t\t\t\t\t\tactivityId = activityDiv.find('.activityId').val(),\n\t\t\t\t\t\t\tmoduleName = activityDiv.find('.activityModule').val(),\n\t\t\t\t\t\t\tactivityType = activityDiv.find('.activityType').val();\n\t\t\t\t\t\tif (previousValue == ajaxEditNewValue) {\n\t\t\t\t\t\t\tcloseDescription();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentDiv.progressIndicator();\n\t\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\t\t\tresolve(fieldElement.validationEngine('validate'));\n\t\t\t\t\t\t\t}).then((errorExists) => {\n\t\t\t\t\t\t\t\t//If validation fails\n\t\t\t\t\t\t\t\tif (errorExists) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.addClickOutSideEvent(currentDiv, callbackFunction);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(); //update editor value after conversion\n\t\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\t\t\trecord: activityId,\n\t\t\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue,\n\t\t\t\t\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\t\t\t\t\tactivitytype: activityType\n\t\t\t\t\t\t\t\t\t}).done(() => {\n\t\t\t\t\t\t\t\t\t\tcurrentDiv.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t\t\t\t\t\tdescriptionText.html(ajaxEditNewLable);\n\t\t\t\t\t\t\t\t\t\tfieldnameElement.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\t\t\tif (ajaxEditNewValue === '') {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.addClass('d-none');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcloseDescription = function () {\n\t\t\t\t\t\tfieldElement.val(fieldnameElement.data('prevValue'));\n\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t};\n\t\t\t\tApp.Fields.Text.Editor.register(currentDiv, { toolbar: 'Min' });\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tdetailViewElement.addClass('d-none');\n\t\t\t\tactivityButtonContainer.removeClass('d-none');\n\t\t\t\teditElement.removeClass('d-none').show();\n\t\t\t\tsaveButton.off('click').one('click', callbackFunction);\n\t\t\t\tcloseButton.off('click').one('click', closeDescription);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related widgets\n\t\t\t * to add record from widget\n\t\t\t */\n\n\t\t\t$('.changeDetailViewMode').on('click', function (e) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.getTabs()\n\t\t\t\t\t.filter('[data-link-key=\"' + thisInstance.detailViewDetailsTabLabel + '\"]:not(.d-none)')\n\t\t\t\t\t.trigger('click');\n\t\t\t});\n\t\t\tthis.registerFastEditingFields();\n\t\t},\n\t\taddRelationBetweenRecords: function (relatedModule, relatedModuleRecordId, selectedTabElement, params = {}, url) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedController;\n\t\t\tif (selectedTabElement == undefined) {\n\t\t\t\tselectedTabElement = thisInstance.getSelectedTab();\n\t\t\t}\n\t\t\tif (url) {\n\t\t\t\trelatedController = Vtiger_RelatedList_Js.getInstanceByUrl(url, selectedTabElement);\n\t\t\t} else {\n\t\t\t\trelatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tselectedTabElement,\n\t\t\t\t\trelatedModule\n\t\t\t\t);\n\t\t\t}\n\t\t\trelatedController\n\t\t\t\t.addRelations(relatedModuleRecordId, params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet summaryViewContainer = thisInstance.getContentHolder();\n\t\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\");\n\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\tlet params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle Post actions after adding record from\n\t\t * summary view widget\n\t\t */\n\t\tpostSummaryWidgetAddRecord: function (data, currentElement) {\n\t\t\tlet summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tlet widgetContainer = summaryWidgetContainer.find('[class^=\"widgetContainer_\"]');\n\n\t\t\tthis.loadWidget(widgetContainer);\n\t\t\tlet updatesWidget = this.getContentHolder().find(\"[data-type='Updates']\");\n\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\tlet params = this.getFiltersData(updatesWidget);\n\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\tthis.loadWidget(updatesWidget, params['params']);\n\t\t\t}\n\t\t},\n\t\tregisterChangeEventForModulesList: function () {\n\t\t\tjQuery('#tagSearchModulesList').on('change', function (e) {\n\t\t\t\tlet modulesSelectElement = jQuery(e.currentTarget);\n\t\t\t\tif (modulesSelectElement.val() == 'all') {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t\tlet selectedOptionValue = modulesSelectElement.val();\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]')\n\t\t\t\t\t\t.filter(':not(#' + selectedOptionValue + ')')\n\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEventForRelatedTabClick: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\n\t\t\tjQuery('.related', detailContainer).on('click', 'li:not(.spaceRelatedList)', function (e, urlAttributes) {\n\t\t\t\tlet tabElement = jQuery(e.currentTarget);\n\t\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\t\tlet element = jQuery('<div></div>');\n\t\t\t\t\telement.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: detailContainer\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\tif (typeof urlAttributes !== 'undefined') {\n\t\t\t\t\t\tlet callBack = urlAttributes.callback;\n\t\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.loadContents(url, urlAttributes)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\t\t\tapp.event.trigger('DetailView.Tab.AfterLoad', data, thisInstance);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to get child comments\n\t\t */\n\t\tgetChildComments: function (commentId) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet url =\n\t\t\t\t'module=' +\n\t\t\t\tapp.getModuleName() +\n\t\t\t\t'&view=Detail&record=' +\n\t\t\t\tthis.getRecordId() +\n\t\t\t\t'&mode=showChildComments&commentid=' +\n\t\t\t\tcommentId;\n\t\t\tlet dataObj = this.getCommentThread(url);\n\t\t\tdataObj.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get parent comment\n\t\t * @param {number} commentId\n\t\t * @returns {string}\n\t\t */\n\t\tgetParentComments(commentId) {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\turl =\n\t\t\t\t\t'module=' +\n\t\t\t\t\tapp.getModuleName() +\n\t\t\t\t\t'&view=Detail&record=' +\n\t\t\t\t\tthis.getRecordId() +\n\t\t\t\t\t'&mode=showParentComments&commentid=' +\n\t\t\t\t\tcommentId;\n\t\t\tthis.getCommentThread(url).done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to show total records count in listview on hover\n\t\t * of pageNumber text\n\t\t */\n\t\tregisterEventForTotalRecordsCount: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.totalNumberOfRecords', function (e) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\t\telement.addClass('d-none');\n\t\t\t\telement.parent().progressIndicator({});\n\t\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\tlet relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\tselectedTabElement,\n\t\t\t\t\t\trelatedModuleName\n\t\t\t\t\t);\n\t\t\t\t\trelatedController.getRelatedPageCount().done(function () {\n\t\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t}\n\t\t\t\telement.parent().progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowPagingInfo: function () {\n\t\t\tlet totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\tlet pageNumberElement = jQuery('.pageNumbersText');\n\t\t\tlet pageRange = pageNumberElement.text();\n\t\t\tlet newPagingInfo = pageRange + ' (' + totalNumberOfRecords + ')';\n\t\t\tlet listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\t\tif (listViewEntriesCount != 0) {\n\t\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t\t} else {\n\t\t\t\tjQuery('.pageNumbersText').html('');\n\t\t\t}\n\t\t},\n\t\tgetCustomFieldNameValueMap: function (fieldNameValueMap) {\n\t\t\treturn fieldNameValueMap;\n\t\t},\n\t\tregisterSetReadRecord: function (detailContentsHolder) {\n\t\t\tlet thisInstance = this;\n\t\t\tdetailContentsHolder.on('click', '.setReadRecord', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tcurrentElement.closest('.btn-group').addClass('d-none');\n\t\t\t\tjQuery('#Accounts_detailView_fieldValue_was_read').find('.value').text(app.vtranslate('LBL_YES'));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\t\tfield: 'was_read',\n\t\t\t\t\tvalue: 'on'\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_SET_READ_RECORD'),\n\t\t\t\t\t\ttitle: app.vtranslate('System'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tlet relatedTabKey = jQuery('.related li.active');\n\t\t\t\t\tif (\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewSummaryTabLabel ||\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewDetailsTabLabel\n\t\t\t\t\t) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterFastEditingFields: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet fastEditingFiels = jQuery('.summaryWidgetFastEditing select');\n\t\t\tfastEditingFiels.on('change', function (e) {\n\t\t\t\tlet fieldElement = jQuery(e.currentTarget);\n\t\t\t\tlet fieldContainer = fieldElement.closest('.editField');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'summaryWidgetFastEditing',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet fieldName = fieldContainer.data('fieldname');\n\t\t\t\tfieldName = fieldName.replace('q_', '');\n\t\t\t\tlet fieldValue = fieldElement.val();\n\t\t\t\tlet errorExists = fieldElement.validationEngine('validate');\n\t\t\t\tif (errorExists) {\n\t\t\t\t\tfieldContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\tfieldValue: fieldValue,\n\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t});\n\t\t\t\tVtiger_Edit_Js.saveAjax(\n\t\t\t\t\tthisInstance.getCustomFieldNameValueMap({\n\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\tvalue: fieldValue\n\t\t\t\t\t}),\n\t\t\t\t\tfalse\n\t\t\t\t).always(() => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\t/**\n\t\t * Register related modules record cound\n\t\t * @param {jQuery} tabContainer\n\t\t */\n\t\tregisterRelatedModulesRecordCount(tabContainer) {\n\t\t\tconst moreList = $('.related .nav .dropdown-menu');\n\t\t\tlet relationContainer = tabContainer;\n\t\t\tif (!relationContainer || typeof relationContainer.length === 'undefined') {\n\t\t\t\trelationContainer = $(\n\t\t\t\t\t'.related .nav > .relatedNav, .related .nav > .mainNav, .detailViewBlockLink, .related .nav .dropdown-menu > .relatedNav'\n\t\t\t\t);\n\t\t\t}\n\t\t\trelationContainer.each((n, item) => {\n\t\t\t\titem = $(item);\n\t\t\t\tlet relationId = item.data('relationId'),\n\t\t\t\t\trelatedModule = item.data('reference');\n\t\t\t\tif (item.data('count') === 1) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\trelatedModule: relatedModule,\n\t\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\t\trelationId: relationId,\n\t\t\t\t\t\ttab_label: item.data('label-key')\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tif (response.result.numberOfRecords === 0) {\n\t\t\t\t\t\t\t\tresponse.result.numberOfRecords = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem.find('.count').text(response.result.numberOfRecords);\n\t\t\t\t\t\t\tmoreList\n\t\t\t\t\t\t\t\t.find('[data-reference=\"${relatedModule}\"][data-relation-id=\"${relationId}\"] .count')\n\t\t\t\t\t\t\t\t.text(response.result.numberOfRecords);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to display a new comments\n\t\t */\n\t\taddComment: function (currentTarget, data) {\n\t\t\tconst self = this;\n\t\t\tlet mode = currentTarget.data('mode'),\n\t\t\t\tclosestAddCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentTextAreaElement = closestAddCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentInfoBlock = currentTarget.closest('.js-comment-single');\n\t\t\tcommentTextAreaElement.html('');\n\t\t\tif (mode == 'add') {\n\t\t\t\tlet commentHtml = self.getCommentUI(data['result']['_recordId']);\n\t\t\t\tcommentHtml.done(function (data) {\n\t\t\t\t\tlet commentBlock = closestAddCommentBlock.closest('.js-comment-details'),\n\t\t\t\t\t\tdetailContentsHolder = self.getContentHolder(),\n\t\t\t\t\t\tnoCommentsMsgContainer = $('.js-noCommentsMsgContainer', detailContentsHolder);\n\t\t\t\t\tnoCommentsMsgContainer.remove();\n\t\t\t\t\tif (commentBlock.length > 0) {\n\t\t\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\t\t\tlet childComments = commentBlock.find('ul');\n\t\t\t\t\t\tif (childComments.length <= 0) {\n\t\t\t\t\t\t\tlet currentChildCommentsCount = commentInfoBlock\n\t\t\t\t\t\t\t\t\t.find('.js-view-thread-block')\n\t\t\t\t\t\t\t\t\t.data('data-child-comments-count'),\n\t\t\t\t\t\t\t\tnewChildCommentCount = currentChildCommentsCount + 1;\n\t\t\t\t\t\t\tcommentInfoBlock.find('.js-child-comments-count').text(newChildCommentCount);\n\t\t\t\t\t\t\tlet parentCommentId = commentInfoBlock.find('.js-comment-info-header').data('commentid');\n\t\t\t\t\t\t\tself.getChildComments(parentCommentId).done(function (responsedata) {\n\t\t\t\t\t\t\t\t$(responsedata).appendTo(commentBlock);\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.js-view-thread-block').hide();\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.hideThreadBlock').show();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').appendTo(\n\t\t\t\t\t\t\t\tcommentBlock.find('.js-comments-body')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').prependTo(\n\t\t\t\t\t\t\tclosestAddCommentBlock.closest('.contents').find('.commentsList')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterLoad', commentInfoBlock, data);\n\t\t\t\t});\n\t\t\t} else if (mode == 'edit') {\n\t\t\t\tlet modifiedTime = commentInfoBlock.find('.js-comment-modified-time'),\n\t\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\tcommentEditStatus = commentInfoBlock.find('.js-edited-status'),\n\t\t\t\t\tcommentReason = commentInfoBlock.find('.js-edit-reason-span');\n\t\t\t\tcommentInfoContent.html(data['result']['commentcontent']['display_value']);\n\t\t\t\tcommentReason.html(data['result']['reasontoedit']['display_value']);\n\t\t\t\tmodifiedTime.html(data['result']['modifiedtime']['formatToViewDate']);\n\t\t\t\tmodifiedTime.attr('title', data['result']['modifiedtime']['formatToDay']);\n\t\t\t\tif (commentEditStatus.hasClass('d-none')) {\n\t\t\t\t\tcommentEditStatus.removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (data['result']['reasontoedit']['display_value'] != '') {\n\t\t\t\t\tcommentInfoBlock.find('.js-edit-reason').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tcommentInfoContent.show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterUpdate', commentInfoBlock, data);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register all comment events\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tregisterCommentEvents(detailContentsHolder) {\n\t\t\tconst self = this;\n\t\t\tdetailContentsHolder.on('click', '.js-close-comment-block', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget.closest('.js-comment-single'));\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-reply-comment', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t\tself.hideButtonAction();\n\t\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\t\tself.getCommentBlock().appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-edit-comment', function (e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\t\tcommentInfoBlock.find('.js-add-comment-block').remove();\n\t\t\t\tself.hideButtonAction();\n\t\t\t\tlet commentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\teditCommentBlock = self.getEditCommentBlock();\n\t\t\t\teditCommentBlock.find('.js-comment-content').html(commentInfoContent.html());\n\t\t\t\teditCommentBlock.find('.js-reason-to-edit').html(commentInfoBlock.find('.js-edit-reason-span').text());\n\t\t\t\tcommentInfoContent.hide();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\t\teditCommentBlock.appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-detail-view-save-comment', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself\n\t\t\t\t\t\t.saveComment(e)\n\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\tself.loadWidget(detailContentsHolder.find(\"[data-type='Comments']\")).done(function () {\n\t\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-save-comment', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself\n\t\t\t\t\t\t.saveComment(e)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount(self.getTabByLabel(self.detailViewRecentCommentsTabLabel));\n\t\t\t\t\t\t\tself.addComment(element, data);\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-more-recent-comments ', function () {\n\t\t\t\tself.getTabByLabel(self.detailViewRecentCommentsTabLabel).trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments').on('change', function (e) {\n\t\t\t\tlet recentCommentsTab = self.getTabByLabel(self.detailViewRecentCommentsTabLabel),\n\t\t\t\t\turl = recentCommentsTab.data('url'),\n\t\t\t\t\tregex = /&hierarchy=+([\\w,]+)/;\n\t\t\t\turl = url.replace(regex, '');\n\t\t\t\tlet hierarchy = [];\n\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t});\n\t\t\t\tif (hierarchy.length !== 0) {\n\t\t\t\t\turl += '&hierarchy=' + hierarchy.join(',');\n\t\t\t\t}\n\t\t\t\trecentCommentsTab.data('url', url);\n\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('keypress', '.js-comment-search', function (e) {\n\t\t\t\tif (13 === e.which) {\n\t\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-search-icon', function (e) {\n\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Submit search comment form\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tsubmitSearchForm(detailContentsHolder) {\n\t\t\tlet searchTextDom = detailContentsHolder.find('.js-comment-search'),\n\t\t\t\twidgetContainer = searchTextDom.closest('[data-name=\"ModComments\"]'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator();\n\t\t\tif (searchTextDom.data('container') === 'widget' && !searchTextDom.val()) {\n\t\t\t\tlet request = widgetContainer.data('url');\n\t\t\t\tAppConnector.request(request).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tdetailContentsHolder.find('.js-comments-container').html(data);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet hierarchy = [],\n\t\t\t\t\tlimit = '',\n\t\t\t\t\tisWidget = false;\n\t\t\t\tif (searchTextDom.data('container') === 'widget') {\n\t\t\t\t\t(limit = widgetContainer.data('limit')), (isWidget = true);\n\t\t\t\t\twidgetContainer.find('.js-hierarchy-comments:checked').each(function () {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function () {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showSearchComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tsearch_key: searchTextDom.val(),\n\t\t\t\t\tis_widget: isWidget\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (!searchTextDom.val()) {\n\t\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdetailContentsHolder.find('.js-comments-body').html(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register hierarchy comments buttons\n\t\t * @param {jQuery} widgetContainer\n\t\t */\n\t\tregisterCommentEventsInDetail(widgetContainer) {\n\t\t\tnew App.Fields.Text.Completions($('.js-completions').eq(0));\n\t\t\twidgetContainer.on('change', '.js-hierarchy-comments', function (e) {\n\t\t\t\tlet hierarchy = [];\n\t\t\t\twidgetContainer.find('.js-hierarchy-comments').each(function () {\n\t\t\t\t\tif ($(this).is(':checked')) {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!hierarchy.length) {\n\t\t\t\t\twidgetContainer.find('.js-detail-widget-content').html('');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showRecentComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tlimit: widgetContainer.find('.widgetContentBlock').data('limit')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet widgetDataContainer = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetDataContainer.find('.select2'));\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterMailPreviewWidget: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.showMailBody', (e) => {\n\t\t\t\tlet row = $(e.currentTarget).closest('.js-mail-row'),\n\t\t\t\t\tmailBody = row.find('.mailBody'),\n\t\t\t\t\tmailTeaser = row.find('.mailTeaser');\n\t\t\t\tmailBody.toggleClass('d-none');\n\t\t\t\tmailTeaser.toggleClass('d-none');\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mail-type\"]').on('change', function (e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mailFilter\"]').on('change', function (e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.on('click', '.showMailsModal', (e) => {\n\t\t\t\tlet url = $(e.currentTarget).data('url');\n\t\t\t\tlet type = container.find('[name=\"mail-type\"]');\n\t\t\t\tlet typeValue = '';\n\t\t\t\tif (type.length > 0) {\n\t\t\t\t\ttypeValue = type.val();\n\t\t\t\t} else {\n\t\t\t\t\ttypeValue = 'All';\n\t\t\t\t}\n\t\t\t\turl += '&type=' + typeValue;\n\t\t\t\tif (container.find('[name=\"mailFilter\"]').length > 0) {\n\t\t\t\t\turl += '&mailFilter=' + container.find('[name=\"mailFilter\"]').val();\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tapp.showModalWindow('', url, (data) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tself.registerMailPreviewWidget(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\tdata.find('.expandAllMails').click();\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.expandAllMails').on('click', function (e) {\n\t\t\t\tcontainer.find('.mailBody').removeClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').addClass('d-none');\n\t\t\t\tcontainer.find('.showMailBody .js-toggle-icon').removeClass('fa-caret-down').addClass('fa-caret-up');\n\t\t\t});\n\t\t\tcontainer.find('.collapseAllMails').on('click', function (e) {\n\t\t\t\tcontainer.find('.mailBody').addClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').removeClass('d-none');\n\t\t\t\tcontainer.find('.showMailBody .js-toggle-icon').removeClass('fa-caret-up').addClass('fa-caret-down');\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('.showMailModal')\n\t\t\t\t.off('click')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tloadMailPreviewWidget: function (widgetContent) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet widgetDataContainer = widgetContent.find('.js-detail-widget-content');\n\t\t\tlet recordId = $('#recordId').val();\n\t\t\tlet progress = widgetDataContainer.progressIndicator();\n\t\t\tlet params = {};\n\t\t\tparams['module'] = 'OSSMailView';\n\t\t\tparams['view'] = 'Widget';\n\t\t\tparams['smodule'] = $('#module').val();\n\t\t\tparams['srecord'] = recordId;\n\t\t\tparams['mode'] = 'showEmailsList';\n\t\t\tparams['type'] = $('[name=\"mail-type\"]').val();\n\t\t\tparams['mailFilter'] = $('[name=\"mailFilter\"]').val();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\tapp.event.trigger('DetailView.Widget.AfterLoad', widgetDataContainer, params['module'], thisInstance);\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvents: function (detailContentsHolder) {\n\t\t\tVtiger_Index_Js.registerMailButtons(detailContentsHolder);\n\t\t},\n\t\tregisterMapsEvents: function (container) {\n\t\t\tif (container.find('#coordinates').length) {\n\t\t\t\tlet mapView = new OpenStreetMap_Map_Js();\n\t\t\t\tmapView.registerDetailView(container);\n\t\t\t}\n\t\t},\n\t\tregisterShowSummary: function (container) {\n\t\t\tcontainer.on('click', '.showSummaryRelRecord', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet id = currentTarget.data('id');\n\t\t\t\tlet summaryView = container.find('.summaryRelRecordView' + id);\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'none');\n\t\t\t\tsummaryView.show();\n\t\t\t});\n\t\t\tcontainer.on('click', '.hideSummaryRelRecordView', function (e) {\n\t\t\t\tlet summaryView = container.find('.summaryRelRecordView');\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'table');\n\t\t\t\tsummaryView.hide();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show confirmation on event click\n\t\t * @param {jQuery} element\n\t\t * @param {string} picklistName\n\t\t */\n\t\tshowProgressConfirmation(element, picklistName) {\n\t\t\tconst picklistValue = $(element).data('picklistValue');\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttitle: $(element).data('picklistLabel'),\n\t\t\t\ttext: app.vtranslate('JS_CHANGE_VALUE_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tVtiger_Edit_Js.saveAjax({\n\t\t\t\t\t\tvalue: picklistValue,\n\t\t\t\t\t\tfield: picklistName\n\t\t\t\t\t})\n\t\t\t\t\t\t.done((response) => {\n\t\t\t\t\t\t\tif (!response || response.success !== false) {\n\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Change status from progress\n\t\t */\n\t\tregisterProgress() {\n\t\t\tconst self = this;\n\t\t\t$('.js-header-progress-bar').each((index, element) => {\n\t\t\t\tlet picklistName = $(element).data('picklistName');\n\t\t\t\t$(element)\n\t\t\t\t\t.find('.js-access')\n\t\t\t\t\t.on('click', (e) => {\n\t\t\t\t\t\tself.showProgressConfirmation(e.currentTarget, picklistName);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tloadChat() {\n\t\t\tlet chatVue = $('#ChatRecordRoomVue', this.detailViewContentHolder);\n\t\t\tif (chatVue.length) {\n\t\t\t\tlet chatContainer = this.detailViewContentHolder.find('.js-chat-container');\n\t\t\t\tconst padding = 10;\n\t\t\t\tchatContainer.height(\n\t\t\t\t\t$(document).height() - chatContainer.offset().top - $('.js-footer').outerHeight() - padding\n\t\t\t\t);\n\t\t\t\twindow.ChatRecordRoomVueComponent.mount({\n\t\t\t\t\tel: '#ChatRecordRoomVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window.ChatRecordRoomVueComponent !== undefined) {\n\t\t\t\tthis.loadChat();\n\t\t\t\tapp.event.on('DetailView.Tab.AfterLoad', (e, data, instance) => {\n\t\t\t\t\tinstance.detailViewContentHolder.ready(() => {\n\t\t\t\t\t\tthis.loadChat();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t//register all the events for summary view container\n\n\t\t\tif (this.getSelectedTab().data('labelKey') === 'ModComments') {\n\t\t\t\tnew App.Fields.Text.Completions(detailContentsHolder.find('.js-completions'));\n\t\t\t}\n\t\t\tapp.registerBlockAnimationEvent(this.getForm());\n\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\tthisInstance.registerCommentEvents(detailContentsHolder);\n\t\t\tthisInstance.registerEmailEvents(detailContentsHolder);\n\t\t\tthisInstance.registerMapsEvents(detailContentsHolder);\n\t\t\tthisInstance.registerSubProducts(detailContentsHolder);\n\t\t\tthisInstance.registerCollapsiblePanels(detailContentsHolder);\n\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\tApp.Fields.DateTime.register(detailContentsHolder);\n\t\t\tApp.Fields.MultiImage.register(detailContentsHolder);\n\t\t\tApp.Fields.Password.register(detailContentsHolder);\n\t\t\tApp.Fields.MultiAttachment.register(detailContentsHolder);\n\t\t\t//Attach time picker event to time fields\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tthis.registerHelpInfo(detailContentsHolder);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(detailContentsHolder.find('select.select2'));\n\t\t\tApp.Fields.Text.Editor.register(detailContentsHolder, { toolbar: 'Min' });\n\t\t\tdetailContentsHolder.on('click', '#detailViewNextRecordButton', function (e) {\n\t\t\t\tlet url = selectedTabElement.data('url');\n\t\t\t\tlet currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tlet requestedPage = parseInt(currentPageNum) + 1;\n\t\t\t\tlet nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '#detailViewPreviousRecordButton', function (e) {\n\t\t\t\tlet url = selectedTabElement.data('url');\n\t\t\t\tlet currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tlet requestedPage = parseInt(currentPageNum) - 1;\n\t\t\t\tlet nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-detail-quick-edit', function (e) {\n\t\t\t\tthisInstance.ajaxEditHandling(jQuery(e.currentTarget).closest('.fieldValue'));\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', 'div.recordDetails span.squeezedWell', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet relatedLabel = currentElement.data('reference');\n\t\t\t\tjQuery('.detailViewInfo .related .nav > li[data-reference=\"' + relatedLabel + '\"]').trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.relatedPopup', function (e) {\n\t\t\t\tlet editViewObj = new Vtiger_Edit_Js();\n\t\t\t\teditViewObj.showRecordsList(e);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.viewThread', function (e) {\n\t\t\t\tthisInstance.hideButtonAction();\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentActionsBlock = currentTarget.closest('.js-comment-actions'),\n\t\t\t\t\tcurrentCommentBlock = currentTarget.closest('.js-comment-details'),\n\t\t\t\t\tulElements = currentCommentBlock.find('ul');\n\t\t\t\tif (ulElements.length > 0) {\n\t\t\t\t\tulElements.show();\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet commentId = currentTarget.closest('.js-comment-div').find('.js-comment-info-header').data('commentid');\n\t\t\t\tthisInstance.getChildComments(commentId).done(function (data) {\n\t\t\t\t\tjQuery(data).appendTo(jQuery(e.currentTarget).closest('.js-comment-details'));\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-view-parent-thread', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentId = currentTarget.closest('.js-comment-div').find('.js-comment-info-header').data('commentid');\n\t\t\t\tthisInstance.getParentComments(commentId).done(function (data) {\n\t\t\t\t\t$(e.currentTarget.closest('.js-comment-details')).html(data);\n\t\t\t\t\tcurrentTarget.closest('.js-comment-actions').find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.hideThread', function (e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget);\n\t\t\t\tlet currentTargetParent = currentTarget.parent();\n\t\t\t\tlet commentActionsBlock = currentTarget.closest('.js-comment-actions');\n\t\t\t\tlet currentCommentBlock = currentTarget.closest('.js-comment-details');\n\t\t\t\tcurrentCommentBlock.find('ul').hide();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\tcommentActionsBlock.find('.js-view-thread-block').show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.detailViewThread', function (e) {\n\t\t\t\tlet recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\t\tlet commentId = jQuery(e.currentTarget)\n\t\t\t\t\t.closest('.js-comment-single')\n\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t.data('commentid');\n\t\t\t\tlet commentLoad = function (data) {\n\t\t\t\t\twindow.location.href = window.location.href + '#' + commentId;\n\t\t\t\t};\n\t\t\t\trecentCommentsTab.trigger('click', { commentid: commentId, callback: commentLoad });\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentRecords', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet recentCommentsTab = thisInstance.getTabByModule($(this).data('label-key'), $(this).data('relation-id'));\n\t\t\t\tif (recentCommentsTab.length) {\n\t\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t\t} else {\n\t\t\t\t\tlet currentTarget = $(e.currentTarget),\n\t\t\t\t\t\tcontainer = currentTarget.closest(\"[class^='widgetContainer_']\");\n\t\t\t\t\tif (container.length) {\n\t\t\t\t\t\tlet page = container.find('[name=\"page\"]:last').val(),\n\t\t\t\t\t\t\turl = container.data('url');\n\t\t\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\t\t\turl = url.replace('&page=1', '&page=' + ++page);\n\t\t\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\t\t\tlet dataObj = $(data),\n\t\t\t\t\t\t\t\tcontainerTable = container.find('.js-detail-widget-content table');\n\t\t\t\t\t\t\tcurrentTarget.prop('disabled', false).addClass('d-none');\n\t\t\t\t\t\t\tcontainer.find('[name=\"page\"]:last').val(dataObj.find('[name=\"page\"]').val());\n\t\t\t\t\t\t\tif (containerTable.length) {\n\t\t\t\t\t\t\t\tcontainerTable.append(dataObj.find('tbody tr'));\n\t\t\t\t\t\t\t\tif (dataObj.find('.moreRecentRecords').length) {\n\t\t\t\t\t\t\t\t\tcurrentTarget.removeClass('d-none');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(dataObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('change', '.relatedHistoryTypes', function (e) {\n\t\t\t\tlet widgetContent = jQuery(this).closest('.widgetContentBlock').find('.widgetContent'),\n\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: widgetContent.find('.js-relatedHistoryPageLimit').val(),\n\t\t\t\t\ttype: $(e.currentTarget).val()\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.html(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreProductsService', function () {\n\t\t\t\tjQuery('.related .mainNav[data-reference=\"ProductsAndServices\"]:not(.d-none)').trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRelatedUpdates', function () {\n\t\t\t\tlet widgetContainer = jQuery(this).closest('.widgetContentBlock');\n\t\t\t\tlet widgetContent = widgetContainer.find('.widgetContent');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet currentPage = widgetContent.find('#relatedHistoryCurrentPage').val();\n\t\t\t\tlet nextPage = parseInt(currentPage) + 1;\n\t\t\t\tlet types = widgetContainer.find('.relatedHistoryTypes').val();\n\t\t\t\tlet pageLimit = widgetContent.find('#relatedHistoryPageLimit').val();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: nextPage,\n\t\t\t\t\tlimit: pageLimit,\n\t\t\t\t\ttype: types\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.find('#relatedUpdates').append(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentUpdates', function (e) {\n\t\t\t\tconst container = $(e.currentTarget).closest('.recentActivitiesContainer');\n\t\t\t\tlet newChange = container.find('#newChange').val(),\n\t\t\t\t\tnextPage = parseInt(container.find('#updatesCurrentPage').val()) + 1,\n\t\t\t\t\turl;\n\t\t\t\tif (container.closest('.js-detail-widget').length) {\n\t\t\t\t\tlet data = thisInstance.getFiltersData(\n\t\t\t\t\t\te,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpage: nextPage,\n\t\t\t\t\t\t\ttab_label: 'LBL_UPDATES',\n\t\t\t\t\t\t\tnewChange: newChange\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontainer.find('#updates')\n\t\t\t\t\t);\n\t\t\t\t\turl = data['params'];\n\t\t\t\t} else {\n\t\t\t\t\turl = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).data('url');\n\t\t\t\t\turl = url.replace('&page=1', '&page=' + nextPage) + '&skipHeader=true&newChange=' + newChange;\n\t\t\t\t\tif (url.indexOf('&whereCondition') === -1) {\n\t\t\t\t\t\tlet switchBtn = jQuery('.active .js-switch--recentActivities');\n\t\t\t\t\t\turl +=\n\t\t\t\t\t\t\t'&whereCondition=' +\n\t\t\t\t\t\t\t(typeof switchBtn.data('on-val') === 'undefined' ? switchBtn.data('off-val') : switchBtn.data('on-val'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tlet dataContainer = jQuery(data);\n\t\t\t\t\tcontainer.find('#newChange').val(dataContainer.find('#newChange').val());\n\t\t\t\t\tcontainer.find('#updatesCurrentPage').val(dataContainer.find('#updatesCurrentPage').val());\n\t\t\t\t\tcontainer.find('.js-more-link').html(dataContainer.find('.js-more-link').html());\n\t\t\t\t\tcontainer.find('#updates ul').append(dataContainer.find('#updates ul').html());\n\t\t\t\t\tapp.event.trigger('DetailView.UpdatesWidget.AddMore', data, thisInstance);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.btnChangesReviewedOn', function (e) {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet url = 'index.php?module=ModTracker&action=ChangesReviewedOn&record=' + app.getRecordId();\n\t\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tjQuery(e.currentTarget).parent().remove();\n\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).find('.count.badge').text('');\n\t\t\t\t\tif (selectedTabElement.data('labelKey') == thisInstance.detailViewRecentUpdatesTabLabel) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tlet updatesWidget = detailContentsHolder.find(\"[data-type='Updates']\");\n\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\tlet params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentDocuments', function () {\n\t\t\t\tlet recentDocumentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentDocumentsTabLabel);\n\t\t\t\trecentDocumentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentActivities', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\tlet container = currentTarget.closest('.activityWidgetContainer');\n\t\t\t\tlet page = container.find('.currentPage').val();\n\t\t\t\tlet records = container.find('.countActivities').val();\n\t\t\t\tlet data = thisInstance.getFiltersData(e, { page: ++page });\n\t\t\t\tAppConnector.request({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tasync: false,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: data['params']\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tcurrentTarget.prop('disabled', false);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tcontainer.find('.currentPage').remove();\n\t\t\t\t\tcontainer.find('.countActivities').remove();\n\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(data);\n\t\t\t\t\tlet newRecords = container.find('.countActivities').val();\n\t\t\t\t\tcontainer.find('.countActivities').val(parseInt(newRecords) + parseInt(records));\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(container);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.widgetFullscreen', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet widgetContentBlock = currentTarget.closest('.widgetContentBlock');\n\t\t\t\tlet url = widgetContentBlock.data('url');\n\t\t\t\turl = url.replace('&view=Detail&', '&view=WidgetFullscreen&');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.showModalWindow(null, 'index.php?' + url, function (modal) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t});\n\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\tthisInstance.registerMailPreviewWidget(detailContentsHolder.find('.widgetContentBlock[data-type=\"EmailList\"]'));\n\t\t\tthisInstance.registerMailPreviewWidget(\n\t\t\t\tdetailContentsHolder.find('.widgetContentBlock[data-type=\"HistoryRelation\"]')\n\t\t\t);\n\t\t\tdetailContentsHolder\n\t\t\t\t.find('.js-switch--recentActivities')\n\t\t\t\t.off()\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tconst currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\t\ttabElement = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel),\n\t\t\t\t\t\tvariableName = currentTarget.data('urlparams'),\n\t\t\t\t\t\tvalueOn = $(this).data('on-val'),\n\t\t\t\t\t\tvalueOff = $(this).data('off-val');\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\turl = url.replace('&' + variableName + '=' + valueOn, '').replace('&' + variableName + '=' + valueOff, '');\n\t\t\t\t\tif (typeof currentTarget.data('on-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOn;\n\t\t\t\t\t} else if (typeof currentTarget.data('off-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOff;\n\t\t\t\t\t}\n\t\t\t\t\ttabElement.data('url', url);\n\t\t\t\t\ttabElement.trigger('click');\n\t\t\t\t});\n\t\t\tapp.registerIframeEvents(detailContentsHolder);\n\t\t\tapp.registerBlockToggleEvent(detailContentsHolder);\n\t\t},\n\t\treloadWidgetActivitesStats: function (container) {\n\t\t\tlet countElement = container.find('.countActivities');\n\t\t\tlet totalElement = container.find('.totaltActivities');\n\t\t\tlet switchBtn = container.find('.active .js-switch');\n\t\t\tif (!switchBtn.length) {\n\t\t\t\tswitchBtn = container.find('.js-switch.previousMark');\n\t\t\t} else {\n\t\t\t\tcontainer.find('.js-switch').removeClass('previousMark');\n\t\t\t\tswitchBtn.addClass('previousMark');\n\t\t\t}\n\t\t\tcontainer.find('.js-switch').toggleClass('previousMark');\n\t\t\tif (!countElement.length || !totalElement.length || totalElement.val() === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet stats = ' (' + countElement.val() + '/' + totalElement.val() + ')';\n\t\t\tlet switchBtnParent = switchBtn.parent();\n\t\t\tlet text = switchBtn.data('basic-text') + stats;\n\t\t\tswitchBtnParent.removeTextNode();\n\t\t\tswitchBtnParent.append(text);\n\t\t},\n\t\trefreshCommentContainer: function (commentId) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet commentContainer = $('.commentsBody');\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\tmode: 'showThreadComments',\n\t\t\t\tcommentid: commentId\n\t\t\t};\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: commentContainer\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tcommentContainer.html(data);\n\t\t\t});\n\t\t},\n\t\tupdateRecordsPDFTemplateBtn: function (form) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet btnToolbar = $('.js-btn-toolbar .js-pdf');\n\t\t\tif (btnToolbar.length) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'PDF',\n\t\t\t\t\t\tmode: 'hasValidTemplate',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\tview: app.getViewName()\n\t\t\t\t\t},\n\t\t\t\t\tdataType: 'json'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data['result'].valid === false) {\n\t\t\t\t\t\t\tbtnToolbar.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbtnToolbar.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (data, err) {\n\t\t\t\t\t\tapp.errorLog(data, err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tupdateWindowHeight: function (currentHeight, frame) {\n\t\t\tframe.height(currentHeight);\n\t\t},\n\t\tloadSubProducts: function (parentRow) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet recordId = parentRow.data('product-id'),\n\t\t\t\tsubProrductParams = {\n\t\t\t\t\tmodule: 'Products',\n\t\t\t\t\taction: 'SubProducts',\n\t\t\t\t\trecord: recordId\n\t\t\t\t};\n\t\t\tAppConnector.request(subProrductParams).done(function (data) {\n\t\t\t\tlet responseData = data.result;\n\t\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t\t});\n\t\t},\n\t\taddSubProducts: function (parentRow, responseData) {\n\t\t\tlet subProductsContainer = $('.js-subproducts-container ul', parentRow);\n\t\t\tfor (let id in responseData) {\n\t\t\t\tlet productText = $('<li>').text(responseData[id]);\n\t\t\t\tsubProductsContainer.append(productText);\n\t\t\t}\n\t\t},\n\t\tregisterSubProducts: function (container) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.inventoryItems .js-inventory-row').each(function (index) {\n\t\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t\t});\n\t\t},\n\t\tregisterCollapsiblePanels(detailViewContainer) {\n\t\t\tconst panels = detailViewContainer.find('.js-detail-widget-collapse');\n\t\t\tconst storageName = `yf-${app.getModuleName()}-detail-widgets`;\n\t\t\tif (Quasar.plugins.LocalStorage.has(storageName)) {\n\t\t\t\tthis.setPanels({ panels, storageName });\n\t\t\t} else {\n\t\t\t\tpanels.collapse('show');\n\t\t\t\tlet panelsStorage = {};\n\t\t\t\tpanels.each((i, item) => {\n\t\t\t\t\tpanelsStorage[item.dataset.storageId] = 'shown';\n\t\t\t\t});\n\t\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t\t}\n\t\t\tpanels.on('hidden.bs.collapse shown.bs.collapse', (e) => {\n\t\t\t\tthis.updatePanelsStorage({ id: e.target.dataset.storageKey, type: e.type, storageName });\n\t\t\t});\n\t\t\tpanels.on('hide.bs.collapse show.bs.collapse', function (e) {\n\t\t\t\t$(e.currentTarget).siblings('.js-detail-widget-header').toggleClass('collapsed');\n\t\t\t});\n\t\t},\n\t\tsetPanels({ panels, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanels.each((i, item) => {\n\t\t\t\tif (\n\t\t\t\t\tpanelsStorage[item.dataset.storageKey] === 'shown' ||\n\t\t\t\t\tundefined === panelsStorage[item.dataset.storageKey]\n\t\t\t\t) {\n\t\t\t\t\t$(item).collapse('show');\n\t\t\t\t\t$(item).siblings('.js-detail-widget-header').toggleClass('collapsed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdatePanelsStorage({ id, type, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanelsStorage[id] = type;\n\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t},\n\t\tregisterSendPdfFromPdfViewer: function (container) {\n\t\t\tcontainer.find('.js-email-pdf').on('click', function (e) {\n\t\t\t\tlet selectedPdfTemplate = $(e.currentTarget).closest('.js-detail-widget').find('.js-pdf-viewer-template').val();\n\t\t\t\tlet url = $(this).attr('data-url');\n\t\t\t\tif (url && selectedPdfTemplate && selectedPdfTemplate > 0) {\n\t\t\t\t\twindow.open(url + selectedPdfTemplate, '_blank');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register keyboard shortcuts events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterKeyboardShortcutsEvent: function (container) {\n\t\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyD') {\n\t\t\t\t\tcontainer.find('.js-duplicate-btn').trigger('click');\n\t\t\t\t}\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyE' && container.find('.js-edit-btn').length) {\n\t\t\t\t\tcontainer.find('.js-edit-btn').trigger('click');\n\t\t\t\t}\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyW' && container.find('.js-edit-btn').length) {\n\t\t\t\t\tApp.Components.QuickEdit.showModal({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\tremoveFromUrl: 'step'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis.registerSendSmsSubmitEvent();\n\t\t\tthis.registerAjaxEditEvent();\n\t\t\tthis.registerRelatedRowClickEvent();\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEventForRelatedTabClick();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tthis.registerUrlFieldClickEvent();\n\t\t\tlet detailViewContainer = jQuery('div.detailViewContainer');\n\t\t\tif (detailViewContainer.length <= 0) {\n\t\t\t\t// Not detail view page\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerWidgetProductAndServices();\n\t\t\tthis.registerSetReadRecord(detailViewContainer);\n\t\t\tthis.getForm().validationEngine(app.validationEngineOptionsForRecord);\n\t\t\tthis.loadWidgetsEvents();\n\t\t\tthis.loadWidgets();\n\t\t\tthis.registerBasicEvents();\n\t\t\tthis.registerEventForTotalRecordsCount();\n\t\t\tthis.registerProgress();\n\t\t\tthis.registerChat(detailViewContainer);\n\t\t\tthis.registerSendPdfFromPdfViewer(detailViewContainer);\n\t\t\tthis.registerKeyboardShortcutsEvent(detailViewContainer);\n\t\t\tApp.Components.ActivityNotifier.register(detailViewContainer);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","detailInstance","getInstance","Vtiger_Detail_Js","instance","moduleClassName","app","getModuleName","getViewName","triggerDetailViewAction","detailActionUrl","callBackFunction","selectedIds","push","getRecordId","selected_ids","JSON","stringify","AppConnector","request","type","url","dataType","data","postData","done","showModalWindow","fail","triggerSMSmodal","App","Components","QuickCreate","createRecord","noCache","triggerTransferOwnership","massActionUrl","thisInstance","getRelatedModulesContainer","callback","validationEngineOptions","params","onValidationComplete","form","valid","attr","transferOwnershipSave","validationEngine","selectElement","getRelatedModuleContainer","Fields","Picklist","changeSelectElementView","val","relatedModules","recordId","module","action","record","transferOwnerId","transferOwner","related_modules","success","hideModalWindow","title","vtranslate","text","oldValue","element","find","removeAttr","trigger","fieldName","closest","html","showNotify","reloadRelatedList","length","page","loadRelatedList","runRecordChanger","id","mode","window","location","reload","jqXHR","textStatus","showWorkflowTriggerView","$","popover","treeInstance","jstree","core","parse","themes","name","responsive","icons","checkbox","three_state","plugins","on","selected","each","index","treeElement","tasks","record_id","parent","Object","keys","user","loadWidgets","view","targetPicklistChange","targetPicklist","detailViewContentHolder","detailViewForm","detailViewDetailsTabLabel","detailViewSummaryTabLabel","detailViewRecentCommentsTabLabel","detailViewRecentActivitiesTabLabel","detailViewRecentUpdatesTabLabel","detailViewRecentDocumentsTabLabel","fieldUpdatedEvent","updatedFields","fieldPreSave","tempData","init","loadWidgetsEvents","event","e","widgetContent","relatedModuleName","reloadWidgetActivitesStats","registerCommentEventsInDetail","registerShowSummary","Vtiger_Index_Js","registerMailButtons","preventDefault","progressIndicatorElement","progressIndicator","currentTarget","registerEmailEvents","registerBlockStatusCheckOnLoad","registerCollapsiblePanels","container","getForm","widgetList","widget","is","loadWidget","validationEngineOptionsForRecord","registerRelatedModulesRecordCount","widgetContainer","contentContainer","registerFilterForAddingModuleRelatedRecordFromSummaryWidget","urlParams","queryParameters","split","keyValueMap","queryParamComponents","Deferred","async","showSelect2ElementView","registerModal","DropFile","register","relatedController","Vtiger_RelatedList_Js","getInstanceByUrl","getSelectedTab","setRelatedContainer","registerRelatedEvents","widgetRelatedRecordView","chart","widgetInstance","Vtiger_Widget_Js","loadChart","aDeferred","resolve","reject","promise","registerWidgetProductAndServices","recordsToAdd","src_record","related_module","showRecordsList","_","setSelectEvent","i","reloadTabContent","load","cacheKey","relatedRecordCacheID","moduleCacheGet","newActive","removeClass","addClass","controlBox","prev","next","active","hasClass","nextElement","moduleCacheSet","prevElement","loadContents","detailContentsHolder","getContentHolder","requestPjax","responseData","Date","getUpdateFieldsArray","getTabByLabel","tabLabel","tabs","getTabs","targetTab","labelKey","tab","getTabByModule","moduleName","relationId","selectModuleTab","getTabContainer","moduleTab","relatedTabContainer","deSelectAllrelatedTabs","markTabAsSelected","tabElement","topTabs","dropdownMenuTabs","iteration","className","filter","get","getRelatedModuleName","getRelatedListCurrentPageNum","hideButtonAction","getCommentThread","saveCommentAjax","commentMode","commentContentValue","editCommentReason","commentId","parentCommentId","commentInfoBlock","relatedTo","commentcontent","related_to","addRelationBetweenRecords","result","_recordId","errorThrown","saveComment","closestCommentBlock","commentContent","errorMsg","commentInfoHeader","getCommentUI","getCommentBlock","clone","clonedCommentBlock","getEditCommentBlock","Text","Completions","registerSendSmsSubmitEvent","smsTextLength","submitButton","SendSmsSave","progressInstance","position","blockInfo","enabled","SendSmsUrl","serializeFormData","registerNameAjaxEditEvent","nameFields","recordLabel","nameFieldName","recordLabelElement","updateHeaderNameFields","nameField","salutatioField","salutatioValue","registerAjaxEditEvent","updateHeaderValues","currentElement","inArray","registerUrlFieldClickEvent","stopPropagation","registerRelatedRowClickEvent","target","targetElement","children","recordUrl","elem","href","relatedListInstance","registerEventForRelatedList","self","n","block","reloadDetailViewBlock","parents","blockContent","isEmpty","response","registerPostLoadEvents","registerListEvents","blocks","dynamicAttr","currentBlock","headerAnimationElement","not","bodyContents","blockId","value","cacheGet","ajaxEditHandling","currentTdElement","readRecord","detailViewValue","editElement","actionElement","fieldElement","prop","elementTarget","elementName","inputmask","focus","saveHandler","v","previousValue","ajaxEditNewValue","fieldInfo","Vtiger_Field_Js","dateTimeField","dateTime","field","toStr","off","Event","preFieldSaveEvent","fieldValue","isDefaultPrevented","Vtiger_Edit_Js","saveAjax","getCustomFieldNameValueMap","displayValue","postSaveRecordDetails","display_value","prevDisplayValue","prev_display_value","label","textTrusted","urlObject","convertUrlToObject","replace","old","new","selectedTabElement","registerSummaryViewContainerEvents","updateRecordsPDFTemplateBtn","addElementsToQuickCreateForCreatingRelation","customParams","appendTo","registerEventForActivityWidget","preQuickCreateSave","taskGoToFullFormButton","eventsGoToFullFormButton","taskFullFormUrl","fullFormUrl","eventsFullFormUrl","callbackFunction","getFiltersDataAndLoad","QuickCreateParams","assign","summaryWidgetContainer","referenceModuleName","quickcreateUrl","quickCreateParams","autoCompleteFields","relatedParams","postQuickCreateSave","postSummaryWidgetAddRecord","loadModuleSummary","progress","quickCreate","showModal","restrictionsField","src_module","multi_select","key","_modal","registerAddingInventoryRecords","createUrl","addidtionalParams","concat","registerEmailEvent","showConfirmModal","confirmedCallback","d","Vtiger_Helper_Js","showMessage","getFiltersData","m","item","fieldlable","selectedFilter","additionalParams","paramName","paramValue","urlNewParams","extend","registerChangeFilterForWidget","state","siblings","summaryViewContainer","updatesWidget","remove","currentDiv","detailViewElement","descriptionText","descriptionEmpty","saveButton","closeButton","activityButtonContainer","fieldnameElement","ajaxEditNewLable","activityDiv","activityId","activityType","add","Promise","then","errorExists","addClickOutSideEvent","activitytype","show","closeDescription","Editor","toolbar","hide","one","registerFastEditingFields","relatedModule","relatedModuleRecordId","addRelations","registerChangeEventForModulesList","modulesSelectElement","selectedOptionValue","registerEventForRelatedTabClick","detailContainer","urlAttributes","elementToBlock","showHorizontalTopScrollBar","callBack","registerBasicEvents","notifyPostAjaxReady","getChildComments","dataObj","getParentComments","registerEventForTotalRecordsCount","totalNumberOfRecords","getRelatedPageCount","showPagingInfo","pageNumberElement","pageRange","newPagingInfo","listViewEntriesCount","parseInt","fieldNameValueMap","registerSetReadRecord","relatedTabKey","fastEditingFiels","fieldContainer","message","always","registerHelpInfo","showPopoverElementView","tabContainer","moreList","relationContainer","tab_label","numberOfRecords","addComment","closestAddCommentBlock","commentTextAreaElement","commentHtml","noCommentsMsgContainer","commentBlock","childComments","currentChildCommentsCount","newChildCommentCount","responsedata","prependTo","commentInfoContent","commentEditStatus","commentReason","modifiedTime","registerCommentEvents","editCommentBlock","error","err","errorLog","recentCommentsTab","regex","hierarchy","join","which","submitSearchForm","searchTextDom","limit","isWidget","search_key","is_widget","eq","widgetDataContainer","registerMailPreviewWidget","mailBody","row","mailTeaser","toggleClass","loadMailPreviewWidget","typeValue","click","registerMapsEvents","OpenStreetMap_Map_Js","mapView","registerDetailView","summaryView","css","showProgressConfirmation","picklistName","picklistValue","registerProgress","loadChat","chatVue","padding","chatContainer","height","document","offset","top","outerHeight","ChatRecordRoomVueComponent","mount","el","registerChat","ready","registerBlockAnimationEvent","registerSubProducts","DateTime","MultiImage","Password","MultiAttachment","registerEventForClockPicker","currentPageNum","requestedPage","nextPageUrl","relatedLabel","currentTargetParent","commentActionsBlock","currentCommentBlock","ulElements","commentLoad","commentid","containerTable","append","currentPage","nextPage","types","pageLimit","newChange","indexOf","switchBtn","dataContainer","recentDocumentsTab","records","newRecords","widgetContentBlock","modal","variableName","valueOn","valueOff","registerIframeEvents","registerBlockToggleEvent","countElement","totalElement","stats","switchBtnParent","removeTextNode","refreshCommentContainer","commentContainer","btnToolbar","updateWindowHeight","currentHeight","frame","loadSubProducts","parentRow","subProrductParams","addSubProducts","subProductsContainer","productText","detailViewContainer","panels","storageName","Quasar","LocalStorage","has","setPanels","collapse","panelsStorage","dataset","storageId","set","updatePanelsStorage","storageKey","getItem","registerSendPdfFromPdfViewer","selectedPdfTemplate","open","registerKeyboardShortcutsEvent","addEventListener","shiftKey","ctrlKey","code","QuickEdit","removeFromUrl","registerEvents","ActivityNotifier"],"mappings":"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"}