{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\"Vtiger_Detail_Js\", {\n\tdetailInstance: false,\n\tgetInstance: function () {\n\t\tif (Vtiger_Detail_Js.detailInstance == false) {\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar view = app.getViewName();\n\t\t\tvar moduleClassName = module + \"_\" + view + \"_Js\";\n\t\t\tvar fallbackClassName = Vtiger_Detail_Js;\n\t\t\tif (typeof window[moduleClassName] !== \"undefined\") {\n\t\t\t\tvar instance = new window[moduleClassName]();\n\t\t\t} else {\n\t\t\t\tvar instance = new fallbackClassName();\n\t\t\t}\n\t\t\tVtiger_Detail_Js.detailInstance = instance;\n\t\t}\n\t\treturn Vtiger_Detail_Js.detailInstance;\n\t},\n\t/*\n\t * function to trigger Detail view actions\n\t * @params: Action url , callback function.\n\t */\n\ttriggerDetailViewAction: function (detailActionUrl, callBackFunction) {\n\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\tvar selectedIds = [];\n\t\tselectedIds.push(detailInstance.getRecordId());\n\t\tvar postData = {\n\t\t\t\"selected_ids\": JSON.stringify(selectedIds)\n\t\t};\n\t\tvar actionParams = {\n\t\t\t\"type\": \"POST\",\n\t\t\t\"url\": detailActionUrl,\n\t\t\t\"dataType\": \"html\",\n\t\t\t\"data\": postData\n\t\t};\n\n\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\tif (data) {\n\t\t\t\tapp.showModalWindow(data, {'text-align': 'left'});\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t});\n\t},\n\t/*\n\t * function to trigger send Sms\n\t * @params: send sms url , module name.\n\t */\n\ttriggerSendSms: function (detailActionUrl, module) {\n\t\tVtiger_Detail_Js.triggerDetailViewAction(detailActionUrl);\n\t},\n\ttriggerTransferOwnership: function (massActionUrl) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.getRelatedModulesContainer = false;\n\t\tvar actionParams = {\n\t\t\t\"type\": \"POST\",\n\t\t\t\"url\": massActionUrl,\n\t\t\t\"dataType\": \"html\",\n\t\t\t\"data\": {}\n\t\t};\n\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tvar callback = function (data) {\n\t\t\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tif (form.attr(\"name\") == \"changeOwner\") {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjQuery('#changeOwner').validationEngine(app.validationEngineOptions);\n\t\t\t\t\t}\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tvar selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n\ttransferOwnershipSave: function (form) {\n\t\tvar thisInstance = this;\n\t\tvar transferOwner = jQuery('#transferOwnerId').val();\n\t\tvar relatedModules = jQuery('#related_modules').val();\n\t\tvar recordId = jQuery('#recordId').val();\n\t\tvar params = {\n\t\t\t'module': app.getModuleName(),\n\t\t\t'action': 'TransferOwnership',\n\t\t\t'record': recordId,\n\t\t\t'transferOwnerId': transferOwner,\n\t\t\t'related_modules': relatedModules\n\t\t}\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tvar oldvalue = jQuery('.assigned_user_id').val();\n\t\t\t\t\tvar element = jQuery(\".assigned_user_id \");\n\n\t\t\t\t\telement.find('option[value=\"' + oldvalue + '\"]').removeAttr(\"selected\");\n\t\t\t\t\telement.find('option[value=\"' + transferOwner + '\"]').attr('selected', 'selected');\n\t\t\t\t\telement.trigger(\"liszt:updated\");\n\t\t\t\t\tvar Fieldname = element.find('option[value=\"' + transferOwner + '\"]').data(\"picklistvalue\");\n\t\t\t\t\telement.closest(\".row-fluid\").find(\".value\").html('<a href=\"index.php?module=Users&amp;parent=Settings&amp;view=Detail&amp;record=' + transferOwner + '\">' + Fieldname + '</a>');\n\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t},\n\t/*\n\t * Function to get the related module container\n\t */\n\tgetRelatedModuleContainer: function () {\n\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t}\n\t\treturn this.getRelatedModulesContainer;\n\t},\n\treloadRelatedList: function () {\n\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\tvar params = {};\n\t\tif (jQuery('[name=\"currentPageNum\"]').length > 0) {\n\t\t\tparams.page = jQuery('[name=\"currentPageNum\"]').val();\n\t\t}\n\t\tdetailInstance.loadRelatedList(params);\n\t},\n\tshowWorkflowTriggerView: function (instance) {\n\t\t$(instance).popover('hide');\n\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\tvar params = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tview: 'WorkflowTrigger',\n\t\t\trecord: detailInstance.getRecordId()\n\t\t}\n\t\tvar callback = function (data) {\n\t\t\tdata.find('[type=\"submit\"]').on('click', function (e) {\n\t\t\t\tvar ids = [];\n\t\t\t\tdata.find('input[type=\"checkbox\"]:checked').each(function (index) {\n\t\t\t\t\tids.push($(this).val());\n\t\t\t\t});\n\t\t\t\tif (ids.length == 0) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_INFORMATION'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_SELECTED_WORKFLOW_TRIGGER'),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t} else {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_STARTED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\tvar postData = {\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'Workflow',\n\t\t\t\t\t\tmode: 'execute',\n\t\t\t\t\t\tuser: data.find('[name=\"user\"]').val(),\n\t\t\t\t\t\trecord: detailInstance.getRecordId(),\n\t\t\t\t\t\tids: ids\n\t\t\t\t\t}\n\t\t\t\t\tAppConnector.request(postData).done(function (data) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_COMPLETED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tdetailInstance.loadWidgets();\n\t\t\t\t\t}).fail(function (error, err) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR_DURING_TRIGGER_OF_WORKFLOW'),\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tif (data) {\n\t\t\t\tapp.showModalWindow(data, '', callback);\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t});\n\t}\n}, {\n\ttargetPicklistChange: false,\n\ttargetPicklist: false,\n\tdetailViewContentHolder: false,\n\tdetailViewForm: false,\n\tdetailViewDetailsTabLabel: 'LBL_RECORD_DETAILS',\n\tdetailViewSummaryTabLabel: 'LBL_RECORD_SUMMARY',\n\tdetailViewRecentCommentsTabLabel: 'ModComments',\n\tdetailViewRecentActivitiesTabLabel: 'Activities',\n\tdetailViewRecentUpdatesTabLabel: 'LBL_UPDATES',\n\tdetailViewRecentDocumentsTabLabel: 'Documents',\n\tfieldUpdatedEvent: 'Vtiger.Field.Updated',\n\t//Filels list on updation of which we need to upate the detailview header\n\tupdatedFields: ['company', 'designation', 'title'],\n\t//Event that will triggered before saving the ajax edit of fields\n\tfieldPreSave: 'Vtiger.Field.PreSave',\n\ttempData: [],\n\treferenceFieldNames: {\n\t\t'Calendar': {\n\t\t\t'Accounts': 'link',\n\t\t\t'Leads': 'link',\n\t\t\t'Vendors': 'link',\n\t\t\t'OSSEmployees': 'link',\n\t\t\t'Contacts': 'linkextend',\n\t\t\t'Campaigns': 'process',\n\t\t\t'HelpDesk': 'process',\n\t\t\t'Projects': 'process',\n\t\t\t'ServiceContracts': 'process',\n\t\t},\n\t\t'OutsourcedProducts': {\n\t\t\t'Leads': 'parent_id',\n\t\t\t'Accounts': 'parent_id',\n\t\t\t'Contacts': 'parent_id'\n\t\t},\n\t\t'Assets': {\n\t\t\t'Accounts': 'parent_id',\n\t\t\t'Contacts': 'parent_id'\n\t\t},\n\t\t'OSSOutsourcedServices': {\n\t\t\t'Leads': 'parent_id',\n\t\t\t'Accounts': 'parent_id',\n\t\t\t'Contacts': 'parent_id'\n\t\t},\n\t\t'OSSSoldServices': {\n\t\t\t'Accounts': 'parent_id',\n\t\t\t'Contacts': 'parent_id'\n\t\t},\n\t},\n\t//constructor\n\tinit: function () {\n\n\t},\n\tloadWidgetsEvents: function () {\n\t\tconst thisInstance = this;\n\t\tapp.event.on(\"DetailView.Widget.AfterLoad\", function (e, widgetContent, relatedModuleName, instance) {\n\t\t\tif (relatedModuleName === 'Calendar') {\n\t\t\t\tthisInstance.reloadWidgetActivitesStats(widgetContent.closest('.activityWidgetContainer'));\n\t\t\t}\n\t\t\tif (relatedModuleName === 'ModComments') {\n\t\t\t\tthisInstance.registerCommentEventsInDetail(widgetContent.closest('.updatesWidgetContainer'));\n\t\t\t}\n\t\t\tif (widgetContent.find('[name=\"relatedModule\"]').length) {\n\t\t\t\tthisInstance.registerShowSummary(widgetContent);\n\t\t\t}\n\t\t\tif (relatedModuleName === 'Emails') {\n\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\twidgetContent.find('.showMailModal').on('click', function (e) {\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\tapp.showModalWindow(\"\", $(e.currentTarget).data('url') + '&noloadlibs=1', function (data) {\n\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tthisInstance.registerEmailEvents(widgetContent);\n\t\t\tif (relatedModuleName === 'DetailView') {\n\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t}\n\t\t});\n\t},\n\tloadWidgets: function () {\n\t\tvar thisInstance = this;\n\t\tvar widgetList = jQuery('[class^=\"widgetContainer_\"]');\n\t\twidgetList.each(function (index, widgetContainerELement) {\n\t\t\tvar widgetContainer = jQuery(widgetContainerELement);\n\t\t\tthisInstance.loadWidget(widgetContainer);\n\t\t});\n\t\tthisInstance.registerRelatedModulesRecordCount();\n\t},\n\tloadWidget: function (widgetContainer, params) {\n\t\tvar thisInstance = this;\n\t\tvar contentContainer = jQuery('.js-detail-widget-content', widgetContainer);\n\t\tif (widgetContainer.find('[name=\"relatedModule\"]').length) {\n\t\t\tvar relatedModuleName = widgetContainer.find('[name=\"relatedModule\"]').val();\n\t\t} else {\n\t\t\tvar relatedModuleName = widgetContainer.data('name');\n\t\t}\n\t\tif (params == undefined) {\n\t\t\tvar urlParams = widgetContainer.data('url');\n\t\t\tif (urlParams == undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar queryParameters = urlParams.split('&');\n\t\t\tvar keyValueMap = {};\n\t\t\tfor (var index = 0; index < queryParameters.length; index++) {\n\t\t\t\tvar queryParam = queryParameters[index];\n\t\t\t\tvar queryParamComponents = queryParam.split('=');\n\t\t\t\tkeyValueMap[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t}\n\t\t\tparams = keyValueMap;\n\t\t}\n\t\tvar aDeferred = $.Deferred();\n\t\tcontentContainer.progressIndicator({});\n\t\tAppConnector.request({\n\t\t\ttype: 'POST',\n\t\t\tasync: false,\n\t\t\tdataType: 'html',\n\t\t\tdata: params\n\t\t}).done(function (data) {\n\t\t\tcontentContainer.progressIndicator({mode: 'hide'});\n\t\t\tcontentContainer.html(data);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetContainer.find('.select2'));\n\t\t\tapp.showPopoverElementView(contentContainer.find('.js-popover-tooltip'));\n\t\t\tapp.registerModal(contentContainer);\n\t\t\tapp.registerMoreContent(contentContainer.find('button.moreBtn'));\n\t\t\tif (relatedModuleName) {\n\t\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), thisInstance.getSelectedTab(), relatedModuleName);\n\t\t\t\trelatedController.setRelatedContainer(contentContainer);\n\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\tthisInstance.widgetRelatedRecordView(widgetContainer, true);\n\t\t\t}\n\t\t\tapp.event.trigger(\"DetailView.Widget.AfterLoad\", contentContainer, relatedModuleName, thisInstance);\n\t\t\taDeferred.resolve(params);\n\t\t}).fail(function (e) {\n\t\t\tcontentContainer.progressIndicator({mode: 'hide'});\n\t\t\taDeferred.reject();\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\twidgetRelatedRecordView: function (container, load) {\n\t\tvar cacheKey = this.getRecordId() + '_' + container.data('id');\n\t\tvar relatedRecordCacheID = app.moduleCacheGet(cacheKey);\n\t\tif (relatedRecordCacheID !== null) {\n\t\t\tvar newActive = container.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\");\n\t\t\tif (newActive.length) {\n\t\t\t\tcontainer.find('.js-carousel-item.active').removeClass('active');\n\t\t\t\tcontainer.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\").addClass('active');\n\t\t\t}\n\t\t}\n\t\tvar controlBox = container.find('.control-widget');\n\t\tvar prev = controlBox.find('.prev');\n\t\tvar next = controlBox.find('.next');\n\t\tvar active = container.find('.js-carousel-item.active');\n\t\tif (container.find('.js-carousel-item').length <= 1 || !active.next().length) {\n\t\t\tnext.addClass('disabled');\n\t\t} else {\n\t\t\tnext.removeClass('disabled');\n\t\t}\n\t\tif (container.find('.js-carousel-item').length <= 1 || !active.prev().length) {\n\t\t\tprev.addClass('disabled');\n\t\t} else {\n\t\t\tprev.removeClass('disabled');\n\t\t}\n\t\tif (load) {\n\t\t\tnext.on('click', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar active = container.find('.js-carousel-item.active');\n\t\t\t\tactive.removeClass('active');\n\t\t\t\tvar nextElement = active.next();\n\t\t\t\tnextElement.addClass('active');\n\t\t\t\tif (!nextElement.next().length) {\n\t\t\t\t\tnext.addClass('disabled');\n\t\t\t\t}\n\t\t\t\tif (active.prev()) {\n\t\t\t\t\tprev.removeClass('disabled');\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet(cacheKey, nextElement.data('id'));\n\t\t\t});\n\t\t\tprev.on('click', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar active = container.find('.js-carousel-item.active');\n\t\t\t\tactive.removeClass('active');\n\t\t\t\tvar prevElement = active.prev();\n\t\t\t\tprevElement.addClass('active');\n\t\t\t\tif (!prevElement.prev().length) {\n\t\t\t\t\tprev.addClass('disabled');\n\t\t\t\t}\n\t\t\t\tif (active.next()) {\n\t\t\t\t\tnext.removeClass('disabled');\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet(cacheKey, prevElement.data('id'));\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t * Function to load only Comments Widget.\n\t */\n\tloadCommentsWidget: function () {\n\n\t},\n\tloadContents: function (url, data) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tvar params = url;\n\t\tif (typeof data !== \"undefined\") {\n\t\t\tparams = {};\n\t\t\tparams.url = url;\n\t\t\tparams.data = data;\n\t\t}\n\t\tAppConnector.requestPjax(params).done(function (responseData) {\n\t\t\tdetailContentsHolder.html(responseData);\n\t\t\tresponseData = detailContentsHolder.html();\n\t\t\t//thisInstance.triggerDisplayTypeEvent();\n\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t//Make select box more usability\n\t\t\tApp.Fields.Picklist.changeSelectElementView(detailContentsHolder);\n\t\t\t//Attach date picker event to date fields\n\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\tthisInstance.getForm().validationEngine();\n\t\t\tapp.event.trigger(\"DetailView.LoadContents.AfterLoad\", responseData);\n\t\t\taDeferred.resolve(responseData);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tgetUpdatefFieldsArray: function () {\n\t\treturn this.updatedFields;\n\t},\n\t/**\n\t * Function to return related tab.\n\t * @return : jQuery Object.\n\t */\n\tgetTabByLabel: function (tabLabel) {\n\t\tvar tabs = this.getTabs();\n\t\tvar targetTab = false;\n\t\ttabs.each(function (index, element) {\n\t\t\tvar tab = jQuery(element);\n\t\t\tvar labelKey = tab.data('labelKey');\n\t\t\tif (labelKey == tabLabel) {\n\t\t\t\ttargetTab = tab;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn targetTab;\n\t},\n\tgetTabByModule: function (moduleName) {\n\t\tvar tabs = this.getTabs();\n\t\tvar targetTab = false;\n\t\ttabs.each(function (index, element) {\n\t\t\tvar tab = jQuery(element);\n\t\t\tif (tab.data('reference') == moduleName) {\n\t\t\t\ttargetTab = tab;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn targetTab;\n\t},\n\tselectModuleTab: function () {\n\t\tvar relatedTabContainer = this.getTabContainer();\n\t\tvar moduleTab = relatedTabContainer.find('li.module-tab');\n\t\tthis.deSelectAllrelatedTabs();\n\t\tthis.markTabAsSelected(moduleTab);\n\t},\n\tdeSelectAllrelatedTabs: function () {\n\t\tvar relatedTabContainer = this.getTabContainer();\n\t\tthis.getTabs().removeClass('active');\n\t},\n\tmarkTabAsSelected: function (tabElement) {\n\t\ttabElement.addClass('active');\n\t\tjQuery('.related .dropdown [data-reference=\"' + tabElement.data('reference') + '\"]').addClass('active');\n\t},\n\treloadTabContent: function () {\n\t\tthis.getSelectedTab().trigger('click');\n\t},\n\tgetSelectedTab: function () {\n\t\tvar tabContainer = this.getTabContainer();\n\t\treturn tabContainer.find('.nav li.active:not(.d-none)');\n\t},\n\tgetTabContainer: function () {\n\t\treturn jQuery('div.related');\n\t},\n\tgetTabs: function () {\n\t\tvar topTabs = this.getTabContainer().find('li.baseLink:not(.d-none)');\n\t\tvar dropdownMenuTabs = this.getTabContainer().find('li:not(.baseLink)');\n\t\tdropdownMenuTabs.each(function (n, e) {\n\t\t\tvar currentTarget = jQuery(this);\n\t\t\tvar iteration = currentTarget.data('iteration');\n\t\t\tvar className = currentTarget.hasClass('mainNav') ? 'mainNav' : 'relatedNav';\n\t\t\tif (iteration != undefined && topTabs.filter('.' + className + '[data-iteration=\"' + iteration + '\"]').length < 1) {\n\t\t\t\ttopTabs.push(currentTarget.get(0));\n\t\t\t}\n\t\t})\n\t\treturn topTabs;\n\t},\n\tgetContentHolder: function () {\n\t\tif (this.detailViewContentHolder == false) {\n\t\t\tthis.detailViewContentHolder = jQuery('div.details div.contents');\n\t\t}\n\t\treturn this.detailViewContentHolder;\n\t},\n\t/**\n\t * Function which will give the detail view form\n\t * @return : jQuery element\n\t */\n\tgetForm: function () {\n\t\tif (this.detailViewForm == false) {\n\t\t\tthis.detailViewForm = jQuery('#detailView');\n\t\t}\n\t\treturn this.detailViewForm;\n\t},\n\tgetRecordId: function () {\n\t\treturn app.getRecordId();\n\t},\n\tgetRelatedModuleName: function () {\n\t\tif (jQuery('.relatedModuleName', this.getContentHolder()).length == 1) {\n\t\t\treturn jQuery('.relatedModuleName', this.getContentHolder()).val();\n\t\t}\n\t},\n\tsaveFieldValues: function (fieldDetailList) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar recordId = this.getRecordId();\n\n\t\tvar data = {};\n\t\tif (typeof fieldDetailList !== \"undefined\") {\n\t\t\tdata = fieldDetailList;\n\t\t}\n\t\tdata['record'] = recordId;\n\t\tdata['module'] = app.getModuleName();\n\t\tdata['action'] = 'SaveAjax';\n\n\t\tvar params = {};\n\t\tparams.data = data;\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (reponseData) {\n\t\t\t\taDeferred.resolve(reponseData);\n\t\t\t}\n\t\t);\n\n\t\treturn aDeferred.promise();\n\t},\n\tgetRelatedListCurrentPageNum: function () {\n\t\treturn jQuery('input[name=\"currentPageNum\"]', this.getContentHolder()).val();\n\t},\n\t/**\n\t * function to remove comment block if its exists.\n\t */\n\tremoveCommentBlockIfExists: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tvar Commentswidget = jQuery('.commentsBody', detailContentsHolder);\n\t\tjQuery('.addCommentBlock', Commentswidget).remove();\n\t},\n\t/**\n\t * function to get the Comment thread for the given parent.\n\t * params: Url to get the Comment thread\n\t */\n\tgetCommentThread: function (url) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t})\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to save comment\n\t */\n\tsaveCommentAjax: function (element, commentMode, commentContentValue, editCommentReason, commentId, parentCommentId, aDeferred) {\n\t\tvar thisInstance = this;\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({});\n\t\tvar commentInfoBlock = element.closest('.singleComment');\n\t\tvar relatedTo = commentInfoBlock.find('.related_to').val()\n\t\tif (!relatedTo) {\n\t\t\trelatedTo = thisInstance.getRecordId();\n\t\t}\n\t\tvar postData = {\n\t\t\t'commentcontent': commentContentValue,\n\t\t\t'related_to': relatedTo,\n\t\t\t'module': 'ModComments'\n\t\t};\n\n\t\tif (commentMode == \"edit\") {\n\t\t\tpostData['record'] = commentId;\n\t\t\tpostData['reasontoedit'] = editCommentReason;\n\t\t\tpostData['parent_comments'] = parentCommentId;\n\t\t\tpostData['mode'] = 'edit';\n\t\t\tpostData['action'] = 'Save';\n\t\t} else if (commentMode == \"add\") {\n\t\t\tpostData['parent_comments'] = commentId;\n\t\t\tpostData['action'] = 'SaveAjax';\n\t\t}\n\t\tAppConnector.request(postData).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tif (commentMode == 'add') {\n\t\t\t\tthisInstance.addRelationBetweenRecords('ModComments', data.result.id, thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel))\n\t\t\t}\n\t\t\tapp.event.trigger(\"DetailView.SaveComment.AfterAjax\", commentInfoBlock, postData, data);\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (textStatus, errorThrown) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\telement.removeAttr('disabled');\n\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t});\n\t},\n\tsaveComment: function (e) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\tvar commentMode = currentTarget.data('mode');\n\t\tvar closestCommentBlock = currentTarget.closest('.addCommentBlock');\n\t\tvar commentContent = closestCommentBlock.find('.commentcontent');\n\t\tvar commentContentValue = commentContent.val();\n\t\tvar errorMsg;\n\t\tif (commentContentValue == \"\") {\n\t\t\terrorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY')\n\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\taDeferred.reject(errorMsg);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tif (commentMode == \"edit\") {\n\t\t\tvar editCommentReason = closestCommentBlock.find('[name=\"reasonToEdit\"]').val();\n\t\t}\n\t\tvar element = jQuery(e.currentTarget);\n\t\tvar commentInfoHeader = closestCommentBlock.closest('.commentDetails').find('.commentInfoHeader');\n\t\tvar commentId = commentInfoHeader.data('commentid');\n\t\tvar parentCommentId = commentInfoHeader.data('parentcommentid');\n\t\tthisInstance.saveCommentAjax(element, commentMode, commentContentValue, editCommentReason, commentId, parentCommentId, aDeferred);\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * function to return the UI of the comment.\n\t * return html\n\t */\n\tgetCommentUI: function (commentId) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar postData = {\n\t\t\t'view': 'DetailAjax',\n\t\t\t'module': 'ModComments',\n\t\t\t'record': commentId\n\t\t}\n\t\tAppConnector.request(postData).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * function to return cloned add comment block\n\t * return jQuery Obj.\n\t */\n\tgetCommentBlock: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tvar clonedCommentBlock = jQuery('.basicAddCommentBlock', detailContentsHolder).clone(true, true).removeClass('basicAddCommentBlock d-none').addClass('addCommentBlock');\n\t\tclonedCommentBlock.find('.commentcontenthidden').removeClass('commentcontenthidden').addClass('commentcontent');\n\t\treturn clonedCommentBlock;\n\t},\n\t/**\n\t * function to return cloned edit comment block\n\t * return jQuery Obj.\n\t */\n\tgetEditCommentBlock: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tvar clonedCommentBlock = jQuery('.basicEditCommentBlock', detailContentsHolder).clone(true, true).removeClass('basicEditCommentBlock d-none').addClass('addCommentBlock');\n\t\tclonedCommentBlock.find('.commentcontenthidden').removeClass('commentcontenthidden').addClass('commentcontent');\n\t\treturn clonedCommentBlock;\n\t},\n\t/*\n\t * Function to register the submit event for Send Sms\n\t */\n\tregisterSendSmsSubmitEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('body').on('submit', '#massSave', function (e) {\n\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\tvar smsTextLength = form.find('#message').val().length;\n\t\t\tif (smsTextLength > 160) {\n\t\t\t\tvar params = {\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('LBL_SMS_MAX_CHARACTERS_ALLOWED'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar submitButton = form.find(':submit');\n\t\t\tsubmitButton.attr('disabled', 'disabled');\n\t\t\tthisInstance.SendSmsSave(form);\n\t\t\te.preventDefault();\n\t\t});\n\t},\n\t/*\n\t * Function to Save and sending the Sms and hide the modal window of send sms\n\t */\n\tSendSmsSave: function (form) {\n\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar SendSmsUrl = form.serializeFormData();\n\t\tAppConnector.request(SendSmsUrl).done(function (data) {\n\t\t\tapp.hideModalWindow();\n\t\t\tprogressInstance.progressIndicator({\n\t\t\t\t'mode': 'hide'\n\t\t\t});\n\t\t}).fail(function (error, err) {\n\t\t});\n\t},\n\t/**\n\t * Function which will register events to update the record name in the detail view when any of\n\t * the name field is changed\n\t */\n\tregisterNameAjaxEditEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, '.nameField', function (e, params) {\n\t\t\tvar form = thisInstance.getForm();\n\t\t\tvar nameFields = form.data('nameFields');\n\t\t\tvar recordLabel = '';\n\t\t\tfor (var index in nameFields) {\n\t\t\t\tif (index != 0) {\n\t\t\t\t\trecordLabel += ' '\n\t\t\t\t}\n\n\t\t\t\tvar nameFieldName = nameFields[index];\n\t\t\t\trecordLabel += form.find('[name=\"' + nameFieldName + '\"]').val();\n\t\t\t}\n\t\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\trecordLabelElement.text(recordLabel);\n\t\t});\n\t},\n\tupdateHeaderNameFields: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tvar form = thisInstance.getForm();\n\t\tvar nameFields = form.data('nameFields');\n\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\tvar title = '';\n\t\tfor (var index in nameFields) {\n\t\t\tvar nameFieldName = nameFields[index];\n\t\t\tvar nameField = form.find('[name=\"' + nameFieldName + '\"]');\n\t\t\tif (nameField.length > 0) {\n\t\t\t\tvar recordLabel = nameField.val();\n\t\t\t\ttitle += recordLabel + \" \";\n\t\t\t\trecordLabelElement.find('[class=\"' + nameFieldName + '\"]').text(recordLabel);\n\t\t\t}\n\t\t}\n\t\tvar salutatioField = recordLabelElement.find('.salutation');\n\t\tif (salutatioField.length > 0) {\n\t\t\tvar salutatioValue = salutatioField.text();\n\t\t\ttitle = salutatioValue + title;\n\t\t}\n\t\trecordLabelElement.attr('title', title);\n\t},\n\tregisterAjaxEditEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, 'input,select,textarea', function (e) {\n\t\t\tthisInstance.updateHeaderValues(jQuery(e.currentTarget));\n\t\t});\n\t},\n\tupdateHeaderValues: function (currentElement) {\n\t\tvar thisInstance = this;\n\t\tif (currentElement.hasClass('nameField')) {\n\t\t\tthisInstance.updateHeaderNameFields();\n\t\t\treturn true;\n\t\t}\n\n\t\tvar name = currentElement.attr('name');\n\t\tvar updatedFields = this.getUpdatefFieldsArray();\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tif (jQuery.inArray(name, updatedFields) != '-1') {\n\t\t\tvar recordLabel = currentElement.val();\n\t\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.' + name + '_label');\n\t\t\trecordLabelElement.text(recordLabel);\n\t\t}\n\t},\n\t/*\n\t * Function to register the click event of email field\n\t */\n\tregisterEmailFieldClickEvent: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.emailField', function (e) {\n\t\t\te.stopPropagation();\n\t\t})\n\t},\n\t/*\n\t * Function to register the click event of phone field\n\t */\n\tregisterPhoneFieldClickEvent: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.phoneField', function (e) {\n\t\t\te.stopPropagation();\n\t\t})\n\t},\n\t/*\n\t * Function to register the click event of url field\n\t */\n\tregisterUrlFieldClickEvent: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.urlField', function (e) {\n\t\t\te.stopPropagation();\n\t\t})\n\t},\n\t/**\n\t * Function to register event for related list row click\n\t */\n\tregisterRelatedRowClickEvent: function () {\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.listViewEntries', function (e) {\n\t\t\tvar targetElement = jQuery(e.target, jQuery(e.currentTarget));\n\t\t\tif (targetElement.is('td:first-child') && (targetElement.children('input[type=\"checkbox\"]').length > 0))\n\t\t\t\treturn;\n\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]'))\n\t\t\t\treturn;\n\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\tvar recordUrl = elem.data('recordurl');\n\t\t\tif (typeof recordUrl !== \"undefined\") {\n\t\t\t\twindow.location.href = recordUrl;\n\t\t\t}\n\t\t});\n\n\t},\n\tloadRelatedList: function (params) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tif (params == undefined) {\n\t\t\tparams = {};\n\t\t}\n\t\tvar relatedListInstance = Vtiger_RelatedList_Js.getInstance(this.getRecordId(), app.getModuleName(), this.getSelectedTab(), this.getRelatedModuleName());\n\t\trelatedListInstance.loadRelatedList(params).done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t}, function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t}\n\t\t);\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to register Event for Sorting\n\t */\n\tregisterEventForRelatedList: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tvar relatedModuleName = thisInstance.getRelatedModuleName();\n\t\tif (relatedModuleName) {\n\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), thisInstance.getSelectedTab(), relatedModuleName);\n\t\t\trelatedController.setRelatedContainer(detailContentsHolder);\n\t\t\trelatedController.registerRelatedEvents();\n\t\t}\n\t\tdetailContentsHolder.find('.detailViewBlockLink').each(function (n, block) {\n\t\t\tblock = $(block);\n\t\t\tvar blockContent = block.find('.blockContent');\n\t\t\tif (blockContent.is(':visible')) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\ttype: 'GET',\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: block.data('url')\n\t\t\t\t}).done(function (response) {\n\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), thisInstance.getSelectedTab(), block.data('reference'));\n\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tdetailContentsHolder.find('.detailViewBlockLink .blockHeader').on('click', function (e) {\n\t\t\tconst target = $(e.target);\n\t\t\tif (target.is('input') || target.is('button') || target.parents().is('button') || target.hasClass('js-stop-propagation') || target.parents().hasClass('js-stop-propagation')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst block = $(this).closest('.js-toggle-panel');\n\t\t\tconst blockContent = block.find('.blockContent');\n\t\t\tconst isEmpty = blockContent.is(':empty');\n\t\t\tif (!blockContent.is(':visible')) {\n\t\t\t\tblockContent.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\ttype: 'GET',\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: block.data('url')\n\t\t\t\t}).done(function (response) {\n\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\tconst relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), thisInstance.getSelectedTab(), block.data('reference'));\n\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t} else {\n\t\t\t\t\t\trelatedController.registerPostLoadEvents();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterBlockAnimationEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.find(\".blockHeader\").on('click', function (e) {\n\t\t\tconst target = $(e.target);\n\t\t\tif (target.is('input') || target.is('button') || target.parents().is('button') || target.hasClass('js-stop-propagation') || target.parents().hasClass('js-stop-propagation')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTarget = $(this).find(\".js-block-toggle\").not(\".d-none\");\n\t\t\tvar blockId = currentTarget.data(\"id\");\n\t\t\tvar closestBlock = currentTarget.closest(\".js-toggle-panel\");\n\t\t\tvar bodyContents = closestBlock.find(\".blockContent\");\n\t\t\tvar data = currentTarget.data();\n\t\t\tvar module = app.getModuleName();\n\t\t\tif (data.mode === \"show\") {\n\t\t\t\tbodyContents.addClass(\"d-none\");\n\t\t\t\tapp.cacheSet(module + \".\" + blockId, 0);\n\t\t\t\tcurrentTarget.addClass(\"d-none\");\n\t\t\t\tclosestBlock.find('[data-mode=\"hide\"]').removeClass(\"d-none\");\n\t\t\t} else {\n\t\t\t\tbodyContents.removeClass(\"d-none\");\n\t\t\t\tapp.cacheSet(module + \".\" + blockId, 1);\n\t\t\t\tcurrentTarget.addClass(\"d-none\");\n\t\t\t\tclosestBlock.find('[data-mode=\"show\"]').removeClass(\"d-none\");\n\t\t\t}\n\t\t\tapp.event.trigger(\"DetailView.js-block-toggle.PostLoad\", bodyContents, data, thisInstance);\n\t\t});\n\t},\n\tregisterBlockStatusCheckOnLoad: function () {\n\t\tlet blocks = this.getContentHolder().find('.js-toggle-panel');\n\t\tlet module = app.getModuleName();\n\t\tblocks.each(function (index, block) {\n\t\t\tlet currentBlock = jQuery(block);\n\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\tlet bodyContents = currentBlock.closest('.js-toggle-panel').find('.blockContent');\n\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\tif (value != null) {\n\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to handle the ajax edit for detailview and summary view fields\n\t * which will expects the currentTdElement\n\t */\n\tajaxEditHandling: function (currentTdElement) {\n\t\tvar thisInstance = this;\n\t\tvar readRecord = jQuery('.setReadRecord');\n\t\treadRecord.prop('disabled', true);\n\t\tvar detailViewValue = jQuery('.value', currentTdElement);\n\t\tvar editElement = jQuery('.edit', currentTdElement);\n\t\tvar actionElement = jQuery('.js-detail-quick-edit', currentTdElement);\n\t\tvar fieldElement = jQuery('.fieldname', editElement);\n\t\tjQuery(fieldElement).each(function (index, element) {\n\t\t\tvar fieldName = jQuery(element).val();\n\t\t\tvar elementTarget = jQuery(element);\n\t\t\tvar elementName = jQuery.inArray(elementTarget.data('type'), ['taxes', 'sharedOwner', 'multipicklist']) != -1 ? fieldName + '[]' : fieldName;\n\t\t\tvar fieldElement = jQuery('[name=\"' + elementName + '\"]', editElement);\n\t\t\tif (fieldElement.attr('disabled') == 'disabled') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (editElement.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (editElement.is(':visible')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\tfieldElement.inputmask();\n\t\t\t}\n\t\t\tdetailViewValue.addClass('d-none');\n\t\t\tactionElement.addClass('d-none');\n\t\t\teditElement.removeClass('d-none').children().filter('input[type!=\"hidden\"]input[type!=\"image\"],select').filter(':first').focus();\n\t\t\tvar saveHandler = function (e) {\n\t\t\t\tthisInstance.registerNameAjaxEditEvent();\n\t\t\t\tvar element = jQuery(e.target);\n\t\t\t\tif ((element.closest('.fieldValue').is(currentTdElement))) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcurrentTdElement.removeAttr('tabindex');\n\t\t\t\tvar previousValue = elementTarget.data('prevValue');\n\t\t\t\tvar formElement = thisInstance.getForm();\n\t\t\t\tvar formData = formElement.serializeFormData();\n\t\t\t\tvar ajaxEditNewValue = formData[fieldName] ? formData[fieldName] : formData[elementName];\n\t\t\t\t//value that need to send to the server\n\t\t\t\tvar fieldValue = ajaxEditNewValue;\n\t\t\t\tvar fieldInfo = Vtiger_Field_Js.getInstance(fieldElement.data('fieldinfo'));\n\t\t\t\tvar dateTimeField = [];\n\t\t\t\tvar dateTime = false;\n\t\t\t\tif (editElement.find('[data-fieldinfo]').length == 2) {\n\t\t\t\t\teditElement.find('[data-fieldinfo]').each(function () {\n\t\t\t\t\t\tvar field = [];\n\t\t\t\t\t\tfield['name'] = jQuery(this).attr('name');\n\t\t\t\t\t\tfield['type'] = jQuery(this).data('fieldinfo').type;\n\t\t\t\t\t\tif (field['type'] == 'datetime') {\n\t\t\t\t\t\t\tdateTime = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdateTimeField.push(field);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t// Since checkbox will be sending only on and off and not 1 or 0 as currrent value\n\t\t\t\tif (fieldElement.is('input:checkbox')) {\n\t\t\t\t\tif (fieldElement.is(':checked')) {\n\t\t\t\t\t\tajaxEditNewValue = '1';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tajaxEditNewValue = '0';\n\t\t\t\t\t}\n\t\t\t\t\tfieldElement = fieldElement.filter('[type=\"checkbox\"]');\n\t\t\t\t}\n\t\t\t\t//If validation fails\n\t\t\t\tif (fieldElement.validationEngine('validate')) {\n\t\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfunction toStr(v) {\n\t\t\t\t\treturn v === undefined || v === null ? '' : (v + '');\n\t\t\t\t}\n\n\t\t\t\tfieldElement.validationEngine('hide');\n\t\t\t\t//Before saving ajax edit values we need to check if the value is changed then only we have to save\n\t\t\t\tif (toStr(previousValue) === toStr(ajaxEditNewValue)) {\n\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t} else {\n\t\t\t\t\tvar preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\t\t'fieldValue': fieldValue,\n\t\t\t\t\t\t'recordId': thisInstance.getRecordId()\n\t\t\t\t\t});\n\t\t\t\t\tif (preFieldSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t//Stop the save\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentTdElement.progressIndicator();\n\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\tvar fieldNameValueMap = {};\n\n\t\t\t\t\tfieldNameValueMap[\"value\"] = fieldValue;\n\t\t\t\t\tfieldNameValueMap[\"field\"] = fieldName;\n\t\t\t\t\tfieldNameValueMap = thisInstance.getCustomFieldNameValueMap(fieldNameValueMap);\n\t\t\t\t\tthisInstance.saveFieldValues(fieldNameValueMap).done(function (response) {\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\tcurrentTdElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst postSaveRecordDetails = response.result;\n\t\t\t\t\t\tlet displayValue = postSaveRecordDetails[fieldName].display_value;\n\t\t\t\t\t\tif (dateTimeField.length && dateTime) {\n\t\t\t\t\t\t\tdisplayValue = postSaveRecordDetails[dateTimeField[0].name].display_value + ' ' + postSaveRecordDetails[dateTimeField[1].name].display_value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetailViewValue.html(displayValue);\n\t\t\t\t\t\tif (postSaveRecordDetails['isEditable'] === false) {\n\t\t\t\t\t\t\tconst progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t\t\t'position': 'html',\n\t\t\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfieldElement.trigger(thisInstance.fieldUpdatedEvent, {'old': previousValue, 'new': fieldValue});\n\t\t\t\t\t\telementTarget.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\tfieldElement.data('selectedValue', ajaxEditNewValue);\n\t\t\t\t\t\t//After saving source field value, If Target field value need to change by user, show the edit view of target field.\n\t\t\t\t\t\tif (thisInstance.targetPicklistChange) {\n\t\t\t\t\t\t\tif (jQuery('.js-widget-general-info', thisInstance.getForm()).length > 0) {\n\t\t\t\t\t\t\t\tthisInstance.targetPicklist.find('.js-detail-quick-edit').trigger('click');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.targetPicklist.trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\t\tif (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewDetailsTabLabel) {\n\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisInstance.updateRecordsPDFTemplateBtn(thisInstance.getForm());\n\t\t\t\t\t}).fail(function (error) {\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\tcurrentTdElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\teditElement.on('clickoutside', saveHandler);\n\t\t})\n\t},\n\ttriggerDisplayTypeEvent: function () {\n\t\tvar widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\tif (widthType) {\n\t\t\tvar elements = jQuery('#detailView').find('td');\n\t\t\telements.addClass(widthType);\n\t\t}\n\t},\n\t/**\n\t * Function updates the hidden elements which is used for creating relations\n\t */\n\taddElementsToQuickCreateForCreatingRelation: function (container, customParams) {\n\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" >').appendTo(container);\n\t\tjQuery.each(customParams, function (index, value) {\n\t\t\tjQuery('<input type=\"hidden\" name=\"' + index + '\" value=\"' + value + '\" >').appendTo(container);\n\t\t});\n\t},\n\t/**\n\t * Function to register event for activity widget for adding\n\t * event and task from the widget\n\t */\n\tregisterEventForActivityWidget: function () {\n\t\tvar thisInstance = this;\n\n\t\t/*\n\t\t * Register click event for add button in Related Activities widget\n\t\t */\n\t\tjQuery('.createActivity').on('click', function (e) {\n\t\t\tvar referenceModuleName = \"Calendar\";\n\t\t\tvar recordId = thisInstance.getRecordId();\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar element = jQuery(e.currentTarget);\n\n\t\t\tlet customParams = {};\n\t\t\tcustomParams['sourceModule'] = module;\n\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\tif (module != '' && referenceModuleName != '' && typeof thisInstance.referenceFieldNames[referenceModuleName] !== \"undefined\" && typeof thisInstance.referenceFieldNames[referenceModuleName][module] !== \"undefined\") {\n\t\t\t\tvar relField = thisInstance.referenceFieldNames[referenceModuleName][module];\n\t\t\t\tcustomParams[relField] = recordId;\n\n\t\t\t}\n\t\t\tvar fullFormUrl = element.data('url');\n\t\t\tvar preQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\tvar taskGoToFullFormButton = data.find('[class^=\"CalendarQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\tvar eventsGoToFullFormButton = data.find('[class^=\"EventsQuikcCreateContents\"]').find('.js-full-editlink');\n\t\t\t\tvar taskFullFormUrl = taskGoToFullFormButton.data('url') + \"&\" + fullFormUrl;\n\t\t\t\tvar eventsFullFormUrl = eventsGoToFullFormButton.data('url') + \"&\" + fullFormUrl;\n\t\t\t\ttaskGoToFullFormButton.data('url', taskFullFormUrl);\n\t\t\t\teventsGoToFullFormButton.data('url', eventsFullFormUrl);\n\t\t\t}\n\t\t\tvar callbackFunction = function () {\n\t\t\t\tvar widgetContainer = element.closest('.js-detail-widget');\n\t\t\t\tvar widgetContentBlock = widgetContainer.find('.widgetContentBlock');\n\t\t\t\tvar urlParams = widgetContentBlock.data('url');\n\t\t\t\tvar params = {\n\t\t\t\t\t'type': 'GET',\n\t\t\t\t\t'dataType': 'html',\n\t\t\t\t\t'data': urlParams\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t\tvar activitiesWidget = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\t\t\tactivitiesWidget.html(data);\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(activitiesWidget);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tthisInstance.loadWidgets();\n\t\t\t}\n\n\n\t\t\tlet QuickCreateParams = {};\n\t\t\tQuickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tQuickCreateParams['callbackFunction'] = callbackFunction;\n\t\t\tQuickCreateParams['data'] = Object.assign({}, customParams);\n\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, QuickCreateParams);\n\t\t});\n\t},\n\tgetEndDate: function (startDate) {\n\t\tvar dateTab = startDate.split('-');\n\t\tvar date = new Date(dateTab[0], dateTab[1], dateTab[2]);\n\t\tvar newDate = new Date();\n\n\t\tnewDate.setDate(date.getDate() + 2);\n\t\treturn app.getStringDate(newDate);\n\t},\n\tgetSingleEventType: function (modDay, id, type) {\n\t\tvar dateStartEl = jQuery('[name=\"date_start\"]');\n\t\tvar dateStartVal = jQuery(dateStartEl).val();\n\t\tvar dateStartFormat = jQuery(dateStartEl).data('date-format');\n\t\tvar validDateFromat = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay, type);\n\t\tvar map = jQuery.extend({}, ['#b6a996,black'])\n\t\tvar thisInstance = this;\n\n\t\tvar params = {\n\t\t\tmodule: 'Calendar',\n\t\t\taction: 'Feed',\n\t\t\tstart: validDateFromat,\n\t\t\tend: this.getEndDate(validDateFromat),\n\t\t\ttype: type,\n\t\t\tmapping: map\n\t\t}\n\n\t\tAppConnector.request(params).done(function (events) {\n\t\t\tvar testDate = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay);\n\t\t\tif (!jQuery.isEmptyObject(events)) {\n\t\t\t\tif (events[0]['activitytype'] === 'Task') {\n\t\t\t\t\tfor (var ev in events) {\n\t\t\t\t\t\tif (events[ev]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append('<tr><td><a target=\"_blank\" href=\"' + events[ev]['url'] + '\">' + events[ev]['title'] + '</a></td></tr>')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = 0; i < events[0].length; i++) {\n\t\t\t\t\t\tif (events[0][i]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append('<tr><td><a target=\"_blank\" href=\"' + events[0][i]['url'] + '\">' + events[0][i]['title'] + '</a></td></tr>')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t},\n\t/**\n\t * Function to add module related record from summary widget\n\t */\n\tregisterFilterForAddingModuleRelatedRecordFromSummaryWidget: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('.createRecordFromFilter').on('click', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tvar widgetDataContainer = summaryWidgetContainer.find('.js-detail-widget-content');\n\t\t\tvar referenceModuleName = widgetDataContainer.find('[name=\"relatedModule\"]').val();\n\t\t\tvar quickcreateUrl = currentElement.data('url');\n\t\t\tvar parentId = thisInstance.getRecordId();\n\t\t\tvar quickCreateParams = {};\n\t\t\tvar relatedField = currentElement.data('prf');\n\t\t\tvar autoCompleteFields = currentElement.data('acf');\n\t\t\tvar moduleName = currentElement.closest('.js-detail-widget-header').find('[name=\"relatedModule\"]').val();\n\t\t\tvar relatedParams = {};\n\t\t\tvar postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\tif (referenceModuleName == \"ProjectTask\") {\n\t\t\t\t\tthisInstance.loadModuleSummary();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof relatedField !== \"undefined\") {\n\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t}\n\t\t\tif (typeof autoCompleteFields !== \"undefined\") {\n\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\trelatedParams[index] = value;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (Object.keys(relatedParams).length > 0) {\n\t\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\t}\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\tvar progress = jQuery.progressIndicator();\n\t\t\tlet headerInstance;\n\t\t\tif (window !== window.parent) {\n\t\t\t\theaderInstance = window.parent.Vtiger_Header_Js.getInstance();\n\t\t\t} else {\n\t\t\t\theaderInstance = Vtiger_Header_Js.getInstance();\n\t\t\t}\n\t\t\theaderInstance.getQuickCreateForm(quickcreateUrl, moduleName, quickCreateParams).done(function (data) {\n\t\t\t\theaderInstance.handleQuickCreateData(data, quickCreateParams);\n\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t\t$('.js-detail-widget button.selectRelation').on('click', function (e) {\n\t\t\tlet summaryWidgetContainer = jQuery(e.currentTarget).closest('.js-detail-widget');\n\t\t\tlet referenceModuleName = summaryWidgetContainer.find('.js-detail-widget-content [name=\"relatedModule\"]').val();\n\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\tlet params = {\n\t\t\t\tmodule: referenceModuleName,\n\t\t\t\tsrc_module: app.getModuleName(),\n\t\t\t\tsrc_record: thisInstance.getRecordId(),\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\tparams['search_key'] = restrictionsField.key;\n\t\t\t\tparams['search_value'] = restrictionsField.name;\n\t\t\t}\n\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\tthisInstance.addRelationBetweenRecords(referenceModuleName, Object.keys(responseData)).done(function (data) {\n\t\t\t\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('.widgetContentBlock'));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tregisterAddingInventoryRecords: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('.createInventoryRecordFromFilter').on('click', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar createUrl = currentElement.data('url');\n\t\t\tvar autoCompleteFields = currentElement.data('acf');\n\t\t\tvar addidtionalParams = ''\n\t\t\tif (typeof autoCompleteFields !== \"undefined\") {\n\t\t\t\t$.each(autoCompleteFields, function (index, value) {\n\t\t\t\t\taddidtionalParams = '&' + index + '=' + value;\n\t\t\t\t\tcreateUrl = createUrl.concat(addidtionalParams);\n\n\t\t\t\t});\n\t\t\t}\n\t\t\twindow.location.href = createUrl;\n\t\t});\n\t},\n\tregisterEmailEvent: function () {\n\t\tvar thisInstance = this;\n\t\tthis.getContentHolder().find('.resetRelationsEmail').on('click', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tVtiger_Helper_Js.showConfirmationBox({'message': app.vtranslate('JS_EMAIL_RESET_RELATIONS_CONFIRMATION')}).done(function (data) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\taction: 'Relation',\n\t\t\t\t\tmoduleName: app.getModuleName(),\n\t\t\t\t\trecord: app.getRecordId()\n\t\t\t\t}).done(function (d) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({text: d.result});\n\t\t\t\t})\n\t\t\t});\n\t\t})\n\t},\n\tgetFiltersDataAndLoad: function (e, params) {\n\t\tvar data = this.getFiltersData(e, params);\n\t\tthis.loadWidget(data['container'], data['params']);\n\t},\n\tgetFiltersData: function (e, params) {\n\t\tif (e.currentTarget) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t} else {\n\t\t\tcurrentElement = e;\n\t\t}\n\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\tvar widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\tvar url = '&' + widget.data('url');\n\t\tvar urlParams = {};\n\t\tvar parts = url.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n\t\t\turlParams[key] = value;\n\t\t});\n\t\tvar urlNewParams = [];\n\t\tsummaryWidgetContainer.find('.js-detail-widget-header .js-switch').each(function (n, item) {\n\t\t\tvar value = '';\n\t\t\tvar element = jQuery(item);\n\t\t\tvar name = element.data('urlparams');\n\t\t\tif (element.attr('type') == 'radio') {\n\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\tvalue = typeof element.data('on-val') !== \"undefined\" ? element.data('on-val') : element.data('off-val')\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar selectedFilter = element.find('option:selected').val();\n\t\t\t\tvar fieldlable = element.data('fieldlable');\n\t\t\t\tvar filter = element.data('filter');\n\t\t\t\tvalue = {};\n\t\t\t\tif (selectedFilter != fieldlable) {\n\t\t\t\t\tvalue = [[filter, 'e', selectedFilter]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (name) {\n\t\t\t\tif (name in urlNewParams) {\n\t\t\t\t\turlNewParams[name].push(value);\n\t\t\t\t} else {\n\t\t\t\t\turlNewParams[name] = [value];\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (params != undefined) {\n\t\t\t$.extend(urlNewParams, params);\n\t\t}\n\t\treturn {'container': $(widget), 'params': $.extend(urlParams, urlNewParams)};\n\t},\n\tregisterChangeFilterForWidget: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('.js-switch').on('change', function (e, state) {\n\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t})\n\t},\n\tregisterChangeSwitchForWidget: function (summaryViewContainer) {\n\t\tvar thisInstance = this;\n\t\tsummaryViewContainer.find('.activityWidgetContainer').on('change', '.js-switch', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tvar widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\t\tvar url = widget.data('url');\n\t\t\turl = url.replace('&type=current', '').replace('&type=history', '');\n\t\t\turl += '&type=';\n\t\t\tif (typeof currentElement.data('on-val') !== \"undefined\") {\n\t\t\t\tsummaryWidgetContainer.find('.ativitiesPagination').removeClass('d-none');\n\t\t\t\turl += 'current';\n\t\t\t\turl = url.replace('&sortorder=DESC', '&sortorder=ASC');\n\t\t\t} else if (typeof currentElement.data('off-val') !== \"undefined\") {\n\t\t\t\tsummaryWidgetContainer.find('.ativitiesPagination').addClass('d-none');\n\t\t\t\turl += 'history';\n\t\t\t\turl = url.replace('&sortorder=ASC', '&sortorder=DESC');\n\t\t\t}\n\t\t\twidget.data('url', url);\n\t\t\tthisInstance.loadWidget($(widget));\n\t\t});\n\t},\n\t/**\n\t * Function to register all the events related to summary view widgets\n\t */\n\tregisterSummaryViewContainerEvents: function (summaryViewContainer) {\n\t\tvar thisInstance = this;\n\t\tthis.registerEventForActivityWidget();\n\t\tthis.registerChangeFilterForWidget();\n\t\tthis.registerChangeSwitchForWidget(summaryViewContainer);\n\t\tthis.registerFilterForAddingModuleRelatedRecordFromSummaryWidget();\n\t\tthis.registerAddingInventoryRecords();\n\t\tthis.registerEmailEvent();\n\t\t/**\n\t\t * Function to handle the ajax edit for summary view fields\n\t\t */\n\t\tvar formElement = thisInstance.getForm();\n\t\tsummaryViewContainer.off('click').on('click', '.row .js-detail-quick-edit', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tcurrentTarget.addClass('d-none');\n\t\t\tvar currentTdElement = currentTarget.closest('.fieldValue');\n\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t});\n\t\t/**\n\t\t * Function to handle actions after ajax save in summary view\n\t\t */\n\t\tsummaryViewContainer.on(thisInstance.fieldUpdatedEvent, '.js-widget-general-info', function (e, params) {\n\t\t\tvar updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\");\n\t\t\tif (updatesWidget.length) {\n\t\t\t\tvar params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t}\n\t\t});\n\n\t\tsummaryViewContainer.on('click', '.editDefaultStatus', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tcurrentTarget.popover('hide');\n\t\t\tvar url = currentTarget.data('url');\n\t\t\tif (url && typeof url !== \"undefined\") {\n\t\t\t\tapp.showModalWindow(null, url);\n\t\t\t}\n\t\t});\n\n\t\t/*\n\t\t * Register the event to edit Description for related activities\n\t\t */\n\t\tsummaryViewContainer.on('click', '.editDescription', function (e) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar currentDiv = currentTarget.closest('.activityDescription');\n\t\t\tvar editElement = currentDiv.find('.edit');\n\t\t\tvar detailViewElement = currentDiv.find('.value');\n\n\t\t\tcurrentTarget.hide();\n\t\t\tdetailViewElement.addClass('d-none');\n\t\t\teditElement.removeClass('d-none').show();\n\n\t\t\tvar fieldnameElement = jQuery('.fieldname', editElement);\n\t\t\tvar fieldName = fieldnameElement.val();\n\t\t\tvar fieldElement = jQuery('[name=\"' + fieldName + '\"]', editElement);\n\n\t\t\tvar callbackFunction = function () {\n\t\t\t\tvar previousValue = fieldnameElement.data('prevValue');\n\t\t\t\tvar ajaxEditNewValue = fieldElement.val();\n\t\t\t\tvar ajaxEditNewLable = fieldElement.val();\n\t\t\t\tvar activityDiv = currentDiv.closest('.activityEntries');\n\t\t\t\tvar activityId = activityDiv.find('.activityId').val();\n\t\t\t\tvar moduleName = activityDiv.find('.activityModule').val();\n\t\t\t\tvar activityType = activityDiv.find('.activityType').val();\n\t\t\t\tif (previousValue == ajaxEditNewValue) {\n\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t} else {\n\t\t\t\t\tvar errorExists = fieldElement.validationEngine('validate');\n\t\t\t\t\t//If validation fails\n\t\t\t\t\tif (errorExists) {\n\t\t\t\t\t\tVtiger_Helper_Js.addClickOutSideEvent(currentDiv, callbackFunction);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentDiv.progressIndicator();\n\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\trecord: activityId,\n\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\tvalue: ajaxEditNewValue,\n\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\tactivitytype: activityType\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\t\tcurrentDiv.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t\t\tdetailViewElement.html(ajaxEditNewLable);\n\t\t\t\t\t\t\tfieldnameElement.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfieldElement.focus();\n\t\t\t//adding focusout event on the currentDiv - to save the ajax edit of description values\n\t\t\tcurrentDiv.one('focusout', callbackFunction);\n\t\t});\n\n\t\t/*\n\t\t * Register click event for add button in Related widgets\n\t\t * to add record from widget\n\t\t */\n\n\t\tjQuery('.changeDetailViewMode').on('click', function (e) {\n\t\t\tthisInstance.getTabs().filter('[data-link-key=\"' + thisInstance.detailViewDetailsTabLabel + '\"]:not(.d-none)').trigger('click');\n\t\t});\n\n\t\t/*\n\t\t * Register click event for add button in Related widgets\n\t\t * to add record from widget\n\t\t */\n\t\tjQuery('.createRecord').on('click', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tvar widgetHeaderContainer = summaryWidgetContainer.find('.js-detail-widget-header');\n\t\t\tvar referenceModuleName = widgetHeaderContainer.find('[name=\"relatedModule\"]').val();\n\t\t\tvar recordId = thisInstance.getRecordId();\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar customParams = {};\n\t\t\tcustomParams['sourceModule'] = module;\n\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\tif (module != '' && referenceModuleName != '' && typeof thisInstance.referenceFieldNames[referenceModuleName] !== \"undefined\" && typeof thisInstance.referenceFieldNames[referenceModuleName][module] !== \"undefined\") {\n\t\t\t\tvar fieldName = thisInstance.referenceFieldNames[referenceModuleName][module];\n\t\t\t\tcustomParams[fieldName] = recordId;\n\t\t\t}\n\n\t\t\tvar postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t}\n\n\t\t\tvar goToFullFormcallback = function (data) {\n\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t}\n\n\t\t\tvar QuickCreateParams = {};\n\t\t\tQuickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\tQuickCreateParams['goToFullFormcallback'] = goToFullFormcallback;\n\t\t\tQuickCreateParams['data'] = customParams;\n\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, QuickCreateParams);\n\t\t});\n\t\tthis.registerFastEditingFiels();\n\t},\n\taddRelationBetweenRecords: function (relatedModule, relatedModuleRecordId, selectedTabElement) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar thisInstance = this;\n\t\tif (selectedTabElement == undefined) {\n\t\t\tselectedTabElement = thisInstance.getSelectedTab();\n\t\t}\n\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), selectedTabElement, relatedModule);\n\t\trelatedController.addRelations(relatedModuleRecordId).done(function (data) {\n\t\t\tvar summaryViewContainer = thisInstance.getContentHolder();\n\t\t\tvar updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\");\n\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\tvar params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\tupdatesWidget.find('.btnChangesReviewedOn').parent().remove();\n\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t}\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (textStatus, errorThrown) {\n\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t}\n\t\t)\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to handle Post actions after adding record from\n\t * summary view widget\n\t */\n\tpostSummaryWidgetAddRecord: function (data, currentElement) {\n\t\tvar thisInstance = this;\n\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\tvar widgetHeaderContainer = summaryWidgetContainer.find('.js-detail-widget-header');\n\t\tvar referenceModuleName = widgetHeaderContainer.find('[name=\"relatedModule\"]').val();\n\t\tvar idList = [];\n\t\tidList.push(data.result._recordId);\n\t\tthis.addRelationBetweenRecords(referenceModuleName, idList).done(function (data) {\n\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('[class^=\"widgetContainer_\"]'));\n\t\t});\n\t},\n\tregisterChangeEventForModulesList: function () {\n\t\tjQuery('#tagSearchModulesList').on('change', function (e) {\n\t\t\tvar modulesSelectElement = jQuery(e.currentTarget);\n\t\t\tif (modulesSelectElement.val() == 'all') {\n\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t} else {\n\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\tvar selectedOptionValue = modulesSelectElement.val();\n\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').filter(':not(#' + selectedOptionValue + ')').addClass('d-none');\n\t\t\t}\n\t\t});\n\t},\n\tregisterEventForRelatedTabClick: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tvar detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\n\t\tjQuery('.related', detailContainer).on('click', 'li', function (e, urlAttributes) {\n\t\t\tvar tabElement = jQuery(e.currentTarget);\n\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\tvar element = jQuery('<div></div>');\n\t\t\t\telement.progressIndicator({\n\t\t\t\t\t'position': 'html',\n\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t'enabled': true,\n\t\t\t\t\t\t'elementToBlock': detailContainer\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar url = tabElement.data('url');\n\t\t\t\tif (typeof urlAttributes !== \"undefined\") {\n\t\t\t\t\tvar callBack = urlAttributes.callback;\n\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t}\n\t\t\t\tthisInstance.loadContents(url, urlAttributes).done(function (data) {\n\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\telement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\tthisInstance.registerHelpInfo();\n\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\tapp.registerMoreContent(detailContentsHolder.find('button.moreBtn'));\n\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t}\n\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\tapp.event.trigger(\"DetailView.Tab.AfterLoad\", data, thisInstance);\n\t\t\t\t}).fail(function () {\n\t\t\t\t\telement.progressIndicator({mode: 'hide'});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to register event for setting up picklistdependency\n\t * for a module if exist on change of picklist value\n\t */\n\tregisterEventForPicklistDependencySetup: function (container) {\n\t\tvar thisInstance = this;\n\t\tvar picklistDependcyElemnt = jQuery('[name=\"picklistDependency\"]', container);\n\t\tif (picklistDependcyElemnt.length <= 0) {\n\t\t\treturn;\n\t\t}\n\t\tvar picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());\n\t\tvar sourcePicklists = Object.keys(picklistDependencyMapping);\n\t\tif (sourcePicklists.length <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar sourcePickListNames = [];\n\t\tfor (var i = 0; i < sourcePicklists.length; i++) {\n\t\t\tsourcePickListNames.push('[name=\"' + sourcePicklists[i] + '\"]');\n\t\t}\n\t\tsourcePickListNames = sourcePickListNames.join(',');\n\t\tvar sourcePickListElements = container.find(sourcePickListNames);\n\t\tsourcePickListElements.on('change', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar sourcePicklistname = currentElement.attr('name');\n\n\t\t\tvar configuredDependencyObject = picklistDependencyMapping[sourcePicklistname];\n\t\t\tvar selectedValue = currentElement.val();\n\t\t\tvar targetObjectForSelectedSourceValue = configuredDependencyObject[selectedValue];\n\t\t\tvar picklistmap = configuredDependencyObject[\"__DEFAULT__\"];\n\n\t\t\tif (typeof targetObjectForSelectedSourceValue === \"undefined\") {\n\t\t\t\ttargetObjectForSelectedSourceValue = picklistmap;\n\t\t\t}\n\t\t\tjQuery.each(picklistmap, function (targetPickListName, targetPickListValues) {\n\t\t\t\tvar targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];\n\t\t\t\tif (typeof targetPickListMap === \"undefined\") {\n\t\t\t\t\ttargetPickListMap = targetPickListValues;\n\t\t\t\t}\n\t\t\t\tvar targetPickList = jQuery('[name=\"' + targetPickListName + '\"]', container);\n\t\t\t\tif (targetPickList.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//On change of SourceField value, If TargetField value is not there in mapping, make user to select the new target value also.\n\t\t\t\tvar selectedValue = targetPickList.data('selectedValue');\n\t\t\t\tif (jQuery.inArray(selectedValue, targetPickListMap) == -1) {\n\t\t\t\t\tthisInstance.targetPicklistChange = true;\n\t\t\t\t\tthisInstance.targetPicklist = targetPickList.closest('td');\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t}\n\n\t\t\t\tvar listOfAvailableOptions = targetPickList.data('availableOptions');\n\t\t\t\tif (typeof listOfAvailableOptions === \"undefined\") {\n\t\t\t\t\tlistOfAvailableOptions = jQuery('option', targetPickList);\n\t\t\t\t\ttargetPickList.data('available-options', listOfAvailableOptions);\n\t\t\t\t}\n\n\t\t\t\tvar targetOptions = new jQuery();\n\t\t\t\tvar optionSelector = [];\n\t\t\t\toptionSelector.push('');\n\t\t\t\tfor (var i = 0; i < targetPickListMap.length; i++) {\n\t\t\t\t\toptionSelector.push(targetPickListMap[i]);\n\t\t\t\t}\n\n\t\t\t\tjQuery.each(listOfAvailableOptions, function (i, e) {\n\t\t\t\t\tvar picklistValue = jQuery(e).val();\n\t\t\t\t\tif (jQuery.inArray(picklistValue, optionSelector) != -1) {\n\t\t\t\t\t\ttargetOptions = targetOptions.add(jQuery(e));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tvar targetPickListSelectedValue = '';\n\t\t\t\ttargetPickListSelectedValue = targetOptions.filter('[selected]').val();\n\t\t\t\tif (targetPickListMap.length == 1) {\n\t\t\t\t\ttargetPickListSelectedValue = targetPickListMap[0]; // to automatically select picklist if only one picklistmap is present.\n\t\t\t\t}\n\t\t\t\ttargetPickList.html(targetOptions).val(targetPickListSelectedValue).trigger('change');\n\t\t\t})\n\n\t\t});\n\t\t//To Trigger the change on load\n\t\tsourcePickListElements.trigger('change');\n\t},\n\t/**\n\t * Function to get child comments\n\t */\n\tgetChildComments: function (commentId) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar url = 'module=' + app.getModuleName() + '&view=Detail&record=' + this.getRecordId() + '&mode=showChildComments&commentid=' + commentId;\n\t\tvar dataObj = this.getCommentThread(url);\n\t\tdataObj.done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Function to show total records count in listview on hover\n\t * of pageNumber text\n\t */\n\tregisterEventForTotalRecordsCount: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = this.getContentHolder();\n\t\tdetailContentsHolder.on('click', '.totalNumberOfRecords', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\telement.addClass('d-none');\n\t\t\telement.parent().progressIndicator({});\n\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\tvar selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\tvar relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(thisInstance.getRecordId(), app.getModuleName(), selectedTabElement, relatedModuleName);\n\t\t\t\trelatedController.getRelatedPageCount().done(function () {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t}\n\t\t\telement.parent().progressIndicator({'mode': 'hide'});\n\t\t})\n\t},\n\tshowPagingInfo: function () {\n\t\tvar totalNumberOfRecords = jQuery('#totalCount').val();\n\t\tvar pageNumberElement = jQuery('.pageNumbersText');\n\t\tvar pageRange = pageNumberElement.text();\n\t\tvar newPagingInfo = pageRange + \" (\" + totalNumberOfRecords + \")\";\n\t\tvar listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\tif (listViewEntriesCount != 0) {\n\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t} else {\n\t\t\tjQuery('.pageNumbersText').html(\"\");\n\t\t}\n\t},\n\tgetCustomFieldNameValueMap: function (fieldNameValueMap) {\n\t\treturn fieldNameValueMap;\n\t},\n\tregisterSetReadRecord: function (detailContentsHolder) {\n\t\tvar thisInstance = this;\n\t\tdetailContentsHolder.on('click', '.setReadRecord', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tcurrentElement.closest('.btn-group').addClass('d-none');\n\t\t\tjQuery('#Accounts_detailView_fieldValue_was_read').find('.value').text(app.vtranslate('LBL_YES'));\n\t\t\tvar params = {\n\t\t\t\t'module': app.getModuleName(),\n\t\t\t\t'action': 'SaveAjax',\n\t\t\t\t'record': thisInstance.getRecordId(),\n\t\t\t\t'field': 'was_read',\n\t\t\t\t'value': 'on',\n\t\t\t}\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: app.vtranslate('JS_SET_READ_RECORD'),\n\t\t\t\t\ttitle: app.vtranslate('System'),\n\t\t\t\t\ttype: 'info',\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\tvar relatedTabKey = jQuery('.related li.active');\n\t\t\t\tif (relatedTabKey.data('linkKey') == thisInstance.detailViewSummaryTabLabel || relatedTabKey.data('linkKey') == thisInstance.detailViewDetailsTabLabel) {\n\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tregisterFastEditingFiels: function () {\n\t\tvar thisInstance = this;\n\t\tvar fastEditingFiels = jQuery('.summaryWidgetFastEditing select');\n\t\tfastEditingFiels.on('change', function (e) {\n\t\t\tvar fieldElement = jQuery(e.currentTarget);\n\t\t\tvar fieldContainer = fieldElement.closest('.editField');\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t'message': app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t'position': 'summaryWidgetFastEditing',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar fieldName = fieldContainer.data('fieldname');\n\t\t\tfieldName = fieldName.replace(\"q_\", \"\");\n\t\t\tvar prevValue = fieldContainer.data('prevvalue');\n\t\t\tvar fieldValue = fieldElement.val();\n\t\t\tvar errorExists = fieldElement.validationEngine('validate');\n\t\t\tif (errorExists) {\n\t\t\t\tfieldContainer.progressIndicator({'mode': 'hide'});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\tfieldElement.trigger(preFieldSaveEvent, {'fieldValue': fieldValue, 'recordId': thisInstance.getRecordId()});\n\t\t\tvar fieldNameValueMap = {};\n\t\t\tfieldNameValueMap[\"value\"] = fieldValue;\n\t\t\tfieldNameValueMap[\"field\"] = fieldName;\n\t\t\tfieldNameValueMap = thisInstance.getCustomFieldNameValueMap(fieldNameValueMap);\n\t\t\tthisInstance.saveFieldValues(fieldNameValueMap);\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tvar params = {\n\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\ttype: 'success',\n\t\t\t};\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\tthisInstance.reloadTabContent();\n\t\t});\n\t},\n\tregisterHelpInfo: function () {\n\t\tvar form = this.getForm();\n\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t},\n\tregisterRelatedModulesRecordCount: function (tabContainer) {\n\t\tvar thisInstance = this;\n\t\tvar counter = [];\n\t\tvar moreList = $('.related .nav .dropdown-menu');\n\t\tvar relationContainer = tabContainer;\n\t\tif (!relationContainer || (typeof relationContainer.length === \"undefined\")) {\n\t\t\trelationContainer = $('.related .nav > .relatedNav, .related .nav > .mainNav, .detailViewBlockLink, .related .nav .dropdown-menu > .relatedNav');\n\t\t}\n\t\trelationContainer.each(function (n, item) {\n\t\t\titem = $(item);\n\t\t\tif (item.data('count') == '1') {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\trelatedModule: item.data('reference'),\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\ttab_label: item.data('label-key'),\n\t\t\t\t}).done(function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tif (response.result.numberOfRecords === 0) {\n\t\t\t\t\t\t\tresponse.result.numberOfRecords = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\titem.find('.count').text(response.result.numberOfRecords);\n\t\t\t\t\t\tmoreList.find('[data-reference=\"' + item.data('reference') + '\"] .count').text(response.result.numberOfRecords);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Function to display a new comments\n\t */\n\taddComment: function (currentTarget, data) {\n\t\tvar thisInstance = this;\n\t\tvar mode = currentTarget.data('mode');\n\t\tvar closestAddCommentBlock = currentTarget.closest('.addCommentBlock');\n\t\tvar commentTextAreaElement = closestAddCommentBlock.find('.commentcontent');\n\t\tvar commentInfoBlock = currentTarget.closest('.singleComment');\n\t\tcommentTextAreaElement.val('');\n\t\tif (mode == \"add\") {\n\t\t\tvar commentId = data['result']['id'];\n\t\t\tvar commentHtml = thisInstance.getCommentUI(commentId);\n\t\t\tcommentHtml.done(function (data) {\n\t\t\t\tvar commentBlock = closestAddCommentBlock.closest('.commentDetails');\n\t\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\t\tvar noCommentsMsgContainer = jQuery('.noCommentsMsgContainer', detailContentsHolder);\n\t\t\t\tnoCommentsMsgContainer.remove();\n\t\t\t\tif (commentBlock.length > 0) {\n\t\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\t\tvar childComments = commentBlock.find('ul');\n\t\t\t\t\tif (childComments.length <= 0) {\n\t\t\t\t\t\tvar currentChildCommentsCount = commentInfoBlock.find('.viewThreadBlock').data('childCommentsCount');\n\t\t\t\t\t\tvar newChildCommentCount = currentChildCommentsCount + 1;\n\t\t\t\t\t\tcommentInfoBlock.find('.childCommentsCount').text(newChildCommentCount);\n\t\t\t\t\t\tvar parentCommentId = commentInfoBlock.find('.commentInfoHeader').data('commentid');\n\t\t\t\t\t\tthisInstance.getChildComments(parentCommentId).done(function (responsedata) {\n\t\t\t\t\t\t\tjQuery(responsedata).appendTo(commentBlock);\n\t\t\t\t\t\t\tcommentInfoBlock.find('.viewThreadBlock').hide();\n\t\t\t\t\t\t\tcommentInfoBlock.find('.hideThreadBlock').show();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tjQuery('<ul class=\"liStyleNone\"><li class=\"commentDetails\">' + data + '</li></ul>').appendTo(commentBlock);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('<ul class=\"liStyleNone\"><li class=\"commentDetails\">' + data + '</li></ul>').prependTo(closestAddCommentBlock.closest('.contents').find('.commentsList'));\n\t\t\t\t}\n\t\t\t\tcommentInfoBlock.find('.commentActionsContainer').show();\n\t\t\t\tapp.event.trigger(\"DetailView.SaveComment.AfterLoad\", commentInfoBlock, data);\n\t\t\t});\n\t\t} else if (mode == \"edit\") {\n\t\t\tvar modifiedTime = commentInfoBlock.find('.commentModifiedTime');\n\t\t\tvar commentInfoContent = commentInfoBlock.find('.commentInfoContent');\n\t\t\tvar commentEditStatus = commentInfoBlock.find('[name=\"editStatus\"]');\n\t\t\tvar commentReason = commentInfoBlock.find('[name=\"editReason\"]');\n\t\t\tcommentInfoContent.html(data.result.commentcontent);\n\t\t\tcommentReason.html(data.result.reasontoedit);\n\t\t\tmodifiedTime.text(data.result.modifiedtime);\n\t\t\tmodifiedTime.attr('title', data.result.modifiedtimetitle)\n\t\t\tif (commentEditStatus.hasClass('d-none')) {\n\t\t\t\tcommentEditStatus.removeClass('d-none');\n\t\t\t}\n\t\t\tif (data.result.reasontoedit != \"\") {\n\t\t\t\tcommentInfoBlock.find('.editReason').removeClass('d-none')\n\t\t\t}\n\t\t\tcommentInfoContent.show();\n\t\t\tcommentInfoBlock.find('.commentActionsContainer').show();\n\t\t\tclosestAddCommentBlock.remove();\n\t\t\tapp.event.trigger(\"DetailView.SaveComment.AfterUpdate\", commentInfoBlock, data);\n\t\t}\n\t},\n\tregisterCommentEvents: function (detailContentsHolder) {\n\t\tvar thisInstance = this;\n\t\tdetailContentsHolder.on('click', '.addCommentBtn', function (e) {\n\t\t\tthisInstance.removeCommentBlockIfExists();\n\t\t\tvar addCommentBlock = thisInstance.getCommentBlock();\n\t\t\taddCommentBlock.appendTo('.commentBlock');\n\t\t});\n\t\tdetailContentsHolder.on('click', '.closeCommentBlock', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar commentInfoBlock = currentTarget.closest('.singleComment');\n\t\t\tcommentInfoBlock.find('.commentActionsContainer').show();\n\t\t\tcommentInfoBlock.find('.commentInfoContent').show();\n\t\t\tthisInstance.removeCommentBlockIfExists();\n\t\t});\n\t\tdetailContentsHolder.on('click', '.replyComment', function (e) {\n\t\t\tthisInstance.removeCommentBlockIfExists();\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar commentInfoBlock = currentTarget.closest('.singleComment');\n\t\t\tvar addCommentBlock = thisInstance.getCommentBlock();\n\t\t\tcommentInfoBlock.find('.commentActionsContainer').hide();\n\t\t\taddCommentBlock.appendTo(commentInfoBlock).show();\n\t\t});\n\t\tdetailContentsHolder.on('click', '.editComment', function (e) {\n\t\t\tthisInstance.removeCommentBlockIfExists();\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar commentInfoBlock = currentTarget.closest('.singleComment');\n\t\t\tvar commentInfoContent = commentInfoBlock.find('.commentInfoContent');\n\t\t\tvar commentReason = commentInfoBlock.find('[name=\"editReason\"]');\n\t\t\tvar editCommentBlock = thisInstance.getEditCommentBlock();\n\t\t\teditCommentBlock.find('.commentcontent').val(commentInfoContent.text());\n\t\t\teditCommentBlock.find('[name=\"reasonToEdit\"]').val(commentReason.text());\n\t\t\tcommentInfoContent.hide();\n\t\t\tcommentInfoBlock.find('.commentActionsContainer').hide();\n\t\t\teditCommentBlock.appendTo(commentInfoBlock).show();\n\t\t});\n\t\tdetailContentsHolder.on('click', '.detailViewSaveComment', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tif (!element.is(\":disabled\")) {\n\t\t\t\tthisInstance.saveComment(e).done(function () {\n\t\t\t\t\tthisInstance.registerRelatedModulesRecordCount();\n\t\t\t\t\tvar commentsContainer = detailContentsHolder.find(\"[data-type='Comments']\");\n\t\t\t\t\tthisInstance.loadWidget(commentsContainer).done(function () {\n\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t});\n\t\t\t\t}).fail(function (error, err) {\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tdetailContentsHolder.on('click', '.saveComment', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tif (!element.is(\":disabled\")) {\n\t\t\t\tthisInstance.saveComment(e).done(function (data) {\n\t\t\t\t\tvar recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\t\t\tthisInstance.registerRelatedModulesRecordCount(recentCommentsTab);\n\t\t\t\t\tthisInstance.addComment(element, data);\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t}).fail(function (error, err) {\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentComments', function () {\n\t\t\tvar recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\trecentCommentsTab.trigger('click');\n\t\t});\n\t\tdetailContentsHolder.find('.commentsHierarchy').on('change', function (e) {\n\t\t\tvar recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\tvar url = recentCommentsTab.data('url');\n\t\t\tvar regex = /&hierarchy=+([\\w,]+)/;\n\t\t\turl = url.replace(regex, \"\");\n\t\t\tif ($(this).val()) {\n\t\t\t\turl += '&hierarchy=' + $(this).val();\n\t\t\t}\n\t\t\trecentCommentsTab.data('url', url);\n\t\t\trecentCommentsTab.trigger('click');\n\t\t});\n\t\tdetailContentsHolder.find('.commentSearch').on('keyup', function (e) {\n\t\t\tvar text = $(this).val();\n\t\t\tif (text) {\n\t\t\t\tdetailContentsHolder.find('.commentDetails').addClass('d-none');\n\t\t\t\tvar contains = detailContentsHolder.find(\".js-comment-search__value:contains(\" + text + \")\");\n\t\t\t\tcontains.each(function (e) {\n\t\t\t\t\t$(this).closest('.commentDetails').removeClass('d-none');\n\t\t\t\t});\n\t\t\t\tif (contains.length == 0) {\n\t\t\t\t\tdetailContentsHolder.find('.noCommentsMsgContainer').removeClass('d-none');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdetailContentsHolder.find('.commentDetails').removeClass('d-none');\n\t\t\t\tdetailContentsHolder.find('.noCommentsMsgContainer').addClass('d-none');\n\t\t\t}\n\t\t});\n\t},\n\tregisterCommentEventsInDetail: function (widgetContainer) {\n\t\tvar thisInstance = this;\n\t\twidgetContainer.find('.hierarchyComments').on('change', function (e) {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\tmode: 'showRecentComments',\n\t\t\t\thierarchy: $(this).val(),\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar widgetDataContainer = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetDataContainer.find('.select2'));\n\t\t\t});\n\t\t});\n\t},\n\tregisterMailPreviewWidget: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.on('click', '.showMailBody', function (e) {\n\t\t\tvar row = $(e.currentTarget).closest('.row');\n\t\t\tvar mailBody = row.find('.mailBody');\n\t\t\tvar mailTeaser = row.find('.mailTeaser');\n\t\t\tvar faCaretIcon = $(e.currentTarget).find('[data-fa-i2svg]');\n\t\t\tif (mailBody.hasClass('d-none')) {\n\t\t\t\tmailBody.removeClass('d-none');\n\t\t\t\tmailTeaser.addClass('d-none');\n\t\t\t\tfaCaretIcon.removeClass(\"fa-caret-down\").addClass(\"fa-caret-up\");\n\t\t\t} else {\n\t\t\t\tmailBody.addClass('d-none');\n\t\t\t\tmailTeaser.removeClass('d-none');\n\t\t\t\tfaCaretIcon.removeClass(\"fa-caret-up\").addClass(\"fa-caret-down\");\n\t\t\t}\n\t\t});\n\t\tcontainer.find('[name=\"mail-type\"]').on('change', function (e) {\n\t\t\tthisInstance.loadMailPreviewWidget(container);\n\t\t});\n\t\tcontainer.find('[name=\"mailFilter\"]').on('change', function (e) {\n\t\t\tthisInstance.loadMailPreviewWidget(container);\n\t\t});\n\t\tcontainer.on('click', '.showMailsModal', function (e) {\n\t\t\tvar url = $(e.currentTarget).data('url');\n\t\t\turl += '&type=' + container.find('[name=\"mail-type\"]').val();\n\t\t\tif (container.find('[name=\"mailFilter\"]').length > 0) {\n\t\t\t\turl += '&mailFilter=' + container.find('[name=\"mailFilter\"]').val();\n\t\t\t}\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator();\n\t\t\tapp.showModalWindow(\"\", url, function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tthisInstance.registerMailPreviewWidget(data);\n\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\tdata.find('.expandAllMails').click();\n\t\t\t});\n\t\t});\n\t\tcontainer.find('.expandAllMails').on('click', function (e) {\n\t\t\tcontainer.find('.mailBody').removeClass('d-none');\n\t\t\tcontainer.find('.mailTeaser').addClass('d-none');\n\t\t\tcontainer.find('.showMailBody [data-fa-i2svg]').removeClass(\"fa-caret-down\").addClass(\"fa-caret-up\");\n\t\t});\n\t\tcontainer.find('.collapseAllMails').on('click', function (e) {\n\t\t\tcontainer.find('.mailBody').addClass('d-none');\n\t\t\tcontainer.find('.mailTeaser').removeClass('d-none');\n\t\t\tcontainer.find('.showMailBody [data-fa-i2svg]').removeClass(\"fa-caret-up\").addClass(\"fa-caret-down\");\n\t\t});\n\t},\n\tloadMailPreviewWidget: function (widgetContent) {\n\t\tvar thisInstance = this;\n\t\tvar widgetDataContainer = widgetContent.find('.js-detail-widget-content');\n\t\tvar recordId = $('#recordId').val();\n\t\tvar progress = widgetDataContainer.progressIndicator();\n\t\tvar params = {};\n\t\tparams['module'] = 'OSSMailView';\n\t\tparams['view'] = 'Widget';\n\t\tparams['smodule'] = $('#module').val();\n\t\tparams['srecord'] = recordId;\n\t\tparams['mode'] = 'showEmailsList';\n\t\tparams['type'] = $('[name=\"mail-type\"]').val();\n\t\tparams['mailFilter'] = $('[name=\"mailFilter\"]').val();\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\twidgetDataContainer.html(data);\n\t\t\tapp.event.trigger(\"DetailView.Widget.AfterLoad\", widgetDataContainer, 'Emails', thisInstance);\n\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\tregisterEmailEvents: function (detailContentsHolder) {\n\t\tVtiger_Index_Js.registerMailButtons(detailContentsHolder);\n\t},\n\tregisterMapsEvents: function (container) {\n\t\tvar coordinates = container.find('#coordinates').val();\n\t\tif (container.find('#coordinates').length) {\n\t\t\tvar mapView = new OpenStreetMap_Map_Js();\n\t\t\tmapView.registerDetailView(container);\n\t\t}\n\t},\n\tregisterSocialMediaEvents(container) {\n\t\tlet socialMediaContainer = container.find('.tpl-Detail-SocialMedia');\n\t\tif (socialMediaContainer.length) {\n\t\t}\n\t},\n\tregisterShowSummary: function (container) {\n\t\tcontainer.on('click', '.showSummaryRelRecord', function (e) {\n\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\tvar id = currentTarget.data('id');\n\t\t\tvar summaryView = container.find('.summaryRelRecordView' + id);\n\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'none');\n\t\t\tsummaryView.show();\n\t\t});\n\t\tcontainer.on('click', '.hideSummaryRelRecordView', function (e) {\n\t\t\tvar summaryView = container.find(\".summaryRelRecordView\");\n\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'table');\n\t\t\tsummaryView.hide();\n\t\t});\n\t},\n\tregisterBasicEvents: function () {\n\t\tvar thisInstance = this;\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tvar selectedTabElement = thisInstance.getSelectedTab();\n\t\t//register all the events for summary view container\n\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\tthisInstance.registerCommentEvents(detailContentsHolder);\n\t\tthisInstance.registerEmailEvents(detailContentsHolder);\n\t\tthisInstance.registerMapsEvents(detailContentsHolder);\n\t\tthisInstance.registerSocialMediaEvents(detailContentsHolder);\n\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\tApp.Fields.DateTime.register(detailContentsHolder);\n\t\tApp.Fields.MultiImage.register(detailContentsHolder);\n\t\t//Attach time picker event to time fields\n\t\tapp.registerEventForClockPicker();\n\t\tApp.Fields.Picklist.showSelect2ElementView(detailContentsHolder.find('select.select2'));\n\t\tdetailContentsHolder.on('click', '#detailViewNextRecordButton', function (e) {\n\t\t\tvar url = selectedTabElement.data('url');\n\t\t\tvar currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\tvar requestedPage = parseInt(currentPageNum) + 1;\n\t\t\tvar nextPageUrl = url + '&page=' + requestedPage;\n\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t});\n\t\tdetailContentsHolder.on('click', '#detailViewPreviousRecordButton', function (e) {\n\t\t\tvar url = selectedTabElement.data('url');\n\t\t\tvar currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\tvar requestedPage = parseInt(currentPageNum) - 1;\n\t\t\tvar params = {};\n\t\t\tvar nextPageUrl = url + '&page=' + requestedPage;\n\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t});\n\t\tdetailContentsHolder.on('click', 'div.detailViewTable div.fieldValue', function (e) {\n\t\t\tif (jQuery(e.target).closest('a').hasClass('btnNoFastEdit'))\n\t\t\t\treturn;\n\t\t\tvar currentTdElement = jQuery(e.currentTarget);\n\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t});\n\t\tdetailContentsHolder.on('click', 'div.recordDetails span.squeezedWell', function (e) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tvar relatedLabel = currentElement.data('reference');\n\t\t\tjQuery('.detailViewInfo .related .nav > li[data-reference=\"' + relatedLabel + '\"]').trigger(\"click\");\n\t\t});\n\t\tdetailContentsHolder.on('click', '.relatedPopup', function (e) {\n\t\t\tvar editViewObj = new Vtiger_Edit_Js();\n\t\t\teditViewObj.showRecordsList(e);\n\t\t\treturn false;\n\t\t});\n\t\tdetailContentsHolder.on('click', '.viewThread', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar currentTargetParent = currentTarget.parent();\n\t\t\tvar commentActionsBlock = currentTarget.closest('.commentActions');\n\t\t\tvar currentCommentBlock = currentTarget.closest('.commentDetails');\n\t\t\tvar ulElements = currentCommentBlock.find('ul');\n\t\t\tif (ulElements.length > 0) {\n\t\t\t\tulElements.show();\n\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar commentId = currentTarget.closest('.commentDiv').find('.commentInfoHeader').data('commentid');\n\t\t\tthisInstance.getChildComments(commentId).done(function (data) {\n\t\t\t\tjQuery(data).appendTo(jQuery(e.currentTarget).closest('.commentDetails'));\n\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.hideThread', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar currentTargetParent = currentTarget.parent();\n\t\t\tvar commentActionsBlock = currentTarget.closest('.commentActions');\n\t\t\tvar currentCommentBlock = currentTarget.closest('.commentDetails');\n\t\t\tcurrentCommentBlock.find('ul').hide();\n\t\t\tcurrentTargetParent.hide();\n\t\t\tcommentActionsBlock.find('.viewThreadBlock').show();\n\t\t});\n\t\tdetailContentsHolder.on('click', '.detailViewThread', function (e) {\n\t\t\tvar recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\tvar commentId = jQuery(e.currentTarget).closest('.singleComment').find('.commentInfoHeader').data('commentid');\n\t\t\tvar commentLoad = function (data) {\n\t\t\t\twindow.location.href = window.location.href + '#' + commentId;\n\t\t\t}\n\t\t\trecentCommentsTab.trigger('click', {'commentid': commentId, 'callback': commentLoad});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentRecords', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar recentCommentsTab = thisInstance.getTabByModule($(this).data('label-key'));\n\t\t\trecentCommentsTab.trigger('click');\n\t\t});\n\t\tdetailContentsHolder.on('change', '.relatedHistoryTypes', function (e) {\n\t\t\tvar widgetContent = jQuery(this).closest('.widgetContentBlock').find('.widgetContent');\n\t\t\tvar types = jQuery(e.currentTarget).val();\n\t\t\tvar pageLimit = widgetContent.find(\"#relatedHistoryPageLimit\").val();\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\t'enabled': true,\n\t\t\t\t\t'elementToBlock': widgetContent\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\tpage: 1,\n\t\t\t\tlimit: pageLimit,\n\t\t\t\ttype: types,\n\t\t\t}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\twidgetContent.find(\"#relatedHistoryCurrentPage\").remove();\n\t\t\t\twidgetContent.find(\"#moreRelatedUpdates\").remove();\n\t\t\t\twidgetContent.html(data);\n\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreProductsService', function () {\n\t\t\tjQuery('.related .mainNav[data-reference=\"ProductsAndServices\"]:not(.d-none)').trigger('click');\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRelatedUpdates', function () {\n\t\t\tvar widgetContainer = jQuery(this).closest('.widgetContentBlock');\n\t\t\tvar widgetContent = widgetContainer.find('.widgetContent');\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\t'enabled': true,\n\t\t\t\t\t'elementToBlock': widgetContent\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar currentPage = widgetContent.find(\"#relatedHistoryCurrentPage\").val();\n\t\t\tvar nextPage = parseInt(currentPage) + 1;\n\t\t\tvar types = widgetContainer.find(\".relatedHistoryTypes\").val();\n\t\t\tvar pageLimit = widgetContent.find(\"#relatedHistoryPageLimit\").val();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: app.getRecordId(),\n\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\tpage: nextPage,\n\t\t\t\tlimit: pageLimit,\n\t\t\t\ttype: types,\n\t\t\t}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\twidgetContent.find(\"#relatedHistoryCurrentPage\").remove();\n\t\t\t\twidgetContent.find(\"#moreRelatedUpdates\").remove();\n\t\t\t\twidgetContent.find('#relatedUpdates').append(data);\n\t\t\t});\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentUpdates', function (e) {\n\t\t\tvar container = $(e.currentTarget).closest('.recentActivitiesContainer');\n\t\t\tvar newChangeInput = container.find('#newChange');\n\t\t\tvar newChange = newChangeInput.val();\n\t\t\tvar currentPage = container.find('#updatesCurrentPage').val();\n\t\t\tvar nextPage = parseInt(currentPage) + 1;\n\t\t\tif (container.closest('.js-detail-widget').length) {\n\t\t\t\tvar data = thisInstance.getFiltersData(e, {\n\t\t\t\t\t'page': nextPage,\n\t\t\t\t\t'tab_label': 'LBL_UPDATES',\n\t\t\t\t\t'newChange': newChange\n\t\t\t\t}, container.find('#updates'));\n\t\t\t\tvar url = data['params'];\n\t\t\t} else {\n\t\t\t\tvar url = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).data('url');\n\t\t\t\turl = url.replace('&page=1', '&page=' + nextPage) + '&skipHeader=true&newChange=' + newChange;\n\t\t\t\tif (url.indexOf('&whereCondition') == -1) {\n\t\t\t\t\tvar switchBtn = jQuery('.active .js-switch--recentActivities');\n\t\t\t\t\turl += '&whereCondition=' + (typeof switchBtn.data('on-val') === \"undefined\" ? switchBtn.data('off-val') : switchBtn.data('on-val'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tvar dataContainer = jQuery(data);\n\t\t\t\t\tcontainer.find('#newChange').val(dataContainer.find('#newChange').val());\n\t\t\t\t\tcontainer.find('#updatesCurrentPage').val(dataContainer.find('#updatesCurrentPage').val());\n\t\t\t\t\tcontainer.find('.js-more-link').html(dataContainer.find('.js-more-link').html());\n\t\t\t\t\tcontainer.find('#updates ul').append(dataContainer.find('#updates ul').html());\n\t\t\t\t\tapp.registerMoreContent(container.find('button.moreBtn'));\n\t\t\t\t\tapp.event.trigger(\"DetailView.UpdatesWidget.AddMore\", data, thisInstance);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\tdetailContentsHolder.on('click', '.btnChangesReviewedOn', function (e) {\n\t\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar url = 'index.php?module=ModTracker&action=ChangesReviewedOn&record=' + app.getRecordId();\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tprogressInstance.progressIndicator({mode: 'hide'});\n\t\t\t\t\tjQuery(e.currentTarget).parent().remove();\n\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).find('.count.badge').text('');\n\t\t\t\t\tif (selectedTabElement.data('labelKey') == thisInstance.detailViewRecentUpdatesTabLabel) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tvar updatesWidget = detailContentsHolder.find(\"[data-type='Updates']\");\n\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\tvar params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentDocuments', function () {\n\t\t\tvar recentDocumentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentDocumentsTabLabel);\n\t\t\trecentDocumentsTab.trigger('click');\n\t\t});\n\t\tdetailContentsHolder.on('click', '.moreRecentActivities', function (e) {\n\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\tvar container = currentTarget.closest('.activityWidgetContainer');\n\t\t\tvar page = container.find('.currentPage').val();\n\t\t\tpage++;\n\t\t\tvar url = container.find('.widgetContentBlock').data('url');\n\t\t\turl = url.replace('&page=1', '&page=' + page);\n\t\t\turl += '&totalCount=' + container.find('.totaltActivities').val();\n\t\t\tAppConnector.request(url).done(function (data) {\n\t\t\t\t\tcurrentTarget.prop('disabled', false);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tvar currentPage = container.find('.currentPage').val();\n\t\t\t\t\tcontainer.find('.currentPage').remove();\n\t\t\t\t\tcontainer.find('.countActivities').remove();\n\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(data);\n\t\t\t\t\tcontainer.find('.countActivities').val(parseInt(container.find('.countActivities').val()) + currentPage * parseInt(container.find('.pageLimit').val()));\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(container);\n\t\t\t\t\tapp.showPopoverElementView(container.find('.js-popover-tooltip'));\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\tdetailContentsHolder.on('click', '.widgetFullscreen', function (e) {\n\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\tvar widgetContentBlock = currentTarget.closest('.widgetContentBlock');\n\t\t\tvar url = widgetContentBlock.data('url');\n\t\t\turl = url.replace('&view=Detail&', '&view=WidgetFullscreen&');\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.showModalWindow(null, \"index.php?\" + url, function (modal) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t});\n\t\t});\n\t\tthisInstance.registerEventForRelatedList();\n\t\tthisInstance.registerBlockAnimationEvent();\n\t\tthisInstance.registerMailPreviewWidget(detailContentsHolder.find('.widgetContentBlock[data-type=\"EmailList\"]'));\n\t\tthisInstance.registerMailPreviewWidget(detailContentsHolder.find('.widgetContentBlock[data-type=\"HistoryRelation\"]'));\n\t\tdetailContentsHolder.find('.js-switch--recentActivities').off().on('change', function (e) {\n\t\t\tconst currentTarget = jQuery(e.currentTarget),\n\t\t\t\ttabElement = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel),\n\t\t\t\tvariableName = currentTarget.data('urlparams'),\n\t\t\t\tvalueOn = $(this).data('on-val'),\n\t\t\t\tvalueOff = $(this).data('off-val');\n\t\t\tlet url = tabElement.data('url');\n\t\t\turl = url.replace('&' + variableName + '=' + valueOn, '').replace('&' + variableName + '=' + valueOff, '');\n\t\t\tif (typeof currentTarget.data('on-val') !== \"undefined\") {\n\t\t\t\turl += '&' + variableName + '=' + valueOn;\n\t\t\t} else if (typeof currentTarget.data('off-val') !== \"undefined\") {\n\t\t\t\turl += '&' + variableName + '=' + valueOff;\n\t\t\t}\n\t\t\ttabElement.data('url', url);\n\t\t\ttabElement.trigger('click');\n\t\t});\n\t},\n\treloadWidgetActivitesStats: function (container) {\n\t\tvar countElement = container.find('.countActivities');\n\t\tvar totalElement = container.find('.totaltActivities');\n\t\tif (!countElement.length || !totalElement.length) {\n\t\t\treturn false;\n\t\t}\n\t\tvar stats = ' (' + countElement.val() + '/' + totalElement.val() + ')';\n\t\tvar switchBtn = container.find('.active .js-switch');\n\t\tvar switchBtnParent = switchBtn.parent();\n\t\tvar text = switchBtn.data('basic-text') + stats;\n\t\tswitchBtnParent.removeTextNode();\n\t\tswitchBtnParent.append(text);\n\t},\n\trefreshCommentContainer: function (commentId) {\n\t\tvar thisInstance = this;\n\t\tvar commentContainer = $('.commentsBody');\n\t\tvar params = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tview: 'Detail',\n\t\t\trecord: thisInstance.getRecordId(),\n\t\t\tmode: 'showThreadComments',\n\t\t\tcommentid: commentId\n\t\t}\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true,\n\t\t\t\t'elementToBlock': commentContainer\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tcommentContainer.html(data);\n\t\t});\n\t},\n\tupdateRecordsPDFTemplateBtn: function (form) {\n\t\tvar params = {};\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\taction: 'PDF',\n\t\t\tmode: 'hasValidTemplate',\n\t\t\trecord: app.getRecordId(),\n\t\t\tview: app.getViewName()\n\t\t};\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar btnToolbar = jQuery('.detailViewToolbar .btn-toolbar');\n\t\t\tif (response.valid == false) {\n\t\t\t\tvar btn = btnToolbar.find('.btn-group:eq(1) [href*=\"showPdfModal\"]');\n\t\t\t\tif (btn.length) {\n\t\t\t\t\tbtn.remove();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar btnGroup = btnToolbar.find('.btn-group:eq(1)');\n\t\t\t\tvar btn = btnToolbar.find('.btn-group:eq(1) [href*=\"showPdfModal\"]');\n\t\t\t\tif (btn.length == 0) {\n\t\t\t\t\tbtnGroup.append('<a class=\"btn btn-default js-popover-tooltip\" href=\\'javascript:Vtiger_Header_Js.getInstance().showPdfModal(\"index.php?module=' + app.getModuleName() + '&view=PDF&fromview=Detail&record=' + app.getRecordId() + '\");\\' data-content=\"' + app.vtranslate('LBL_EXPORT_PDF') + '\" data-original-title=\"\" title=\"\"><span class=\"fas fa-file-excel icon-in-button\"></span></a>');\n\t\t\t\t}\n\t\t\t}\n\t\t}).fail(function (data, err) {\n\t\t\tapp.errorLog(data, err);\n\t\t});\n\t},\n\tupdateWindowHeight: function (currentHeight, frame) {\n\t\tframe.height(currentHeight);\n\t},\n\n\tregisterEvents: function () {\n\t\t//this.triggerDisplayTypeEvent();\n\t\tthis.registerHelpInfo();\n\t\tthis.registerSendSmsSubmitEvent();\n\t\tthis.registerAjaxEditEvent();\n\t\tthis.registerRelatedRowClickEvent();\n\t\tthis.registerBlockStatusCheckOnLoad();\n\t\tthis.registerEmailFieldClickEvent();\n\t\tthis.registerPhoneFieldClickEvent();\n\t\tthis.registerEventForRelatedTabClick();\n\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\tthis.registerUrlFieldClickEvent();\n\t\tvar detailViewContainer = jQuery('div.detailViewContainer');\n\t\tif (detailViewContainer.length <= 0) {\n\t\t\t// Not detail view page\n\t\t\treturn;\n\t\t}\n\t\tthis.registerSetReadRecord(detailViewContainer);\n\t\tthis.registerEventForPicklistDependencySetup(this.getForm());\n\t\tthis.getForm().validationEngine(app.validationEngineOptionsForRecord);\n\t\tthis.loadWidgetsEvents();\n\t\tthis.loadWidgets();\n\t\tthis.registerBasicEvents();\n\t\tthis.registerEventForTotalRecordsCount();\n\t}\n});\n"],"names":["jQuery","Class","detailInstance","getInstance","app","getModuleName","view","getViewName","moduleClassName","module","fallbackClassName","Vtiger_Detail_Js","instance","triggerDetailViewAction","detailActionUrl","callBackFunction","selectedIds","push","getRecordId","JSON","stringify","AppConnector","request","postData","done","data","showModalWindow","fail","triggerSendSms","triggerTransferOwnership","massActionUrl","thisInstance","getRelatedModulesContainer","validationEngineOptions","params","onValidationComplete","form","valid","attr","transferOwnershipSave","validationEngine","getRelatedModuleContainer","App","Fields","Picklist","changeSelectElementView","selectElement","callback","transferOwner","val","relatedModules","recordId","success","hideModalWindow","title","vtranslate","text","type","oldvalue","element","find","removeAttr","trigger","closest","html","Fieldname","Vtiger_Helper_Js","showPnotify","reloadRelatedList","length","page","loadRelatedList","showWorkflowTriggerView","$","popover","record","on","each","ids","action","mode","user","loadWidgets","targetPicklistChange","targetPicklist","detailViewContentHolder","detailViewForm","detailViewDetailsTabLabel","detailViewSummaryTabLabel","detailViewRecentCommentsTabLabel","detailViewRecentActivitiesTabLabel","detailViewRecentUpdatesTabLabel","detailViewRecentDocumentsTabLabel","fieldUpdatedEvent","updatedFields","fieldPreSave","tempData","referenceFieldNames","init","loadWidgetsEvents","event","e","widgetContent","relatedModuleName","reloadWidgetActivitesStats","registerCommentEventsInDetail","registerShowSummary","Vtiger_Index_Js","registerMailButtons","progressIndicator","currentTarget","progressIndicatorElement","registerEmailEvents","registerBlockStatusCheckOnLoad","widgetList","index","widgetContainerELement","loadWidget","widgetContainer","registerRelatedModulesRecordCount","contentContainer","urlParams","split","keyValueMap","queryParameters","queryParamComponents","queryParam","Deferred","async","dataType","showSelect2ElementView","showPopoverElementView","registerModal","registerMoreContent","Vtiger_RelatedList_Js","getSelectedTab","relatedController","setRelatedContainer","registerRelatedEvents","widgetRelatedRecordView","aDeferred","resolve","reject","promise","container","load","relatedRecordCacheID","moduleCacheGet","cacheKey","newActive","removeClass","addClass","prev","controlBox","next","active","hasClass","nextElement","moduleCacheSet","prevElement","loadCommentsWidget","loadContents","url","detailContentsHolder","getContentHolder","requestPjax","responseData","Date","register","getForm","getUpdatefFieldsArray","getTabByLabel","tabLabel","getTabs","targetTab","labelKey","tab","getTabByModule","moduleName","selectModuleTab","getTabContainer","moduleTab","relatedTabContainer","deSelectAllrelatedTabs","markTabAsSelected","tabElement","reloadTabContent","dropdownMenuTabs","iteration","className","filter","topTabs","get","getRelatedModuleName","saveFieldValues","fieldDetailList","reponseData","getRelatedListCurrentPageNum","removeCommentBlockIfExists","Commentswidget","remove","getCommentThread","saveCommentAjax","commentMode","commentContentValue","editCommentReason","commentId","parentCommentId","commentInfoBlock","relatedTo","addRelationBetweenRecords","result","id","textStatus","errorThrown","saveComment","closestCommentBlock","commentContent","errorMsg","commentInfoHeader","getCommentUI","getCommentBlock","clonedCommentBlock","clone","getEditCommentBlock","registerSendSmsSubmitEvent","smsTextLength","submitButton","SendSmsSave","preventDefault","SendSmsUrl","serializeFormData","progressInstance","registerNameAjaxEditEvent","nameFields","recordLabel","nameFieldName","recordLabelElement","updateHeaderNameFields","nameField","salutatioField","salutatioValue","registerAjaxEditEvent","updateHeaderValues","currentElement","inArray","name","registerEmailFieldClickEvent","stopPropagation","registerPhoneFieldClickEvent","registerUrlFieldClickEvent","registerRelatedRowClickEvent","target","targetElement","is","children","recordUrl","elem","window","location","href","registerEventForRelatedList","n","block","blockContent","response","parents","isEmpty","registerPostLoadEvents","registerBlockAnimationEvent","not","blockId","closestBlock","bodyContents","cacheSet","blocks","dynamicAttr","currentBlock","headerAnimationElement","value","cacheGet","ajaxEditHandling","currentTdElement","readRecord","prop","editElement","actionElement","fieldElement","elementTarget","elementName","fieldName","inputmask","detailViewValue","focus","v","formElement","formData","ajaxEditNewValue","fieldValue","fieldInfo","Vtiger_Field_Js","dateTimeField","dateTime","field","toStr","previousValue","off","Event","preFieldSaveEvent","isDefaultPrevented","fieldNameValueMap","getCustomFieldNameValueMap","displayValue","postSaveRecordDetails","display_value","reload","selectedTabElement","registerSummaryViewContainerEvents","registerEventForPicklistDependencySetup","updateRecordsPDFTemplateBtn","saveHandler","triggerDisplayTypeEvent","widthType","elements","addElementsToQuickCreateForCreatingRelation","customParams","appendTo","registerEventForActivityWidget","relField","QuickCreateParams","eventsGoToFullFormButton","taskFullFormUrl","taskGoToFullFormButton","fullFormUrl","eventsFullFormUrl","widgetContentBlock","activitiesWidget","Object","assign","Vtiger_Header_Js","quickCreateModule","getEndDate","startDate","date","dateTab","newDate","setDate","getDate","getStringDate","getSingleEventType","modDay","dateStartEl","dateStartVal","dateStartFormat","validDateFromat","convertToDateString","map","extend","start","end","mapping","events","isEmptyObject","ev","indexOf","testDate","append","i","registerFilterForAddingModuleRelatedRecordFromSummaryWidget","summaryWidgetContainer","widgetDataContainer","referenceModuleName","quickcreateUrl","parentId","quickCreateParams","relatedField","autoCompleteFields","relatedParams","keys","postSummaryWidgetAddRecord","loadModuleSummary","headerInstance","parent","getQuickCreateForm","handleQuickCreateData","progress","restrictionsField","src_module","src_record","multi_select","key","showRecordsList","modal","setSelectEvent","registerAddingInventoryRecords","createUrl","addidtionalParams","concat","registerEmailEvent","showConfirmationBox","d","showMessage","getFiltersDataAndLoad","getFiltersData","widget","parts","replace","m","urlNewParams","item","fieldlable","selectedFilter","registerChangeFilterForWidget","registerChangeSwitchForWidget","summaryViewContainer","updatesWidget","currentDiv","detailViewElement","hide","show","fieldnameElement","callbackFunction","ajaxEditNewLable","activityDiv","activityId","activityType","errorExists","addClickOutSideEvent","activitytype","one","widgetHeaderContainer","registerFastEditingFiels","relatedModule","relatedModuleRecordId","addRelations","idList","_recordId","registerChangeEventForModulesList","modulesSelectElement","selectedOptionValue","registerEventForRelatedTabClick","detailContainer","urlAttributes","showHorizontalTopScrollBar","registerHelpInfo","callBack","registerBasicEvents","notifyPostAjaxReady","picklistDependcyElemnt","parse","sourcePicklists","picklistDependencyMapping","sourcePickListNames","join","sourcePickListElements","sourcePicklistname","configuredDependencyObject","selectedValue","targetObjectForSelectedSourceValue","picklistmap","targetPickListName","targetPickListValues","targetPickListMap","targetPickList","listOfAvailableOptions","optionSelector","picklistValue","targetOptions","add","targetPickListSelectedValue","getChildComments","dataObj","registerEventForTotalRecordsCount","totalNumberOfRecords","getRelatedPageCount","showPagingInfo","pageNumberElement","pageRange","listViewEntriesCount","parseInt","registerSetReadRecord","relatedTabKey","fastEditingFiels","fieldContainer","tabContainer","moreList","relationContainer","tab_label","numberOfRecords","addComment","closestAddCommentBlock","commentTextAreaElement","commentHtml","noCommentsMsgContainer","commentBlock","currentChildCommentsCount","responsedata","prependTo","commentInfoContent","commentEditStatus","commentReason","commentcontent","reasontoedit","modifiedTime","modifiedtime","modifiedtimetitle","registerCommentEvents","addCommentBlock","editCommentBlock","commentsContainer","error","err","errorLog","recentCommentsTab","regex","contains","hierarchy","registerMailPreviewWidget","mailBody","row","mailTeaser","faCaretIcon","loadMailPreviewWidget","click","registerMapsEvents","mapView","registerDetailView","registerSocialMediaEvents","socialMediaContainer","summaryView","css","DateTime","MultiImage","registerEventForClockPicker","currentPageNum","requestedPage","relatedLabel","currentTargetParent","commentActionsBlock","currentCommentBlock","ulElements","types","pageLimit","position","blockInfo","limit","currentPage","nextPage","newChangeInput","newChange","switchBtn","dataContainer","recentDocumentsTab","enabled","variableName","valueOn","valueOff","totalElement","countElement","switchBtnParent","stats","removeTextNode","refreshCommentContainer","commentContainer","commentid","btnToolbar","btn","btnGroup","updateWindowHeight","currentHeight","frame","height","registerEvents","detailViewContainer","validationEngineOptionsForRecord"],"mappings":"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"}