{"version":3,"file":"ChangeRelationData.min.js","sources":["ChangeRelationData.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n$.Class(\n\t'Base_ChangeRelationData_JS',\n\t{},\n\t{\n\t\tregisterEvents(container) {\n\t\t\tcontainer.find('.js-modal__save').on('click', e => {\n\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet params = container.find('form').serializeFormData();\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\t\t\t\t\t\tselectedTabElement = detailInstance.getSelectedTab();\n\t\t\t\t\t\t\tif (selectedTabElement) {\n\t\t\t\t\t\t\t\tselectedTabElement.trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(textStatus, errorThrown) {});\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","find","on","progress","progressIndicator","params","serializeFormData","request","done","data","hideModalWindow","result","app","vtranslate","detailInstance","Vtiger_Detail_Js","getInstance","selectedTabElement","getSelectedTab","trigger","showPnotify","fail","textStatus","errorThrown"],"mappings":";;AAAA;AACA;AACAA,EAAEC,KAAF,CACC,4BADD,EAEC,EAFD,EAGC;eAAA,0BACgBC,SADhB,EAC2B;YACfC,IAAV,CAAe,iBAAf,EAAkCC,EAAlC,CAAqC,OAArC,EAA8C,aAAK;OAC9CC,WAAWL,EAAEM,iBAAF,CAAoB;cACxB,MADwB;eAEvB;cACD;;IAHI,CAAf;OAMIC,SAASL,UAAUC,IAAV,CAAe,MAAf,EAAuBK,iBAAvB,EAAb;gBACaC,OAAb,CAAqBF,MAArB,EACEG,IADF,CACO,UAASC,IAAT,EAAe;aACXL,iBAAT,CAA2B;WACpB;KADP;QAGIM,eAAJ;QACIL,SAAS,EAAb;QACII,KAAKE,MAAT,EAAiB;cACP;YACFC,IAAIC,UAAJ,CAAe,mBAAf,CADE;YAEF;MAFP;SAIIC,iBAAiBC,iBAAiBC,WAAjB,EAArB;SACCC,qBAAqBH,eAAeI,cAAf,EADtB;SAEID,kBAAJ,EAAwB;yBACJE,OAAnB,CAA2B,OAA3B;;KARF,MAUO;cACG;YACFP,IAAIC,UAAJ,CAAe,UAAf,CADE;YAEF;MAFP;;qBAKgBO,WAAjB,CAA6Bf,MAA7B;IAvBF,EAyBEgB,IAzBF,CAyBO,UAASC,UAAT,EAAqBC,WAArB,EAAkC,EAzBzC;GARD;;CALH"}