{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Vtiger_Edit_Js',\n\t{\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceSelectionEvent: 'Vtiger.Reference.Selection',\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceDeSelectionEvent: 'Vtiger.Reference.DeSelection',\n\t\t//Event that will triggered before saving the record\n\t\trecordPreSave: 'Vtiger.Record.PreSave',\n\t\teditInstance: false,\n\t\tinventoryController: false,\n\t\t/**\n\t\t * Function to get Instance by name\n\t\t * @params moduleName:-- Name of the module to create instance\n\t\t */\n\t\tgetInstanceByModuleName: function (moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet parentModule = app.getParentModuleName(),\n\t\t\t\tmoduleClassName,\n\t\t\t\tfallbackClassName,\n\t\t\t\tinstance;\n\t\t\tif (parentModule === 'Settings') {\n\t\t\t\tmoduleClassName = parentModule + '_' + moduleName + '_Edit_Js';\n\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\t}\n\t\t\t\tfallbackClassName = parentModule + '_Vtiger_Edit_Js';\n\t\t\t\tif (typeof window[fallbackClassName] === 'undefined') {\n\t\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t} else {\n\t\t\t\tinstance = new window[fallbackClassName]();\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t},\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Edit_Js.editInstance == false) {\n\t\t\t\tlet instance = Vtiger_Edit_Js.getInstanceByModuleName();\n\t\t\t\tVtiger_Edit_Js.editInstance = instance;\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t\treturn Vtiger_Edit_Js.editInstance;\n\t\t}\n\t},\n\t{\n\t\tformElement: false,\n\t\trelationOperation: '',\n\t\tmoduleName: app.getModuleName(),\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm($('#EditView'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tsetForm: function (element) {\n\t\t\tthis.formElement = element;\n\t\t\tlet module;\n\t\t\tif ((module = $('input[name=\"module\"]', element))) {\n\t\t\t\tthis.moduleName = module.val();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet sourceModule = $('input[name=\"module\"]', formElement).val();\n\t\t\tlet popupReferenceModule = $('input[name=\"popupReferenceModule\"]', container).val();\n\t\t\tlet sourceFieldElement = $('input[class=\"sourceField\"]', container);\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\t\t\tlet isMultiple = false;\n\t\t\tif (sourceFieldElement.data('multiple') == true) {\n\t\t\t\tisMultiple = true;\n\t\t\t}\n\t\t\tlet filterFields = {};\n\t\t\tlet mappingRelatedField = formElement.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tlet mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (mappingRelatedModule[sourceField] != undefined && mappingRelatedModule[sourceField][popupReferenceModule] != undefined) {\n\t\t\t\t$.each(mappingRelatedModule[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet listFilterFieldsJson = formElement.find('input[name=\"listFilterFields\"]').val();\n\t\t\tlet listFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tif (listFilterFields) {\n\t\t\t\t$.each(listFilterFields, function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + value + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[value] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\tsrc_module: sourceModule,\n\t\t\t\tsrc_field: sourceField,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields\n\t\t\t};\n\t\t\tlet searchParamsElement = $('input[name=\"searchParams\"]', container);\n\t\t\tif (searchParamsElement.length > 0) {\n\t\t\t\tparams['search_params'] = searchParamsElement.val();\n\t\t\t}\n\t\t\t$.each(['link', 'process'], function (index, value) {\n\t\t\t\tlet fieldElement = formElement.find('[name=\"' + value + '\"]');\n\t\t\t\tif (fieldElement.length && fieldElement.val() != '' && fieldElement.val() != 0) {\n\t\t\t\t\tparams[value] = fieldElement.val();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isMultiple) {\n\t\t\t\tparams.multi_select = true;\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Show records list modal\n\t\t * @param {jQuery.Event} e\n\t\t */\n\t\tshowRecordsList: function (e) {\n\t\t\tlet parentElem = $(e.target).closest('.fieldValue');\n\t\t\tif (parentElem.length <= 0) {\n\t\t\t\tparentElem = $(e.target).closest('td');\n\t\t\t}\n\t\t\tlet params = this.getRecordsListParams(parentElem);\n\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\tthis.setReferenceFieldValue(parentElem, data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetReferenceFieldValue: function (container, params) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet sourceFieldElement = container.find('input.sourceField');\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet fieldElement = container.find('input[name=\"' + sourceField + '\"]');\n\t\t\tlet sourceFieldDisplay = sourceField + '_display';\n\t\t\tlet fieldDisplayElement = container.find('input[name=\"' + sourceFieldDisplay + '\"]');\n\t\t\tlet popupReferenceModule = container.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet selectedName = params.name;\n\t\t\tlet id = params.id;\n\n\t\t\tcontainer.find('.clearReferenceSelection').trigger('click');\n\n\t\t\tfieldElement.val(id);\n\t\t\tfieldDisplayElement.val(app.decodeHTML(selectedName)).attr('readonly', true);\n\t\t\tfieldElement.trigger(Vtiger_Edit_Js.referenceSelectionEvent, {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\trecord: id,\n\t\t\t\tselectedName: selectedName\n\t\t\t});\n\t\t\tfieldDisplayElement.validationEngine('closePrompt', fieldDisplayElement);\n\t\t\tif (sourceFieldElement.data('type') == 'inventory') {\n\t\t\t\treturn params;\n\t\t\t}\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(sourceField, popupReferenceModule, formElement);\n\t\t\tif (typeof mappingRelatedField !== 'undefined') {\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\t\trecord: id\n\t\t\t\t};\n\t\t\t\tapp.getRecordDetails(params).done(function (data) {\n\t\t\t\t\tlet response = (params.data = data['result']['data']);\n\t\t\t\t\tapp.event.trigger('EditView.SelectReference', params, formElement);\n\t\t\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\t\t\tif (response[value[0]] != 0 && !thisInstance.getMappingValuesFromUrl(key)) {\n\t\t\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tlet fieldinfo = mapFieldElement.data('fieldinfo');\n\t\t\t\t\t\t\tif (data['result']['type'][value[0]] === 'date' || data['result']['type'][value[0]] === 'datetime') {\n\t\t\t\t\t\t\t\tmapFieldElement.val(data['result']['displayData'][value[0]]);\n\t\t\t\t\t\t\t} else if (data['result']['type'][value[0]] === 'multipicklist') {\n\t\t\t\t\t\t\t\tlet mapFieldElementMultiselect = formElement.find('[name=\"' + key + '[]\"]');\n\t\t\t\t\t\t\t\tif (mapFieldElementMultiselect.length > 0) {\n\t\t\t\t\t\t\t\t\tlet multipleAttr = mapFieldElement.attr('multiple');\n\t\t\t\t\t\t\t\t\tlet splitValues = response[value[0]].split(' |##| ');\n\t\t\t\t\t\t\t\t\tif (typeof multipleAttr !== 'undefined' && multipleAttr !== false && splitValues.length > 0) {\n\t\t\t\t\t\t\t\t\t\tmapFieldElementMultiselect.val(splitValues).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.is('select')) {\n\t\t\t\t\t\t\t\tif (mapFieldElement.find('option[value=\"' + response[value[0]] + '\"]').length) {\n\t\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]).trigger('change');\n\t\t\t\t\t\t\t\t} else if (mapFieldElement.data('fieldinfo').picklistvalues.hasOwnProperty(response[value[0]])) {\n\t\t\t\t\t\t\t\t\tlet newOption = new Option(response[value[0]], response[value[0]], true, true);\n\t\t\t\t\t\t\t\t\tmapFieldElement.append(newOption).trigger('change');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.length == 0) {\n\t\t\t\t\t\t\t\t$(\"<input type='hidden'/>\").attr('name', key).attr('value', response[value[0]]).appendTo(formElement);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\t\t\t\tmapFieldDisplayElement.val(data['result']['displayData'][value[0]]).attr('readonly', true);\n\t\t\t\t\t\t\t\tif (fieldinfo.type === 'reference') {\n\t\t\t\t\t\t\t\t\tlet referenceModulesList = mapFieldElement.closest('.fieldValue').find('.referenceModulesList');\n\t\t\t\t\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\t\t\t\t\treferenceModulesList.val(value[1]).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.setReferenceFieldValue(mapFieldDisplayElement.closest('.fieldValue'), {\n\t\t\t\t\t\t\t\t\t\tname: data['result']['displayData'][value[0]],\n\t\t\t\t\t\t\t\t\t\tid: response[value[0]]\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tsetFieldValue: function (params) {\n\t\t\tlet fieldElement = this.getForm().find(`[name=\"${params['fieldName']}\"]`);\n\t\t\tlet fieldinfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select')) {\n\t\t\t\tif (fieldElement.find(`option[value=\"${params['value']}\"]`).length) {\n\t\t\t\t\tfieldElement.val(params['value']).trigger('change');\n\t\t\t\t} else if (fieldinfo.picklistvalues.hasOwnProperty(params['value'])) {\n\t\t\t\t\tfieldElement.append(new Option(params['value'], params['value'], true, true)).trigger('change');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfieldElement.val(params['value']);\n\t\t\t}\n\t\t},\n\t\tgetRelationOperation: function () {\n\t\t\tif (this.relationOperation === '') {\n\t\t\t\tlet relationOperation = $('[name=\"relationOperation\"]');\n\t\t\t\tif (relationOperation.length) {\n\t\t\t\t\tthis.relationOperation = relationOperation.val();\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationOperation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.relationOperation;\n\t\t},\n\t\tgetMappingValuesFromUrl: function (key) {\n\t\t\tlet relationOperation = this.getRelationOperation();\n\t\t\tif (relationOperation) {\n\t\t\t\treturn app.getUrlVar(key);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tproceedRegisterEvents: function () {\n\t\t\tif ($('.recordEditView').length > 0) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\treferenceModulePopupRegisterEvent: function (container) {\n\t\t\tcontainer.on('click', '.relatedPopup', (e) => {\n\t\t\t\tthis.showRecordsList(e);\n\t\t\t});\n\t\t\tlet moduleList = container.find('.referenceModulesList');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.referenceModulesList:visible'));\n\t\t\tmoduleList.on('change', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentElem = element.closest('.fieldValue');\n\t\t\t\tlet popupReferenceModule = element.val();\n\t\t\t\tlet referenceModuleElement = $('input[name=\"popupReferenceModule\"]', parentElem);\n\t\t\t\tlet prevSelectedReferenceModule = referenceModuleElement.val();\n\t\t\t\treferenceModuleElement.val(popupReferenceModule);\n\t\t\t\t//If Reference module is changed then we should clear the previous value\n\t\t\t\tif (prevSelectedReferenceModule != popupReferenceModule) {\n\t\t\t\t\tparentElem.find('.clearReferenceSelection').trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetReferencedModuleName: function (parenElement) {\n\t\t\treturn $('input[name=\"popupReferenceModule\"]', parenElement).val();\n\t\t},\n\t\tsearchModuleNames: function (params) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tif (typeof params.module === 'undefined') {\n\t\t\t\tparams.module = this.moduleName;\n\t\t\t}\n\t\t\tif (typeof params.action === 'undefined') {\n\t\t\t\tparams.action = 'BasicAjax';\n\t\t\t}\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get reference search params\n\t\t */\n\t\tgetReferenceSearchParams: function (element) {\n\t\t\tlet tdElement = $(element).closest('.fieldValue');\n\t\t\tlet params = {};\n\t\t\tlet searchModule = this.getReferencedModuleName(tdElement);\n\t\t\tparams.search_module = searchModule;\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterAutoCompleteFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.find('input.autoComplete').autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t//element will be array of dom elements\n\t\t\t\t\t//here this refers to auto complete instance\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term;\n\t\t\t\t\tlet params = thisInstance.getReferenceSearchParams(inputElement);\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\t//params.parent_id = app.getRecordId();\n\t\t\t\t\t//params.parent_module = app.getModuleName();\n\t\t\t\t\tthisInstance.searchModuleNames(params).done(function (data) {\n\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\tif (serverDataFormat.length <= 0) {\n\t\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\t\tserverDataFormat = new Array({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\tapp.event.trigger('EditView.AfterSearch', {\n\t\t\t\t\t\t\tfield: inputElement,\n\t\t\t\t\t\t\tparams: params\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t//To stop selection if no results is selected\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet tdElement = element.closest('.fieldValue');\n\t\t\t\t\tthisInstance.setReferenceFieldValue(tdElement, selectedItemData);\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\t//if you dont have readonly attribute means the user didnt select the item\n\t\t\t\t\tif (element.attr('readonly') == undefined) {\n\t\t\t\t\t\telement.closest('.fieldValue').find('.clearReferenceSelection').trigger('click');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterClearReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.clearReferenceSelection', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\telement.closest('.fieldValue').find('.sourceField').trigger(Vtiger_Edit_Js.referenceDeSelectionEvent);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tclearFieldValue: function (element) {\n\t\t\tconst self = this;\n\t\t\tlet fieldValueContener = element.closest('.fieldValue');\n\t\t\tlet fieldNameElement = fieldValueContener.find('.sourceField');\n\t\t\tlet fieldName = fieldNameElement.attr('name');\n\t\t\tlet referenceModule = fieldValueContener.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet formElement = fieldValueContener.closest('form');\n\t\t\tif (fieldNameElement.data('fieldtype') == 'reference') {\n\t\t\t\tfieldNameElement.val(0);\n\t\t\t} else {\n\t\t\t\tfieldNameElement.val('');\n\t\t\t}\n\t\t\tfieldValueContener\n\t\t\t\t.find('#' + fieldName + '_display')\n\t\t\t\t.removeAttr('readonly')\n\t\t\t\t.val('');\n\t\t\tapp.event.trigger('EditView.ClearField', {\n\t\t\t\tfieldName: fieldName,\n\t\t\t\treferenceModule: referenceModule\n\t\t\t});\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(fieldName, referenceModule, formElement);\n\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\tif (mapFieldElement.is('select')) {\n\t\t\t\t\tmapFieldElement.val(mapFieldElement.find('option:first').val()).trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tmapFieldElement.val('');\n\t\t\t\t}\n\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\tmapFieldDisplayElement.val('').attr('readonly', false);\n\t\t\t\t\tlet referenceModulesList = formElement.find('#' + self.moduleName + '_editView_fieldName_' + key + '_dropDown');\n\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\treferenceModulesList.val(referenceModulesList.find('option:first').val()).trigger('change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register event to prevent form submission on pressing on enter\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterPreventingEnterSubmitEvent: function (container) {\n\t\t\tcontainer.on('keypress', function (e) {\n\t\t\t\t//Stop the submit when enter is pressed in the form\n\t\t\t\tlet currentElement = $(e.target);\n\t\t\t\tif (e.which == 13 && !currentElement.is('textarea')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterTimeFields: function (container) {\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tApp.Fields.Date.register(container);\n\t\t\tApp.Fields.DateTime.register(container);\n\t\t},\n\t\treferenceCreateHandler: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.setReferenceFieldValue(container, {\n\t\t\t\t\tname: data.result._recordLabel,\n\t\t\t\t\tid: data.result._recordId\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet params = { callbackFunction: postQuickCreateSave };\n\t\t\tif (app.getViewName() === 'Edit' && !app.getRecordId()) {\n\t\t\t\tlet formElement = this.getForm();\n\t\t\t\tlet formData = formElement.serializeFormData();\n\t\t\t\tfor (let i in formData) {\n\t\t\t\t\tif (!formData[i] || $.inArray(i, ['_csrf', 'action']) != -1) {\n\t\t\t\t\t\tdelete formData[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparams.data = {};\n\t\t\t\tparams.data.sourceRecordData = formData;\n\t\t\t}\n\t\t\tlet referenceModuleName = this.getReferencedModuleName(container);\n\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, params);\n\t\t},\n\t\t/**\n\t\t * Function which will register event for create of reference record\n\t\t * This will allow users to create reference record from edit view of other record\n\t\t */\n\t\tregisterReferenceCreate: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.createReferenceRecord', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet controlElementDiv = element.closest('.fieldValue');\n\t\t\t\tthisInstance.referenceCreateHandler(controlElementDiv);\n\t\t\t});\n\t\t},\n\t\taddressFieldsMapping: [\n\t\t\t'buildingnumber',\n\t\t\t'localnumber',\n\t\t\t'addresslevel1',\n\t\t\t'addresslevel2',\n\t\t\t'addresslevel3',\n\t\t\t'addresslevel4',\n\t\t\t'addresslevel5',\n\t\t\t'addresslevel6',\n\t\t\t'addresslevel7',\n\t\t\t'addresslevel8',\n\t\t\t'pobox'\n\t\t],\n\t\taddressFieldsMappingBlockID: {\n\t\t\tLBL_ADDRESS_INFORMATION: 'a',\n\t\t\tLBL_ADDRESS_BILLING: 'a',\n\t\t\tLBL_ADDRESS_MAILING_INFORMATION: 'b',\n\t\t\tLBL_ADDRESS_SHIPPING: 'b',\n\t\t\tLBL_ADDRESS_DELIVERY_INFORMATION: 'c'\n\t\t},\n\t\taddressFieldsData: false,\n\t\t/**\n\t\t * Function to register event for copying addresses\n\t\t */\n\t\tregisterEventForCopyAddress: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet account_id = false;\n\t\t\tlet contact_id = false;\n\t\t\tlet lead_id = false;\n\t\t\tlet vendor_id = false;\n\t\t\tthis.formElement\n\t\t\t\t.find('.js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldValue, .js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldLabel')\n\t\t\t\t.each(function (index) {\n\t\t\t\t\tlet block = $(this);\n\t\t\t\t\tlet referenceModulesList = false;\n\t\t\t\t\tlet relatedField = block.find('[name=\"popupReferenceModule\"]').val();\n\t\t\t\t\tif (relatedField == 'Accounts') {\n\t\t\t\t\t\taccount_id = block.find('.sourceField').attr('name');\n\t\t\t\t\t}\n\t\t\t\t\tif (relatedField == 'Contacts') {\n\t\t\t\t\t\tcontact_id = block.find('.sourceField').attr('name');\n\t\t\t\t\t}\n\t\t\t\t\tif (relatedField == 'Leads') {\n\t\t\t\t\t\tlead_id = block.find('.sourceField').attr('name');\n\t\t\t\t\t}\n\t\t\t\t\tif (relatedField == 'Vendors') {\n\t\t\t\t\t\tvendor_id = block.find('.sourceField').attr('name');\n\t\t\t\t\t}\n\t\t\t\t\treferenceModulesList = block.find('.referenceModulesList');\n\t\t\t\t\tif (referenceModulesList.length > 0) {\n\t\t\t\t\t\t$.each(referenceModulesList.find('option'), function (key, data) {\n\t\t\t\t\t\t\tif (data.value == 'Accounts') {\n\t\t\t\t\t\t\t\taccount_id = block.find('.sourceField').attr('name');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (data.value == 'Contacts') {\n\t\t\t\t\t\t\t\tcontact_id = block.find('.sourceField').attr('name');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (data.value == 'Leads') {\n\t\t\t\t\t\t\t\tlead_id = block.find('.sourceField').attr('name');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (data.value == 'Vendors') {\n\t\t\t\t\t\t\t\tvendor_id = block.find('.sourceField').attr('name');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tif (account_id == false) {\n\t\t\t\tthis.formElement.find('.copyAddressFromAccount').addClass('d-none');\n\t\t\t} else {\n\t\t\t\tthis.formElement.find('.copyAddressFromAccount').on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\t\tlet from = element.data('label');\n\t\t\t\t\tlet to = block.data('label');\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + account_id + '\"]').val();\n\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_AN_ACCOUNT_TO_COPY_ADDRESS'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + account_id + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: 'Accounts'\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tthisInstance.copyAddressDetails(from, to, data, element.closest('.js-toggle-panel'));\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (contact_id == false) {\n\t\t\t\tthis.formElement.find('.copyAddressFromContact').addClass('d-none');\n\t\t\t} else {\n\t\t\t\tthis.formElement.find('.copyAddressFromContact').on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\t\tlet from = element.data('label');\n\t\t\t\t\tlet to = block.data('label');\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + contact_id + '\"]').val();\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_AN_CONTACT_TO_COPY_ADDRESS'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + contact_id + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: 'Contacts'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthisInstance.copyAddressDetails(from, to, data, element.closest('.js-toggle-panel'));\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (lead_id == false) {\n\t\t\t\tthis.formElement.find('.copyAddressFromLead').addClass('d-none');\n\t\t\t} else {\n\t\t\t\tthis.formElement.find('.copyAddressFromLead').on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\t\tlet from = element.data('label');\n\t\t\t\t\tlet to = block.data('label');\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + lead_id + '\"]').val();\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_AN_LEAD_TO_COPY_ADDRESS'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + lead_id + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: 'Leads'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthisInstance.copyAddressDetails(from, to, data, element.closest('.js-toggle-panel'));\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (vendor_id == false) {\n\t\t\t\tthis.formElement.find('.copyAddressFromVendor').addClass('d-none');\n\t\t\t} else {\n\t\t\t\tthis.formElement.find('.copyAddressFromVendor').on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\t\tlet from = element.data('label');\n\t\t\t\t\tlet to = block.data('label');\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + vendor_id + '\"]').val();\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_PLEASE_SELECT_AN_VENDOR_TO_COPY_ADDRESS'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + vendor_id + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: 'Vendors'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthisInstance.copyAddressDetails(from, to, data, element.closest('.js-toggle-panel'));\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.formElement.find('.js-toggle-panel').each(function (index) {\n\t\t\t\tlet hideCopyAddressLabel = true;\n\t\t\t\t$(this)\n\t\t\t\t\t.find('.adressAction button')\n\t\t\t\t\t.each(function (index) {\n\t\t\t\t\t\tif ($(this).hasClass('d-none') == false) {\n\t\t\t\t\t\t\thideCopyAddressLabel = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif (hideCopyAddressLabel) {\n\t\t\t\t\t$(this).find('.copyAddressLabel').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMain').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMailing').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromDelivery').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will copy the address details\n\t\t */\n\t\tcopyAddressDetails: function (from, to, data, container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet sourceModule = data.module;\n\t\t\tapp.getRecordDetails(data).done(function (data) {\n\t\t\t\tlet response = data['result'];\n\t\t\t\tthisInstance.addressFieldsData = response;\n\t\t\t\tthisInstance.copyAddress(from, to, true, sourceModule);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to copy address between fields\n\t\t * @param strings which accepts value as either odd or even\n\t\t */\n\t\tcopyAddress: function (fromLabel, toLabel, relatedRecord, sourceModule) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet formElement = this.getForm(),\n\t\t\t\tstatus = false,\n\t\t\t\taddressMapping = this.addressFieldsMapping,\n\t\t\t\tBlockIds = this.addressFieldsMappingBlockID,\n\t\t\t\tfrom = BlockIds[fromLabel];\n\t\t\tif (relatedRecord === false || sourceModule === false) from = BlockIds[fromLabel];\n\t\t\tlet to = BlockIds[toLabel],\n\t\t\t\tkey,\n\t\t\t\tfromElement,\n\t\t\t\tfromElementLabel,\n\t\t\t\tnameElementFrom,\n\t\t\t\tnameElementTo;\n\t\t\tfor (key in addressMapping) {\n\t\t\t\tnameElementFrom = addressMapping[key] + from;\n\t\t\t\tnameElementTo = addressMapping[key] + to;\n\t\t\t\tif (relatedRecord) {\n\t\t\t\t\tfromElement = thisInstance.addressFieldsData['data'][nameElementFrom];\n\t\t\t\t\tfromElementLabel = thisInstance.addressFieldsData['displayData'][nameElementFrom];\n\t\t\t\t} else {\n\t\t\t\t\tfromElement = formElement.find('[name=\"' + nameElementFrom + '\"]').val();\n\t\t\t\t\tfromElementLabel = formElement.find('[name=\"' + nameElementFrom + '_display\"]').val();\n\t\t\t\t}\n\t\t\t\tlet toElement = formElement.find('[name=\"' + nameElementTo + '\"]'),\n\t\t\t\t\ttoElementLable = formElement.find('[name=\"' + nameElementTo + '_display\"]');\n\t\t\t\tif (fromElement !== '' && fromElement !== '0' && fromElement !== undefined) {\n\t\t\t\t\tif (toElementLable.length > 0) toElementLable.attr('readonly', true);\n\t\t\t\t\tstatus = true;\n\t\t\t\t\ttoElement.val(fromElement);\n\t\t\t\t\ttoElementLable.val(fromElementLabel);\n\t\t\t\t\tif (toElement.is('[data-select2-id]')) {\n\t\t\t\t\t\tif (toElement.val() !== fromElement) {\n\t\t\t\t\t\t\ttoElement.val('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoElement.trigger('change');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttoElement.attr('readonly', false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (status === false) {\n\t\t\t\tlet errorMsg;\n\t\t\t\tif (sourceModule === 'Accounts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_ACCOUNT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else if (sourceModule === 'Contacts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_CONTACT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else {\n\t\t\t\t\terrorMsg = 'JS_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t}\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate(errorMsg),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relategField = container.find(\"input[name*='addresslevel']\");\n\t\t\trelategField.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tlet blockContainer = $(e.currentTarget).closest('.js-toggle-panel');\n\t\t\t\tthisInstance.copyAddressDetailsRef(data, blockContainer);\n\t\t\t});\n\t\t},\n\t\tcopyAddressDetailsRef: function (data, container) {\n\t\t\tlet thisInstance = this;\n\t\t\tapp\n\t\t\t\t.getRecordDetails(data)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data['result'];\n\t\t\t\t\tthisInstance.mapAddressDetails(response, container);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\tmapAddressDetails: function (result, container) {\n\t\t\tfor (let key in result) {\n\t\t\t\tif (key.indexOf('addresslevel') != -1) {\n\t\t\t\t\tif (container.find('[name=\"' + key + '\"]').length != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (container.find('[name=\"' + key + 'a\"]').length != 0 && container.find('[name=\"' + key + 'a\"]').val() == 0 && result['data'][key] != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (container.find('[name=\"' + key + 'b\"]').length != 0 && container.find('[name=\"' + key + 'b\"]').val() == 0 && result['data'][key] != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (container.find('[name=\"' + key + 'c\"]').length != 0 && container.find('[name=\"' + key + 'c\"]').val() == 0 && result['data'][key] != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterMaskFields: function (container) {\n\t\t\tcontainer.find('[data-inputmask]').inputmask();\n\t\t},\n\t\ttriggerDisplayTypeEvent: function () {\n\t\t\tlet widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\t\tif (widthType) {\n\t\t\t\tlet elements = $('#EditView').find('.fieldValue,.fieldLabel');\n\t\t\t\telements.addClass(widthType);\n\t\t\t}\n\t\t},\n\t\tregisterSubmitEvent: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\teditViewForm.on('submit', function (e) {\n\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\tif (typeof editViewForm.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\teditViewForm.find('.js-toggle-panel').find('.js-block-content').removeClass('d-none');\n\t\t\t\t\tif (editViewForm.validationEngine('validate')) {\n\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\teditViewForm.data('submit', 'true');\n\t\t\t\t\t\t//on submit form trigger the recordPreSave event\n\t\t\t\t\t\tlet recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\teditViewForm.trigger(recordPreSaveEvent, { value: 'edit' });\n\t\t\t\t\t\tif (recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\t//If duplicate record validation fails, form should submit again\n\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\tapp.formAlignmentAfterValidation(editViewForm);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to check the view permission of a record after save\n\t\t */\n\t\tregisterRecordPreSaveEventEvent: function (form) {\n\t\t\tform.on(Vtiger_Edit_Js.recordPreSave, (e, data) => {\n\t\t\t\tthis.preSaveValidation(form).done((response) => {\n\t\t\t\t\tif (response !== true) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tpreSaveValidation: function (form) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (form.find('#preSaveValidation').val()) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet formData = new FormData(form[0]);\n\t\t\t\tformData.append('mode', 'preSaveValidation');\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t})\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tfor (let i = 0; i < response.length; i++) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (response[i].hoverField != undefined) {\n\t\t\t\t\t\t\t\t\tform.find('[name=\"' + response[i].hoverField + '\"]').focus();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\taDeferred.resolve(data.result.length <= 0);\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register event for setting up picklistdependency\n\t\t * for a module if exist on change of picklist value\n\t\t */\n\t\tregisterEventForPicklistDependencySetup: function (container) {\n\t\t\tlet picklistDependcyElemnt = $('[name=\"picklistDependency\"]', container);\n\t\t\tif (picklistDependcyElemnt.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());\n\n\t\t\tlet sourcePicklists = Object.keys(picklistDependencyMapping);\n\t\t\tif (sourcePicklists.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet sourcePickListNames = [],\n\t\t\t\ti;\n\t\t\tfor (i = 0; i < sourcePicklists.length; i++) {\n\t\t\t\tsourcePickListNames.push('[name=\"' + sourcePicklists[i] + '\"]');\n\t\t\t}\n\t\t\tsourcePickListNames = sourcePickListNames.join(',');\n\t\t\tlet sourcePickListElements = container.find(sourcePickListNames);\n\n\t\t\tsourcePickListElements.on('change', function (e) {\n\t\t\t\tlet currentElement = $(e.currentTarget),\n\t\t\t\t\tconfiguredDependencyObject = picklistDependencyMapping[currentElement.attr('name')],\n\t\t\t\t\ttargetObjectForSelectedSourceValue = configuredDependencyObject[currentElement.val()],\n\t\t\t\t\tpicklistmap = configuredDependencyObject['__DEFAULT__'];\n\n\t\t\t\tif (typeof targetObjectForSelectedSourceValue === 'undefined') {\n\t\t\t\t\ttargetObjectForSelectedSourceValue = picklistmap;\n\t\t\t\t}\n\t\t\t\t$.each(picklistmap, function (targetPickListName, targetPickListValues) {\n\t\t\t\t\tlet targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];\n\t\t\t\t\tif (typeof targetPickListMap === 'undefined') {\n\t\t\t\t\t\ttargetPickListMap = targetPickListValues;\n\t\t\t\t\t}\n\t\t\t\t\tlet targetPickList = $('[name=\"' + targetPickListName + '\"]', container);\n\t\t\t\t\tif (targetPickList.length <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet listOfAvailableOptions = targetPickList.data('availableOptions');\n\t\t\t\t\tif (typeof listOfAvailableOptions === 'undefined') {\n\t\t\t\t\t\tlistOfAvailableOptions = $('option', targetPickList);\n\t\t\t\t\t\ttargetPickList.data('available-options', listOfAvailableOptions);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet targetOptions = new $(),\n\t\t\t\t\t\toptionSelector = [];\n\t\t\t\t\toptionSelector.push('');\n\t\t\t\t\tfor (i = 0; i < targetPickListMap.length; i++) {\n\t\t\t\t\t\toptionSelector.push(targetPickListMap[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\t$.each(listOfAvailableOptions, function (i, e) {\n\t\t\t\t\t\tif ($.inArray($(e).val(), optionSelector) !== -1) {\n\t\t\t\t\t\t\ttargetOptions = targetOptions.add($(e));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\ttargetPickList.html(targetOptions).val(targetOptions.filter('[selected]').val()).trigger('change');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t//To Trigger the change on load\n\t\t\tsourcePickListElements.trigger('change');\n\t\t},\n\t\tregisterLeavePageWithoutSubmit: function (form) {\n\t\t\tif (typeof CKEDITOR !== 'undefined' && typeof CKEDITOR.instances !== 'undefined' && Object.keys(CKEDITOR.instances).length) {\n\t\t\t\tCKEDITOR.on('instanceReady', function (e) {\n\t\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstretchCKEditor: function () {\n\t\t\tlet row = $('.js-editor').parents('.fieldRow');\n\t\t\tlet td = $('.js-editor').parent();\n\t\t\t$(row).find('.fieldLabel').remove();\n\t\t\t$(td).removeClass('col-md-10');\n\t\t\t$(td).addClass('col-md-12');\n\t\t},\n\t\t/**\n\t\t * Function to register event for ckeditor for description field\n\t\t */\n\t\tregisterEventForEditor: function () {\n\t\t\tlet form = this.getForm();\n\t\t\t$.each(form.find('.js-editor:not(.js-inventory-item-comment)'), (key, data) => {\n\t\t\t\tthis.loadEditorElement($(data));\n\t\t\t});\n\t\t},\n\t\tloadEditorElement: function (noteContentElement) {\n\t\t\tApp.Fields.Text.Editor.register(noteContentElement);\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\tregisterBlockAnimationEvent: function () {\n\t\t\tconst self = this;\n\t\t\tlet detailContentsHolder = this.getForm();\n\t\t\tdetailContentsHolder.on('click', '.blockHeader', function (e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet currentTarget = $(e.currentTarget).find('.js-block-toggle').not('.d-none');\n\t\t\t\tlet blockId = currentTarget.data('id');\n\t\t\t\tlet closestBlock = currentTarget.closest('.js-toggle-panel');\n\t\t\t\tlet bodyContents = closestBlock.find('.blockContent');\n\t\t\t\tlet data = currentTarget.data();\n\t\t\t\tlet hideHandler = function () {\n\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\tapp.cacheSet(self.moduleName + '.' + blockId, 0);\n\t\t\t\t};\n\t\t\t\tlet showHandler = function () {\n\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\tapp.cacheSet(self.moduleName + '.' + blockId, 1);\n\t\t\t\t};\n\t\t\t\tif (data.mode == 'show') {\n\t\t\t\t\thideHandler();\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tclosestBlock.find('[data-mode=\"hide\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tshowHandler();\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tclosestBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getForm().find('.js-toggle-panel');\n\t\t\tlet module = this.moduleName;\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = $(block);\n\t\t\t\tif (currentBlock.find('.js-field-block-column').length !== 0 && currentBlock.find('.js-field-block-column:not(.d-none)').length === 0) {\n\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Visibility check block\n\t\t */\n\t\tcheckVisibilityBlocks: function () {\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-toggle-panel')\n\t\t\t\t.each(function (index, block) {\n\t\t\t\t\tlet currentBlock = $(block);\n\t\t\t\t\tif (currentBlock.find('.js-field-block-column').length !== 0) {\n\t\t\t\t\t\tif (currentBlock.find('.js-field-block-column:not(.d-none)').length === 0) {\n\t\t\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentBlock.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tregisterAutoloadAddress: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-search-address')\n\t\t\t\t.each(function (index, item) {\n\t\t\t\t\tlet search = $(item);\n\t\t\t\t\tlet container = search.closest('.js-block-content');\n\t\t\t\t\tlet input = search.find('.js-autoload-address');\n\t\t\t\t\tinput.autocomplete({\n\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: self.moduleName,\n\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\ttype: search.find('.js-select-operator').val(),\n\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tminLength: input.data('min'),\n\t\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\t\t$.each(ui.item.address, function (index, value) {\n\t\t\t\t\t\t\t\tlet field = container.find('.fieldValue [name^=' + index + ']');\n\t\t\t\t\t\t\t\tif (field.length && value) {\n\t\t\t\t\t\t\t\t\tif (typeof value !== 'object') {\n\t\t\t\t\t\t\t\t\t\tvalue = [value];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$.each(value, function (index, v) {\n\t\t\t\t\t\t\t\t\t\tlet select = false,\n\t\t\t\t\t\t\t\t\t\t\telement = false;\n\t\t\t\t\t\t\t\t\t\tif (field.prop('tagName') === 'SELECT') {\n\t\t\t\t\t\t\t\t\t\t\tif (typeof v === 'object') {\n\t\t\t\t\t\t\t\t\t\t\t\t$.each(v, function (index, x) {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[data-' + index + \"='\" + x + \"']\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (x && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option:contains(' + v + ')');\n\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[value=\"' + v + '\"]');\n\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tselect = v;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (select) {\n\t\t\t\t\t\t\t\t\t\t\tfield.val(select).change();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield.val('').change();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tui.item.value = input.val();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tsetEnabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('button').removeAttr('disabled');\n\t\t\tif (fieldDisplay.val() == '') {\n\t\t\t\tfieldValue.find('input').removeAttr('readonly');\n\t\t\t}\n\t\t\tfieldValue.find('.referenceModulesListGroup').removeClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholderDisabled');\n\t\t\tfieldDisplay.removeAttr('placeholderDisabled');\n\t\t\tfieldDisplay.attr('placeholder', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').attr('required', 'required');\n\t\t},\n\t\tsetDisabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('input').attr('readonly', 'readonly');\n\t\t\tfieldValue.find('button').attr('disabled', 'disabled');\n\t\t\tfieldValue.find('.referenceModulesListGroup').addClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholder');\n\t\t\tfieldDisplay.removeAttr('placeholder');\n\t\t\tfieldDisplay.attr('placeholderDisabled', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').removeAttr('required');\n\t\t},\n\t\tgetMappingRelatedField: function (sourceField, sourceFieldModule, container) {\n\t\t\tconst mappingRelatedField = container.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tconst mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (typeof mappingRelatedModule[sourceField] !== 'undefined' && typeof mappingRelatedModule[sourceField][sourceFieldModule] !== 'undefined') {\n\t\t\t\treturn mappingRelatedModule[sourceField][sourceFieldModule];\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tregisterValidationsFields: function (container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\tcontainer.validationEngine(params);\n\t\t},\n\t\tcheckReferencesField: function (container, clear) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet activeProcess = false,\n\t\t\t\tactiveSubProcess = false;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceLink\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tif (activeProcess) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveSubProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceSubProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet processfieldElement = element.closest('.fieldValue');\n\t\t\t\tlet length = processfieldElement.find('.referenceModulesList option[disabled!=\"disabled\"]').length;\n\t\t\t\tif (activeSubProcess && length > 0) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcheckSubProcessModulesList: function (element) {\n\t\t\tlet option = element.find('option:selected');\n\t\t\tif (option.data('is-quickcreate') != 1) {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').addClass('d-none');\n\t\t\t} else {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tcheckReferenceModulesList: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet processfieldElement = container.find('input[data-fieldtype=\"referenceProcess\"]').closest('.fieldValue');\n\t\t\tlet referenceProcess = processfieldElement.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet subProcessfieldElement = container.find('input[data-fieldtype=\"referenceSubProcess\"]').closest('.fieldValue');\n\t\t\tVtiger_Helper_Js.hideOptions(subProcessfieldElement.find('.referenceModulesList'), 'parent', referenceProcess);\n\t\t\tlet subProcessValue = subProcessfieldElement.find('.referenceModulesList').val();\n\t\t\tsubProcessfieldElement.find('[name=\"popupReferenceModule\"]').val(subProcessValue);\n\t\t\tthisInstance.checkSubProcessModulesList(subProcessfieldElement.find('.referenceModulesList'));\n\t\t},\n\t\tregisterReferenceFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\tthisInstance.checkReferencesField(container, false);\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceDeSelectionEvent, function (e) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function () {\n\t\t\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceSubProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tthisInstance.checkSubProcessModulesList($(e.currentTarget));\n\t\t\t\t});\n\t\t},\n\t\tregisterFocusFirstField: function (container, afterTimeout) {\n\t\t\tlet elementToFocus, elementToFocusTabindex;\n\t\t\tif (afterTimeout === undefined && container.closest('.js-modal-container').length) {\n\t\t\t\tsetTimeout((_) => {\n\t\t\t\t\tthis.registerFocusFirstField(container, true);\n\t\t\t\t}, 500);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer\n\t\t\t\t.find('.fieldValue input.form-control:not([type=hidden],.dateField,.clockPicker), .fieldValue input[type=checkbox], .select2-selection.form-control')\n\t\t\t\t.each(function (i, e) {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tif (!element.prop('readonly') && !element.prop('disabled')) {\n\t\t\t\t\t\telement = element.get(0);\n\t\t\t\t\t\tif (element.type !== 'number' && element.type !== 'checkbox' && element.value !== undefined) {\n\t\t\t\t\t\t\tlet elemLen = element.value.length;\n\t\t\t\t\t\t\telement.selectionStart = elemLen;\n\t\t\t\t\t\t\telement.selectionEnd = elemLen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i === 0 || !elementToFocus) {\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet tabindex = $(element).attr('tabindex');\n\t\t\t\t\t\tif (tabindex > 0 && elementToFocusTabindex === undefined) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tabindex > 0 && tabindex < elementToFocusTabindex) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tif (elementToFocus) {\n\t\t\t\telementToFocus.focus();\n\t\t\t}\n\t\t},\n\t\tregisterCopyValue: function (container) {\n\t\t\tcontainer.find('.fieldValue [data-copy-to-field]').on('change', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcontainer.find('[name=\"' + element.data('copyToField') + '\"]').val(element.val());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register multi image upload fields\n\t\t * @param {HTMLElement|jQuery} container\n\t\t */\n\t\tregisterMultiImageFields(container) {\n\t\t\treturn App.Fields.MultiImage.register(container);\n\t\t},\n\t\t/**\n\t\t * Register inventory controller\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterInventoryController(container) {\n\t\t\tif (typeof Vtiger_Inventory_Js !== 'undefined') {\n\t\t\t\tthis.inventoryController = Vtiger_Inventory_Js.getInventoryInstance(container);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register record collector modal\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterRecordCollectorModal: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.js-record-collector-modal', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\tformData['view'] = 'RecordCollector';\n\t\t\t\tformData['collectorType'] = element.data('type');\n\t\t\t\tdelete formData['action'];\n\t\t\t\tAppConnector.request(formData).done(function (html) {\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\t(container) => {\n\t\t\t\t\t\t\tlet modalForm = container.find('form.js-record-collector__form');\n\t\t\t\t\t\t\tlet summary = container.find('.js-record-collector__summary');\n\t\t\t\t\t\t\tmodalForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\t\tmodalForm.on('submit', function (e) {\n\t\t\t\t\t\t\t\tif (modalForm.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tsummary.html('');\n\t\t\t\t\t\t\t\t\tsummary.progressIndicator({});\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tAppConnector.request(modalForm.serializeFormData()).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tsummary.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tsummary.html(data);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet recordForm = self.getForm();\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__select', function () {\n\t\t\t\t\t\t\t\tcontainer.find(`.js-record-collector__column[data-column=\"${this.dataset.column}\"] input`).prop('checked', true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__fill_fields', function () {\n\t\t\t\t\t\t\t\tlet formData = container.find('.js-record-collector__fill_form').serializeFormData();\n\t\t\t\t\t\t\t\t$.each(formData, function (key, value) {\n\t\t\t\t\t\t\t\t\tif (value !== '') {\n\t\t\t\t\t\t\t\t\t\tlet fieldElement = recordForm.find(`[name=\"${key}\"]`);\n\t\t\t\t\t\t\t\t\t\tif (fieldElement.length) {\n\t\t\t\t\t\t\t\t\t\t\tfieldElement.setValue(value);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\trecordForm.append(`<input type=\"hidden\" name=\"${key}\" value=\"${value}\" />`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tapp.hideModalWindow(null, 'collectorModal');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ modalId: 'collectorModal' }\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register account name function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterAccountName: function (container) {\n\t\t\tlet first = container.find('.js-first-name');\n\t\t\tlet firstInput = first.find('input');\n\t\t\tlet last = container.find('.js-last-name');\n\t\t\tlet lastInput = last.find('input');\n\t\t\tlet full = container.find('.js-account-name');\n\t\t\tlet fullInput = full.find('input');\n\t\t\tlet legalForm = container.find('select[name=\"legal_form\"]');\n\t\t\tlet legalFormVal = legalForm.val();\n\t\t\tfirstInput.keyup(function () {\n\t\t\t\tfullInput.val(this.value + '|##|' + lastInput.val());\n\t\t\t});\n\t\t\tlastInput.keyup(function () {\n\t\t\t\tfullInput.val(firstInput.val() + '|##|' + this.value);\n\t\t\t});\n\t\t\tlegalForm.change(function () {\n\t\t\t\tif (this.value == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.addClass('d-none');\n\t\t\t\t\tfullInput.val(firstInput.val() + '|##|' + lastInput.val());\n\t\t\t\t\tfirst.removeClass('d-none');\n\t\t\t\t\tlast.removeClass('d-none');\n\t\t\t\t} else if (legalFormVal == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.removeClass('d-none');\n\t\t\t\t\tfirst.addClass('d-none');\n\t\t\t\t\tlast.addClass('d-none');\n\t\t\t\t\tfullInput.val('');\n\t\t\t\t}\n\t\t\t\tlegalFormVal = this.value;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Trigger record edit view events\n\t\t * @param {object} data\n\t\t */\n\t\ttriggerRecordEditEvents: function (data) {\n\t\t\tconst self = this;\n\t\t\tlet form = this.getForm();\n\t\t\tif (typeof data['changeValues'] == 'object') {\n\t\t\t\t$.each(data['changeValues'], function (key, field) {\n\t\t\t\t\tself.setFieldValue(field);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hoverField'] != 'undefined') {\n\t\t\t\tform.find(`[name=\"${data['hoverField']}\"]`).focus();\n\t\t\t}\n\t\t\tif (typeof data['showNotify'] != 'undefined') {\n\t\t\t\tapp.showNotify(data['showNotify']);\n\t\t\t}\n\t\t\tif (typeof data['showModal'] != 'undefined') {\n\t\t\t\tapp.showModalWindow(null, data['showModal']['url']);\n\t\t\t}\n\t\t\tif (typeof data['showFields'] != 'undefined') {\n\t\t\t\t$.each(data['showFields'], function (key, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).removeClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hideFields'] != 'undefined') {\n\t\t\t\t$.each(data['hideFields'], function (key, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).addClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register change value handler events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterChangeValueHandlerEvent: function (container) {\n\t\t\tlet event = container.find('.js-change-value-event');\n\t\t\tif (event.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst self = this;\n\t\t\tlet fields = JSON.parse(event.val());\n\t\t\t$.each(fields, function (key, fieldName) {\n\t\t\t\tlet fieldElement = container.find(`[name=\"${fieldName}\"]`);\n\t\t\t\tfieldElement.change(function () {\n\t\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\t\tformData['action'] = 'ChangeValueHandler';\n\t\t\t\t\tdelete formData['view'];\n\t\t\t\t\tAppConnector.request(formData).done(function (response) {\n\t\t\t\t\t\t$.each(response.result, function (key, data) {\n\t\t\t\t\t\t\tself.triggerRecordEditEvents(data);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register basic events which will be used in quick create as well\n\t\t *\n\t\t */\n\t\tregisterBasicEvents: function (container) {\n\t\t\tthis.referenceModulePopupRegisterEvent(container);\n\t\t\tthis.registerAutoCompleteFields(container);\n\t\t\tthis.registerClearReferenceSelectionEvent(container);\n\t\t\tthis.registerPreventingEnterSubmitEvent(container);\n\t\t\tthis.registerTimeFields(container);\n\t\t\tthis.registerEventForPicklistDependencySetup(container);\n\t\t\tthis.registerRecordPreSaveEventEvent(container);\n\t\t\tthis.registerReferenceSelectionEvent(container);\n\t\t\tthis.registerChangeValueHandlerEvent(container);\n\t\t\tthis.registerMaskFields(container);\n\t\t\tthis.registerHelpInfo(container);\n\t\t\tthis.registerReferenceFields(container);\n\t\t\tthis.registerFocusFirstField(container);\n\t\t\tthis.registerCopyValue(container);\n\t\t\tthis.registerMultiImageFields(container);\n\t\t\tthis.registerReferenceCreate(container);\n\t\t\tthis.registerRecordCollectorModal(container);\n\t\t\tthis.registerAccountName(container);\n\t\t\tApp.Fields.MultiEmail.register(container);\n\t\t\tApp.Fields.MultiDependField.register(container);\n\t\t\tApp.Fields.Tree.register(container);\n\t\t\tApp.Fields.MultiCurrency.register(container);\n\t\t\tApp.Fields.MeetingUrl.register(container);\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\tif (!this.proceedRegisterEvents()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerInventoryController(editViewForm);\n\t\t\tthis.registerBlockAnimationEvent();\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEventForEditor();\n\t\t\tthis.stretchCKEditor();\n\t\t\tthis.registerBasicEvents(editViewForm);\n\t\t\tthis.registerEventForCopyAddress();\n\t\t\tthis.registerSubmitEvent();\n\t\t\tthis.registerLeavePageWithoutSubmit(editViewForm);\n\t\t\tthis.registerValidationsFields(editViewForm);\n\t\t\tthis.registerAutoloadAddress();\n\t\t\teditViewForm.find('.js-form-submit-btn').prop('disabled', false);\n\t\t\t//this.triggerDisplayTypeEvent();\n\t\t}\n\t}\n);\n"],"names":["$","Class","referenceSelectionEvent","referenceDeSelectionEvent","recordPreSave","editInstance","inventoryController","getInstanceByModuleName","moduleName","app","getModuleName","fallbackClassName","instance","parentModule","getParentModuleName","moduleClassName","getInstance","Vtiger_Edit_Js","formElement","relationOperation","getForm","setForm","element","module","val","getRecordsListParams","container","closest","sourceModule","popupReferenceModule","sourceFieldElement","sourceField","attr","sourceRecordElement","sourceRecordId","length","data","isMultiple","mappingRelatedField","find","mappingRelatedModule","JSON","parse","each","index","mapFieldElement","filterFields","listFilterFields","listFilterFieldsJson","value","src_module","src_field","src_record","searchParamsElement","params","fieldElement","multi_select","showRecordsList","e","parentElem","target","modal","setSelectEvent","setReferenceFieldValue","fieldDisplayElement","selectedName","name","id","trigger","decodeHTML","record","validationEngine","getMappingRelatedField","getRecordDetails","done","event","key","thisInstance","getMappingValuesFromUrl","fieldinfo","splitValues","response","split","mapFieldElementMultiselect","is","appendTo","picklistvalues","hasOwnProperty","append","newOption","mapFieldDisplayElement","type","referenceModulesList","setFieldValue","getRelationOperation","getUrlVar","proceedRegisterEvents","referenceModulePopupRegisterEvent","on","App","Fields","Picklist","showSelect2ElementView","moduleList","currentTarget","referenceModuleElement","prevSelectedReferenceModule","getReferencedModuleName","parenElement","searchModuleNames","Deferred","action","AppConnector","request","aDeferred","resolve","fail","reject","promise","getReferenceSearchParams","searchModule","tdElement","search_module","registerAutoCompleteFields","autocomplete","delay","minLength","source","searchValue","term","inputElement","search_value","serverDataFormat","result","label","vtranslate","reponseDataList","push","responseData","field","select","ui","item","selectedItemData","change","open","menu","css","registerClearReferenceSelectionEvent","clearFieldValue","preventDefault","fieldValueContener","fieldNameElement","fieldName","referenceModule","removeAttr","self","registerPreventingEnterSubmitEvent","which","currentElement","registerTimeFields","registerEventForClockPicker","Date","register","DateTime","referenceCreateHandler","callbackFunction","_recordLabel","_recordId","getViewName","getRecordId","formData","serializeFormData","i","inArray","sourceRecordData","Vtiger_Header_Js","quickCreateModule","referenceModuleName","registerReferenceCreate","controlElementDiv","addressFieldsMapping","addressFieldsMappingBlockID","LBL_ADDRESS_INFORMATION","LBL_ADDRESS_BILLING","LBL_ADDRESS_MAILING_INFORMATION","LBL_ADDRESS_SHIPPING","LBL_ADDRESS_DELIVERY_INFORMATION","addressFieldsData","registerEventForCopyAddress","account_id","contact_id","lead_id","vendor_id","relatedField","block","addClass","from","to","recordRelativeAccountId","showNotify","text","copyAddressDetails","recordRelativeAccountName","hasClass","hideCopyAddressLabel","copyAddress","fromLabel","toLabel","relatedRecord","status","addressMapping","BlockIds","fromElement","fromElementLabel","nameElementFrom","nameElementTo","toElementLable","toElement","errorMsg","registerReferenceSelectionEvent","relategField","copyAddressDetailsRef","blockContainer","mapAddressDetails","indexOf","registerMaskFields","inputmask","triggerDisplayTypeEvent","cacheGet","widthType","elements","registerSubmitEvent","editViewForm","document","progressLoader","progressIndicator","message","position","blockInfo","enabled","removeClass","Event","recordPreSaveEvent","isDefaultPrevented","mode","removeData","formAlignmentAfterValidation","registerRecordPreSaveEventEvent","form","preSaveValidation","async","url","processData","contentType","hoverField","focus","textStatus","errorThrown","errorLog","registerEventForPicklistDependencySetup","picklistDependcyElemnt","sourcePicklists","Object","keys","picklistDependencyMapping","sourcePickListNames","join","sourcePickListElements","configuredDependencyObject","targetObjectForSelectedSourceValue","picklistmap","targetPickListName","targetPickListValues","targetPickListMap","targetPickList","listOfAvailableOptions","optionSelector","targetOptions","add","html","filter","registerLeavePageWithoutSubmit","instances","CKEDITOR","serialize","window","onbeforeunload","initialFormData","stretchCKEditor","parents","td","parent","row","remove","registerEventForEditor","loadEditorElement","noteContentElement","Text","Editor","registerHelpInfo","showPopoverElementView","registerBlockAnimationEvent","detailContentsHolder","not","blockId","closestBlock","bodyContents","cacheSet","registerBlockStatusCheckOnLoad","blocks","currentBlock","dynamicAttr","headerAnimationElement","checkVisibilityBlocks","registerAutoloadAddress","search","input","requestData","jqXHR","responseJSON","error","animation","address","v","prop","x","setEnabledFields","fieldValue","fieldDisplay","placeholder","setDisabledFields","sourceFieldModule","registerValidationsFields","validationEngineOptionsForRecord","checkReferencesField","clear","activeProcess","activeSubProcess","CONFIG","fieldsReferencesDependent","t","processfieldElement","checkSubProcessModulesList","checkReferenceModulesList","referenceProcess","subProcessfieldElement","Vtiger_Helper_Js","hideOptions","subProcessValue","registerReferenceFields","registerFocusFirstField","afterTimeout","elementToFocus","elementToFocusTabindex","get","selectionStart","elemLen","selectionEnd","tabindex","registerCopyValue","registerMultiImageFields","MultiImage","registerInventoryController","Vtiger_Inventory_Js","getInventoryInstance","registerRecordCollectorModal","showModalWindow","summary","modalForm","validationEngineOptions","dataset","column","recordForm","setValue","hideModalWindow","modalId","registerAccountName","firstInput","first","last","lastInput","full","fullInput","legalForm","legalFormVal","keyup","triggerRecordEditEvents","registerChangeValueHandlerEvent","fields","registerBasicEvents","MultiEmail","MultiDependField","Tree","MultiCurrency","MeetingUrl","registerEvents"],"mappings":";;;;;;;;AAWAA,EAAEC,KAAF,CACC,gBADD,CAEC;AAECC,wBAAyB,4BAF1B;AAICC,0BAA2B,8BAJ5B;AAMCC,cAAe,uBANhB,CAOCC,eAPD,CAQCC,sBARD;;;KAaCC,wBAAyB,iCAAUC,UAAV,CAAsB,CACpB,WAAtB,mBAD0C,GAE7CA,WAAaC,IAAIC,aAAJ,EAFgC,EAI9C,mBAAA,CAECC,iBAFD,CAGCC,QAHD,CAAIC,aAAeJ,IAAIK,mBAAJ,EAAnB,CAuBA,OAnBqB,UAAjB,eAmBJ,EAlBCC,gBAAkBF,aAAe,GAAf,CAAqBL,UAArB,CAAkC,UAkBrD,CAjBwC,WAAnC,gBAAcO,eAAP,CAiBZ,GAhBEA,gBAAkBP,WAAa,UAgBjC,EAdCG,kBAAoBE,aAAe,iBAcpC,CAb0C,WAArC,gBAAcF,iBAAP,CAaZ,GAZEA,kBAAoB,gBAYtB,IATCI,gBAAkBP,WAAa,UAShC,CARCG,kBAAoB,gBAQrB,EAHCC,QAGD,CANuC,WAAnC,gBAAcG,eAAP,CAMX,CAHY,WAAWJ,iBAAP,CAGhB,CALY,WAAWI,eAAP,CAKhB,CADAH,SAASJ,UAAT,CAAsBA,UACtB,CAAOI,QACP,CAzCF,CA0CCI,YAAa,sBAAY,CACxB,GAAI,mBAAeX,YAAnB,CAA0C,CACzC,aAAeY,eAAeV,uBAAf,EAAf,CAEA,sBADeF,YAAf,CAA8BO,QAC9B,CAAOA,QACP,CACD,sBAAsBP,YACtB,CAjDF,CAFD,CAqDC,CACCa,cADD,CAECC,kBAAmB,EAFpB,CAGCX,WAAYC,IAAIC,aAAJ,EAHb,CAICU,QAAS,kBAAY,CAIpB,OAHI,SAAKF,WAGT,EAFC,KAAKG,OAAL,CAAarB,EAAE,WAAF,CAAb,CAED,CAAO,KAAKkB,WACZ,CATF,CAUCG,QAAS,iBAAUC,OAAV,CAAmB,CAC3B,KAAKJ,WAAL,CAAmBI,OADQ,CAE3B,UAAA,CAIA,QAHKC,OAASvB,EAAE,sBAAF,CAA0BsB,OAA1B,CAGd,IAFC,KAAKd,UAAL,CAAkBe,OAAOC,GAAP,EAEnB,EAAO,IACP,CAjBF,CAkBCC,qBAAsB,8BAAUC,SAAV,CAAqB,iBACxBA,UAAUC,OAAV,CAAkB,MAAlB,CADwB,CAEtCC,aAAe5B,EAAE,sBAAF,CAA0BkB,WAA1B,EAAuCM,GAAvC,EAFuB,CAGtCK,qBAAuB7B,EAAE,oCAAF,CAAwC0B,SAAxC,EAAmDF,GAAnD,EAHe,CAItCM,mBAAqB9B,EAAE,4BAAF,CAAgC0B,SAAhC,CAJiB,CAKtCK,YAAcD,mBAAmBE,IAAnB,CAAwB,MAAxB,CALwB,CAMtCC,oBAAsBjC,EAAE,sBAAF,CAA0BkB,WAA1B,CANgB,CAOtCgB,eAAiB,EAPqB,CAQT,CAA7B,qBAAoBC,MARkB,GASzCD,eAAiBD,oBAAoBT,GAApB,EATwB,EAW1C,iBAAA,CACI,uBAAmBY,IAAnB,CAAwB,UAAxB,CAZsC,GAazCC,aAbyC,mBAevB,EAfuB,CAgBtCC,oBAAsBpB,YAAYqB,IAAZ,CAAiB,mCAAjB,EAAsDf,GAAtD,EAhBgB,CAiBtCgB,qBAAuBF,oBAAsBG,KAAKC,KAAL,CAAWJ,mBAAX,CAAtB,CAAwD,EAjBzC,CAkBtC,2BAAqBP,WAArB,GAAkD,2BAAqBA,WAArB,EAAkCF,oBAAlC,CAlBZ,EAmBzC7B,EAAE2C,IAAF,CAAOH,qBAAqBT,WAArB,EAAkCF,oBAAlC,CAAP,CAAgE,SAAUe,KAAV,CAAwB,CACvF,oBAAsB1B,YAAYqB,IAAZ,CAAiB,UAAYK,KAAZ,CAAoB,IAArC,CAAtB,CACIC,gBAAgBV,MAAhB,EAAmD,EAAzB,kBAAgBX,GAAhB,EAFyD,GAGtFsB,aAAaF,KAAb,EAAsBC,gBAAgBrB,GAAhB,EAHgE,EAKvF,CALD,CAnByC,0BA0BfN,YAAYqB,IAAZ,CAAiB,gCAAjB,EAAmDf,GAAnD,EA1Be,CA2BtCuB,iBAAmBC,qBAAuBP,KAAKC,KAAL,CAAWM,oBAAX,CAAvB,CAA0D,EA3BvC,CA4BtCD,gBA5BsC,EA6BzC/C,EAAE2C,IAAF,CAAOI,gBAAP,CAAyB,SAAUH,KAAV,CAAiBK,KAAjB,CAAwB,CAChD,oBAAsB/B,YAAYqB,IAAZ,CAAiB,UAAYU,KAAZ,CAAoB,IAArC,CAAtB,CACIJ,gBAAgBV,MAAhB,EAAmD,EAAzB,kBAAgBX,GAAhB,EAFkB,GAG/CsB,aAAaG,KAAb,EAAsBJ,gBAAgBrB,GAAhB,EAHyB,EAKhD,CALD,CA7ByC,YAoC7B,CACZD,OAAQM,oBADI,CAEZqB,WAAYtB,YAFA,CAGZuB,UAAWpB,WAHC,CAIZqB,WAAYlB,cAJA,CAKZY,aAAcA,YALF,CApC6B,CA2CtCO,oBAAsBrD,EAAE,4BAAF,CAAgC0B,SAAhC,CA3CgB,CAwD1C,QAZI,qBAAoBS,MAYxB,GAXCmB,qBAA0BD,oBAAoB7B,GAApB,EAW3B,EATAxB,EAAE2C,IAAF,CAAO,CAAC,MAAD,CAAS,SAAT,CAAP,CAA4B,SAAUC,KAAV,CAAiBK,KAAjB,CAAwB,CACnD,iBAAmB/B,YAAYqB,IAAZ,CAAiB,UAAYU,KAAZ,CAAoB,IAArC,CAAnB,CACIM,aAAapB,MAAb,EAA6C,EAAtB,eAAaX,GAAb,EAAvB,EAAyE,CAAtB,eAAaA,GAAb,EAFJ,GAGlD8B,OAAOL,KAAP,EAAgBM,aAAa/B,GAAb,EAHkC,EAKnD,CALD,CASA,CAHIa,UAGJ,GAFCiB,OAAOE,YAAP,GAED,EAAOF,MACP,CA3EF;;;KAgFCG,gBAAiB,yBAAUC,CAAV,CAAa,gBACzBC,WAAa3D,EAAE0D,EAAEE,MAAJ,EAAYjC,OAAZ,CAAoB,aAApB,CADY,CAEJ,CAArB,aAAWQ,MAFc,GAG5BwB,WAAa3D,EAAE0D,EAAEE,MAAJ,EAAYjC,OAAZ,CAAoB,IAApB,CAHe,EAK7B,WAAa,KAAKF,oBAAL,CAA0BkC,UAA1B,CAAb,CACAlD,IAAIgD,eAAJ,CAAoBH,MAApB,CAA4B,SAACO,KAAD,CAAQjD,QAAR,CAAqB,CAChDA,SAASkD,cAAT,CAAwB,SAAC1B,IAAD,CAAU,CACjC,MAAK2B,sBAAL,CAA4BJ,UAA5B,CAAwCvB,IAAxC,EACA,CAFD,EAGA,CAJD,EAKA,CA3FF,CA4FC2B,uBAAwB,gCAAUrC,SAAV,CAAqB4B,MAArB,CAA6B,kBAC/B,IAD+B,CAEhDxB,mBAAqBJ,UAAUa,IAAV,CAAe,mBAAf,CAF2B,CAGhDR,YAAcD,mBAAmBE,IAAnB,CAAwB,MAAxB,CAHkC,CAIhDuB,aAAe7B,UAAUa,IAAV,CAAe,eAAiBR,WAAjB,CAA+B,IAA9C,CAJiC,CAMhDiC,oBAAsBtC,UAAUa,IAAV,CAAe,gBADhBR,YAAc,UACE,EAAsC,IAArD,CAN0B,CAOhDF,qBAAuBH,UAAUa,IAAV,CAAe,oCAAf,EAAqDf,GAArD,EAPyB,CAQhDyC,aAAeX,OAAOY,IAR0B,CAShDC,GAAKb,OAAOa,EAToC,CAqBpD,GAVAzC,UAAUa,IAAV,CAAe,0BAAf,EAA2C6B,OAA3C,CAAmD,OAAnD,CAUA,CARAb,aAAa/B,GAAb,CAAiB2C,EAAjB,CAQA,CAPAH,oBAAoBxC,GAApB,CAAwBf,IAAI4D,UAAJ,CAAeJ,YAAf,CAAxB,EAAsDjC,IAAtD,CAA2D,UAA3D,IAOA,CANAuB,aAAaa,OAAb,CAAqBnD,eAAef,uBAApC,CAA6D,CAC5DqB,OAAQM,oBADoD,CAE5DyC,OAAQH,EAFoD,CAG5DF,aAAcA,YAH8C,CAA7D,CAMA,CADAD,oBAAoBO,gBAApB,CAAqC,aAArC,CAAoDP,mBAApD,CACA,CAAuC,WAAnC,qBAAmB5B,IAAnB,CAAwB,MAAxB,CAAJ,CACC,aAAA,CAtBmD,gBAwBlCV,UAAUC,OAAV,CAAkB,MAAlB,CAxBkC,CAyBhDW,oBAAsB,KAAKkC,sBAAL,CAA4BzC,WAA5B,CAAyCF,oBAAzC,CAA+DX,WAA/D,CAzB0B,CA0BpD,GAAmC,WAA/B,4BAAJ,CAAgD,CAC/C,YAAa,CACZK,OAAQM,oBADI,CAEZyC,OAAQH,EAFI,CAAb,CAIA1D,IAAIgE,gBAAJ,CAAqBnB,OAArB,EAA6BoB,IAA7B,CAAkC,SAAUtC,IAAV,CAAgB,CACjD,aAAgBkB,QAAOlB,IAAP,CAAcA,gBAA9B,CACA3B,IAAIkE,KAAJ,CAAUP,OAAV,CAAkB,0BAAlB,CAA8Cd,OAA9C,CAAsDpC,WAAtD,CAFiD,CAGjDlB,EAAE2C,IAAF,CAAOL,mBAAP,CAA4B,SAAUsC,GAAV,CAAe3B,KAAf,CAAsB,CACjD,GAA0B,CAAtB,WAASA,MAAM,CAAN,CAAT,GAA2B,CAAC4B,aAAaC,uBAAb,CAAqCF,GAArC,CAAhC,CAA2E,qBACpD1D,YAAYqB,IAAZ,CAAiB,UAAYqC,GAAZ,CAAkB,IAAnC,CADoD,CAEtEG,UAAYlC,gBAAgBT,IAAhB,CAAqB,WAArB,CAF0D,CAG1E,GAAyC,MAArC,oBAAuBa,MAAM,CAAN,CAAvB,GAAoF,UAArC,oBAAuBA,MAAM,CAAN,CAAvB,CAAnD,CACCJ,gBAAgBrB,GAAhB,CAAoBY,wBAA8Ba,MAAM,CAAN,CAA9B,CAApB,CADD,SAEgD,eAArC,oBAAuBA,MAAM,CAAN,CAAvB,CAAJ,CAA0D,CAChE,+BAAiC/B,YAAYqB,IAAZ,CAAiB,UAAYqC,GAAZ,CAAkB,MAAnC,CAAjC,CACA,GAAwC,CAApC,4BAA2BzC,MAA/B,CAA2C,kBACvBU,gBAAgBb,IAAhB,CAAqB,UAArB,CADuB,CAEtCgD,YAAcC,SAAShC,MAAM,CAAN,CAAT,EAAmBiC,KAAnB,CAAyB,QAAzB,CAFwB,CAGd,WAAxB,qBAAA,EAAuC,iBAAvC,EAAsF,CAArB,aAAY/C,MAHvC,EAIzCgD,2BAA2B3D,GAA3B,CAA+BwD,WAA/B,EAA4CZ,OAA5C,CAAoD,QAApD,EAED,CACD,CATM,SASIvB,gBAAgBuC,EAAhB,CAAmB,QAAnB,CAAJ,CAO8B,CAA1B,kBAAgBjD,MAPpB,CAQNnC,EAAE,0BAAF,EAA4BgC,IAA5B,CAAiC,MAAjC,CAAyC4C,GAAzC,EAA8C5C,IAA9C,CAAmD,OAAnD,CAA4DiD,SAAShC,MAAM,CAAN,CAAT,CAA5D,EAAgFoC,QAAhF,CAAyFnE,WAAzF,CARM,CAUN2B,gBAAgBrB,GAAhB,CAAoByD,SAAShC,MAAM,CAAN,CAAT,CAApB,CAVM,SACFJ,gBAAgBN,IAAhB,CAAqB,iBAAmB0C,SAAShC,MAAM,CAAN,CAAT,CAAnB,CAAwC,IAA7D,EAAmEd,MAAvE,CACCU,gBAAgBrB,GAAhB,CAAoByD,SAAShC,MAAM,CAAN,CAAT,CAApB,EAAwCmB,OAAxC,CAAgD,QAAhD,CADD,SAEWvB,gBAAgBT,IAAhB,CAAqB,WAArB,EAAkCkD,cAAlC,CAAiDC,cAAjD,CAAgEN,SAAShC,MAAM,CAAN,CAAT,CAAhE,CAAJ,CAAyF,CAC/F,cAAgB,UAAA,CAAWgC,SAAShC,MAAM,CAAN,CAAT,CAAX,CAA+BgC,SAAShC,MAAM,CAAN,CAAT,CAA/B,OAAhB,CACAJ,gBAAgB2C,MAAhB,CAAuBC,SAAvB,EAAkCrB,OAAlC,CAA0C,QAA1C,EACA,CAMF,2BAA6BlD,YAAYqB,IAAZ,CAAiB,eAAiBqC,GAAjB,CAAuB,YAAxC,CAA7B,CACA,GAAoC,CAAhC,wBAAuBzC,MAA3B,GACCuD,uBAAuBlE,GAAvB,CAA2BY,wBAA8Ba,MAAM,CAAN,CAA9B,CAA3B,EAAoEjB,IAApE,CAAyE,UAAzE,IADD,CAEwB,WAAnB,aAAU2D,IAFf,EAEqC,CACnC,yBAA2B9C,gBAAgBlB,OAAhB,CAAwB,aAAxB,EAAuCY,IAAvC,CAA4C,uBAA5C,CAA3B,CACkC,CAA9B,sBAAqBJ,MAArB,EAAmCc,MAAM,CAAN,CAFJ,EAGlC2C,qBAAqBpE,GAArB,CAAyByB,MAAM,CAAN,CAAzB,EAAmCmB,OAAnC,CAA2C,QAA3C,CAHkC,CAKnCS,aAAad,sBAAb,CAAoC2B,uBAAuB/D,OAAvB,CAA+B,aAA/B,CAApC,CAAmF,CAClFuC,KAAM9B,wBAA8Ba,MAAM,CAAN,CAA9B,CAD4E,CAElFkB,GAAIc,SAAShC,MAAM,CAAN,CAAT,CAF8E,CAAnF,EAIA,CAEF,CACD,CA1CD,EA2CA,CA9CD,EA+CA,CACD,CA3KF,CA4KC4C,cAAe,uBAAUvC,MAAV,CAAkB,kBACb,KAAKlC,OAAL,GAAemB,IAAf,WAA8Be,gBAA9B,MADa,CAE5ByB,UAAYxB,aAAanB,IAAb,CAAkB,WAAlB,CAFgB,CAG5BmB,aAAa6B,EAAb,CAAgB,QAAhB,CAH4B,CAI3B7B,aAAahB,IAAb,kBAAmCe,YAAnC,OAAwDnB,MAJ7B,CAK9BoB,aAAa/B,GAAb,CAAiB8B,YAAjB,EAAkCc,OAAlC,CAA0C,QAA1C,CAL8B,CAMpBW,UAAUO,cAAV,CAAyBC,cAAzB,CAAwCjC,YAAxC,CANoB,EAO9BC,aAAaiC,MAAb,CAAoB,UAAA,CAAWlC,YAAX,CAA4BA,YAA5B,OAApB,EAA8Ec,OAA9E,CAAsF,QAAtF,CAP8B,CAU/Bb,aAAa/B,GAAb,CAAiB8B,YAAjB,EAED,CAxLF,CAyLCwC,qBAAsB,+BAAY,CACjC,GAA+B,EAA3B,QAAK3E,iBAAT,CAAmC,CAClC,sBAAwBnB,EAAE,4BAAF,CAAxB,CAEC,KAAKmB,iBAH4B,GAE9BA,kBAAkBgB,MAFY,EAGRhB,kBAAkBK,GAAlB,GAI1B,CACD,YAAYL,iBACZ,CAnMF,CAoMC2D,wBAAyB,iCAAUF,GAAV,CAAe,CACvC,sBAAwB,KAAKkB,oBAAL,EAAxB,CADuC,SAEnC3E,iBAFmC,EAG/BV,IAAIsF,SAAJ,CAAcnB,GAAd,CAGR,CA1MF,CA2MCoB,sBAAuB,gCAAY,WACA,CAA9B,GAAE,iBAAF,EAAqB7D,MADS,CAMlC,CAjNF,CAkNC8D,kCAAmC,2CAAUvE,SAAV,CAAqB,iBACvDA,UAAUwE,EAAV,CAAa,OAAb,CAAsB,eAAtB,CAAuC,SAACxC,CAAD,CAAO,CAC7C,OAAKD,eAAL,CAAqBC,CAArB,EACA,CAFD,CADuD,CAIvD,eAAiBhC,UAAUa,IAAV,CAAe,uBAAf,CAAjB,CACA4D,IAAIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2C5E,UAAUa,IAAV,CAAe,+BAAf,CAA3C,CALuD,CAMvDgE,WAAWL,EAAX,CAAc,QAAd,CAAwB,SAACxC,CAAD,CAAO,aAChB1D,EAAE0D,EAAE8C,aAAJ,CADgB,CAE1B7C,WAAarC,QAAQK,OAAR,CAAgB,aAAhB,CAFa,CAG1BE,qBAAuBP,QAAQE,GAAR,EAHG,CAI1BiF,uBAAyBzG,EAAE,oCAAF,CAAwC2D,UAAxC,CAJC,CAK1B+C,4BAA8BD,uBAAuBjF,GAAvB,EALJ,CAM9BiF,uBAAuBjF,GAAvB,CAA2BK,oBAA3B,CAN8B,CAQ1B6E,6BAA+B7E,oBARL,EAS7B8B,WAAWpB,IAAX,CAAgB,0BAAhB,EAA4C6B,OAA5C,CAAoD,OAApD,EAED,CAXD,EAYA,CApOF,CAqOCuC,wBAAyB,iCAAUC,YAAV,CAAwB,CAChD,SAAS,oCAAF,CAAwCA,YAAxC,EAAsDpF,GAAtD,EACP,CAvOF,CAwOCqF,kBAAmB,2BAAUvD,MAAV,CAAkB,CACpC,cAAgBtD,EAAE8G,QAAF,EAAhB,CAcA,OAb6B,WAAzB,gBAAcvF,MAalB,GAZC+B,OAAO/B,MAAP,CAAgB,KAAKf,UAYtB,EAV6B,WAAzB,gBAAcuG,MAUlB,GATCzD,OAAOyD,MAAP,CAAgB,WASjB,EAPAC,aAAaC,OAAb,CAAqB3D,MAArB,EACEoB,IADF,CACO,SAAUtC,IAAV,CAAgB,CACrB8E,UAAUC,OAAV,CAAkB/E,IAAlB,EACA,CAHF,EAIEgF,IAJF,CAIO,UAAiB,CACtBF,UAAUG,MAAV,GACA,CANF,CAOA,CAAOH,UAAUI,OAAV,EACP,CAxPF;;KA4PCC,yBAA0B,kCAAUjG,OAAV,CAAmB,eAC5BtB,EAAEsB,OAAF,EAAWK,OAAX,CAAmB,aAAnB,CAD4B,CAExC2B,OAAS,EAF+B,CAGxCkE,aAAe,KAAKb,uBAAL,CAA6Bc,SAA7B,CAHyB,CAK5C,cADOC,aAAP,CAAuBF,YACvB,CAAOlE,MACP,CAlQF;;;KAuQCqE,2BAA4B,oCAAUjG,SAAV,CAAqB,CAChD,iBAAmB,IAAnB,CACAA,UAAUa,IAAV,CAAe,oBAAf,EAAqCqF,YAArC,CAAkD,CACjDC,MAAO,KAD0C,CAEjDC,UAAW,GAFsC,CAGjDC,OAAQ,gBAAUd,OAAV,CAAmBhC,QAAnB,CAA6B;AAEpC;AAFoC,iBAGjBjF,EAAE,KAAKsB,OAAL,CAAa,CAAb,CAAF,CAHiB,CAIhC0G,YAAcf,QAAQgB,IAJU,CAKhC3E,OAASuB,aAAa0C,wBAAb,CAAsCW,YAAtC,CALuB,CAOpC;AACA;AAFA5E,OAAO6E,YAAP,CAAsBH,WANc,CASpCnD,aAAagC,iBAAb,CAA+BvD,MAA/B,EAAuCoB,IAAvC,CAA4C,SAAUtC,IAAV,CAAgB,qBACrC,EADqC,CAEvDgG,iBAAmBhG,KAAKiG,MAF+B,CAU3D,IAAK,MAAL,KAPI,mBAAiBlG,MAOrB,GANCnC,EAAEkI,YAAF,EAAgB1G,GAAhB,CAAoB,EAApB,CAMD,CALC4G,iBAAmB,SAAA,CAAU,CAC5BE,MAAO7H,IAAI8H,UAAJ,CAAe,qBAAf,CADqB,CAE5B5C,KAAM,YAFsB,CAAV,CAKpB,EAAeyC,gBAAf,CAAiC,CAChC,iBAAmBA,iBAAiBjE,EAAjB,CAAnB,CACAqE,gBAAgBC,IAAhB,CAAqBC,YAArB,EACA,CACDzD,SAASuD,eAAT,CAd2D,CAe3D/H,IAAIkE,KAAJ,CAAUP,OAAV,CAAkB,sBAAlB,CAA0C,CACzCuE,MAAOT,YADkC,CAEzC5E,OAAQA,MAFiC,CAA1C,EAIA,CAnBD,EAoBA,CAhCgD,CAiCjDsF,OAAQ,gBAAUjE,KAAV,CAAiBkE,EAAjB,CAAqB,CAC5B,qBAAuBA,GAAGC,IAA1B,CACA;AACA,GAAqC,WAAjC,0BAAwBnD,IAAxB,EAAyE,YAAzB,mBAAiBA,IAArE,CACC,UAEDoD,iBAAiB7E,IAAjB,CAAwB6E,iBAAiB9F,KANb,aAOdjD,EAAE,IAAF,CAPc,CAQxByH,UAAYnG,QAAQK,OAAR,CAAgB,aAAhB,CARY,CAS5BkD,aAAad,sBAAb,CAAoC0D,SAApC,CAA+CsB,gBAA/C,EACA,CA3CgD,CA4CjDC,OAAQ,iBAAqB,CAC5B,YAAchJ,EAAE,IAAF,CAAd,CACA;AACIsB,QAAQU,IAAR,CAAa,UAAb,OAHwB,EAI3BV,QAAQK,OAAR,CAAgB,aAAhB,EAA+BY,IAA/B,CAAoC,0BAApC,EAAgE6B,OAAhE,CAAwE,OAAxE,EAED,CAlDgD,CAmDjD6E,KAAM,eAAqB;AAE1BjJ,EAAE,IAAF,EAAQoC,IAAR,CAAa,iBAAb,EAAgC8G,IAAhC,CAAqC5H,OAArC,CAA6C6H,GAA7C,CAAiD,SAAjD,CAA4D,QAA5D,EACA,CAtDgD,CAAlD,EAwDA,CAjUF;;;KAsUCC,qCAAsC,8CAAU1H,SAAV,CAAqB,CAC1D,iBAAmB,IAAnB,CACAA,UAAUwE,EAAV,CAAa,OAAb,CAAsB,0BAAtB,CAAkD,SAAUxC,CAAV,CAAa,CAC9D,YAAc1D,EAAE0D,EAAE8C,aAAJ,CAAd,CACA3B,aAAawE,eAAb,CAA6B/H,OAA7B,CAF8D,CAG9DA,QAAQK,OAAR,CAAgB,aAAhB,EAA+BY,IAA/B,CAAoC,cAApC,EAAoD6B,OAApD,CAA4DnD,eAAed,yBAA3E,CAH8D,CAI9DuD,EAAE4F,cAAF,GACA,CALD,EAMA,CA9UF,CA+UCD,gBAAiB,yBAAU/H,OAAV,CAAmB,UACtB,IADsB,CAE/BiI,mBAAqBjI,QAAQK,OAAR,CAAgB,aAAhB,CAFU,CAG/B6H,iBAAmBD,mBAAmBhH,IAAnB,CAAwB,cAAxB,CAHY,CAI/BkH,UAAYD,iBAAiBxH,IAAjB,CAAsB,MAAtB,CAJmB,CAK/B0H,gBAAkBH,mBAAmBhH,IAAnB,CAAwB,oCAAxB,EAA8Df,GAA9D,EALa,CAM/BN,YAAcqI,mBAAmB5H,OAAnB,CAA2B,MAA3B,CANiB,CAOO,WAAtC,mBAAiBS,IAAjB,CAAsB,WAAtB,CAP+B,CAQlCoH,iBAAiBhI,GAAjB,CAAqB,CAArB,CARkC,CAUlCgI,iBAAiBhI,GAAjB,CAAqB,EAArB,CAVkC,CAYnC+H,mBACEhH,IADF,CACO,IAAMkH,SAAN,CAAkB,UADzB,EAEEE,UAFF,CAEa,UAFb,EAGEnI,GAHF,CAGM,EAHN,CAZmC,CAgBnCf,IAAIkE,KAAJ,CAAUP,OAAV,CAAkB,qBAAlB,CAAyC,CACxCqF,UAAWA,SAD6B,CAExCC,gBAAiBA,eAFuB,CAAzC,CAhBmC,CAoBnC,wBAA0B,KAAKlF,sBAAL,CAA4BiF,SAA5B,CAAuCC,eAAvC,CAAwDxI,WAAxD,CAA1B,CACAlB,EAAE2C,IAAF,CAAOL,mBAAP,CAA4B,SAAUsC,GAAV,CAAe3B,KAAf,CAAsB,CACjD,oBAAsB/B,YAAYqB,IAAZ,CAAiB,UAAYqC,GAAZ,CAAkB,IAAnC,CAAtB,CACI/B,gBAAgBuC,EAAhB,CAAmB,QAAnB,CAF6C,CAGhDvC,gBAAgBrB,GAAhB,CAAoBqB,gBAAgBN,IAAhB,CAAqB,cAArB,EAAqCf,GAArC,EAApB,EAAgE4C,OAAhE,CAAwE,QAAxE,CAHgD,CAKhDvB,gBAAgBrB,GAAhB,CAAoB,EAApB,CALgD,CAOjD,2BAA6BN,YAAYqB,IAAZ,CAAiB,eAAiBqC,GAAjB,CAAuB,YAAxC,CAA7B,CACA,GAAoC,CAAhC,wBAAuBzC,MAA3B,CAAuC,CACtCuD,uBAAuBlE,GAAvB,CAA2B,EAA3B,EAA+BQ,IAA/B,CAAoC,UAApC,IADsC,CAEtC,yBAA2Bd,YAAYqB,IAAZ,CAAiB,IAAMqH,KAAKpJ,UAAX,CAAwB,sBAAxB,CAAiDoE,GAAjD,CAAuD,WAAxE,CAA3B,CACkC,CAA9B,sBAAqBzC,MAArB,EAAmCc,MAAM,CAAN,CAHD,EAIrC2C,qBAAqBpE,GAArB,CAAyBoE,qBAAqBrD,IAArB,CAA0B,cAA1B,EAA0Cf,GAA1C,EAAzB,EAA0E4C,OAA1E,CAAkF,QAAlF,EAED,CACD,CAfD,EAgBA,CApXF;;;KAyXCyF,mCAAoC,4CAAUnI,SAAV,CAAqB,CACxDA,UAAUwE,EAAV,CAAa,UAAb,CAAyB,SAAUxC,CAAV,CAAa;AAErC,mBAAqB1D,EAAE0D,EAAEE,MAAJ,CAArB,CACe,EAAX,IAAEkG,KAAF,EAAkBC,eAAe3E,EAAf,CAAkB,UAAlB,CAHe,EAIpC1B,EAAE4F,cAAF,GAED,CAND,EAOA,CAjYF,CAkYCU,mBAAoB,4BAAUtI,SAAV,CAAqB,CACxCjB,IAAIwJ,2BAAJ,EADwC,CAExC9D,IAAIC,MAAJ,CAAW8D,IAAX,CAAgBC,QAAhB,CAAyBzI,SAAzB,CAFwC,CAGxCyE,IAAIC,MAAJ,CAAWgE,QAAX,CAAoBD,QAApB,CAA6BzI,SAA7B,EACA,CAtYF,CAuYC2I,uBAAwB,gCAAU3I,SAAV,CAAqB,kBACzB,IADyB,CAQxC4B,OAAS,CAAEgH,iBANW,4BAAA,CAAUlI,IAAV,CAAgB,CACzCyC,aAAad,sBAAb,CAAoCrC,SAApC,CAA+C,CAC9CwC,KAAM9B,KAAKiG,MAAL,CAAYkC,YAD4B,CAE9CpG,GAAI/B,KAAKiG,MAAL,CAAYmC,SAF8B,CAA/C,EAIA,CACY,CAR+B,CAS5C,GAA0B,MAAtB,OAAIC,WAAJ,IAAgC,CAAChK,IAAIiK,WAAJ,EAArC,CAAwD,iBACrC,KAAKtJ,OAAL,EADqC,CAEnDuJ,SAAWzJ,YAAY0J,iBAAZ,EAFwC,CAGvD,IAAK,KAAL,YAAA,CACMD,SAASE,CAAT,CAAD,EAAqD,CAAC,CAAtC,IAAEC,OAAF,CAAUD,CAAV,CAAa,CAAC,OAAD,CAAU,QAAV,CAAb,CADrB,EAEE,gBAAgBA,CAAT,CAFT,CAKAvH,OAAOlB,IAAP,CAAc,EARyC,CASvDkB,OAAOlB,IAAP,CAAY2I,gBAAZ,CAA+BJ,SAC/B,CACD,wBAA0B,KAAKhE,uBAAL,CAA6BjF,SAA7B,CAA1B,CACAsJ,iBAAiBhK,WAAjB,GAA+BiK,iBAA/B,CAAiDC,mBAAjD,CAAsE5H,MAAtE,EACA,CA7ZF;;;KAkaC6H,wBAAyB,iCAAUzJ,SAAV,CAAqB,CAC7C,iBAAmB,IAAnB,CACAA,UAAUwE,EAAV,CAAa,OAAb,CAAsB,wBAAtB,CAAgD,SAAUxC,CAAV,CAAa,aAC9C1D,EAAE0D,EAAE8C,aAAJ,CAD8C,CAExD4E,kBAAoB9J,QAAQK,OAAR,CAAgB,aAAhB,CAFoC,CAG5DkD,aAAawF,sBAAb,CAAoCe,iBAApC,EACA,CAJD,EAKA,CAzaF,CA0aCC,qBAAsB,CACrB,gBADqB,CAErB,aAFqB,CAGrB,eAHqB,CAIrB,eAJqB,CAKrB,eALqB,CAMrB,eANqB,CAOrB,eAPqB,CAQrB,eARqB,CASrB,eATqB,CAUrB,eAVqB,CAWrB,OAXqB,CA1avB,CAubCC,4BAA6B,CAC5BC,wBAAyB,GADG,CAE5BC,oBAAqB,GAFO,CAG5BC,gCAAiC,GAHL,CAI5BC,qBAAsB,GAJM,CAK5BC,iCAAkC,GALN,CAvb9B,CA8bCC,oBA9bD;;KAkcCC,4BAA6B,sCAAY,kBACrB,IADqB,CAEpCC,aAFoC,CAGpCC,aAHoC,CAIpCC,UAJoC,CAKpCC,YALoC,CAMxC,KAAK/K,WAAL,CACEqB,IADF,CACO,kJADP,EAEEI,IAFF,CAEO,UAAiB,WACV3C,EAAE,IAAF,CADU,CAElB4F,uBAFkB,CAGlBsG,aAAeC,MAAM5J,IAAN,CAAW,+BAAX,EAA4Cf,GAA5C,EAHG,CAIF,UAAhB,cAJkB,GAKrBsK,WAAaK,MAAM5J,IAAN,CAAW,cAAX,EAA2BP,IAA3B,CAAgC,MAAhC,CALQ,EAOF,UAAhB,cAPkB,GAQrB+J,WAAaI,MAAM5J,IAAN,CAAW,cAAX,EAA2BP,IAA3B,CAAgC,MAAhC,CARQ,EAUF,OAAhB,cAVkB,GAWrBgK,QAAUG,MAAM5J,IAAN,CAAW,cAAX,EAA2BP,IAA3B,CAAgC,MAAhC,CAXW,EAaF,SAAhB,cAbkB,GAcrBiK,UAAYE,MAAM5J,IAAN,CAAW,cAAX,EAA2BP,IAA3B,CAAgC,MAAhC,CAdS,EAgBtB4D,qBAAuBuG,MAAM5J,IAAN,CAAW,uBAAX,CAhBD,CAiBY,CAA9B,sBAAqBJ,MAjBH,EAkBrBnC,EAAE2C,IAAF,CAAOiD,qBAAqBrD,IAArB,CAA0B,QAA1B,CAAP,CAA4C,SAAUqC,GAAV,CAAexC,IAAf,CAAqB,CAC9C,UAAd,OAAKa,KADuD,GAE/D6I,WAAaK,MAAM5J,IAAN,CAAW,cAAX,EAA2BP,IAA3B,CAAgC,MAAhC,CAFkD,EAI9C,UAAd,OAAKiB,KAJuD,GAK/D8I,WAAaI,MAAM5J,IAAN,CAAW,cAAX,EAA2BP,IAA3B,CAAgC,MAAhC,CALkD,EAO9C,OAAd,OAAKiB,KAPuD,GAQ/D+I,QAAUG,MAAM5J,IAAN,CAAW,cAAX,EAA2BP,IAA3B,CAAgC,MAAhC,CARqD,EAU9C,SAAd,OAAKiB,KAVuD,GAW/DgJ,UAAYE,MAAM5J,IAAN,CAAW,cAAX,EAA2BP,IAA3B,CAAgC,MAAhC,CAXmD,EAahE,CAbD,EAeD,CAnCF,CANwC,CA2CpC,cA3CoC,CA4CvC,KAAKd,WAAL,CAAiBqB,IAAjB,CAAsB,yBAAtB,EAAiD6J,QAAjD,CAA0D,QAA1D,CA5CuC,CA8CvC,KAAKlL,WAAL,CAAiBqB,IAAjB,CAAsB,yBAAtB,EAAiD2D,EAAjD,CAAoD,OAApD,CAA6D,UAAa,aAC3DlG,EAAE,IAAF,CAD2D,CAErEmM,MAAQ7K,QAAQK,OAAR,CAAgB,kBAAhB,CAF6D,CAGrE0K,KAAO/K,QAAQc,IAAR,CAAa,OAAb,CAH8D,CAIrEkK,GAAKH,MAAM/J,IAAN,CAAW,OAAX,CAJgE,CAKrEmK,wBAA0BvM,EAAE,UAAY8L,UAAZ,CAAyB,IAA3B,EAAiCtK,GAAjC,EAL2C,CAOzE,GAA+B,EAA3B,2BAA4D,GAA3B,yBAArC,CACCf,IAAI+L,UAAJ,CAAe,CACdC,KAAMhM,IAAI8H,UAAJ,CAAe,6CAAf,CADQ,CAEd5C,KAAM,OAFQ,CAAf,CADD,MAKO,+BAC0B3F,EAAE,IAAM8L,UAAN,CAAmB,UAArB,EAAiCtK,GAAjC,EAD1B,CAQNqD,aAAa6H,kBAAb,CAAgCL,IAAhC,CAAsCC,EAAtC,CANW,CACVhI,OAAQiI,uBADE,CAEVtI,aAAc0I,yBAFJ,CAGVpL,OAAQ,UAHE,CAMX,CAAgDD,QAAQK,OAAR,CAAgB,kBAAhB,CAAhD,CARM,CASNL,QAAQU,IAAR,CAAa,SAAb,CAAwB,SAAxB,EACA,CACD,CAvBD,CA9CuC,CAuEpC,cAvEoC,CAwEvC,KAAKd,WAAL,CAAiBqB,IAAjB,CAAsB,yBAAtB,EAAiD6J,QAAjD,CAA0D,QAA1D,CAxEuC,CA0EvC,KAAKlL,WAAL,CAAiBqB,IAAjB,CAAsB,yBAAtB,EAAiD2D,EAAjD,CAAoD,OAApD,CAA6D,UAAa,aAC3DlG,EAAE,IAAF,CAD2D,CAErEmM,MAAQ7K,QAAQK,OAAR,CAAgB,kBAAhB,CAF6D,CAGrE0K,KAAO/K,QAAQc,IAAR,CAAa,OAAb,CAH8D,CAIrEkK,GAAKH,MAAM/J,IAAN,CAAW,OAAX,CAJgE,CAKrEmK,wBAA0BvM,EAAE,UAAY+L,UAAZ,CAAyB,IAA3B,EAAiCvK,GAAjC,EAL2C,CAMzE,GAA+B,EAA3B,2BAA4D,GAA3B,yBAArC,CACCf,IAAI+L,UAAJ,CAAe,CACdC,KAAMhM,IAAI8H,UAAJ,CAAe,6CAAf,CADQ,CAEd5C,KAAM,OAFQ,CAAf,CADD,MAKO,+BAC0B3F,EAAE,IAAM+L,UAAN,CAAmB,UAArB,EAAiCvK,GAAjC,EAD1B,CAONqD,aAAa6H,kBAAb,CAAgCL,IAAhC,CAAsCC,EAAtC,CALW,CACVhI,OAAQiI,uBADE,CAEVtI,aAAc0I,yBAFJ,CAGVpL,OAAQ,UAHE,CAKX,CAAgDD,QAAQK,OAAR,CAAgB,kBAAhB,CAAhD,CAPM,CAQNL,QAAQU,IAAR,CAAa,SAAb,CAAwB,SAAxB,EACA,CACD,CArBD,CA1EuC,CAiGpC,WAjGoC,CAkGvC,KAAKd,WAAL,CAAiBqB,IAAjB,CAAsB,sBAAtB,EAA8C6J,QAA9C,CAAuD,QAAvD,CAlGuC,CAoGvC,KAAKlL,WAAL,CAAiBqB,IAAjB,CAAsB,sBAAtB,EAA8C2D,EAA9C,CAAiD,OAAjD,CAA0D,UAAa,aACxDlG,EAAE,IAAF,CADwD,CAElEmM,MAAQ7K,QAAQK,OAAR,CAAgB,kBAAhB,CAF0D,CAGlE0K,KAAO/K,QAAQc,IAAR,CAAa,OAAb,CAH2D,CAIlEkK,GAAKH,MAAM/J,IAAN,CAAW,OAAX,CAJ6D,CAKlEmK,wBAA0BvM,EAAE,UAAYgM,OAAZ,CAAsB,IAAxB,EAA8BxK,GAA9B,EALwC,CAMtE,GAA+B,EAA3B,2BAA4D,GAA3B,yBAArC,CACCf,IAAI+L,UAAJ,CAAe,CACdC,KAAMhM,IAAI8H,UAAJ,CAAe,0CAAf,CADQ,CAEd5C,KAAM,OAFQ,CAAf,CADD,MAKO,+BAC0B3F,EAAE,IAAMgM,OAAN,CAAgB,UAAlB,EAA8BxK,GAA9B,EAD1B,CAONqD,aAAa6H,kBAAb,CAAgCL,IAAhC,CAAsCC,EAAtC,CALW,CACVhI,OAAQiI,uBADE,CAEVtI,aAAc0I,yBAFJ,CAGVpL,OAAQ,OAHE,CAKX,CAAgDD,QAAQK,OAAR,CAAgB,kBAAhB,CAAhD,CAPM,CAQNL,QAAQU,IAAR,CAAa,SAAb,CAAwB,SAAxB,EACA,CACD,CArBD,CApGuC,CA2HpC,aA3HoC,CA4HvC,KAAKd,WAAL,CAAiBqB,IAAjB,CAAsB,wBAAtB,EAAgD6J,QAAhD,CAAyD,QAAzD,CA5HuC,CA8HvC,KAAKlL,WAAL,CAAiBqB,IAAjB,CAAsB,wBAAtB,EAAgD2D,EAAhD,CAAmD,OAAnD,CAA4D,UAAa,aAC1DlG,EAAE,IAAF,CAD0D,CAEpEmM,MAAQ7K,QAAQK,OAAR,CAAgB,kBAAhB,CAF4D,CAGpE0K,KAAO/K,QAAQc,IAAR,CAAa,OAAb,CAH6D,CAIpEkK,GAAKH,MAAM/J,IAAN,CAAW,OAAX,CAJ+D,CAKpEmK,wBAA0BvM,EAAE,UAAYiM,SAAZ,CAAwB,IAA1B,EAAgCzK,GAAhC,EAL0C,CAMxE,GAA+B,EAA3B,2BAA4D,GAA3B,yBAArC,CACCf,IAAI+L,UAAJ,CAAe,CACdC,KAAMhM,IAAI8H,UAAJ,CAAe,4CAAf,CADQ,CAEd5C,KAAM,OAFQ,CAAf,CADD,MAKO,+BAC0B3F,EAAE,IAAMiM,SAAN,CAAkB,UAApB,EAAgCzK,GAAhC,EAD1B,CAONqD,aAAa6H,kBAAb,CAAgCL,IAAhC,CAAsCC,EAAtC,CALW,CACVhI,OAAQiI,uBADE,CAEVtI,aAAc0I,yBAFJ,CAGVpL,OAAQ,SAHE,CAKX,CAAgDD,QAAQK,OAAR,CAAgB,kBAAhB,CAAhD,CAPM,CAQNL,QAAQU,IAAR,CAAa,SAAb,CAAwB,SAAxB,EACA,CACD,CArBD,CA9HuC,CAqJxC,KAAKd,WAAL,CAAiBqB,IAAjB,CAAsB,kBAAtB,EAA0CI,IAA1C,CAA+C,UAAiB,CAC/D,2BAAA,CACA3C,EAAE,IAAF,EACEuC,IADF,CACO,sBADP,EAEEI,IAFF,CAEO,UAAiB,CAClB,MAAE,IAAF,EAAQiK,QAAR,CAAiB,QAAjB,CADkB,GAErBC,uBAFqB,EAItB,CANF,CAF+D,CAS3DA,oBAT2D,EAU9D7M,EAAE,IAAF,EAAQuC,IAAR,CAAa,mBAAb,EAAkC6J,QAAlC,CAA2C,QAA3C,EAED,CAZD,CArJwC,CAkKxC,KAAKlL,WAAL,CAAiBqB,IAAjB,CAAsB,sBAAtB,EAA8C2D,EAA9C,CAAiD,OAAjD,CAA0D,UAAa,aACxDlG,EAAE,IAAF,CADwD,CAElEmM,MAAQ7K,QAAQK,OAAR,CAAgB,kBAAhB,CAF0D,CAGlE0K,KAAO/K,QAAQc,IAAR,CAAa,OAAb,CAH2D,CAIlEkK,GAAKH,MAAM/J,IAAN,CAAW,OAAX,CAJ6D,CAKtEyC,aAAaiI,WAAb,CAAyBT,IAAzB,CAA+BC,EAA/B,QACA,CAND,CAlKwC,CAyKxC,KAAKpL,WAAL,CAAiBqB,IAAjB,CAAsB,yBAAtB,EAAiD2D,EAAjD,CAAoD,OAApD,CAA6D,UAAa,aAC3DlG,EAAE,IAAF,CAD2D,CAErEmM,MAAQ7K,QAAQK,OAAR,CAAgB,kBAAhB,CAF6D,CAGrE0K,KAAO/K,QAAQc,IAAR,CAAa,OAAb,CAH8D,CAIrEkK,GAAKH,MAAM/J,IAAN,CAAW,OAAX,CAJgE,CAKzEyC,aAAaiI,WAAb,CAAyBT,IAAzB,CAA+BC,EAA/B,QACA,CAND,CAzKwC,CAgLxC,KAAKpL,WAAL,CAAiBqB,IAAjB,CAAsB,0BAAtB,EAAkD2D,EAAlD,CAAqD,OAArD,CAA8D,UAAa,aAC5DlG,EAAE,IAAF,CAD4D,CAEtEmM,MAAQ7K,QAAQK,OAAR,CAAgB,kBAAhB,CAF8D,CAGtE0K,KAAO/K,QAAQc,IAAR,CAAa,OAAb,CAH+D,CAItEkK,GAAKH,MAAM/J,IAAN,CAAW,OAAX,CAJiE,CAK1EyC,aAAaiI,WAAb,CAAyBT,IAAzB,CAA+BC,EAA/B,QACA,CAND,EAOA,CAznBF;;KA6nBCI,mBAAoB,4BAAUL,IAAV,CAAgBC,EAAhB,CAAoBlK,IAApB,CAAqC,kBACrC,IADqC,CAEpDR,aAAeQ,KAAKb,MAFgC,CAGxDd,IAAIgE,gBAAJ,CAAqBrC,IAArB,EAA2BsC,IAA3B,CAAgC,SAAUtC,IAAV,CAAgB,CAC/C,aAAeA,WAAf,CACAyC,aAAa+G,iBAAb,CAAiC3G,QAFc,CAG/CJ,aAAaiI,WAAb,CAAyBT,IAAzB,CAA+BC,EAA/B,IAAyC1K,YAAzC,EACA,CAJD,EAKA,CAroBF;;;KA0oBCkL,YAAa,qBAAUC,SAAV,CAAqBC,OAArB,CAA8BC,aAA9B,CAA6CrL,YAA7C,CAA2D,kBAClD,IADkD,CAEnEV,YAAc,KAAKE,OAAL,EAFqD,CAGtE8L,SAHsE,CAItEC,eAAiB,KAAK9B,oBAJgD,CAKtE+B,SAAW,KAAK9B,2BALsD,CAMtEe,KAAOe,SAASL,SAAT,CAN+D,EAOnE,oBAA2B,iBAPwC,IAOhBV,KAAOe,SAASL,SAAT,CAPS,EAQvE,OAAA,CAECM,WAFD,CAGCC,gBAHD,CAICC,eAJD,CAKCC,aALD,CAAIlB,GAAKc,SAASJ,OAAT,CAAT,CAMA,IAAKpI,GAAL,kBAAA,CAA4B,CAC3B2I,gBAAkBJ,eAAevI,GAAf,EAAsByH,IADb,CAE3BmB,cAAgBL,eAAevI,GAAf,EAAsB0H,EAFX,CAGvBW,aAHuB,EAI1BI,YAAcxI,aAAa+G,iBAAb,MAAuC2B,eAAvC,CAJY,CAK1BD,iBAAmBzI,aAAa+G,iBAAb,aAA8C2B,eAA9C,CALO,GAO1BF,YAAcnM,YAAYqB,IAAZ,CAAiB,UAAYgL,eAAZ,CAA8B,IAA/C,EAAqD/L,GAArD,EAPY,CAQ1B8L,iBAAmBpM,YAAYqB,IAAZ,CAAiB,UAAYgL,eAAZ,CAA8B,YAA/C,EAA6D/L,GAA7D,EARO,EAU3B,cAAgBN,YAAYqB,IAAZ,CAAiB,UAAYiL,aAAZ,CAA4B,IAA7C,CAAhB,CACCC,eAAiBvM,YAAYqB,IAAZ,CAAiB,UAAYiL,aAAZ,CAA4B,YAA7C,CADlB,CAEoB,EAAhB,gBAAsC,GAAhB,cAAtB,EAA6CH,oBAZtB,EAaE,CAAxB,gBAAelL,MAbO,EAaKsL,eAAezL,IAAf,CAAoB,UAApB,IAbL,CAc1BkL,SAd0B,CAe1BQ,UAAUlM,GAAV,CAAc6L,WAAd,CAf0B,CAgB1BI,eAAejM,GAAf,CAAmB8L,gBAAnB,CAhB0B,CAiBtBI,UAAUtI,EAAV,CAAa,mBAAb,CAjBsB,GAkBrBsI,UAAUlM,GAAV,KAAoB6L,WAlBC,EAmBxBK,UAAUlM,GAAV,CAAc,EAAd,CAnBwB,CAqBzBkM,UAAUtJ,OAAV,CAAkB,QAAlB,CArByB,GAwB1BsJ,UAAU1L,IAAV,CAAe,UAAf,KAED,CACD,GAAI,UAAJ,CAAsB,CACrB,YAAA,CAEC2L,QAHoB,CAEA,UAAjB,eAFiB,CAGT,8CAHS,CAIO,UAAjB,eAJU,CAKT,8CALS,CAOT,6BAPS,CASrBlN,IAAI+L,UAAJ,CAAe,CACdC,KAAMhM,IAAI8H,UAAJ,CAAeoF,QAAf,CADQ,CAEdhI,KAAM,OAFQ,CAAf,EAIA,CACD,CAjsBF,CAksBCiI,gCAAiC,yCAAUlM,SAAV,CAAqB,kBAClC,IADkC,CAEjDmM,aAAenM,UAAUa,IAAV,CAAe,+BAAf,CAFkC,CAGrDsL,aAAa3H,EAAb,CAAgBjF,eAAef,uBAA/B,CAAwD,SAAUwD,CAAV,CAAatB,IAAb,CAAmB,CAC1E,mBAAqBpC,EAAE0D,EAAE8C,aAAJ,EAAmB7E,OAAnB,CAA2B,kBAA3B,CAArB,CACAkD,aAAaiJ,qBAAb,CAAmC1L,IAAnC,CAAyC2L,cAAzC,EACA,CAHD,EAIA,CAzsBF,CA0sBCD,sBAAuB,+BAAU1L,IAAV,CAAgBV,SAAhB,CAA2B,CACjD,iBAAmB,IAAnB,CACAjB,IACEgE,gBADF,CACmBrC,IADnB,EAEEsC,IAFF,CAEO,SAAUtC,IAAV,CAAgB,CACrB,aAAeA,WAAf,CACAyC,aAAamJ,iBAAb,CAA+B/I,QAA/B,CAAyCvD,SAAzC,EACA,CALF,EAME0F,IANF,CAMO,UAAsB,EAN7B,EAOA,CAntBF,CAotBC4G,kBAAmB,2BAAU3F,MAAV,CAAkB3G,SAAlB,CAA6B,CAC/C,IAAK,OAAL,UAAA,CACoC,CAAC,CAAhC,MAAIuM,OAAJ,CAAY,cAAZ,CADL,GAEuD,CAAjD,YAAU1L,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,IAAjC,EAAuCzC,MAF7C,GAGGT,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,IAAjC,EAAuCpD,GAAvC,CAA2C6G,YAAezD,GAAf,CAA3C,CAHH,CAIGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,IAAjC,EAAuC5C,IAAvC,CAA4C,UAA5C,IAJH,CAKGN,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,YAAjC,EAA+CpD,GAA/C,CAAmD6G,mBAAsBzD,GAAtB,CAAnD,CALH,CAMGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,YAAjC,EAA+C5C,IAA/C,CAAoD,UAApD,IANH,EAQwD,CAAlD,YAAUO,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCzC,MAAxC,EAAwG,CAAjD,YAAUI,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCpD,GAAxC,EAAvD,EAAoI,CAAvB,cAAeoD,GAAf,CARnH,GASGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCpD,GAAxC,CAA4C6G,YAAezD,GAAf,CAA5C,CATH,CAUGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwC5C,IAAxC,CAA6C,UAA7C,IAVH,CAWGN,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,aAAjC,EAAgDpD,GAAhD,CAAoD6G,mBAAsBzD,GAAtB,CAApD,CAXH,CAYGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,aAAjC,EAAgD5C,IAAhD,CAAqD,UAArD,IAZH,EAcwD,CAAlD,YAAUO,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCzC,MAAxC,EAAwG,CAAjD,YAAUI,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCpD,GAAxC,EAAvD,EAAoI,CAAvB,cAAeoD,GAAf,CAdnH,GAeGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCpD,GAAxC,CAA4C6G,YAAezD,GAAf,CAA5C,CAfH,CAgBGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwC5C,IAAxC,CAA6C,UAA7C,IAhBH,CAiBGN,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,aAAjC,EAAgDpD,GAAhD,CAAoD6G,mBAAsBzD,GAAtB,CAApD,CAjBH,CAkBGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,aAAjC,EAAgD5C,IAAhD,CAAqD,UAArD,IAlBH,EAoBwD,CAAlD,YAAUO,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCzC,MAAxC,EAAwG,CAAjD,YAAUI,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCpD,GAAxC,EAAvD,EAAoI,CAAvB,cAAeoD,GAAf,CApBnH,GAqBGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwCpD,GAAxC,CAA4C6G,YAAezD,GAAf,CAA5C,CArBH,CAsBGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,KAAjC,EAAwC5C,IAAxC,CAA6C,UAA7C,IAtBH,CAuBGN,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,aAAjC,EAAgDpD,GAAhD,CAAoD6G,mBAAsBzD,GAAtB,CAApD,CAvBH,CAwBGlD,UAAUa,IAAV,CAAe,UAAYqC,GAAZ,CAAkB,aAAjC,EAAgD5C,IAAhD,CAAqD,UAArD,IAxBH,GA4BA,CAjvBF,CAkvBCkM,mBAAoB,4BAAUxM,SAAV,CAAqB,CACxCA,UAAUa,IAAV,CAAe,kBAAf,EAAmC4L,SAAnC,GACA,CApvBF,CAqvBCC,wBAAyB,kCAAY,CACpC,cAAgB3N,IAAI4N,QAAJ,CAAa,WAAb,CAA0B,iBAA1B,CAAhB,CACA,GAAIC,SAAJ,CAAe,CACd,aAAetO,EAAE,WAAF,EAAeuC,IAAf,CAAoB,yBAApB,CAAf,CACAgM,SAASnC,QAAT,CAAkBkC,SAAlB,EACA,CACD,CA3vBF,CA4vBCE,oBAAqB,8BAAY,CAChC,iBAAmB,KAAKpN,OAAL,EAAnB,CACAqN,aAAavI,EAAb,CAAgB,QAAhB,CAA0B,SAAUxC,CAAV,CAAa;AAEtC,GAA2C,WAAvC,sBAAoBtB,IAAb,CAAkB,QAAlB,CAAX,CACC,UAUA,GARAsM,SAASC,cAAT,CAA0B3O,EAAE4O,iBAAF,CAAoB,CAC7CC,QAASpO,IAAI8H,UAAJ,CAAe,qBAAf,CADoC,CAE7CuG,SAAU,MAFmC,CAG7CC,UAAW,CACVC,UADU,CAHkC,CAApB,CAQ1B,CADAP,aAAalM,IAAb,CAAkB,kBAAlB,EAAsCA,IAAtC,CAA2C,mBAA3C,EAAgE0M,WAAhE,CAA4E,QAA5E,CACA,CAAIR,aAAalK,gBAAb,CAA8B,UAA9B,CAAJ,CAA+C,CAE9CkK,aAAarM,IAAb,CAAkB,QAAlB,CAA4B,MAA5B,CAF8C,CAG9C;AACA,uBAAyBpC,EAAEkP,KAAF,CAAQjO,eAAeb,aAAvB,CAAzB,CACAqO,aAAarK,OAAb,CAAqB+K,kBAArB,CAAyC,CAAElM,MAAO,MAAT,CAAzC,CAL8C,CAM1CkM,mBAAmBC,kBAAnB,EAN0C,GAQ7CV,SAASC,cAAT,CAAwBC,iBAAxB,CAA0C,CAAES,KAAM,MAAR,CAA1C,CAR6C,CAS7CZ,aAAaa,UAAb,CAAwB,QAAxB,CAT6C,CAU7C5L,EAAE4F,cAAF,EAV6C,EAY9C,CAZD;AAcCoF,SAASC,cAAT,CAAwBC,iBAAxB,CAA0C,CAAES,KAAM,MAAR,CAA1C,CAdD,CAeCZ,aAAaa,UAAb,CAAwB,QAAxB,CAfD,CAgBC7O,IAAI8O,4BAAJ,CAAiCd,YAAjC,EAGF,CAhCD,EAiCA,CA/xBF;;KAmyBCe,gCAAiC,yCAAUC,IAAV,CAAgB,iBAChDA,KAAKvJ,EAAL,CAAQjF,eAAeb,aAAvB,CAAsC,SAACsD,CAAD,CAAa,CAClD,OAAKgM,iBAAL,CAAuBD,IAAvB,EAA6B/K,IAA7B,CAAkC,SAACO,QAAD,CAAc,CAC3C,aAD2C,EAE9CvB,EAAE4F,cAAF,GAED,CAJD,EAKA,CAND,EAOA,CA3yBF,CA4yBCoG,kBAAmB,2BAAUD,IAAV,CAAgB,CAClC,cAAkBzP,EAAE8G,QAAF,EAAlB,CACA,GAAI2I,KAAKlN,IAAL,CAAU,oBAAV,EAAgCf,GAAhC,EAAJ,CAA2C,CAC1CkN,SAASC,cAAT,CAA0B3O,EAAE4O,iBAAF,CAAoB,CAC7CC,QAASpO,IAAI8H,UAAJ,CAAe,qBAAf,CADoC,CAE7CuG,SAAU,MAFmC,CAG7CC,UAAW,CACVC,UADU,CAHkC,CAApB,CADgB,CAQ1C,aAAe,YAAA,CAAaS,KAAK,CAAL,CAAb,CAAf,CACA9E,SAASnF,MAAT,CAAgB,MAAhB,CAAwB,mBAAxB,CAT0C,CAU1CwB,aAAaC,OAAb,CAAqB,CACpB0I,QADoB,CAEpBC,IAAK,WAFe,CAGpBjK,KAAM,MAHc,CAIpBvD,KAAMuI,QAJc,CAKpBkF,cALoB,CAMpBC,cANoB,CAArB,EAQEpL,IARF,CAQO,SAACtC,IAAD,CAAU,CACfsM,SAASC,cAAT,CAAwBC,iBAAxB,CAA0C,CAAES,KAAM,MAAR,CAA1C,CADe,CAGf,iBADejN,KAAKiG,MACpB,CAASwC,EAAI,CAAb,CAAgBA,EAAI5F,SAAS9C,MAA7B,CAAqC0I,GAArC,CACK,cAASA,CAAT,EAAYxC,MADjB,GAEE5H,IAAI+L,UAAJ,CAAe,CACdC,KAAMxH,SAAS4F,CAAT,EAAYgE,OAAZ,CAAsB5J,SAAS4F,CAAT,EAAYgE,OAAlC,CAA4CpO,IAAI8H,UAAJ,CAAe,UAAf,CADpC,CAEd5C,KAAM,OAFQ,CAAf,CAFF,CAMM,eAASkF,CAAT,EAAYkF,UANlB,EAOGN,KAAKlN,IAAL,CAAU,UAAY0C,SAAS4F,CAAT,EAAYkF,UAAxB,CAAqC,IAA/C,EAAqDC,KAArD,EAPH,EAWA9I,UAAUC,OAAV,CAAwC,CAAtB,OAAKkB,MAAL,CAAYlG,MAA9B,EACA,CAvBF,EAwBEiF,IAxBF,CAwBO,SAAC6I,UAAD,CAAaC,WAAb,CAA6B,CAClCxB,SAASC,cAAT,CAAwBC,iBAAxB,CAA0C,CAAES,KAAM,MAAR,CAA1C,CADkC,CAElC5O,IAAI+L,UAAJ,CAAe,CACdC,KAAMhM,IAAI8H,UAAJ,CAAe,UAAf,CADQ,CAEd5C,KAAM,OAFQ,CAAf,CAFkC,CAMlClF,IAAI0P,QAAJ,CAAaF,UAAb,CAAyBC,WAAzB,CANkC,CAOlChJ,UAAUC,OAAV,KACA,CAhCF,EAiCA,CA3CD,eA4CWA,OAAV,IA5CD,CA+CA,iBAAiBG,OAAV,EACP,CA91BF;;;KAm2BC8I,wCAAyC,iDAAU1O,SAAV,CAAqB,CAC7D,2BAA6B1B,EAAE,6BAAF,CAAiC0B,SAAjC,CAA7B,CACA,KAAqC,CAAjC,yBAAuBS,MAA3B,iCAGgCM,KAAKC,KAAL,CAAW2N,uBAAuB7O,GAAvB,EAAX,CAHhC,CAKI8O,gBAAkBC,OAAOC,IAAP,CAAYC,yBAAZ,CALtB,CAMA,KAA8B,CAA1B,kBAAgBtO,MAApB,GAIA,KAAA,CAAIuO,oBAAsB,EAA1B,CAEA,IAAK7F,EAAI,CAAT,CAAYA,EAAIyF,gBAAgBnO,MAAhC,CAAwC0I,GAAxC,CACC6F,oBAAoBjI,IAApB,CAAyB,UAAY6H,gBAAgBzF,CAAhB,CAAZ,CAAiC,IAA1D,EAED6F,oBAAsBA,oBAAoBC,IAApB,CAAyB,GAAzB,CATtB,CAUA,2BAA6BjP,UAAUa,IAAV,CAAemO,mBAAf,CAA7B,CAEAE,uBAAuB1K,EAAvB,CAA0B,QAA1B,CAAoC,SAAUxC,CAAV,CAAa,CAChD,mBAAqB1D,EAAE0D,EAAE8C,aAAJ,CAArB,CACCqK,2BAA6BJ,0BAA0B1G,eAAe/H,IAAf,CAAoB,MAApB,CAA1B,CAD9B,CAEC8O,mCAAqCD,2BAA2B9G,eAAevI,GAAf,EAA3B,CAFtC,CAGCuP,YAAcF,sCAHf,CAKkD,WAA9C,2CAN4C,GAO/CC,mCAAqCC,WAPU,EAShD/Q,EAAE2C,IAAF,CAAOoO,WAAP,CAAoB,SAAUC,kBAAV,CAA8BC,oBAA9B,CAAoD,CACvE,sBAAwBH,mCAAmCE,kBAAnC,CAAxB,CACiC,WAA7B,0BAFmE,GAGtEE,kBAAoBD,oBAHkD,EAKvE,mBAAqBjR,EAAE,UAAYgR,kBAAZ,CAAiC,IAAnC,CAAyCtP,SAAzC,CAArB,CACA,KAA6B,CAAzB,iBAAeS,MAAnB,GAIA,2BAA6BgP,eAAe/O,IAAf,CAAoB,kBAApB,CAA7B,CACsC,WAAlC,+BALJ,GAMCgP,uBAAyBpR,EAAE,QAAF,CAAYmR,cAAZ,CAN1B,CAOCA,eAAe/O,IAAf,CAAoB,mBAApB,CAAyCgP,sBAAzC,CAPD,EAUA,kBAAoB,KAApB,CACCC,eAAiB,EADlB,CAGA,IADAA,eAAe5I,IAAf,CAAoB,EAApB,CACA,CAAKoC,EAAI,CAAT,CAAYA,EAAIqG,kBAAkB/O,MAAlC,CAA0C0I,GAA1C,CACCwG,eAAe5I,IAAf,CAAoByI,kBAAkBrG,CAAlB,CAApB,EAGD7K,EAAE2C,IAAF,CAAOyO,sBAAP,CAA+B,SAAUvG,CAAV,CAAanH,CAAb,CAAgB,CACA,CAAC,CAA3C,KAAEoH,OAAF,CAAU9K,EAAE0D,CAAF,EAAKlC,GAAL,EAAV,CAAsB6P,cAAtB,CAD0C,GAE7CC,cAAgBA,cAAcC,GAAd,CAAkBvR,EAAE0D,CAAF,CAAlB,CAF6B,EAI9C,CAJD,CAjBA,CAsBAyN,eAAeK,IAAf,CAAoBF,aAApB,EAAmC9P,GAAnC,CAAuC8P,cAAcG,MAAd,CAAqB,YAArB,EAAmCjQ,GAAnC,EAAvC,EAAiF4C,OAAjF,CAAyF,QAAzF,EAtBA,CAuBA,CA7BD,EA8BA,CAvCD,CAZA,CAsDAwM,uBAAuBxM,OAAvB,CAA+B,QAA/B,EAtDA,CANA,CA6DA,CAl6BF,CAm6BCsN,+BAAgC,wCAAUjC,IAAV,CAAgB,CAC/C,GAAwB,WAApB,iBAAA,EAAiE,WAA9B,kBAAgBkC,SAAnD,EAAgFpB,OAAOC,IAAP,CAAYoB,SAASD,SAArB,EAAgCxP,MAApH,CACCyP,SAAS1L,EAAT,CAAY,eAAZ,CAA6B,UAAa,CACzC,oBAAsBuJ,KAAKoC,SAAL,EAAtB,CACAC,OAAOC,cAAP,CAAwB,UAAa,CACpC,GAAIC,iBAAmBvC,KAAKoC,SAAL,EAAnB,EAA8D,MAAvB,OAAKzP,IAAL,CAAU,QAAV,CAA3C,CACC,WAAWmG,UAAJ,CAAe,yBAAf,CAER,EACD,CAPD,CADD,MASO,CACN,oBAAsBkH,KAAKoC,SAAL,EAAtB,CACAC,OAAOC,cAAP,CAAwB,UAAa,CACpC,GAAIC,iBAAmBvC,KAAKoC,SAAL,EAAnB,EAA8D,MAAvB,OAAKzP,IAAL,CAAU,QAAV,CAA3C,CACC,WAAWmG,UAAJ,CAAe,yBAAf,CAER,EACD,CACD,CAr7BF,CAs7BC0J,gBAAiB,0BAAY,SAClBjS,EAAE,YAAF,EAAgBkS,OAAhB,CAAwB,WAAxB,CADkB,CAExBC,GAAKnS,EAAE,YAAF,EAAgBoS,MAAhB,EAFmB,CAG5BpS,EAAEqS,GAAF,EAAO9P,IAAP,CAAY,aAAZ,EAA2B+P,MAA3B,EAH4B,CAI5BtS,EAAEmS,EAAF,EAAMlD,WAAN,CAAkB,WAAlB,CAJ4B,CAK5BjP,EAAEmS,EAAF,EAAM/F,QAAN,CAAe,WAAf,EACA,CA57BF;;KAg8BCmG,uBAAwB,iCAAY,iBAC/B9C,KAAO,KAAKrO,OAAL,EADwB,CAEnCpB,EAAE2C,IAAF,CAAO8M,KAAKlN,IAAL,CAAU,4CAAV,CAAP,CAAgE,SAACqC,GAAD,CAAMxC,IAAN,CAAe,CAC9E,OAAKoQ,iBAAL,CAAuBxS,EAAEoC,IAAF,CAAvB,EACA,CAFD,EAGA,CAr8BF,CAs8BCoQ,kBAAmB,2BAAUC,kBAAV,CAA8B,CAChDtM,IAAIC,MAAJ,CAAWsM,IAAX,CAAgBC,MAAhB,CAAuBxI,QAAvB,CAAgCsI,kBAAhC,EACA,CAx8BF,CAy8BCG,iBAAkB,0BAAUnD,IAAV,CAAgB,CAC5BA,IAD4B,GAEhCA,KAAO,KAAKrO,OAAL,EAFyB,EAIjCX,IAAIoS,sBAAJ,CAA2BpD,KAAKlN,IAAL,CAAU,eAAV,CAA3B,EACA,CA98BF,CA+8BCuQ,4BAA6B,sCAAY,UAC3B,IAD2B,CAEpCC,qBAAuB,KAAK3R,OAAL,EAFa,CAGxC2R,qBAAqB7M,EAArB,CAAwB,OAAxB,CAAiC,cAAjC,CAAiD,SAAUxC,CAAV,CAAa,CAC7D,WAAe1D,EAAE0D,EAAEE,MAAJ,CAAf,CACA,GACCA,OAAOwB,EAAP,CAAU,OAAV,GACAxB,OAAOwB,EAAP,CAAU,QAAV,CADA,EAEAxB,OAAOsO,OAAP,GAAiB9M,EAAjB,CAAoB,QAApB,CAFA,EAGAxB,OAAOgJ,QAAP,CAAgB,qBAAhB,CAHA,EAIAhJ,OAAOsO,OAAP,GAAiBtF,QAAjB,CAA0B,qBAA1B,CALD,CAOC,UAT4D,kBAWzC5M,EAAE0D,EAAE8C,aAAJ,EAAmBjE,IAAnB,CAAwB,kBAAxB,EAA4CyQ,GAA5C,CAAgD,SAAhD,CAXyC,CAYzDC,QAAUzM,cAAcpE,IAAd,CAAmB,IAAnB,CAZ+C,CAazD8Q,aAAe1M,cAAc7E,OAAd,CAAsB,kBAAtB,CAb0C,CAczDwR,aAAeD,aAAa3Q,IAAb,CAAkB,eAAlB,CAd0C,CAezDH,KAAOoE,cAAcpE,IAAd,EAfkD,CAwB5C,MAAb,OAAKiN,IAxBoD,EAgB3C,oBAAA,EAAY,CAC7B8D,aAAa/G,QAAb,CAAsB,QAAtB,CAD6B,CAE7B3L,IAAI2S,QAAJ,CAAaxJ,KAAKpJ,UAAL,CAAkB,GAAlB,CAAwByS,OAArC,CAA8C,CAA9C,EACA,CAMA,EAzB4D,CA0B5DzM,cAAc4F,QAAd,CAAuB,QAAvB,CA1B4D,CA2B5D8G,aAAa3Q,IAAb,CAAkB,oBAAlB,EAAwC0M,WAAxC,CAAoD,QAApD,CA3B4D,GAoB3C,oBAAA,EAAY,CAC7BkE,aAAalE,WAAb,CAAyB,QAAzB,CAD6B,CAE7BxO,IAAI2S,QAAJ,CAAaxJ,KAAKpJ,UAAL,CAAkB,GAAlB,CAAwByS,OAArC,CAA8C,CAA9C,EACA,CAMA,EA7B4D,CA8B5DzM,cAAc4F,QAAd,CAAuB,QAAvB,CA9B4D,CA+B5D8G,aAAa3Q,IAAb,CAAkB,sBAAlB,EAAwC0M,WAAxC,CAAoD,QAApD,CA/B4D,EAiC7D,CAjCD,EAkCA,CAp/BF,CAq/BCoE,+BAAgC,yCAAY,YAC9B,KAAKjS,OAAL,GAAemB,IAAf,CAAoB,kBAApB,CAD8B,CAEvChB,OAAS,KAAKf,UAFyB,CAG3C8S,OAAO3Q,IAAP,CAAY,SAAUC,KAAV,CAAiBuJ,KAAjB,CAAwB,CACnC,iBAAmBnM,EAAEmM,KAAF,CAAnB,CAC2D,CAAvD,gBAAa5J,IAAb,CAAkB,wBAAlB,EAA4CJ,MAA5C,EAAgI,CAApE,gBAAaI,IAAb,CAAkB,qCAAlB,EAAyDJ,MAFtF,EAGlCoR,aAAanH,QAAb,CAAsB,QAAtB,CAHkC,CAKnC,gBAAkBmH,aAAavR,IAAb,CAAkB,cAAlB,CAAlB,CACA,GAAI,gCAAA,qBAAOwR,WAAP,kBAA2C,gBAA/C,CAAsE,4BACxCD,aAAahR,IAAb,CAAkB,kBAAlB,EAAsCyQ,GAAtC,CAA0C,SAA1C,CADwC,CAEjEG,aAAeI,aAAahR,IAAb,CAAkB,eAAlB,CAFkD,CAGjE0Q,QAAUQ,uBAAuBrR,IAAvB,CAA4B,IAA5B,CAHuD,CAKjEa,MAAQxC,IAAI4N,QAAJ,CADG9M,OAAS,GAAT,CAAe0R,OAClB,CAAuB,IAAvB,CALyD,CAMxD,IAAT,OANiE,GAOvD,CAAT,OAPgE,EAQnEQ,uBAAuBrH,QAAvB,CAAgC,QAAhC,CARmE,CASnEmH,aAAahR,IAAb,CAAkB,sBAAlB,EAAwC0M,WAAxC,CAAoD,QAApD,CATmE,CAUnEkE,aAAalE,WAAb,CAAyB,QAAzB,CAVmE,GAYnEwE,uBAAuBrH,QAAvB,CAAgC,QAAhC,CAZmE,CAanEmH,aAAahR,IAAb,CAAkB,sBAAlB,EAAwC0M,WAAxC,CAAoD,QAApD,CAbmE,CAcnEkE,aAAa/G,QAAb,CAAsB,QAAtB,CAdmE,GAiBrE,CACD,CAxBD,EAyBA,CAjhCF;;KAqhCCsH,sBAAuB,gCAAY,CAClC,KAAKtS,OAAL,GACEmB,IADF,CACO,kBADP,EAEEI,IAFF,CAEO,SAAUC,KAAV,CAAiBuJ,KAAjB,CAAwB,CAC7B,iBAAmBnM,EAAEmM,KAAF,CAAnB,CAC2D,CAAvD,gBAAa5J,IAAb,CAAkB,wBAAlB,EAA4CJ,MAFnB,GAG4C,CAApE,gBAAaI,IAAb,CAAkB,qCAAlB,EAAyDJ,MAHjC,CAI3BoR,aAAanH,QAAb,CAAsB,QAAtB,CAJ2B,CAM3BmH,aAAatE,WAAb,CAAyB,QAAzB,CAN2B,EAS7B,CAXF,EAYA,CAliCF,CAmiCC0E,wBAAyB,kCAAY,CACpC,SAAa,IAAb,CACA,KAAKvS,OAAL,GACEmB,IADF,CACO,oBADP,EAEEI,IAFF,CAEO,SAAUC,KAAV,CAAiBkG,IAAjB,CAAuB,YACf9I,EAAE8I,IAAF,CADe,CAExBpH,UAAYkS,OAAOjS,OAAP,CAAe,mBAAf,CAFY,CAGxBkS,MAAQD,OAAOrR,IAAP,CAAY,sBAAZ,CAHgB,CAI5BsR,MAAMjM,YAAN,CAAmB,CAClBG,OAAQ,gBAAUd,OAAV,CAAmBhC,QAAnB,CAA6B,CACpC+B,aAAaC,OAAb,CAAqB,CACpB1F,OAAQqI,KAAKpJ,UADO,CAEpBuG,OAAQ,QAFY,CAGpBsI,KAAM,aAHc,CAIpB1J,KAAMiO,OAAOrR,IAAP,CAAY,qBAAZ,EAAmCf,GAAnC,EAJc,CAKpByB,MAAOgE,QAAQgB,IALK,CAArB,EAOEvD,IAPF,CAOO,SAAUoP,WAAV,CAAuB,CACxB,iBAAYzL,MADY,CAE3B5H,IAAI+L,UAAJ,CAAe,CACdC,KAAMhM,IAAI8H,UAAJ,CAAe,UAAf,CADQ,CAEd5C,KAAM,OAFQ,CAAf,CAF2B,CAMjBmO,YAAYzL,MAAZ,CAAmBlG,MANF,CAO3B8C,SAAS6O,YAAYzL,MAArB,CAP2B,CAS3BpD,SAAS,CAAC,CAAEqD,MAAO7H,IAAI8H,UAAJ,CAAe,qBAAf,CAAT,CAAgDtF,MAAO,EAAvD,CAAD,CAAT,EAED,CAlBF,EAmBEmE,IAnBF,CAmBO,SAAU6I,UAAV,CAAsBC,WAAtB,CAAmC6D,KAAnC,CAA0C,CAC/CtT,IAAI+L,UAAJ,CAAe,CACdC,KAAMsH,MAAMC,YAAN,CAAmBC,KAAnB,CAAyBpF,OADjB,CAEdlJ,KAAM,OAFQ,CAGduO,UAAW,MAHG,CAAf,CAD+C,CAM/CjP,SAAS,CAAC,CAAEqD,MAAO7H,IAAI8H,UAAJ,CAAe,qBAAf,CAAT,CAAgDtF,MAAO,EAAvD,CAAD,CAAT,EACA,CA1BF,EA2BA,CA7BiB,CA8BlB6E,UAAW+L,MAAMzR,IAAN,CAAW,KAAX,CA9BO,CA+BlBwG,OAAQ,gBAAUjE,KAAV,CAAiBkE,EAAjB,CAAqB,CAC5B7I,EAAE2C,IAAF,CAAOkG,GAAGC,IAAH,CAAQqL,OAAf,CAAwB,SAAUvR,KAAV,CAAiBK,KAAjB,CAAwB,CAC/C,UAAYvB,UAAUa,IAAV,CAAe,sBAAwBK,KAAxB,CAAgC,GAA/C,CAAZ,CACI+F,MAAMxG,MAAN,EAAgBc,KAF2B,EAGzB,QAAjB,6BAAA,qBAAOA,KAAP,EAH0C,GAI7CA,MAAQ,CAACA,KAAD,CAJqC,EAM9CjD,EAAE2C,IAAF,CAAOM,KAAP,CAAc,SAAUL,KAAV,CAAiBwR,CAAjB,CAAoB,CACjC,aAAA,CACC9S,UADD,CAE8B,QAA1B,SAAM+S,IAAN,CAAW,SAAX,CAH6B,CAIf,QAAb,yBAAA,qBAAOD,CAAP,EAJ4B,CAK/BpU,EAAE2C,IAAF,CAAOyR,CAAP,CAAU,SAAUxR,KAAV,CAAiB0R,CAAjB,CAAoB,CAC7BhT,QAAUqH,MAAMpG,IAAN,CAAW,eAAiBK,KAAjB,CAAyB,KAAzB,CAAgC0R,CAAhC,CAAoC,KAA/C,CADmB,CAEzBA,GAAKhT,QAAQa,MAFY,GAG5ByG,OAAStH,QAAQE,GAAR,EAHmB,EAK7B,CALD,CAL+B,EAY/BF,QAAUqH,MAAMpG,IAAN,CAAW,mBAAqB6R,CAArB,CAAyB,GAApC,CAZqB,CAa3BA,GAAK9S,QAAQa,MAbc,GAc9ByG,OAAStH,QAAQE,GAAR,EAdqB,EAgB/BF,QAAUqH,MAAMpG,IAAN,CAAW,iBAAmB6R,CAAnB,CAAuB,IAAlC,CAhBqB,CAiB3BA,GAAK9S,QAAQa,MAjBc,GAkB9ByG,OAAStH,QAAQE,GAAR,EAlBqB,GAsBhCoH,OAASwL,CAtBuB,CAwB7BxL,MAxB6B,EAyBhCD,MAAMnH,GAAN,CAAUoH,MAAV,EAAkBI,MAAlB,GAED,CA3BD,CAN8C,EAmC9CL,MAAMnH,GAAN,CAAU,EAAV,EAAcwH,MAAd,GAED,CArCD,CAD4B,CAuC5BH,GAAGC,IAAH,CAAQ7F,KAAR,CAAgB4Q,MAAMrS,GAAN,GAChB,CAvEiB,CAAnB,EAyEA,CA/EF,EAgFA,CArnCF,CAsnCC+S,iBAAkB,0BAAUjT,OAAV,CAAmB,gBACnBA,QAAQK,OAAR,CAAgB,aAAhB,CADmB,CAEhC8H,UAAY+K,WAAWjS,IAAX,CAAgB,mBAAhB,EAAqCP,IAArC,CAA0C,MAA1C,CAFoB,CAGhCyS,aAAeD,WAAWjS,IAAX,CAAgB,IAAMkH,SAAN,CAAkB,UAAlC,CAHiB,CAIpC+K,WAAWjS,IAAX,CAAgB,QAAhB,EAA0BoH,UAA1B,CAAqC,UAArC,CAJoC,CAKV,EAAtB,eAAanI,GAAb,EALgC,EAMnCgT,WAAWjS,IAAX,CAAgB,OAAhB,EAAyBoH,UAAzB,CAAoC,UAApC,CANmC,CAQpC6K,WAAWjS,IAAX,CAAgB,4BAAhB,EAA8C0M,WAA9C,CAA0D,QAA1D,CARoC,CASpC,gBAAkBwF,aAAazS,IAAb,CAAkB,qBAAlB,CAAlB,CACAyS,aAAa9K,UAAb,CAAwB,qBAAxB,CAVoC,CAWpC8K,aAAazS,IAAb,CAAkB,aAAlB,CAAiC0S,WAAjC,CAXoC,CAYpCF,WAAWjS,IAAX,CAAgB,uBAAhB,EAAyCP,IAAzC,CAA8C,UAA9C,CAA0D,UAA1D,EACA,CAnoCF,CAooCC2S,kBAAmB,2BAAUrT,OAAV,CAAmB,gBACpBA,QAAQK,OAAR,CAAgB,aAAhB,CADoB,CAEjC8H,UAAY+K,WAAWjS,IAAX,CAAgB,mBAAhB,EAAqCP,IAArC,CAA0C,MAA1C,CAFqB,CAGjCyS,aAAeD,WAAWjS,IAAX,CAAgB,IAAMkH,SAAN,CAAkB,UAAlC,CAHkB,CAIrC+K,WAAWjS,IAAX,CAAgB,OAAhB,EAAyBP,IAAzB,CAA8B,UAA9B,CAA0C,UAA1C,CAJqC,CAKrCwS,WAAWjS,IAAX,CAAgB,QAAhB,EAA0BP,IAA1B,CAA+B,UAA/B,CAA2C,UAA3C,CALqC,CAMrCwS,WAAWjS,IAAX,CAAgB,4BAAhB,EAA8C6J,QAA9C,CAAuD,QAAvD,CANqC,CAOrC,gBAAkBqI,aAAazS,IAAb,CAAkB,aAAlB,CAAlB,CACAyS,aAAa9K,UAAb,CAAwB,aAAxB,CARqC,CASrC8K,aAAazS,IAAb,CAAkB,qBAAlB,CAAyC0S,WAAzC,CATqC,CAUrCF,WAAWjS,IAAX,CAAgB,uBAAhB,EAAyCoH,UAAzC,CAAoD,UAApD,EACA,CA/oCF,CAgpCCnF,uBAAwB,gCAAUzC,WAAV,CAAuB6S,iBAAvB,CAA0ClT,SAA1C,CAAqD,yBAChDA,UAAUa,IAAV,CAAe,mCAAf,EAAoDf,GAApD,EADgD,CAEtEgB,qBAAuBF,oBAAsBG,KAAKC,KAAL,CAAWJ,mBAAX,CAAtB,CAAwD,EAFT,QAG3B,WAA7C,8BAA4BP,WAArB,CAAP,EAA4H,WAAhE,8BAA4BA,WAArB,EAAkC6S,iBAAlC,CAHK,CAIpEpS,qBAAqBT,WAArB,EAAkC6S,iBAAlC,CAJoE,CAMrE,EACP,CAvpCF,CAwpCCC,0BAA2B,mCAAUnT,SAAV,CAAqB,CAC/C,WAAajB,IAAIqU,gCAAjB,CACApT,UAAU6C,gBAAV,CAA2BjB,MAA3B,EACA,CA3pCF,CA4pCCyR,qBAAsB,8BAAUrT,SAAV,CAAqBsT,KAArB,CAA4B,kBAC9B,IAD8B,CAE7CC,gBAF6C,CAGhDC,mBAHgD,UAI5CC,OAAOC,yBAJqC,OAOjD1T,UAAUa,IAAV,CAAe,uCAAf,EAAwDI,IAAxD,CAA6D,SAAUC,KAAV,CAAiBtB,OAAjB,CAA0B,CACtFA,QAAUtB,EAAEsB,OAAF,CAD4E,CAEtF,QAAA,CAC0C,CAAtC,SAAQK,OAAR,CAAgB,WAAhB,EAA6BQ,MAHqD,GAIrFkT,IAJqF,CAKpC,CAA7C,SAAQ1T,OAAR,CAAgB,kBAAhB,EAAoCQ,MAL6C,GAMpFkT,IANoF,GAStF,kBAAoB/T,QAAQE,GAAR,EAApB,CACI6T,GAAsB,EAAjB,eAAL,EAA6C,GAAjB,eAVsD,GAWrFJ,gBAXqF,EAatF,CAbD,CAPiD,CAqBjDvT,UAAUa,IAAV,CAAe,0CAAf,EAA2DI,IAA3D,CAAgE,SAAUC,KAAV,CAAiBtB,OAAjB,CAA0B,CACzFA,QAAUtB,EAAEsB,OAAF,CAD+E,CAErF2T,aAFqF,CAGxFpQ,aAAa0P,gBAAb,CAA8BjT,OAA9B,CAHwF,EAKpF0T,KALoF,EAMvFnQ,aAAawE,eAAb,CAA6B/H,OAA7B,CANuF,CAQxFuD,aAAa8P,iBAAb,CAA+BrT,OAA/B,CARwF,EAWzF,QAAA,CAC0C,CAAtC,SAAQK,OAAR,CAAgB,WAAhB,EAA6BQ,MAZwD,GAaxFkT,IAbwF,CAcvC,CAA7C,SAAQ1T,OAAR,CAAgB,kBAAhB,EAAoCQ,MAdgD,GAevFkT,IAfuF,GAmBzF,kBAAoB/T,QAAQE,GAAR,EAApB,CACI6T,GAAsB,EAAjB,eAAL,EAA6C,GAAjB,eApByD,GAqBxFH,mBArBwF,EAuBzF,CAvBD,CArBiD,CA6CjDxT,UAAUa,IAAV,CAAe,6CAAf,EAA8DI,IAA9D,CAAmE,SAAUC,KAAV,CAAiBtB,OAAjB,CAA0B,CAC5FA,QAAUtB,EAAEsB,OAAF,CADkF,yBAElEA,QAAQK,OAAR,CAAgB,aAAhB,CAFkE,CAGxFQ,OAASmT,oBAAoB/S,IAApB,CAAyB,oDAAzB,EAA+EJ,MAHA,CAIxF+S,kBAA6B,CAAT,OAJoE,CAK3FrQ,aAAa0P,gBAAb,CAA8BjT,OAA9B,CAL2F,EAOvF0T,KAPuF,EAQ1FnQ,aAAawE,eAAb,CAA6B/H,OAA7B,CAR0F,CAU3FuD,aAAa8P,iBAAb,CAA+BrT,OAA/B,CAV2F,EAY5F,CAZD,CA7CiD,CA0DjD,CAttCF,CAutCCiU,2BAA4B,oCAAUjU,OAAV,CAAmB,CAC9C,WAAaA,QAAQiB,IAAR,CAAa,iBAAb,CAAb,CACqC,CAAjC,SAAOH,IAAP,CAAY,gBAAZ,CAF0C,CAK7Cd,QAAQK,OAAR,CAAgB,aAAhB,EAA+BY,IAA/B,CAAoC,wBAApC,EAA8D0M,WAA9D,CAA0E,QAA1E,CAL6C,CAG7C3N,QAAQK,OAAR,CAAgB,aAAhB,EAA+BY,IAA/B,CAAoC,wBAApC,EAA8D6J,QAA9D,CAAuE,QAAvE,EAID,CA9tCF,CA+tCCoJ,0BAA2B,mCAAU9T,SAAV,CAAqB,kBAC5B,IAD4B,CAE3C4T,oBAAsB5T,UAAUa,IAAV,CAAe,0CAAf,EAA2DZ,OAA3D,CAAmE,aAAnE,CAFqB,CAG3C8T,iBAAmBH,oBAAoB/S,IAApB,CAAyB,oCAAzB,EAA+Df,GAA/D,EAHwB,CAI3CkU,uBAAyBhU,UAAUa,IAAV,CAAe,6CAAf,EAA8DZ,OAA9D,CAAsE,aAAtE,CAJkB,CAK/CgU,iBAAiBC,WAAjB,CAA6BF,uBAAuBnT,IAAvB,CAA4B,uBAA5B,CAA7B,CAAmF,QAAnF,CAA6FkT,gBAA7F,CAL+C,CAM/C,oBAAsBC,uBAAuBnT,IAAvB,CAA4B,uBAA5B,EAAqDf,GAArD,EAAtB,CACAkU,uBAAuBnT,IAAvB,CAA4B,+BAA5B,EAA6Df,GAA7D,CAAiEqU,eAAjE,CAP+C,CAQ/ChR,aAAa0Q,0BAAb,CAAwCG,uBAAuBnT,IAAvB,CAA4B,uBAA5B,CAAxC,EACA,CAxuCF,CAyuCCuT,wBAAyB,iCAAUpU,SAAV,CAAqB,CAC7C,iBAAmB,IAAnB,CAD6C,SAExCyT,OAAOC,yBAFiC,OAK7CvQ,aAAa2Q,yBAAb,CAAuC9T,SAAvC,CAL6C,CAM7CmD,aAAakQ,oBAAb,CAAkCrT,SAAlC,IAN6C,CAO7CA,UAAUa,IAAV,CAAe,cAAf,EAA+B2D,EAA/B,CAAkCjF,eAAef,uBAAjD,CAA0E,UAAmB,CAC5F2E,aAAakQ,oBAAb,CAAkCrT,SAAlC,KACA,CAFD,CAP6C,CAU7CA,UAAUa,IAAV,CAAe,cAAf,EAA+B2D,EAA/B,CAAkCjF,eAAed,yBAAjD,CAA4E,UAAa,CACxF0E,aAAakQ,oBAAb,CAAkCrT,SAAlC,KACA,CAFD,CAV6C,CAa7CA,UACEa,IADF,CACO,0CADP,EAEEZ,OAFF,CAEU,aAFV,EAGEY,IAHF,CAGO,uBAHP,EAIE2D,EAJF,CAIK,QAJL,CAIe,UAAY,CACzBrB,aAAa2Q,yBAAb,CAAuC9T,SAAvC,EACA,CANF,CAb6C,CAoB7CA,UACEa,IADF,CACO,6CADP,EAEEZ,OAFF,CAEU,aAFV,EAGEY,IAHF,CAGO,uBAHP,EAIE2D,EAJF,CAIK,QAJL,CAIe,SAAUxC,CAAV,CAAa,CAC1BmB,aAAa0Q,0BAAb,CAAwCvV,EAAE0D,EAAE8C,aAAJ,CAAxC,EACA,CANF,CApB6C,CA2B7C,CApwCF,CAqwCCuP,wBAAyB,iCAAUrU,SAAV,CAAqBsU,YAArB,CAAmC,iBACvDC,qBADuD,CACvCC,6BADuC,+BAEzBxU,UAAUC,OAAV,CAAkB,qBAAlB,EAAyCQ,MAFhB,iBAG/C,UAAO,CACjB,OAAK4T,uBAAL,CAA6BrU,SAA7B,KACA,CAFD,CAEG,GAFH,CAH0D,MAQ3DA,UACEa,IADF,CACO,8IADP,EAEEI,IAFF,CAEO,SAAUkI,CAAV,CAAanH,CAAb,CAAgB,CACrB,YAAc1D,EAAE0D,CAAF,CAAd,CACA,GAAI,CAACpC,QAAQ+S,IAAR,CAAa,UAAb,CAAD,EAA6B,CAAC/S,QAAQ+S,IAAR,CAAa,UAAb,CAAlC,CAA4D,CAE3D,GADA/S,QAAUA,QAAQ6U,GAAR,CAAY,CAAZ,CACV,CAAqB,QAAjB,WAAQxQ,IAAR,EAA8C,UAAjB,WAAQA,IAArC,EAA4D,iBAAQ1C,KAAxE,CAA6F,CAC5F,YAAc3B,QAAQ2B,KAAR,CAAcd,MAA5B,CACAb,QAAQ8U,cAAR,CAAyBC,OAFmE,CAG5F/U,QAAQgV,YAAR,CAAuBD,QACvB,CACS,CAAN,MAAYJ,cAP2C,GAQ1DA,eAAiB3U,OARyC,EAU3D,aAAetB,EAAEsB,OAAF,EAAWU,IAAX,CAAgB,UAAhB,CAAf,CACA,GAAe,CAAX,WAAgB,+BAApB,CAEC,YADAkU,uBAAyBK,QACzB,EAGc,CAAX,WAAgBA,SAAWL,sBAhB4B,GAiB1DA,uBAAyBK,QAjBiC,CAkB1DN,eAAiB3U,OAlByC,EAoB3D,CACD,CAzBF,CAR2D,CAkCvD2U,cAlCuD,EAmC1DA,eAAejG,KAAf,EAnC0D,CAqC3D,CA1yCF,CA2yCCwG,kBAAmB,2BAAU9U,SAAV,CAAqB,CACvCA,UAAUa,IAAV,CAAe,kCAAf,EAAmD2D,EAAnD,CAAsD,QAAtD,CAAgE,SAAUxC,CAAV,CAAa,CAC5E,YAAc1D,EAAE0D,EAAE8C,aAAJ,CAAd,CACA9E,UAAUa,IAAV,CAAe,UAAYjB,QAAQc,IAAR,CAAa,aAAb,CAAZ,CAA0C,IAAzD,EAA+DZ,GAA/D,CAAmEF,QAAQE,GAAR,EAAnE,EACA,CAHD,EAIA,CAhzCF;;;KAqzCCiV,wBArzCD,mCAqzC0B/U,SArzC1B,CAqzCqC,CACnC,WAAW0E,MAAJ,CAAWsQ,UAAX,CAAsBvM,QAAtB,CAA+BzI,SAA/B,CACP,CAvzCF;;;KA4zCCiV,2BA5zCD,sCA4zC6BjV,SA5zC7B,CA4zCwC,CACH,WAA/B,4BADkC,GAErC,KAAKpB,mBAAL,CAA2BsW,oBAAoBC,oBAApB,CAAyCnV,SAAzC,CAFU,EAItC,CAh0CF;;;KAq0CCoV,6BAA8B,sCAAUpV,SAAV,CAAqB,CAClD,SAAa,IAAb,CACAA,UAAUwE,EAAV,CAAa,OAAb,CAAsB,4BAAtB,CAAoD,SAAUxC,CAAV,CAAa,CAChEA,EAAE4F,cAAF,EADgE,aAElDtJ,EAAE,IAAF,CAFkD,CAG5D2K,SAAWjJ,UAAUkJ,iBAAV,EAHiD,CAIhED,cAAmB,iBAJ6C,CAKhEA,uBAA4BrJ,QAAQc,IAAR,CAAa,MAAb,CALoC,CAMhE,sBANgE,CAOhE4E,aAAaC,OAAb,CAAqB0D,QAArB,EAA+BjG,IAA/B,CAAoC,SAAU8M,IAAV,CAAgB,CACnD/Q,IAAIsW,eAAJ,CACCvF,IADD,CAEC,SAAC9P,SAAD,CAAe,eACEA,UAAUa,IAAV,CAAe,gCAAf,CADF,CAEVyU,QAAUtV,UAAUa,IAAV,CAAe,+BAAf,CAFA,CAGd0U,UAAU1S,gBAAV,CAA2B9D,IAAIyW,uBAA/B,CAHc,CAIdD,UAAU/Q,EAAV,CAAa,QAAb,CAAuB,SAAUxC,CAAV,CAAa,CAC/BuT,UAAU1S,gBAAV,CAA2B,UAA3B,CAD+B,GAElCyS,QAAQxF,IAAR,CAAa,EAAb,CAFkC,CAGlCwF,QAAQpI,iBAAR,CAA0B,EAA1B,CAHkC,CAIlClL,EAAE4F,cAAF,EAJkC,CAKlCtC,aAAaC,OAAb,CAAqBgQ,UAAUrM,iBAAV,EAArB,EAAoDlG,IAApD,CAAyD,SAAUtC,IAAV,CAAgB,CACxE4U,QAAQpI,iBAAR,CAA0B,CAAES,KAAM,MAAR,CAA1B,CADwE,CAExE2H,QAAQxF,IAAR,CAAapP,IAAb,EACA,CAHD,CALkC,EAUnC,CAVD,CAJc,CAed,eAAiBwH,KAAKxI,OAAL,EAAjB,CACAM,UAAUwE,EAAV,CAAa,OAAb,CAAsB,8BAAtB,CAAsD,UAAY,CACjExE,UAAUa,IAAV,8CAA4D,KAAK4U,OAAL,CAAaC,MAAzE,aAA2F/C,IAA3F,CAAgG,SAAhG,KACA,CAFD,CAhBc,CAmBd3S,UAAUwE,EAAV,CAAa,OAAb,CAAsB,mCAAtB,CAA2D,UAAY,CACtE,aAAexE,UAAUa,IAAV,CAAe,iCAAf,EAAkDqI,iBAAlD,EAAf,CACA5K,EAAE2C,IAAF,CAAOgI,QAAP,CAAiB,SAAU/F,GAAV,CAAe3B,KAAf,CAAsB,CACtC,GAAc,EAAV,QAAJ,CAAkB,CACjB,iBAAmBoU,WAAW9U,IAAX,WAA0BqC,GAA1B,MAAnB,CACIrB,aAAapB,MAFA,CAGhBoB,aAAa+T,QAAb,CAAsBrU,KAAtB,CAHgB,CAKhBoU,WAAW7R,MAAX,+BAAgDZ,GAAhD,aAA+D3B,KAA/D,SAED,CACD,CATD,CAFsE,CAYtExC,IAAI8W,eAAJ,CAAoB,IAApB,CAA0B,gBAA1B,EACA,CAbD,EAcA,CAnCF,CAoCC,CAAEC,QAAS,gBAAX,CApCD,EAsCA,CAvCD,EAwCA,CA/CD,EAgDA,CAv3CF;;;KA43CCC,oBAAqB,6BAAU/V,SAAV,CAAqB,WAC7BA,UAAUa,IAAV,CAAe,gBAAf,CAD6B,CAErCmV,WAAaC,MAAMpV,IAAN,CAAW,OAAX,CAFwB,CAGrCqV,KAAOlW,UAAUa,IAAV,CAAe,eAAf,CAH8B,CAIrCsV,UAAYD,KAAKrV,IAAL,CAAU,OAAV,CAJyB,CAKrCuV,KAAOpW,UAAUa,IAAV,CAAe,kBAAf,CAL8B,CAMrCwV,UAAYD,KAAKvV,IAAL,CAAU,OAAV,CANyB,CAOrCyV,UAAYtW,UAAUa,IAAV,CAAe,2BAAf,CAPyB,CAQrC0V,aAAeD,UAAUxW,GAAV,EARsB,CASzCkW,WAAWQ,KAAX,CAAiB,UAAY,CAC5BH,UAAUvW,GAAV,CAAc,KAAKyB,KAAL,CAAa,MAAb,CAAsB4U,UAAUrW,GAAV,EAApC,EACA,CAFD,CATyC,CAYzCqW,UAAUK,KAAV,CAAgB,UAAY,CAC3BH,UAAUvW,GAAV,CAAckW,WAAWlW,GAAX,GAAmB,MAAnB,CAA4B,KAAKyB,KAA/C,EACA,CAFD,CAZyC,CAezC+U,UAAUhP,MAAV,CAAiB,UAAY,CACV,oBAAd,OAAK/F,KADmB,EAE3B6U,KAAK1L,QAAL,CAAc,QAAd,CAF2B,CAG3B2L,UAAUvW,GAAV,CAAckW,WAAWlW,GAAX,GAAmB,MAAnB,CAA4BqW,UAAUrW,GAAV,EAA1C,CAH2B,CAI3BmW,MAAM1I,WAAN,CAAkB,QAAlB,CAJ2B,CAK3B2I,KAAK3I,WAAL,CAAiB,QAAjB,CAL2B,EAMD,oBAAhB,cANiB,GAO3B6I,KAAK7I,WAAL,CAAiB,QAAjB,CAP2B,CAQ3B0I,MAAMvL,QAAN,CAAe,QAAf,CAR2B,CAS3BwL,KAAKxL,QAAL,CAAc,QAAd,CAT2B,CAU3B2L,UAAUvW,GAAV,CAAc,EAAd,CAV2B,EAY5ByW,aAAe,KAAKhV,MACpB,CAbD,EAcA,CAz5CF;;;KA85CCkV,wBAAyB,iCAAU/V,IAAV,CAAgB,UAC3B,IAD2B,CAEpCqN,KAAO,KAAKrO,OAAL,EAF6B,CAGL,QAA/B,UAAOgB,iBAAP,CAHoC,EAIvCpC,EAAE2C,IAAF,CAAOP,iBAAP,CAA6B,SAAUwC,GAAV,CAAe+D,KAAf,CAAsB,CAClDiB,KAAK/D,aAAL,CAAmB8C,KAAnB,EACA,CAFD,CAJuC,CAQP,WAA7B,wBARoC,EASvC8G,KAAKlN,IAAL,WAAoBH,eAApB,OAA4C4N,KAA5C,EATuC,CAWP,WAA7B,wBAXoC,EAYvCvP,IAAI+L,UAAJ,CAAepK,eAAf,CAZuC,CAcR,WAA5B,uBAdoC,EAevC3B,IAAIsW,eAAJ,CAAoB,IAApB,CAA0B3U,kBAA1B,CAfuC,CAiBP,WAA7B,wBAjBoC,EAkBvCpC,EAAE2C,IAAF,CAAOP,eAAP,CAA2B,SAAUwC,GAAV,CAAe6E,SAAf,CAA0B,CACpDgG,KAAKlN,IAAL,uCAAgDkH,SAAhD,OAA+DwF,WAA/D,CAA2E,QAA3E,CADoD,CAEpDrF,KAAK8J,qBAAL,GACA,CAHD,CAlBuC,CAuBP,WAA7B,wBAvBoC,EAwBvC1T,EAAE2C,IAAF,CAAOP,eAAP,CAA2B,SAAUwC,GAAV,CAAe6E,SAAf,CAA0B,CACpDgG,KAAKlN,IAAL,uCAAgDkH,SAAhD,OAA+D2C,QAA/D,CAAwE,QAAxE,CADoD,CAEpDxC,KAAK8J,qBAAL,GACA,CAHD,EAKD,CA37CF;;;KAg8CC0E,gCAAiC,yCAAU1W,SAAV,CAAqB,CACrD,UAAYA,UAAUa,IAAV,CAAe,wBAAf,CAAZ,CACA,KAAoB,CAAhB,QAAMJ,MAAV,YAGa,IAHb,CAIIkW,OAAS5V,KAAKC,KAAL,CAAWiC,MAAMnD,GAAN,EAAX,CAJb,CAKAxB,EAAE2C,IAAF,CAAO0V,MAAP,CAAe,SAAUzT,GAAV,CAAe6E,SAAf,CAA0B,CACxC,iBAAmB/H,UAAUa,IAAV,WAAyBkH,SAAzB,MAAnB,CACAlG,aAAayF,MAAb,CAAoB,UAAY,CAC/B,aAAetH,UAAUkJ,iBAAV,EAAf,CACAD,gBAAqB,oBAFU,CAG/B,oBAH+B,CAI/B3D,aAAaC,OAAb,CAAqB0D,QAArB,EAA+BjG,IAA/B,CAAoC,SAAUO,QAAV,CAAoB,CACvDjF,EAAE2C,IAAF,CAAOsC,SAASoD,MAAhB,CAAwB,SAAUzD,GAAV,CAAexC,IAAf,CAAqB,CAC5CwH,KAAKuO,uBAAL,CAA6B/V,IAA7B,EACA,CAFD,EAGA,CAJD,EAKA,CATD,EAUA,CAZD,EALA,CAkBA,CAp9CF;;;KAy9CCkW,oBAAqB,6BAAU5W,SAAV,CAAqB,CACzC,KAAKuE,iCAAL,CAAuCvE,SAAvC,CADyC,CAEzC,KAAKiG,0BAAL,CAAgCjG,SAAhC,CAFyC,CAGzC,KAAK0H,oCAAL,CAA0C1H,SAA1C,CAHyC,CAIzC,KAAKmI,kCAAL,CAAwCnI,SAAxC,CAJyC,CAKzC,KAAKsI,kBAAL,CAAwBtI,SAAxB,CALyC,CAMzC,KAAK0O,uCAAL,CAA6C1O,SAA7C,CANyC,CAOzC,KAAK8N,+BAAL,CAAqC9N,SAArC,CAPyC,CAQzC,KAAKkM,+BAAL,CAAqClM,SAArC,CARyC,CASzC,KAAK0W,+BAAL,CAAqC1W,SAArC,CATyC,CAUzC,KAAKwM,kBAAL,CAAwBxM,SAAxB,CAVyC,CAWzC,KAAKkR,gBAAL,CAAsBlR,SAAtB,CAXyC,CAYzC,KAAKoU,uBAAL,CAA6BpU,SAA7B,CAZyC,CAazC,KAAKqU,uBAAL,CAA6BrU,SAA7B,CAbyC,CAczC,KAAK8U,iBAAL,CAAuB9U,SAAvB,CAdyC,CAezC,KAAK+U,wBAAL,CAA8B/U,SAA9B,CAfyC,CAgBzC,KAAKyJ,uBAAL,CAA6BzJ,SAA7B,CAhByC,CAiBzC,KAAKoV,4BAAL,CAAkCpV,SAAlC,CAjByC,CAkBzC,KAAK+V,mBAAL,CAAyB/V,SAAzB,CAlByC,CAmBzCyE,IAAIC,MAAJ,CAAWmS,UAAX,CAAsBpO,QAAtB,CAA+BzI,SAA/B,CAnByC,CAoBzCyE,IAAIC,MAAJ,CAAWoS,gBAAX,CAA4BrO,QAA5B,CAAqCzI,SAArC,CApByC,CAqBzCyE,IAAIC,MAAJ,CAAWqS,IAAX,CAAgBtO,QAAhB,CAAyBzI,SAAzB,CArByC,CAsBzCyE,IAAIC,MAAJ,CAAWsS,aAAX,CAAyBvO,QAAzB,CAAkCzI,SAAlC,CAtByC,CAuBzCyE,IAAIC,MAAJ,CAAWuS,UAAX,CAAsBxO,QAAtB,CAA+BzI,SAA/B,EACA,CAj/CF,CAk/CCkX,eAAgB,yBAAY,CAC3B,iBAAmB,KAAKxX,OAAL,EAAnB,CACK,KAAK4E,qBAAL,EAFsB,GAK3B,KAAK2Q,2BAAL,CAAiClI,YAAjC,CAL2B,CAM3B,KAAKqE,2BAAL,EAN2B,CAO3B,KAAKO,8BAAL,EAP2B,CAQ3B,KAAKd,sBAAL,EAR2B,CAS3B,KAAKN,eAAL,EAT2B,CAU3B,KAAKqG,mBAAL,CAAyB7J,YAAzB,CAV2B,CAW3B,KAAK5C,2BAAL,EAX2B,CAY3B,KAAK2C,mBAAL,EAZ2B,CAa3B,KAAKkD,8BAAL,CAAoCjD,YAApC,CAb2B,CAc3B,KAAKoG,yBAAL,CAA+BpG,YAA/B,CAd2B,CAe3B,KAAKkF,uBAAL,EAf2B,CAgB3BlF,aAAalM,IAAb,CAAkB,qBAAlB,EAAyC8R,IAAzC,CAA8C,UAA9C,IAhB2B,EAkB3B,CApgDF,CArDD"}