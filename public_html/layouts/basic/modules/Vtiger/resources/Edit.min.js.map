{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Vtiger_Edit_Js',\n\t{\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceSelectionEvent: 'Vtiger.Reference.Selection',\n\t\t//Event that will triggered when reference field is selected\n\t\treferenceDeSelectionEvent: 'Vtiger.Reference.DeSelection',\n\t\t//Event that will triggered before saving the record\n\t\trecordPreSave: 'Vtiger.Record.PreSave',\n\t\teditInstance: false,\n\t\tinventoryController: false,\n\t\t/**\n\t\t * Function to get Instance by name\n\t\t * @params moduleName:-- Name of the module to create instance\n\t\t */\n\t\tgetInstanceByModuleName: function (moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet parentModule = app.getParentModuleName(),\n\t\t\t\tmoduleClassName,\n\t\t\t\tfallbackClassName,\n\t\t\t\tinstance;\n\t\t\tif (parentModule === 'Settings') {\n\t\t\t\tmoduleClassName = parentModule + '_' + moduleName + '_Edit_Js';\n\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\t}\n\t\t\t\tfallbackClassName = parentModule + '_Vtiger_Edit_Js';\n\t\t\t\tif (typeof window[fallbackClassName] === 'undefined') {\n\t\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmoduleClassName = moduleName + '_Edit_Js';\n\t\t\t\tfallbackClassName = 'Vtiger_Edit_Js';\n\t\t\t}\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t} else {\n\t\t\t\tinstance = new window[fallbackClassName]();\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t},\n\t\tgetInstance: function () {\n\t\t\tif (Vtiger_Edit_Js.editInstance == false) {\n\t\t\t\tlet instance = Vtiger_Edit_Js.getInstanceByModuleName();\n\t\t\t\tVtiger_Edit_Js.editInstance = instance;\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t\treturn Vtiger_Edit_Js.editInstance;\n\t\t},\n\t\t/**\n\t\t * Record save ajax\n\t\t *\n\t\t * `Vtiger_Edit_Js.saveAjax({\n\t\t *\t\tvalue: 'value',\n\t\t *\t\tfield: 'field'\n\t\t *\t}).done(() => {})\n\t\t *\t.fail((error, err) => {});`\n\t\t *\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjax: function (params, progressIndicator = true) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (typeof params === 'undefined' || $.isEmptyObject(params)) {\n\t\t\t\taDeferred.reject();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif (!params['record'] && app.getRecordId()) {\n\t\t\t\tparams['record'] = app.getRecordId();\n\t\t\t}\n\t\t\tif (!params['module']) {\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t}\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams = {\n\t\t\t\tdata: params,\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'json'\n\t\t\t};\n\t\t\tif (progressIndicator) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.saveAjaxValidation(params).then((response) => {\n\t\t\t\tif (response === true) {\n\t\t\t\t\tdelete params.data.mode;\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail((jqXHR, textStatus, errorThrown) => {\n\t\t\t\t\t\t\taDeferred.reject(jqXHR, textStatus, errorThrown);\n\t\t\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve({ success: false });\n\t\t\t\t\tif (progressIndicator) {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Record pre save validation\n\t\t * @param {object} params\n\t\t * @returns {Promise}\n\t\t */\n\t\tsaveAjaxValidation: function (params) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (this.getInstance().checkPreSaveValidation()) {\n\t\t\t\tlet paramsTemp = JSON.parse(JSON.stringify(params));\n\t\t\t\tparamsTemp.data.mode = 'preSaveValidation';\n\t\t\t\tAppConnector.request(paramsTemp)\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tconst response = data.result;\n\t\t\t\t\t\tlet lock = false;\n\t\t\t\t\t\tfor (let i in response) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tif (response[i].type === 'confirm' && typeof response[i].hash !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message || '',\n\t\t\t\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\tlet handlers = {};\n\t\t\t\t\t\t\t\t\t\t\tif (typeof params.data.skipHandlers !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\t\t\thandlers = JSON.parse(params.data.skipHandlers);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thandlers[i] = response[i].hash;\n\t\t\t\t\t\t\t\t\t\t\tparams.data.skipHandlers = JSON.stringify(handlers);\n\t\t\t\t\t\t\t\t\t\t\tthis.saveAjaxValidation(params, form).then((responsePart) => {\n\t\t\t\t\t\t\t\t\t\t\t\taDeferred.resolve(responsePart);\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\trejectedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tlock = true;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal !== 'undefined' &&\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal.url !== 'undefined'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(null, response[i].showModal.url, function (modalContainer) {\n\t\t\t\t\t\t\t\t\t\tapp.registerModalController(undefined, modalContainer, function (_, instance) {\n\t\t\t\t\t\t\t\t\t\t\tinstance.formContainer = form;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (data.result.length <= 0) {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t} else if (!lock) {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t},\n\t{\n\t\tformElement: false,\n\t\trelationOperation: '',\n\t\tmoduleName: app.getModuleName(),\n\t\tgetForm: function () {\n\t\t\tif (this.formElement == false) {\n\t\t\t\tthis.setForm($('#EditView'));\n\t\t\t}\n\t\t\treturn this.formElement;\n\t\t},\n\t\tsetForm: function (element) {\n\t\t\tthis.formElement = element;\n\t\t\tlet module;\n\t\t\tif ((module = $('input[name=\"module\"]', element))) {\n\t\t\t\tthis.moduleName = module.val();\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetRecordsListParams: function (container) {\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet sourceModule = $('input[name=\"module\"]', formElement).val();\n\t\t\tlet popupReferenceModule = $('input[name=\"popupReferenceModule\"]', container).val();\n\t\t\tlet sourceFieldElement = $('input[class=\"sourceField\"]', container);\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\tlet sourceRecordId = '';\n\t\t\tif (sourceRecordElement.length > 0) {\n\t\t\t\tsourceRecordId = sourceRecordElement.val();\n\t\t\t}\n\t\t\tlet isMultiple = false;\n\t\t\tif (sourceFieldElement.data('multiple') == true) {\n\t\t\t\tisMultiple = true;\n\t\t\t}\n\t\t\tlet filterFields = {};\n\t\t\tlet mappingRelatedField = formElement.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tlet mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\tmappingRelatedModule[sourceField] != undefined &&\n\t\t\t\tmappingRelatedModule[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(mappingRelatedModule[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet listFilterFieldsJson = formElement.find('input[name=\"listFilterFields\"]').val();\n\t\t\tlet listFilterFields = listFilterFieldsJson ? JSON.parse(listFilterFieldsJson) : [];\n\t\t\tif (\n\t\t\t\tlistFilterFields[sourceField] != undefined &&\n\t\t\t\tlistFilterFields[sourceField][popupReferenceModule] != undefined\n\t\t\t) {\n\t\t\t\t$.each(listFilterFields[sourceField][popupReferenceModule], function (index, value) {\n\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + index + '\"]');\n\t\t\t\t\tif (mapFieldElement.length && mapFieldElement.val() != '') {\n\t\t\t\t\t\tfilterFields[index] = mapFieldElement.val();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet params = {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\tsrc_module: sourceModule,\n\t\t\t\tsrc_field: sourceField,\n\t\t\t\tsrc_record: sourceRecordId,\n\t\t\t\tfilterFields: filterFields\n\t\t\t};\n\t\t\tlet searchParamsElement = $('input[name=\"searchParams\"]', container);\n\t\t\tlet searchParams = searchParamsElement.length > 0 ? JSON.parse(searchParamsElement.val()) : null;\n\t\t\tif (searchParams && searchParams[popupReferenceModule]) {\n\t\t\t\tparams['search_params'] = searchParams[popupReferenceModule];\n\t\t\t}\n\t\t\tlet modalParamsElement = $('input[name=\"modalParams\"]', container);\n\t\t\tif (modalParamsElement.length > 0) {\n\t\t\t\tparams['modal_params'] = modalParamsElement.val();\n\t\t\t}\n\t\t\tlet lockedFieldsElement = $('input[name=\"lockedFields\"]', container);\n\t\t\tif (lockedFieldsElement.length > 0) {\n\t\t\t\tparams['lockedFields'] = lockedFieldsElement.val();\n\t\t\t}\n\t\t\t$.each(['link', 'process'], function (index, value) {\n\t\t\t\tlet fieldElement = formElement.find('[name=\"' + value + '\"]');\n\t\t\t\tif (fieldElement.length && fieldElement.val() != '' && fieldElement.val() != 0) {\n\t\t\t\t\tparams[value] = fieldElement.val();\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (isMultiple) {\n\t\t\t\tparams.multi_select = true;\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Show records list modal\n\t\t * @param {jQuery.Event} e\n\t\t */\n\t\tshowRecordsList: function (e) {\n\t\t\tlet parentElem = $(e.target).closest('.fieldValue');\n\t\t\tif (parentElem.length <= 0) {\n\t\t\t\tparentElem = $(e.target).closest('td');\n\t\t\t}\n\t\t\tlet params = this.getRecordsListParams(parentElem);\n\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((data) => {\n\t\t\t\t\tthis.setReferenceFieldValue(parentElem, data);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsetReferenceFieldValue: function (container, params) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet sourceFieldElement = container.find('input.sourceField');\n\t\t\tlet sourceField = sourceFieldElement.attr('name');\n\t\t\tlet fieldElement = container.find('input[name=\"' + sourceField + '\"]');\n\t\t\tlet sourceFieldDisplay = sourceField + '_display';\n\t\t\tlet fieldDisplayElement = container.find('input[name=\"' + sourceFieldDisplay + '\"]');\n\t\t\tlet popupReferenceModule = container.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet selectedName = params.name;\n\t\t\tlet id = params.id;\n\n\t\t\tcontainer.find('.clearReferenceSelection').trigger('click');\n\n\t\t\tfieldElement.val(id);\n\t\t\tfieldDisplayElement.val(app.decodeHTML(selectedName)).attr('readonly', true);\n\t\t\tfieldElement.trigger(Vtiger_Edit_Js.referenceSelectionEvent, {\n\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\trecord: id,\n\t\t\t\tselectedName: selectedName\n\t\t\t});\n\t\t\tfieldDisplayElement.validationEngine('closePrompt', fieldDisplayElement);\n\t\t\tif (sourceFieldElement.data('type') == 'inventory') {\n\t\t\t\treturn params;\n\t\t\t}\n\t\t\tlet formElement = container.closest('form');\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(sourceField, popupReferenceModule, formElement);\n\t\t\tif (typeof mappingRelatedField !== 'undefined') {\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: popupReferenceModule,\n\t\t\t\t\trecord: id\n\t\t\t\t};\n\t\t\t\tapp.getRecordDetails(params).done(function (data) {\n\t\t\t\t\tlet response = (params.data = data['result']['data']);\n\t\t\t\t\tapp.event.trigger('EditView.SelectReference', params, formElement, data);\n\t\t\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\t\t\tif (response[value[0]] != 0) {\n\t\t\t\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tlet fieldinfo = mapFieldElement.data('fieldinfo');\n\t\t\t\t\t\t\tif (data['result']['type'][value[0]] === 'date' || data['result']['type'][value[0]] === 'datetime') {\n\t\t\t\t\t\t\t\tmapFieldElement.val(data['result']['displayData'][value[0]]);\n\t\t\t\t\t\t\t} else if (data['result']['type'][value[0]] === 'multipicklist') {\n\t\t\t\t\t\t\t\tlet mapFieldElementMultiselect = formElement.find('[name=\"' + key + '[]\"]');\n\t\t\t\t\t\t\t\tif (mapFieldElementMultiselect.length > 0) {\n\t\t\t\t\t\t\t\t\tlet multipleAttr = mapFieldElementMultiselect.attr('multiple');\n\t\t\t\t\t\t\t\t\tlet splitValues = response[value[0]].split(' |##| ');\n\t\t\t\t\t\t\t\t\tif (typeof multipleAttr !== 'undefined' && multipleAttr !== false && splitValues.length > 0) {\n\t\t\t\t\t\t\t\t\t\tmapFieldElementMultiselect.val(splitValues).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.is('select')) {\n\t\t\t\t\t\t\t\tif (mapFieldElement.find('option[value=\"' + response[value[0]] + '\"]').length) {\n\t\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]).trigger('change');\n\t\t\t\t\t\t\t\t} else if (mapFieldElement.data('fieldinfo').picklistvalues.hasOwnProperty(response[value[0]])) {\n\t\t\t\t\t\t\t\t\tlet newOption = new Option(response[value[0]], response[value[0]], true, true);\n\t\t\t\t\t\t\t\t\tmapFieldElement.append(newOption).trigger('change');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (mapFieldElement.length == 0) {\n\t\t\t\t\t\t\t\t$(\"<input type='hidden'/>\").attr('name', key).attr('value', response[value[0]]).appendTo(formElement);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmapFieldElement.val(response[value[0]]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\t\t\t\tmapFieldDisplayElement.val(data['result']['displayData'][value[0]]).attr('readonly', true);\n\t\t\t\t\t\t\t\tif (fieldinfo.type === 'reference') {\n\t\t\t\t\t\t\t\t\tlet referenceModulesList = mapFieldElement.closest('.fieldValue').find('.referenceModulesList');\n\t\t\t\t\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\t\t\t\t\treferenceModulesList.val(value[1]).trigger('change');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.setReferenceFieldValue(mapFieldDisplayElement.closest('.fieldValue'), {\n\t\t\t\t\t\t\t\t\t\tname: data['result']['displayData'][value[0]],\n\t\t\t\t\t\t\t\t\t\tid: response[value[0]]\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRelationOperation: function () {\n\t\t\tif (this.relationOperation === '') {\n\t\t\t\tlet relationOperation = $('[name=\"relationOperation\"]');\n\t\t\t\tif (relationOperation.length) {\n\t\t\t\t\tthis.relationOperation = relationOperation.val();\n\t\t\t\t} else {\n\t\t\t\t\tthis.relationOperation = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.relationOperation;\n\t\t},\n\t\tproceedRegisterEvents: function () {\n\t\t\treturn $('.recordEditView').length > 0;\n\t\t},\n\t\treferenceModulePopupRegisterEvent: function (container) {\n\t\t\tcontainer.on('click', '.relatedPopup', (e) => {\n\t\t\t\tthis.showRecordsList(e);\n\t\t\t});\n\t\t\tlet moduleList = container.find('.referenceModulesList');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.referenceModulesList:visible'));\n\t\t\tmoduleList.on('change', (e) => {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet parentElem = element.closest('.fieldValue');\n\t\t\t\tlet popupReferenceModule = element.val();\n\t\t\t\tlet referenceModuleElement = $('input[name=\"popupReferenceModule\"]', parentElem);\n\t\t\t\tlet prevSelectedReferenceModule = referenceModuleElement.val();\n\t\t\t\treferenceModuleElement.val(popupReferenceModule);\n\t\t\t\t//If Reference module is changed then we should clear the previous value\n\t\t\t\tif (prevSelectedReferenceModule != popupReferenceModule) {\n\t\t\t\t\tparentElem.find('.clearReferenceSelection').trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetReferencedModuleName: function (parenElement) {\n\t\t\treturn $('input[name=\"popupReferenceModule\"]', parenElement).val();\n\t\t},\n\t\tsearchModuleNames: function (params) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tif (typeof params.module === 'undefined') {\n\t\t\t\tparams.module = this.moduleName;\n\t\t\t}\n\t\t\tif (typeof params.action === 'undefined') {\n\t\t\t\tparams.action = 'BasicAjax';\n\t\t\t}\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get reference search params\n\t\t */\n\t\tgetReferenceSearchParams: function (element) {\n\t\t\tlet tdElement = $(element).closest('.fieldValue');\n\t\t\tlet params = {};\n\t\t\tlet searchModule = this.getReferencedModuleName(tdElement);\n\t\t\tparams.search_module = searchModule;\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Function which will handle the reference auto complete event registrations\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterAutoCompleteFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet formElement = container.closest('form');\n\t\t\tcontainer.find('input.autoComplete').autocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t//element will be array of dom elements\n\t\t\t\t\t//here this refers to auto complete instance\n\t\t\t\t\tlet inputElement = $(this.element[0]);\n\t\t\t\t\tlet searchValue = request.term;\n\t\t\t\t\tlet params = thisInstance.getReferenceSearchParams(inputElement);\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tlet sourceRecordElement = $('input[name=\"record\"]', formElement);\n\t\t\t\t\tif (sourceRecordElement.length > 0 && sourceRecordElement.val()) {\n\t\t\t\t\t\tparams.src_record = sourceRecordElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.searchModuleNames(params).done(function (data) {\n\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\tif (serverDataFormat.length <= 0) {\n\t\t\t\t\t\t\t$(inputElement).val('');\n\t\t\t\t\t\t\tserverDataFormat = new Array({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\tapp.event.trigger('EditView.AfterSearch', {\n\t\t\t\t\t\t\tfield: inputElement,\n\t\t\t\t\t\t\tparams: params\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t//To stop selection if no results is selected\n\t\t\t\t\tif (typeof selectedItemData.type !== 'undefined' && selectedItemData.type == 'no results') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedItemData.name = selectedItemData.value;\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet tdElement = element.closest('.fieldValue');\n\t\t\t\t\tthisInstance.setReferenceFieldValue(tdElement, selectedItemData);\n\t\t\t\t},\n\t\t\t\tchange: function (event, ui) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\t//if you dont have readonly attribute means the user didnt select the item\n\t\t\t\t\tif (element.attr('readonly') == undefined) {\n\t\t\t\t\t\telement.closest('.fieldValue').find('.clearReferenceSelection').trigger('click');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\topen: function (event, ui) {\n\t\t\t\t\t//To Make the menu come up in the case of quick create\n\t\t\t\t\t$(this).data('ui-autocomplete').menu.element.css('z-index', '100001');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register reference field clear event\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterClearReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.clearReferenceSelection', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\telement.closest('.fieldValue').find('.sourceField').trigger(Vtiger_Edit_Js.referenceDeSelectionEvent);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tclearFieldValue: function (element) {\n\t\t\tconst self = this;\n\t\t\tlet fieldValueContener = element.closest('.fieldValue');\n\t\t\tlet fieldNameElement = fieldValueContener.find('.sourceField');\n\t\t\tlet fieldName = fieldNameElement.attr('name');\n\t\t\tlet referenceModule = fieldValueContener.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet formElement = fieldValueContener.closest('form');\n\t\t\tif (fieldNameElement.data('fieldtype') == 'reference') {\n\t\t\t\tfieldNameElement.val(0);\n\t\t\t} else {\n\t\t\t\tfieldNameElement.val('');\n\t\t\t}\n\t\t\tfieldValueContener\n\t\t\t\t.find('#' + fieldName + '_display')\n\t\t\t\t.removeAttr('readonly')\n\t\t\t\t.val('');\n\t\t\tapp.event.trigger('EditView.ClearField', {\n\t\t\t\tfieldName: fieldName,\n\t\t\t\treferenceModule: referenceModule\n\t\t\t});\n\t\t\tlet mappingRelatedField = this.getMappingRelatedField(fieldName, referenceModule, formElement);\n\t\t\t$.each(mappingRelatedField, function (key, value) {\n\t\t\t\tlet mapFieldElement = formElement.find('[name=\"' + key + '\"]');\n\t\t\t\tif (mapFieldElement.is('select')) {\n\t\t\t\t\tmapFieldElement.val(mapFieldElement.find('option:first').val()).trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tmapFieldElement.val('');\n\t\t\t\t}\n\t\t\t\tlet mapFieldDisplayElement = formElement.find('input[name=\"' + key + '_display\"]');\n\t\t\t\tif (mapFieldDisplayElement.length > 0) {\n\t\t\t\t\tmapFieldDisplayElement.val('').attr('readonly', false);\n\t\t\t\t\tlet referenceModulesList = formElement.find(\n\t\t\t\t\t\t'#' + self.moduleName + '_editView_fieldName_' + key + '_dropDown'\n\t\t\t\t\t);\n\t\t\t\t\tif (referenceModulesList.length > 0 && value[1]) {\n\t\t\t\t\t\treferenceModulesList.val(referenceModulesList.find('option:first').val()).trigger('change');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register event to prevent form submission on pressing on enter\n\t\t * @params - container <jQuery> - element in which auto complete fields needs to be searched\n\t\t */\n\t\tregisterPreventingEnterSubmitEvent: function (container) {\n\t\t\tcontainer.on('keypress', function (e) {\n\t\t\t\t//Stop the submit when enter is pressed in the form\n\t\t\t\tlet currentElement = $(e.target);\n\t\t\t\tif (e.which == 13 && !currentElement.is('textarea')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterTimeFields: function (container) {\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tApp.Fields.Date.register(container);\n\t\t\tApp.Fields.DateTime.register(container);\n\t\t},\n\t\treferenceCreateHandler: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet postQuickCreateSave = function (data) {\n\t\t\t\tthisInstance.setReferenceFieldValue(container, {\n\t\t\t\t\tname: data.result._recordLabel,\n\t\t\t\t\tid: data.result._recordId\n\t\t\t\t});\n\t\t\t};\n\t\t\tlet params = { callbackFunction: postQuickCreateSave };\n\t\t\tif (app.getViewName() === 'Edit' && !app.getRecordId()) {\n\t\t\t\tlet formElement = this.getForm();\n\t\t\t\tlet formData = formElement.serializeFormData();\n\t\t\t\tfor (let i in formData) {\n\t\t\t\t\tif (!formData[i] || $.inArray(i, ['_csrf', 'action']) != -1) {\n\t\t\t\t\t\tdelete formData[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tparams.data = {};\n\t\t\t\tparams.data.sourceRecordData = formData;\n\t\t\t}\n\t\t\tlet referenceModuleName = this.getReferencedModuleName(container);\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, params);\n\t\t},\n\t\t/**\n\t\t * Function which will register event for create of reference record\n\t\t * This will allow users to create reference record from edit view of other record\n\t\t */\n\t\tregisterReferenceCreate: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tcontainer.on('click', '.createReferenceRecord', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet controlElementDiv = element.closest('.fieldValue');\n\t\t\t\tthisInstance.referenceCreateHandler(controlElementDiv);\n\t\t\t});\n\t\t},\n\t\taddressFieldsMapping: [\n\t\t\t'buildingnumber',\n\t\t\t'localnumber',\n\t\t\t'addresslevel1',\n\t\t\t'addresslevel2',\n\t\t\t'addresslevel3',\n\t\t\t'addresslevel4',\n\t\t\t'addresslevel5',\n\t\t\t'addresslevel6',\n\t\t\t'addresslevel7',\n\t\t\t'addresslevel8',\n\t\t\t'pobox'\n\t\t],\n\t\taddressFieldsMappingBlockID: {\n\t\t\tLBL_ADDRESS_INFORMATION: 'a',\n\t\t\tLBL_ADDRESS_BILLING: 'a',\n\t\t\tLBL_ADDRESS_MAILING_INFORMATION: 'b',\n\t\t\tLBL_ADDRESS_SHIPPING: 'b',\n\t\t\tLBL_ADDRESS_DELIVERY_INFORMATION: 'c'\n\t\t},\n\t\taddressFieldsData: false,\n\t\t/**\n\t\t * Function to register event for copying addresses\n\t\t */\n\t\tregisterEventForCopyAddress: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.formElement\n\t\t\t\t.find(\n\t\t\t\t\t'.js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldValue, .js-toggle-panel:not(.inventoryHeader):not(.inventoryItems) .fieldLabel'\n\t\t\t\t)\n\t\t\t\t.each(function () {\n\t\t\t\t\tlet block = $(this);\n\t\t\t\t\tlet referenceModulesList = block.find('.referenceModulesList');\n\t\t\t\t\tif (referenceModulesList.length > 0) {\n\t\t\t\t\t\treferenceModulesList.on('change', function () {\n\t\t\t\t\t\t\tthisInstance.formElement\n\t\t\t\t\t\t\t\t.find('[class*=\"copyAddressFrom\"]:not(.copyAddressFromMain, .copyAddressFromMailing)')\n\t\t\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress($(this).val(), block.find('.sourceField').attr('name'));\n\t\t\t\t\t\t});\n\t\t\t\t\t\treferenceModulesList.trigger('change');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet referenceFields = block.find('[name=\"popupReferenceModule\"]');\n\t\t\t\t\t\tif (referenceFields.length > 0) {\n\t\t\t\t\t\t\tthisInstance.registerEventForCopyBlockAddress(\n\t\t\t\t\t\t\t\treferenceFields.val(),\n\t\t\t\t\t\t\t\tblock.find('.sourceField').attr('name')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.formElement.find('.js-toggle-panel').each(function () {\n\t\t\t\tlet hideCopyAddressLabel = true;\n\t\t\t\t$(this)\n\t\t\t\t\t.find('.adressAction button')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\tif ($(this).hasClass('d-none') == false) {\n\t\t\t\t\t\t\thideCopyAddressLabel = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tif (hideCopyAddressLabel) {\n\t\t\t\t\t$(this).find('.copyAddressLabel').addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMain').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromMailing').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t\tthis.formElement.find('.copyAddressFromDelivery').on('click', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet block = element.closest('.js-toggle-panel');\n\t\t\t\tlet from = element.data('label');\n\t\t\t\tlet to = block.data('label');\n\t\t\t\tthisInstance.copyAddress(from, to, false, false);\n\t\t\t});\n\t\t},\n\t\tregisterEventForCopyBlockAddress: function (moduleName, fieldName) {\n\t\t\tconst self = this;\n\t\t\tif (moduleName == 'Accounts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromAccount',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_ACCOUNT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Contacts') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromContact',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_CONTACT_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Leads') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromLead',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_LEAD_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t} else if (moduleName == 'Vendors') {\n\t\t\t\tself.enableCopyAddressFromModule(\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tself.formElement,\n\t\t\t\t\t'copyAddressFromVendor',\n\t\t\t\t\tfieldName,\n\t\t\t\t\t'JS_PLEASE_SELECT_AN_VENDOR_TO_COPY_ADDRESS'\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Show button to copy the address details from selected module\n\t\t */\n\t\tenableCopyAddressFromModule: function (moduleName, formElement, className, fieldName, label) {\n\t\t\tlet thisInstance = this;\n\t\t\tformElement\n\t\t\t\t.find('.' + className)\n\t\t\t\t.removeClass('d-none')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\tlet element = $(this);\n\t\t\t\t\tlet recordRelativeAccountId = $('[name=\"' + fieldName + '\"]').val();\n\t\t\t\t\tif (recordRelativeAccountId == '' || recordRelativeAccountId == '0') {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate(label),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet recordRelativeAccountName = $('#' + fieldName + '_display').val();\n\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\trecord: recordRelativeAccountId,\n\t\t\t\t\t\t\tselectedName: recordRelativeAccountName,\n\t\t\t\t\t\t\tmodule: moduleName\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthisInstance.copyAddressDetails(\n\t\t\t\t\t\t\telement.data('label'),\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel').data('label'),\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\telement.closest('.js-toggle-panel')\n\t\t\t\t\t\t);\n\t\t\t\t\t\telement.attr('checked', 'checked');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will copy the address details\n\t\t */\n\t\tcopyAddressDetails: function (from, to, data, container) {\n\t\t\tapp.getRecordDetails(data).done((response) => {\n\t\t\t\tthis.addressFieldsData = response['result'];\n\t\t\t\tthis.copyAddress(from, to, true, data['module']);\n\t\t\t\tapp.event.trigger('Edit.CopyAddress', this, from, to, response, data, container);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to copy address between fields\n\t\t * @param strings which accepts value as either odd or even\n\t\t */\n\t\tcopyAddress: function (fromLabel, toLabel, relatedRecord, sourceModule) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet formElement = this.getForm(),\n\t\t\t\tstatus = false,\n\t\t\t\taddressMapping = this.addressFieldsMapping,\n\t\t\t\tBlockIds = this.addressFieldsMappingBlockID,\n\t\t\t\tfrom = BlockIds[fromLabel];\n\t\t\tif (relatedRecord === false || sourceModule === false) from = BlockIds[fromLabel];\n\t\t\tlet to = BlockIds[toLabel],\n\t\t\t\tkey,\n\t\t\t\tfromElement,\n\t\t\t\tfromElementLabel,\n\t\t\t\tnameElementFrom,\n\t\t\t\tnameElementTo;\n\t\t\tfor (key in addressMapping) {\n\t\t\t\tnameElementFrom = addressMapping[key] + from;\n\t\t\t\tnameElementTo = addressMapping[key] + to;\n\t\t\t\tif (relatedRecord) {\n\t\t\t\t\tfromElement = thisInstance.addressFieldsData['data'][nameElementFrom];\n\t\t\t\t\tfromElementLabel = thisInstance.addressFieldsData['displayData'][nameElementFrom];\n\t\t\t\t} else {\n\t\t\t\t\tfromElement = formElement.find('[name=\"' + nameElementFrom + '\"]').val();\n\t\t\t\t\tfromElementLabel = formElement.find('[name=\"' + nameElementFrom + '_display\"]').val();\n\t\t\t\t}\n\t\t\t\tlet toElement = formElement.find('[name=\"' + nameElementTo + '\"]'),\n\t\t\t\t\ttoElementLable = formElement.find('[name=\"' + nameElementTo + '_display\"]');\n\t\t\t\tif (fromElement !== '' && fromElement !== '0' && fromElement !== undefined) {\n\t\t\t\t\tif (toElementLable.length > 0) toElementLable.attr('readonly', true);\n\t\t\t\t\tstatus = true;\n\t\t\t\t\ttoElement.val(fromElement);\n\t\t\t\t\ttoElementLable.val(fromElementLabel);\n\t\t\t\t\tif (toElement.is('[data-select2-id]')) {\n\t\t\t\t\t\tif (toElement.val() !== fromElement) {\n\t\t\t\t\t\t\ttoElement.val('');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttoElement.trigger('change');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\ttoElement.val('');\n\t\t\t\t\ttoElement.attr('readonly', false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (status === false) {\n\t\t\t\tlet errorMsg;\n\t\t\t\tif (sourceModule === 'Accounts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_ACCOUNT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else if (sourceModule === 'Contacts') {\n\t\t\t\t\terrorMsg = 'JS_SELECTED_CONTACT_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t} else {\n\t\t\t\t\terrorMsg = 'JS_DOES_NOT_HAVE_AN_ADDRESS';\n\t\t\t\t}\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttext: app.vtranslate(errorMsg),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterReferenceSelectionEvent: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relategField = container.find(\"input[name*='addresslevel']\");\n\t\t\trelategField.on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tlet blockContainer = $(e.currentTarget).closest('.js-toggle-panel');\n\t\t\t\tthisInstance.copyAddressDetailsRef(data, blockContainer);\n\t\t\t});\n\t\t},\n\t\tcopyAddressDetailsRef: function (data, container) {\n\t\t\tlet thisInstance = this;\n\t\t\tapp\n\t\t\t\t.getRecordDetails(data)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data['result'];\n\t\t\t\t\tthisInstance.mapAddressDetails(response, container);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {});\n\t\t},\n\t\tmapAddressDetails: function (result, container) {\n\t\t\tfor (let key in result) {\n\t\t\t\tif (key.indexOf('addresslevel') != -1) {\n\t\t\t\t\tif (container.find('[name=\"' + key + '\"]').length != 0) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + '_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'a_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'b_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').length != 0 &&\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val() == 0 &&\n\t\t\t\t\t\tresult['data'][key] != 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').val(result['data'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c\"]').attr('readonly', true);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').val(result['displayData'][key]);\n\t\t\t\t\t\tcontainer.find('[name=\"' + key + 'c_display\"]').attr('readonly', true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterMaskFields: function (container) {\n\t\t\tcontainer.find('[data-inputmask]').inputmask();\n\t\t},\n\t\tregisterSubmitEvent: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\teditViewForm.on('submit', function (e) {\n\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\tif (typeof editViewForm.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\teditViewForm.find('.js-toggle-panel').find('.js-block-content').removeClass('d-none');\n\t\t\t\t\tif (editViewForm.validationEngine('validate')) {\n\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\teditViewForm.data('submit', 'true');\n\t\t\t\t\t\t//on submit form trigger the recordPreSave event\n\t\t\t\t\t\tlet recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\t\teditViewForm.trigger(recordPreSaveEvent, { value: 'edit' });\n\t\t\t\t\t\tif (recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\t//If duplicate record validation fails, form should submit again\n\t\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\teditViewForm.removeData('submit');\n\t\t\t\t\t\tapp.formAlignmentAfterValidation(editViewForm);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to check the view permission of a record after save\n\t\t */\n\t\tregisterRecordPreSaveEventEvent: function (form) {\n\t\t\tform.on(Vtiger_Edit_Js.recordPreSave, (e, data) => {\n\t\t\t\tthis.preSaveValidation(form).done((response) => {\n\t\t\t\t\tif (response !== true) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tpreSaveValidation: function (form) {\n\t\t\tconst aDeferred = $.Deferred();\n\t\t\tif (form.find('#preSaveValidation').val()) {\n\t\t\t\tdocument.progressLoader = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet formData = new FormData(form[0]);\n\t\t\t\tformData.append('mode', 'preSaveValidation');\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: false,\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t})\n\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\tfor (let i in response) {\n\t\t\t\t\t\t\tif (response[i].result !== true) {\n\t\t\t\t\t\t\t\tif (response[i].type === 'confirm' && typeof response[i].hash !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message || '',\n\t\t\t\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\t\t\t\tlet handlers = {},\n\t\t\t\t\t\t\t\t\t\t\t\thandlerElement = form.find('input[name=\"skipHandlers\"]');\n\t\t\t\t\t\t\t\t\t\t\tif (handlerElement.length) {\n\t\t\t\t\t\t\t\t\t\t\t\thandlers = JSON.parse(handlerElement.val());\n\t\t\t\t\t\t\t\t\t\t\t\thandlerElement.remove();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\thandlers[i] = response[i].hash;\n\t\t\t\t\t\t\t\t\t\t\tform.append(\n\t\t\t\t\t\t\t\t\t\t\t\t$('<input>', { name: 'skipHandlers', value: JSON.stringify(handlers), type: 'hidden' })\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tform.submit();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal !== 'undefined' &&\n\t\t\t\t\t\t\t\t\ttypeof response[i].showModal.url !== 'undefined'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(null, response[i].showModal.url, function (modalContainer) {\n\t\t\t\t\t\t\t\t\t\tapp.registerModalController(undefined, modalContainer, function (_, instance) {\n\t\t\t\t\t\t\t\t\t\t\tinstance.formContainer = form;\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttext: response[i].message ? response[i].message : app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (response[i].hoverField != undefined) {\n\t\t\t\t\t\t\t\t\tform.find('[name=\"' + response[i].hoverField + '\"]').focus();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\taDeferred.resolve(data.result.length <= 0);\n\t\t\t\t\t})\n\t\t\t\t\t.fail((textStatus, errorThrown) => {\n\t\t\t\t\t\tdocument.progressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(true);\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tregisterLeavePageWithoutSubmit: function (form) {\n\t\t\tif (\n\t\t\t\ttypeof CKEDITOR !== 'undefined' &&\n\t\t\t\ttypeof CKEDITOR.instances !== 'undefined' &&\n\t\t\t\tObject.keys(CKEDITOR.instances).length\n\t\t\t) {\n\t\t\t\tCKEDITOR.on('instanceReady', function (e) {\n\t\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet initialFormData = form.serialize();\n\t\t\t\twindow.onbeforeunload = function (e) {\n\t\t\t\t\tif (initialFormData != form.serialize() && form.data('submit') != 'true') {\n\t\t\t\t\t\treturn app.vtranslate('JS_CHANGES_WILL_BE_LOST');\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstretchCKEditor: function () {\n\t\t\tlet row = $('.js-editor').parents('.fieldRow');\n\t\t\tlet td = $('.js-editor').parent();\n\t\t\t$(row).find('.fieldLabel').remove();\n\t\t\t$(td).removeClass('col-md-10');\n\t\t\t$(td).addClass('col-md-12');\n\t\t},\n\t\t/**\n\t\t * Function to register event for ckeditor for description field\n\t\t */\n\t\tregisterEventForEditor: function () {\n\t\t\tlet form = this.getForm();\n\t\t\t$.each(form.find('.js-editor:not(.js-inventory-item-comment)'), (key, data) => {\n\t\t\t\tthis.loadEditorElement($(data));\n\t\t\t});\n\t\t},\n\t\tloadEditorElement: function (noteContentElement) {\n\t\t\tApp.Fields.Text.Editor.register(noteContentElement);\n\t\t},\n\t\tregisterHelpInfo: function (form) {\n\t\t\tif (!form) {\n\t\t\t\tform = this.getForm();\n\t\t\t}\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function () {\n\t\t\tlet blocks = this.getForm().find('.js-toggle-panel');\n\t\t\tlet module = this.moduleName;\n\t\t\tblocks.each(function (index, block) {\n\t\t\t\tlet currentBlock = $(block);\n\t\t\t\tif (\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column').length !== 0 &&\n\t\t\t\t\tcurrentBlock.find('.js-field-block-column:not(.d-none)').length === 0\n\t\t\t\t) {\n\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Visibility check block\n\t\t */\n\t\tcheckVisibilityBlocks: function () {\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-toggle-panel')\n\t\t\t\t.each(function (index, block) {\n\t\t\t\t\tlet currentBlock = $(block);\n\t\t\t\t\tif (currentBlock.find('.js-field-block-column').length !== 0) {\n\t\t\t\t\t\tif (currentBlock.find('.js-field-block-column:not(.d-none)').length === 0) {\n\t\t\t\t\t\t\tcurrentBlock.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentBlock.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\tregisterAutoloadAddress: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getForm()\n\t\t\t\t.find('.js-search-address')\n\t\t\t\t.each(function (_index, e) {\n\t\t\t\t\tlet search = $(e);\n\t\t\t\t\tlet container = search.closest('.js-block-content');\n\t\t\t\t\tlet input = search.find('.js-autoload-address');\n\t\t\t\t\tinput\n\t\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\tmodule: self.moduleName,\n\t\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\t\ttype: search.find('.js-select-operator').val(),\n\t\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function (_textStatus, _errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tminLength: input.data('min'),\n\t\t\t\t\t\t\tselect: function (_event, ui) {\n\t\t\t\t\t\t\t\t$.each(ui.item.address, function (index, value) {\n\t\t\t\t\t\t\t\t\tlet field = container.find('.fieldValue [name^=' + index + ']');\n\t\t\t\t\t\t\t\t\tif (field.length && value) {\n\t\t\t\t\t\t\t\t\t\tif (typeof value !== 'object') {\n\t\t\t\t\t\t\t\t\t\t\tvalue = [value];\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t$.each(value, function (_idx, v) {\n\t\t\t\t\t\t\t\t\t\t\tlet select = false,\n\t\t\t\t\t\t\t\t\t\t\t\telement = false;\n\t\t\t\t\t\t\t\t\t\t\tif (field.prop('tagName') === 'SELECT') {\n\t\t\t\t\t\t\t\t\t\t\t\tif (typeof v === 'object') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t$.each(v, function (idx, x) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[data-' + idx + \"='\" + x + \"']\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (x && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option:contains(' + v + ')');\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\telement = field.find('option[value=\"' + v + '\"]');\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (v && element.length) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect = element.val();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tselect = v;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tif (select) {\n\t\t\t\t\t\t\t\t\t\t\t\tfield.val(select).change();\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tfield.val('').change();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tui.item.value = input.val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.autocomplete('instance')._renderItem = function (ul, item) {\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.append(`<div><span class=\"fi fi-${item.countryCode} mr-2\"></span>${item.label}</div>`)\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t},\n\t\tsetEnabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('button').removeAttr('disabled');\n\t\t\tif (fieldDisplay.val() == '') {\n\t\t\t\tfieldValue.find('input').removeAttr('readonly');\n\t\t\t}\n\t\t\tfieldValue.find('.referenceModulesListGroup').removeClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholderDisabled');\n\t\t\tfieldDisplay.removeAttr('placeholderDisabled');\n\t\t\tfieldDisplay.attr('placeholder', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').attr('required', 'required');\n\t\t},\n\t\tsetDisabledFields: function (element) {\n\t\t\tlet fieldValue = element.closest('.fieldValue');\n\t\t\tlet fieldName = fieldValue.find('input.sourceField').attr('name');\n\t\t\tlet fieldDisplay = fieldValue.find('#' + fieldName + '_display');\n\t\t\tfieldValue.find('input').attr('readonly', 'readonly');\n\t\t\tfieldValue.find('button').attr('disabled', 'disabled');\n\t\t\tfieldValue.find('.referenceModulesListGroup').addClass('d-none');\n\t\t\tlet placeholder = fieldDisplay.attr('placeholder');\n\t\t\tfieldDisplay.removeAttr('placeholder');\n\t\t\tfieldDisplay.attr('placeholderDisabled', placeholder);\n\t\t\tfieldValue.find('.referenceModulesList').removeAttr('required');\n\t\t},\n\t\tgetMappingRelatedField: function (sourceField, sourceFieldModule, container) {\n\t\t\tconst mappingRelatedField = container.find('input[name=\"mappingRelatedField\"]').val();\n\t\t\tconst mappingRelatedModule = mappingRelatedField ? JSON.parse(mappingRelatedField) : [];\n\t\t\tif (\n\t\t\t\ttypeof mappingRelatedModule[sourceField] !== 'undefined' &&\n\t\t\t\ttypeof mappingRelatedModule[sourceField][sourceFieldModule] !== 'undefined'\n\t\t\t) {\n\t\t\t\treturn mappingRelatedModule[sourceField][sourceFieldModule];\n\t\t\t}\n\t\t\treturn [];\n\t\t},\n\t\tregisterValidationsFields: function (container) {\n\t\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t\tcontainer.validationEngine(params);\n\t\t},\n\t\tcheckReferencesField: function (container, clear) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet activeProcess = false,\n\t\t\t\tactiveSubProcess = false;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceLink\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tif (activeProcess) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\n\t\t\t\tlet t = true;\n\t\t\t\tif (element.closest('.tab-pane').length > 0) {\n\t\t\t\t\tt = false;\n\t\t\t\t\tif (element.closest('.tab-pane.active').length > 0) {\n\t\t\t\t\t\tt = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet referenceLink = element.val();\n\t\t\t\tif (t && referenceLink != '' && referenceLink != '0') {\n\t\t\t\t\tactiveSubProcess = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('input[data-fieldtype=\"referenceSubProcess\"]').each(function (index, element) {\n\t\t\t\telement = $(element);\n\t\t\t\tlet processfieldElement = element.closest('.fieldValue');\n\t\t\t\tlet length = processfieldElement.find('.referenceModulesList option[disabled!=\"disabled\"]').length;\n\t\t\t\tif (activeSubProcess && length > 0) {\n\t\t\t\t\tthisInstance.setEnabledFields(element);\n\t\t\t\t} else {\n\t\t\t\t\tif (clear) {\n\t\t\t\t\t\tthisInstance.clearFieldValue(element);\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance.setDisabledFields(element);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcheckSubProcessModulesList: function (element) {\n\t\t\tlet option = element.find('option:selected');\n\t\t\tif (option.data('is-quickcreate') != 1) {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').addClass('d-none');\n\t\t\t} else {\n\t\t\t\telement.closest('.fieldValue').find('.createReferenceRecord').removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tcheckReferenceModulesList: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet processfieldElement = container.find('input[data-fieldtype=\"referenceProcess\"]').closest('.fieldValue');\n\t\t\tlet referenceProcess = processfieldElement.find('input[name=\"popupReferenceModule\"]').val();\n\t\t\tlet subProcessfieldElement = container.find('input[data-fieldtype=\"referenceSubProcess\"]').closest('.fieldValue');\n\t\t\tVtiger_Helper_Js.hideOptions(subProcessfieldElement.find('.referenceModulesList'), 'parent', referenceProcess);\n\t\t\tlet subProcessValue = subProcessfieldElement.find('.referenceModulesList').val();\n\t\t\tsubProcessfieldElement.find('[name=\"popupReferenceModule\"]').val(subProcessValue);\n\t\t\tthisInstance.checkSubProcessModulesList(subProcessfieldElement.find('.referenceModulesList'));\n\t\t},\n\t\tregisterReferenceFields: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tif (!CONFIG.fieldsReferencesDependent) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\tthisInstance.checkReferencesField(container, false);\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceSelectionEvent, function (e, data) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer.find('.sourceField').on(Vtiger_Edit_Js.referenceDeSelectionEvent, function (e) {\n\t\t\t\tthisInstance.checkReferencesField(container, true);\n\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function () {\n\t\t\t\t\tthisInstance.checkReferenceModulesList(container);\n\t\t\t\t});\n\t\t\tcontainer\n\t\t\t\t.find('input[data-fieldtype=\"referenceSubProcess\"]')\n\t\t\t\t.closest('.fieldValue')\n\t\t\t\t.find('.referenceModulesList')\n\t\t\t\t.on('change', function (e) {\n\t\t\t\t\tthisInstance.checkSubProcessModulesList($(e.currentTarget));\n\t\t\t\t});\n\t\t},\n\t\tregisterFocusFirstField: function (container, afterTimeout) {\n\t\t\tlet elementToFocus, elementToFocusTabindex;\n\t\t\tif (afterTimeout === undefined && container.closest('.js-modal-container').length) {\n\t\t\t\tsetTimeout((_) => {\n\t\t\t\t\tthis.registerFocusFirstField(container, true);\n\t\t\t\t}, 500);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcontainer\n\t\t\t\t.find(\n\t\t\t\t\t'.fieldValue input.form-control:not([type=hidden],.dateField,.clockPicker), .fieldValue input[type=checkbox], .select2-selection.form-control'\n\t\t\t\t)\n\t\t\t\t.each(function (i, e) {\n\t\t\t\t\tlet element = $(e);\n\t\t\t\t\tif (!element.prop('readonly') && !element.prop('disabled')) {\n\t\t\t\t\t\telement = element.get(0);\n\t\t\t\t\t\tif (element.type !== 'number' && element.type !== 'checkbox' && element.value !== undefined) {\n\t\t\t\t\t\t\tlet elemLen = element.value.length;\n\t\t\t\t\t\t\telement.selectionStart = elemLen;\n\t\t\t\t\t\t\telement.selectionEnd = elemLen;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i === 0 || !elementToFocus) {\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet tabindex = $(element).attr('tabindex');\n\t\t\t\t\t\tif (tabindex > 0 && elementToFocusTabindex === undefined) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (tabindex > 0 && tabindex < elementToFocusTabindex) {\n\t\t\t\t\t\t\telementToFocusTabindex = tabindex;\n\t\t\t\t\t\t\telementToFocus = element;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tif (elementToFocus) {\n\t\t\t\telementToFocus.focus();\n\t\t\t}\n\t\t},\n\t\tregisterCopyValue: function (container) {\n\t\t\tcontainer.find('.fieldValue [data-copy-to-field]').on('change', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcontainer.find('[name=\"' + element.data('copyToField') + '\"]').val(element.val());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register multi image upload fields\n\t\t * @param {HTMLElement|jQuery} container\n\t\t */\n\t\tregisterMultiImageFields(container) {\n\t\t\treturn App.Fields.MultiImage.register(container);\n\t\t},\n\t\t/**\n\t\t * Register inventory controller\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterInventoryController(container) {\n\t\t\tif (typeof Vtiger_Inventory_Js !== 'undefined') {\n\t\t\t\tthis.inventoryController = Vtiger_Inventory_Js.getInventoryInstance(container);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register record collector modal\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterRecordCollectorModal: function (container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.js-record-collector-modal', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet formData = container.serializeFormData();\n\t\t\t\tformData['view'] = 'RecordCollector';\n\t\t\t\tformData['collectorType'] = element.data('type');\n\t\t\t\tdelete formData['action'];\n\t\t\t\tAppConnector.request(formData).done(function (html) {\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\thtml,\n\t\t\t\t\t\t(container) => {\n\t\t\t\t\t\t\tlet modalForm = container.find('form.js-record-collector__form');\n\t\t\t\t\t\t\tlet summary = container.find('.js-record-collector__summary');\n\t\t\t\t\t\t\tmodalForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\t\tmodalForm.on('submit', function (e) {\n\t\t\t\t\t\t\t\tif (modalForm.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tsummary.html('');\n\t\t\t\t\t\t\t\t\tsummary.progressIndicator({});\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\tAppConnector.request(modalForm.serializeFormData()).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tsummary.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tsummary.html(data);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet recordForm = self.getForm();\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__select', function () {\n\t\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t\t.find(`.js-record-collector__column[data-column=\"${this.dataset.column}\"] input`)\n\t\t\t\t\t\t\t\t\t.prop('checked', true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontainer.on('click', '.js-record-collector__fill_fields', function () {\n\t\t\t\t\t\t\t\tlet formData = container.find('.js-record-collector__fill_form').serializeFormData();\n\t\t\t\t\t\t\t\t$.each(formData, function (key, value) {\n\t\t\t\t\t\t\t\t\tif (value !== '') {\n\t\t\t\t\t\t\t\t\t\tlet fieldElement = recordForm.find(`[name=\"${key}\"]`);\n\t\t\t\t\t\t\t\t\t\tif (fieldElement.length) {\n\t\t\t\t\t\t\t\t\t\t\tfieldElement.setValue(value);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\trecordForm.append(`<input type=\"hidden\" name=\"${key}\" value=\"${value}\" />`);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tapp.hideModalWindow(null, 'collectorModal');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ modalId: 'collectorModal' }\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register account name function\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterAccountName: function (container) {\n\t\t\tlet first = container.find('.js-first-name');\n\t\t\tlet firstInput = first.find('input');\n\t\t\tlet last = container.find('.js-last-name');\n\t\t\tlet lastInput = last.find('input');\n\t\t\tlet full = container.find('.js-account-name');\n\t\t\tlet fullInput = full.find('input');\n\t\t\tlet legalForm = container.find('select[name=\"legal_form\"]');\n\t\t\tlet legalFormVal = legalForm.val();\n\t\t\tfirstInput.keyup(function () {\n\t\t\t\tfullInput.val(this.value + '|##|' + lastInput.val());\n\t\t\t});\n\t\t\tlastInput.keyup(function () {\n\t\t\t\tfullInput.val(firstInput.val() + '|##|' + this.value);\n\t\t\t});\n\t\t\tlegalForm.change(function () {\n\t\t\t\tif (this.value == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.addClass('d-none');\n\t\t\t\t\tfullInput.val(firstInput.val() + '|##|' + lastInput.val());\n\t\t\t\t\tfirst.removeClass('d-none');\n\t\t\t\t\tlast.removeClass('d-none');\n\t\t\t\t} else if (legalFormVal == 'PLL_NATURAL_PERSON') {\n\t\t\t\t\tfull.removeClass('d-none');\n\t\t\t\t\tfirst.addClass('d-none');\n\t\t\t\t\tlast.addClass('d-none');\n\t\t\t\t\tfullInput.val('');\n\t\t\t\t}\n\t\t\t\tlegalFormVal = this.value;\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Trigger record edit view events\n\t\t * @param {object} data\n\t\t */\n\t\ttriggerRecordEditEvents: function (data) {\n\t\t\tconst self = this,\n\t\t\t\tform = this.getForm();\n\t\t\tif (typeof data['changeValues'] == 'object') {\n\t\t\t\t$.each(data['changeValues'], function (_, field) {\n\t\t\t\t\tself.setFieldValue(field);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['changeOptions'] != 'undefined') {\n\t\t\t\t$.each(data['changeOptions'], function (fieldName, options) {\n\t\t\t\t\tself.setFieldOptions(fieldName, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hoverField'] != 'undefined') {\n\t\t\t\tform.find(`[name=\"${data['hoverField']}\"]`).focus();\n\t\t\t}\n\t\t\tif (typeof data['showNotify'] != 'undefined') {\n\t\t\t\tapp.showNotify(data['showNotify']);\n\t\t\t}\n\t\t\tif (typeof data['showModal'] != 'undefined') {\n\t\t\t\tapp.showModalWindow(null, data['showModal']['url']);\n\t\t\t}\n\t\t\tif (typeof data['showFields'] != 'undefined') {\n\t\t\t\t$.each(data['showFields'], function (_, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).removeClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (typeof data['hideFields'] != 'undefined') {\n\t\t\t\t$.each(data['hideFields'], function (_, fieldName) {\n\t\t\t\t\tform.find(`.js-field-block-column[data-field=\"${fieldName}\"]`).addClass('d-none');\n\t\t\t\t\tself.checkVisibilityBlocks();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set field value\n\t\t * @param {object} params\n\t\t */\n\t\tsetFieldValue: function (params) {\n\t\t\tconst fieldElement = this.getForm().find(`[name=\"${params['fieldName']}\"]`),\n\t\t\t\tfieldInfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select')) {\n\t\t\t\tif (fieldElement.find(`option[value=\"${params['value']}\"]`).length) {\n\t\t\t\t\tfieldElement.val(params['value']).trigger('change');\n\t\t\t\t} else if (fieldInfo.picklistvalues.hasOwnProperty(params['value'])) {\n\t\t\t\t\tfieldElement.append(new Option(params['value'], params['value'], true, true)).trigger('change');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfieldElement.val(params['value']);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Set field options\n\t\t * @param {string} fieldName\n\t\t * @param {object} options\n\t\t */\n\t\tsetFieldOptions: function (fieldName, options) {\n\t\t\tconst fieldElement = this.getForm().find(`[name=\"${fieldName}\"]`),\n\t\t\t\tfieldInfo = fieldElement.data('fieldinfo');\n\t\t\tif (fieldElement.is('select') && fieldInfo) {\n\t\t\t\tconst val = fieldElement.val() ?? '',\n\t\t\t\t\tfieldValue = fieldElement.closest('.fieldValue'),\n\t\t\t\t\tcurrentValues = [...fieldElement.get(0).options]\n\t\t\t\t\t\t.map((o) => o.value)\n\t\t\t\t\t\t.filter((e) => e !== '')\n\t\t\t\t\t\t.sort();\n\t\t\t\tlet newOptions = new $();\n\t\t\t\tif (!fieldInfo.mandatory) {\n\t\t\t\t\tnewOptions = newOptions.add(\n\t\t\t\t\t\tnew Option(app.vtranslate('JS_SELECT_AN_OPTION'), '', false, !val || !options.includes(val))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t$.each(options, (_, e) => {\n\t\t\t\t\tnewOptions = newOptions.add(new Option(fieldInfo['picklistvalues'][e], e, false, val == e));\n\t\t\t\t});\n\n\t\t\t\tconst newValues = [...newOptions.map((_, e) => e.value)].filter((e) => e !== '').sort();\n\t\t\t\tif (currentValues.length === newValues.length && currentValues.every((e, i) => e === newValues[i])) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet selected = newOptions.filter(':selected').length > 0;\n\t\t\t\tfieldElement.html(newOptions);\n\t\t\t\tlet change = val && val !== fieldElement.val();\n\t\t\t\tif ((val === '' && !selected) || change) {\n\t\t\t\t\tfieldElement.val(null);\n\t\t\t\t}\n\t\t\t\tif (change) {\n\t\t\t\t\tfieldValue.addClass('border border-info');\n\t\t\t\t\tfieldElement.trigger('change');\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tfieldValue.removeClass('border border-info');\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Check if pre save validation is active\n\t\t * @returns {bool}\n\t\t */\n\t\tcheckPreSaveValidation: function () {\n\t\t\tlet validation = true;\n\t\t\tif (\n\t\t\t\ttypeof app.pageController.getForm !== 'undefined' &&\n\t\t\t\tapp.pageController.getForm().find('#preSaveValidation').length !== 0\n\t\t\t) {\n\t\t\t\tvalidation = app.pageController.getForm().find('#preSaveValidation').val() == 1;\n\t\t\t}\n\t\t\treturn validation;\n\t\t},\n\t\t/**\n\t\t * Register change value handler events\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterChangeValueHandlerEvent: function (container) {\n\t\t\tconst event = container.find('.js-change-value-event');\n\t\t\tif (event.length <= 0 || event.val() === '[]') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst fields = JSON.parse(event.val());\n\t\t\t$.each(fields, (_, fieldName) => {\n\t\t\t\tcontainer\n\t\t\t\t\t.find(`[name=\"${fieldName}\"],[name=\"${fieldName}[]\"]`)\n\t\t\t\t\t.on(`change ${Vtiger_Edit_Js.referenceSelectionEvent} ${Vtiger_Edit_Js.referenceDeSelectionEvent}`, () => {\n\t\t\t\t\t\tthis.sendChangeValueHandlerEvent(container.serializeFormData());\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tthis.sendChangeValueHandlerEvent(container.serializeFormData());\n\t\t},\n\t\t/**\n\t\t * Send change value handler events\n\t\t * @param {object} formData\n\t\t */\n\t\tsendChangeValueHandlerEvent: function (formData) {\n\t\t\tformData['action'] = 'ChangeValueHandler';\n\t\t\tdelete formData['view'];\n\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\tAppConnector.request(formData).done((response) => {\n\t\t\t\t$.each(response.result, (_, data) => {\n\t\t\t\t\tthis.triggerRecordEditEvents(data);\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register keyboard shortcuts events\n\t\t */\n\t\tregisterKeyboardShortcutsEvent: function () {\n\t\t\tdocument.addEventListener('keydown', (event) => {\n\t\t\t\tif (event.shiftKey && event.ctrlKey && event.code === 'KeyS') {\n\t\t\t\t\tlet form = event.target.closest('form');\n\t\t\t\t\tif (form) {\n\t\t\t\t\t\t$(form).trigger('submit');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tform = $(event.target).find('form');\n\t\t\t\t\t\tif (form.length && form.hasClass('recordEditView')) {\n\t\t\t\t\t\t\tform.last().trigger('submit');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register basic events which will be used in quick create as well\n\t\t *\n\t\t */\n\t\tregisterBasicEvents: function (container) {\n\t\t\tthis.referenceModulePopupRegisterEvent(container);\n\t\t\tthis.registerAutoCompleteFields(container);\n\t\t\tthis.registerClearReferenceSelectionEvent(container);\n\t\t\tthis.registerPreventingEnterSubmitEvent(container);\n\t\t\tthis.registerTimeFields(container);\n\t\t\tthis.registerRecordPreSaveEventEvent(container);\n\t\t\tthis.registerReferenceSelectionEvent(container);\n\t\t\tthis.registerChangeValueHandlerEvent(container);\n\t\t\tthis.registerMaskFields(container);\n\t\t\tthis.registerHelpInfo(container);\n\t\t\tthis.registerReferenceFields(container);\n\t\t\tthis.registerFocusFirstField(container);\n\t\t\tthis.registerCopyValue(container);\n\t\t\tthis.registerMultiImageFields(container);\n\t\t\tthis.registerReferenceCreate(container);\n\t\t\tthis.registerRecordCollectorModal(container);\n\t\t\tthis.registerAccountName(container);\n\t\t\tthis.registerKeyboardShortcutsEvent();\n\t\t\tApp.Fields.MultiEmail.register(container);\n\t\t\tApp.Fields.MultiDependField.register(container);\n\t\t\tApp.Fields.Tree.register(container);\n\t\t\tApp.Fields.MultiCurrency.register(container);\n\t\t\tApp.Fields.MeetingUrl.register(container);\n\t\t\tApp.Fields.ChangesJson.register(container);\n\t\t\tApp.Fields.MultiReference.register(container);\n\t\t\tApp.Fields.Password.register(container);\n\t\t\tApp.Components.ActivityNotifier.register(container);\n\t\t\tApp.Fields.MultiAttachment.register(container);\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet editViewForm = this.getForm();\n\t\t\tif (!this.proceedRegisterEvents()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerInventoryController(editViewForm);\n\t\t\tapp.registerBlockAnimationEvent(editViewForm);\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEventForEditor();\n\t\t\tthis.stretchCKEditor();\n\t\t\tthis.registerBasicEvents(editViewForm);\n\t\t\tthis.registerEventForCopyAddress();\n\t\t\tthis.registerSubmitEvent();\n\t\t\tthis.registerLeavePageWithoutSubmit(editViewForm);\n\t\t\tthis.registerValidationsFields(editViewForm);\n\t\t\tthis.registerAutoloadAddress();\n\t\t\teditViewForm.find('.js-form-submit-btn').prop('disabled', false);\n\t\t}\n\t}\n);\n"],"names":["$","Class","referenceSelectionEvent","referenceDeSelectionEvent","recordPreSave","editInstance","inventoryController","getInstanceByModuleName","moduleName","app","getModuleName","fallbackClassName","instance","parentModule","getParentModuleName","moduleClassName","window","getInstance","Vtiger_Edit_Js","saveAjax","params","aDeferred","Deferred","isEmptyObject","reject","promise","getRecordId","data","async","dataType","progressIndicator","document","progressLoader","message","vtranslate","position","blockInfo","enabled","saveAjaxValidation","then","response","mode","AppConnector","request","done","responseData","resolve","fail","jqXHR","textStatus","errorThrown","showNotify","text","type","success","checkPreSaveValidation","paramsTemp","JSON","parse","stringify","result","lock","i","hash","showConfirmModal","confirmedCallback","handlers","skipHandlers","form","responsePart","rejectedCallback","showModal","url","showModalWindow","modalContainer","registerModalController","_","formContainer","length","formElement","relationOperation","getForm","setForm","element","module","val","getRecordsListParams","container","closest","sourceModule","popupReferenceModule","sourceFieldElement","sourceField","attr","sourceRecordElement","sourceRecordId","isMultiple","mappingRelatedField","find","mappingRelatedModule","each","index","mapFieldElement","filterFields","listFilterFields","listFilterFieldsJson","src_module","src_field","src_record","searchParamsElement","searchParams","modalParamsElement","lockedFieldsElement","value","fieldElement","multi_select","showRecordsList","e","parentElem","target","_modal","setSelectEvent","setReferenceFieldValue","thisInstance","fieldDisplayElement","selectedName","name","id","trigger","decodeHTML","record","validationEngine","getMappingRelatedField","getRecordDetails","event","key","fieldinfo","mapFieldElementMultiselect","multipleAttr","splitValues","split","is","appendTo","picklistvalues","hasOwnProperty","newOption","append","mapFieldDisplayElement","referenceModulesList","getRelationOperation","proceedRegisterEvents","referenceModulePopupRegisterEvent","on","moduleList","App","Fields","Picklist","showSelect2ElementView","currentTarget","referenceModuleElement","prevSelectedReferenceModule","getReferencedModuleName","parenElement","searchModuleNames","action","getReferenceSearchParams","searchModule","tdElement","search_module","registerAutoCompleteFields","autocomplete","delay","minLength","source","searchValue","term","inputElement","search_value","serverDataFormat","Array","label","reponseDataList","push","field","select","ui","selectedItemData","item","change","open","menu","css","registerClearReferenceSelectionEvent","clearFieldValue","preventDefault","fieldValueContener","fieldNameElement","fieldName","referenceModule","removeAttr","self","registerPreventingEnterSubmitEvent","currentElement","which","registerTimeFields","registerEventForClockPicker","Date","register","DateTime","referenceCreateHandler","callbackFunction","_recordLabel","_recordId","getViewName","formData","serializeFormData","inArray","sourceRecordData","Components","QuickCreate","createRecord","referenceModuleName","registerReferenceCreate","controlElementDiv","addressFieldsMapping","addressFieldsMappingBlockID","LBL_ADDRESS_INFORMATION","LBL_ADDRESS_BILLING","LBL_ADDRESS_MAILING_INFORMATION","LBL_ADDRESS_SHIPPING","LBL_ADDRESS_DELIVERY_INFORMATION","addressFieldsData","registerEventForCopyAddress","block","addClass","registerEventForCopyBlockAddress","referenceFields","hideCopyAddressLabel","hasClass","from","to","copyAddress","enableCopyAddressFromModule","className","removeClass","recordRelativeAccountId","copyAddressDetails","recordRelativeAccountName","fromLabel","toLabel","relatedRecord","status","addressMapping","BlockIds","fromElement","fromElementLabel","nameElementFrom","nameElementTo","toElement","toElementLable","errorMsg","registerReferenceSelectionEvent","relategField","blockContainer","copyAddressDetailsRef","mapAddressDetails","indexOf","registerMaskFields","inputmask","registerSubmitEvent","editViewForm","recordPreSaveEvent","Event","isDefaultPrevented","removeData","formAlignmentAfterValidation","registerRecordPreSaveEventEvent","preSaveValidation","processData","contentType","handlerElement","remove","submit","hoverField","focus","errorLog","registerLeavePageWithoutSubmit","instances","Object","keys","CKEDITOR","serialize","onbeforeunload","initialFormData","stretchCKEditor","parents","td","parent","row","registerEventForEditor","loadEditorElement","noteContentElement","Text","Editor","registerHelpInfo","showPopoverElementView","registerBlockStatusCheckOnLoad","blocks","currentBlock","dynamicAttr","not","bodyContents","blockId","headerAnimationElement","cacheGet","checkVisibilityBlocks","registerAutoloadAddress","_index","search","input","requestData","_textStatus","_errorThrown","responseJSON","error","animation","_event","address","_idx","v","prop","idx","x","_renderItem","ul","countryCode","setEnabledFields","fieldValue","fieldDisplay","placeholder","setDisabledFields","sourceFieldModule","registerValidationsFields","validationEngineOptionsForRecord","checkReferencesField","clear","activeProcess","activeSubProcess","CONFIG","fieldsReferencesDependent","t","referenceLink","processfieldElement","checkSubProcessModulesList","option","checkReferenceModulesList","referenceProcess","subProcessfieldElement","Vtiger_Helper_Js","hideOptions","subProcessValue","registerReferenceFields","registerFocusFirstField","afterTimeout","elementToFocusTabindex","get","selectionStart","elemLen","selectionEnd","elementToFocus","tabindex","registerCopyValue","registerMultiImageFields","MultiImage","registerInventoryController","Vtiger_Inventory_Js","getInventoryInstance","registerRecordCollectorModal","html","summary","modalForm","validationEngineOptions","dataset","column","recordForm","setValue","hideModalWindow","modalId","registerAccountName","first","firstInput","last","lastInput","full","fullInput","legalForm","legalFormVal","keyup","triggerRecordEditEvents","setFieldValue","options","setFieldOptions","fieldInfo","currentValues","map","o","filter","sort","newOptions","mandatory","add","Option","includes","newValues","every","selected","setTimeout","pageController","validation","registerChangeValueHandlerEvent","fields","sendChangeValueHandlerEvent","progress","registerKeyboardShortcutsEvent","addEventListener","shiftKey","ctrlKey","code","registerBasicEvents","MultiEmail","MultiDependField","Tree","MultiCurrency","MeetingUrl","ChangesJson","MultiReference","Password","ActivityNotifier","MultiAttachment","registerEvents","registerBlockAnimationEvent"],"mappings":"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"}