{"version":3,"file":"Header.min.js","sources":["Header.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n//Show Alert if user is on a unsupported browser (IE7, IE8, ..etc)\nif (\n\t/MSIE 6.0/.test(navigator.userAgent) ||\n\t/MSIE 7.0/.test(navigator.userAgent) ||\n\t/MSIE 8.0/.test(navigator.userAgent) ||\n\t/MSIE 9.0/.test(navigator.userAgent)\n) {\n\tif (app.getCookie('oldbrowser') != 'true') {\n\t\tapp.setCookie('oldbrowser', true, 365);\n\t\twindow.location.href = 'layouts/basic/modules/Vtiger/browsercompatibility/Browser_compatibility.html';\n\t}\n}\n\n$.Class(\n\t'Vtiger_Header_Js',\n\t{\n\t\tself: false,\n\t\tgetInstance: function () {\n\t\t\tif (this.self != false) {\n\t\t\t\treturn this.self;\n\t\t\t}\n\t\t\tthis.self = new Vtiger_Header_Js();\n\t\t\treturn this.self;\n\t\t}\n\t},\n\t{\n\t\tmenuContainer: false,\n\t\tcontentContainer: false,\n\t\tinit: function () {\n\t\t\tthis.setContentsContainer('.js-base-container');\n\t\t},\n\t\tsetContentsContainer: function (element) {\n\t\t\tif (element instanceof $) {\n\t\t\t\tthis.contentContainer = element;\n\t\t\t} else {\n\t\t\t\tthis.contentContainer = $(element);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetContentsContainer: function () {\n\t\t\treturn this.contentContainer;\n\t\t},\n\t\tregisterQuickCreateSearch() {\n\t\t\t$('.js-quickcreate-search').on('keyup', function () {\n\t\t\t\tlet value = $(this).val().toLowerCase();\n\t\t\t\t$('.quickCreateModules .js-quickcreate-search-item a').filter(function () {\n\t\t\t\t\tlet item = $(this).closest('.js-quickcreate-search-item');\n\t\t\t\t\tif ($(this).text().toLowerCase().indexOf(value) > -1) {\n\t\t\t\t\t\titem.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-quickcreate-search-block').hide();\n\t\t\t\t$('.js-quickcreate-search-item')\n\t\t\t\t\t.not('.d-none')\n\t\t\t\t\t.each(function () {\n\t\t\t\t\t\t$(this).closest('.js-quickcreate-search-block').show();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshowAnnouncement: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet announcementContainer = $('#announcements');\n\t\t\tlet announcements = announcementContainer.find('.announcement');\n\t\t\tif (announcements.length > 0) {\n\t\t\t\tlet announcement = announcements.first();\n\t\t\t\tlet aid = announcement.data('id');\n\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tannouncement.find('.modal'),\n\t\t\t\t\tfunction (modal) {\n\t\t\t\t\t\tannouncement.remove();\n\t\t\t\t\t\tmodal.find('button').on('click', function (e) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'Announcements',\n\t\t\t\t\t\t\t\taction: 'BasicAjax',\n\t\t\t\t\t\t\t\tmode: 'mark',\n\t\t\t\t\t\t\t\trecord: aid,\n\t\t\t\t\t\t\t\ttype: $(this).data('type')\n\t\t\t\t\t\t\t}).done(function (res) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tthisInstance.showAnnouncement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t'',\n\t\t\t\t\t{ backdrop: 'static', keyboard: false }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tregisterAnnouncements: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet announcementContainer = $('#announcements');\n\t\t\tif (announcementContainer.length == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.showAnnouncement();\n\t\t},\n\t\tregisterCalendarButtonClickEvent: function () {\n\t\t\tlet element = $('#calendarBtn');\n\t\t\tlet currentDate = element.data('date');\n\t\t\telement.on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\telement.closest('div.nav').find('div.open').removeClass('open');\n\t\t\t\tlet calendar = $('#' + element.data('datepickerId'));\n\t\t\t\tif ($(calendar).is(':visible')) {\n\t\t\t\t\telement.DatePickerHide();\n\t\t\t\t} else {\n\t\t\t\t\telement.DatePickerShow();\n\t\t\t\t}\n\t\t\t});\n\t\t\telement.DatePicker({\n\t\t\t\tformat: App.Fields.Date.convertToDatePickerFormat(element.data('dateFormat')),\n\t\t\t\tdate: currentDate,\n\t\t\t\tcalendars: 1,\n\t\t\t\tstarts: 1,\n\t\t\t\tclassName: 'globalCalendar'\n\t\t\t});\n\t\t},\n\t\tisFreeDay: function (dayOfWeek) {\n\t\t\tif (dayOfWeek == 0 || dayOfWeek == 6) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tbasicSearch: function () {\n\t\t\tlet thisInstance = this;\n\t\t\t$('.js-global-search__value').on('keypress', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (e.which == 13) {\n\t\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\t\tthisInstance.labelSearch(currentTarget);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-global-search-operator').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.target);\n\t\t\t\tlet block = currentTarget.closest('.js-global-search__input');\n\t\t\t\tblock.find('.js-global-search__value').data('operator', currentTarget.data('operator'));\n\t\t\t\tblock.find('.js-global-search-operator .dropdown-item').removeClass('active');\n\t\t\t\tcurrentTarget.closest('.dropdown-item').addClass('active');\n\t\t\t});\n\t\t\tif ($('#gsAutocomplete').val() == 1) {\n\t\t\t\t$.widget('custom.gsAutocomplete', $.ui.autocomplete, {\n\t\t\t\t\t_create: function () {\n\t\t\t\t\t\tthis._super();\n\t\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t\t},\n\t\t\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\t\t\tlet that = this,\n\t\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t\t$.each(items, function (index, item) {\n\t\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthat._renderItemData(ul, item);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t\t},\n\t\t\t\t\t_renderItem: function (ul, item) {\n\t\t\t\t\t\tlet url = 'index.php?module=' + item.module + '&view=Detail&record=' + item.id;\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.data('item.autocomplete', item)\n\t\t\t\t\t\t\t.append($(\"<a href='\" + url + \"' title='\" + item.label + \"'></a>\").html(item.label))\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-global-search__value').gsAutocomplete({\n\t\t\t\t\tminLength: app.getMainParams('gsMinLength'),\n\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\t\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\t\t\t\tbasicSearch.returnHtml = false;\n\t\t\t\t\t\tbasicSearch.setMainContainer(this.element.closest('.js-global-search__input'));\n\t\t\t\t\t\tbasicSearch.search(request.term).done(function (data) {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\tlet serverDataFormat = data.result;\n\t\t\t\t\t\t\tlet reponseDataList = [];\n\t\t\t\t\t\t\tfor (let id in serverDataFormat) {\n\t\t\t\t\t\t\t\tlet responseData = serverDataFormat[id];\n\t\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\t'ui-autocomplete': 'u-overflow-y-auto u-overflow-x-hidden u-max-h-70vh u-max-w-sm-70 u-max-w-lg-40'\n\t\t\t\t\t},\n\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\tlet selectedItemData = ui.item;\n\t\t\t\t\t\tif (selectedItemData.permitted) {\n\t\t\t\t\t\t\tlet url = 'index.php?module=' + selectedItemData.module + '&view=Detail&record=' + selectedItemData.id;\n\t\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tclose: function (event, ui) {\n\t\t\t\t\t\t//$('.js-global-search__value').val('');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tlabelSearch: function (currentTarget) {\n\t\t\tlet val = currentTarget.val();\n\t\t\tif (val == '') {\n\t\t\t\tapp.showAlert(app.vtranslate('JS_PLEASE_ENTER_SOME_VALUE'));\n\t\t\t\tcurrentTarget.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tlet progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.setMainContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\tbasicSearch.search(val).done(function (data) {\n\t\t\t\tbasicSearch.showSearchResults(data);\n\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\tmode: 'hide'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHotKeys: function () {\n\t\t\t$('.hotKey').each(function (index) {\n\t\t\t\tlet thisObject = this;\n\t\t\t\tlet key = $(thisObject).data('hotkeys');\n\t\t\t\tif (key != '') {\n\t\t\t\t\tMousetrap.bind(key, function () {\n\t\t\t\t\t\tthisObject.click();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotice: function () {\n\t\t\t$('#page').before(\n\t\t\t\t`<div class=\"remindersNoticeContainer js-reminders-sidebar c-sidebar-right\" tabindex=\"-1\" role=\"dialog\" aria-label=\"${app.vtranslate(\n\t\t\t\t\t'JS_REMINDER'\n\t\t\t\t)}\" aria-hidden=\"true\"></div>`\n\t\t\t);\n\t\t\tlet block = $('.remindersNoticeContainer');\n\t\t\tlet remindersNotice = $('.remindersNotice');\n\t\t\tremindersNotice.on('click', () => {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.requestReminder();\n\t\t\t\t}\n\t\t\t\tlet open = !block.hasClass('toggled');\n\t\t\t\tthis.closeSidebars();\n\t\t\t\tif (open) {\n\t\t\t\t\tblock.addClass('toggled');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotification: function () {\n\t\t\t$('#page').before(\n\t\t\t\t'<div class=\"remindersNotificationContainer js-reminders-sidebar c-sidebar-right\" tabindex=\"-1\" role=\"dialog\"></div>'\n\t\t\t);\n\t\t\tlet block = $('.remindersNotificationContainer');\n\t\t\tlet remindersNotice = $('.notificationsNotice');\n\t\t\tremindersNotice.on('click', () => {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.getNotificationsForReminder();\n\t\t\t\t}\n\t\t\t\tlet open = !block.hasClass('toggled');\n\t\t\t\tthis.closeSidebars();\n\t\t\t\tif (open) {\n\t\t\t\t\tblock.addClass('toggled');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/** Close all sidebars */\n\t\tcloseSidebars() {\n\t\t\tthis.hideActionMenu();\n\t\t\tthis.hideBreadcrumbActionMenu();\n\t\t\tthis.hideReminderSideBar();\n\t\t\tthis.hideSearchMenu();\n\t\t\tapp.closeSidebar();\n\t\t},\n\t\ttoggleBreadcrumbActions(container) {\n\t\t\tlet actionsContainer = container.find('.js-header-toggle__actions');\n\t\t\tif (!actionsContainer.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet actionBtn = container.find('.js-header-toggle__actions-btn');\n\t\t\tif (!actionsContainer.closest('.js-btn-toolbar').length) {\n\t\t\t\tconst actionBtnMargin = 5;\n\t\t\t\tconst cssActionsTop = {\n\t\t\t\t\ttop: actionBtn.offset().top + actionBtn.outerHeight() + actionBtnMargin\n\t\t\t\t};\n\t\t\t\tactionsContainer.css(cssActionsTop);\n\t\t\t}\n\t\t\tactionBtn.on('click', () => {\n\t\t\t\tactionsContainer.toggleClass('is-active');\n\t\t\t});\n\t\t},\n\t\tregisterMobileEvents: function () {\n\t\t\tconst self = this,\n\t\t\t\tcontainer = this.getContentsContainer();\n\t\t\t$('.js-sidebar-btn').on('click', () => {\n\t\t\t\tthis.hideActionMenu();\n\t\t\t\tthis.hideBreadcrumbActionMenu();\n\t\t\t\tthis.hideReminderSideBar();\n\t\t\t\tthis.hideSearchMenu();\n\t\t\t});\n\t\t\t$('.js-quick-action-btn').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tthis.hideBreadcrumbActionMenu();\n\t\t\t\tthis.hideReminderSideBar();\n\t\t\t\tthis.hideSearchMenu();\n\t\t\t\t$('.actionMenu').toggleClass('actionMenuOn');\n\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'false');\n\t\t\t\t\tcurrentTarget.popover();\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'true');\n\t\t\t\t\tcurrentTarget.popover('disable');\n\t\t\t\t}\n\t\t\t\t$('.quickCreateModules').on('click', () => {\n\t\t\t\t\tthis.hideActionMenu();\n\t\t\t\t});\n\t\t\t});\n\t\t\t$('.searchMenuBtn').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderSideBar();\n\t\t\t\t$('.searchMenu').toggleClass('toogleSearchMenu');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'false');\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'true');\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-header__btn--mail .dropdown').on('show.bs.dropdown', () => {\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tthis.hideActionMenu();\n\t\t\t\tthis.hideBreadcrumbActionMenu();\n\t\t\t\tthis.hideReminderSideBar();\n\t\t\t\tthis.hideSearchMenu();\n\t\t\t});\n\t\t\tthis.toggleBreadcrumbActions(container);\n\t\t},\n\t\thideSearchMenu: function () {\n\t\t\t$('.searchMenu').removeClass('toogleSearchMenu');\n\t\t},\n\t\thideActionMenu: function () {\n\t\t\t$('.actionMenu').removeClass('actionMenuOn');\n\t\t},\n\t\thideBreadcrumbActionMenu: function () {\n\t\t\t$('.js-header-toggle__actions').removeClass('is-active');\n\t\t},\n\t\t/** Hide all reminder sidebars */\n\t\thideReminderSideBar: function () {\n\t\t\t$('.js-reminders-sidebar').removeClass('toggled');\n\t\t},\n\t\tregisterFooTable: function () {\n\t\t\tlet container = $('.tableRWD');\n\t\t\tcontainer.find('thead tr th:gt(1)').attr('data-hide', 'phone');\n\t\t\tcontainer.find('thead tr th:gt(3)').attr('data-hide', 'tablet,phone');\n\t\t\tcontainer.find('thead tr th:last').attr('data-hide', '');\n\t\t\tlet whichColumnEnable = container.find('thead').attr('col-visible-alltime');\n\t\t\tcontainer.find('thead tr th:eq(' + whichColumnEnable + ')').attr('data-hide', '');\n\t\t\t$('.tableRWD, .customTableRWD').footable({\n\t\t\t\tbreakpoints: {\n\t\t\t\t\tphone: 768,\n\t\t\t\t\ttablet: 1024\n\t\t\t\t},\n\t\t\t\taddRowToggle: true,\n\t\t\t\ttoggleSelector: ' > tbody > tr:not(.footable-row-detail)'\n\t\t\t});\n\t\t\t$('.footable-toggle').on('click', function (event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t$(this).trigger('footable_toggle_row');\n\t\t\t});\n\t\t\tlet records = $('.customTableRWD').find('[data-toggle-visible=false]');\n\t\t\trecords.find('.footable-toggle').css('display', 'none');\n\t\t},\n\t\tregisterSiteBarButton(container) {\n\t\t\tconst key = 'ShowHideRightPanel' + app.getModuleName();\n\t\t\tlet cache = !container.find('.toggleSiteBarRightButton').data('nocache');\n\t\t\tif (cache && app.cacheGet(key) == 'show') {\n\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t} else if (cache && app.cacheGet(key) == null) {\n\t\t\t\tif (container.find('.siteBarRight').data('showpanel') == 1) {\n\t\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontainer.find('.toggleSiteBarRightButton').on('click', (e) => {\n\t\t\t\tlet toggleButton = $(e.currentTarget);\n\t\t\t\tif (!toggleButton.data('nocache')) {\n\t\t\t\t\tif (toggleButton.closest('.siteBarRight').hasClass('hideSiteBar')) {\n\t\t\t\t\t\tapp.cacheSet(key, 'show');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.cacheSet(key, 'hide');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.toggleSiteBar(toggleButton);\n\t\t\t});\n\t\t},\n\t\ttoggleSiteBar(toogleButton) {\n\t\t\t$('.rowContent').toggleClass('js-sitebar--active');\n\t\t\ttoogleButton.closest('.siteBarRight').toggleClass('hideSiteBar');\n\t\t\ttoogleButton.find('.fas').toggleClass('fa-chevron-right fa-chevron-left');\n\t\t\ttoogleButton.toggleClass('hideToggleSiteBarRightButton');\n\t\t},\n\t\tregisterToggleButton: function () {\n\t\t\t$('.buttonTextHolder .dropdown-menu a').on('click', function () {\n\t\t\t\t$(this).parents('.d-inline-block').find('.dropdown-toggle .textHolder').html($(this).text());\n\t\t\t});\n\t\t},\n\t\tregisterKnowledgeBaseModal() {\n\t\t\t$('.js-knowledge-base-modal').on('click', () => {\n\t\t\t\tif (window.KnowledgeBaseModalVueComponent.mounted === undefined) {\n\t\t\t\t\twindow.KnowledgeBaseModalVueComponent.mount({\n\t\t\t\t\t\tel: '#KnowledgeBaseModal',\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tmoduleName: 'KnowledgeBase',\n\t\t\t\t\t\t\tdialog: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tKnowledgeBaseModalVueComponent.mounted = true;\n\t\t\t\t} else {\n\t\t\t\t\tvuexStore.commit('KnowledgeBase/setDialog', true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window === window.parent && window.ChatModalVueComponent !== undefined) {\n\t\t\t\twindow.ChatModalVueComponent.mount({\n\t\t\t\t\tel: '#ChatModalVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tconst container = thisInstance.getContentsContainer(),\n\t\t\t\tmenuContainer = container.find('.js-menu--scroll'),\n\t\t\t\tquickCreateModal = container.find('.quickCreateModules');\n\t\t\tapp.showNewScrollbarLeft(menuContainer, { suppressScrollX: true });\n\t\t\tapp.showNewScrollbar(menuContainer.find('.subMenu').last(), { suppressScrollX: true });\n\t\t\tthisInstance.registerFooTable(); //Enable footable\n\t\t\t$('.js-clear-history').on('click', () => {\n\t\t\t\tapp.clearBrowsingHistory();\n\t\t\t});\n\t\t\t$('.globalSearch').on('click', function () {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\tlet advanceSearchInstance = new Vtiger_AdvanceSearch_Js();\n\t\t\t\tadvanceSearchInstance.setParentContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\t\tadvanceSearchInstance.initiateSearch();\n\t\t\t});\n\t\t\t$('.searchIcon').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(this).closest('.js-global-search__input').find('.js-global-search__value');\n\t\t\t\tlet pressEvent = $.Event('keypress');\n\t\t\t\tpressEvent.which = 13;\n\t\t\t\tcurrentTarget.trigger(pressEvent);\n\t\t\t});\n\t\t\tthisInstance.registerAnnouncements();\n\t\t\tthisInstance.registerHotKeys();\n\t\t\tthisInstance.registerToggleButton();\n\t\t\tthisInstance.registerSiteBarButton($('#centerPanel'));\n\t\t\t//this.registerCalendarButtonClickEvent();\n\t\t\t//After selecting the global search module, focus the input element to type\n\t\t\t$('.basicSearchModulesList').on('change', function () {\n\t\t\t\tlet value = $(this).closest('.js-global-search__input').find('.js-global-search__value');\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tvalue.focus();\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t\tthisInstance.basicSearch();\n\t\t\tquickCreateModal.on('click', '.quickCreateModule', function (e, params) {\n\t\t\t\tlet moduleName = $(e.currentTarget).data('name');\n\t\t\t\tquickCreateModal.modal('hide');\n\t\t\t\tApp.Components.QuickCreate.createRecord(moduleName);\n\t\t\t});\n\t\t\tthisInstance.registerReminderNotification();\n\t\t\tthisInstance.registerMobileEvents();\n\t\t\tthisInstance.registerReminderNotice();\n\t\t\tthisInstance.registerQuickCreateSearch();\n\t\t\tthisInstance.registerKnowledgeBaseModal();\n\t\t\tthisInstance.registerChat();\n\t\t}\n\t}\n);\njQuery(function () {\n\twindow.addEventListener('popstate', (event) => {\n\t\tif (event.state) {\n\t\t\twindow.location.href = event.state;\n\t\t}\n\t});\n\tVtiger_Header_Js.getInstance().registerEvents();\n});\n"],"names":["test","navigator","userAgent","app","getCookie","setCookie","window","location","href","$","Class","self","getInstance","menuContainer","contentContainer","init","setContentsContainer","element","getContentsContainer","registerQuickCreateSearch","on","val","toLowerCase","filter","item","closest","text","indexOf","value","removeClass","addClass","hide","not","each","show","showAnnouncement","announcementContainer","announcements","find","length","first","aid","announcement","data","showModalWindow","modal","remove","AppConnector","request","module","action","mode","record","type","done","hideModalWindow","thisInstance","backdrop","keyboard","registerAnnouncements","registerCalendarButtonClickEvent","currentDate","e","stopImmediatePropagation","calendar","is","DatePickerHide","DatePickerShow","DatePicker","format","App","Fields","Date","convertToDatePickerFormat","date","calendars","starts","className","isFreeDay","dayOfWeek","basicSearch","currentTarget","which","hideSearchMenu","labelSearch","target","block","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","currentCategory","index","category","append","that","_renderItemData","_renderItem","id","url","label","html","appendTo","gsAutocomplete","minLength","getMainParams","source","response","reduceNumberResults","returnHtml","setMainContainer","search","term","JSON","parse","serverDataFormat","result","reponseDataList","responseData","push","classes","select","event","selectedItemData","permitted","close","showAlert","vtranslate","focus","progressIndicator","position","blockInfo","enabled","showSearchResults","progress","registerHotKeys","key","thisObject","Mousetrap","bind","click","registerReminderNotice","before","remindersNotice","hasClass","Vtiger_Index_Js","requestReminder","open","closeSidebars","registerReminderNotification","getNotificationsForReminder","hideActionMenu","hideBreadcrumbActionMenu","hideReminderSideBar","closeSidebar","toggleBreadcrumbActions","container","actionsContainer","top","actionBtn","offset","outerHeight","css","cssActionsTop","toggleClass","registerMobileEvents","attr","popover","registerFooTable","whichColumnEnable","footable","breakpoints","phone","tablet","addRowToggle","toggleSelector","stopPropagation","trigger","records","registerSiteBarButton","getModuleName","cache","cacheGet","toggleSiteBar","toggleButton","cacheSet","toogleButton","registerToggleButton","parents","registerKnowledgeBaseModal","KnowledgeBaseModalVueComponent","mounted","mount","el","state","moduleName","dialog","vuexStore","commit","registerChat","parent","ChatModalVueComponent","registerEvents","quickCreateModal","showNewScrollbarLeft","suppressScrollX","showNewScrollbar","last","clearBrowsingHistory","advanceSearchInstance","Vtiger_AdvanceSearch_Js","setParentContainer","initiateSearch","pressEvent","Event","setTimeout","Components","QuickCreate","createRecord","jQuery","addEventListener","Vtiger_Header_Js"],"mappings":"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"}