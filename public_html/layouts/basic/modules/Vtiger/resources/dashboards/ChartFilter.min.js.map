{"version":3,"file":"ChartFilter.min.js","sources":["ChartFilter.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_ChartFilter_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Widget type name\n\t\t */\n\t\twidgetName: 'ChartFilter',\n\t\tregisterContainers() {\n\t\t\tthis.widgetId = $('.js-widget-id', this.container).val();\n\t\t\tthis.linkId = $('.js-link-id', this.container).val();\n\t\t\tthis.step1 = $('.step1', this.container);\n\t\t\tthis.step2 = $('.step2', this.container);\n\t\t\tthis.step3 = $('.step3', this.container);\n\t\t\tthis.step4 = $('.step4', this.container);\n\t\t\tthis.step5 = $('.step5', this.container);\n\t\t\tthis.footer = $('.js-chart-footer', this.container);\n\t\t\tthis.form = $('form', this.container);\n\t\t\tthis.stepNumber = $('#widgetStep', this.container);\n\t\t},\n\t\t/**\n\t\t * Register first step elements\n\t\t */\n\t\tregisterStep1() {\n\t\t\tlet chartType = $('select[name=\"chartType\"]', this.container);\n\t\t\tlet moduleElement = $('select[name=\"module\"]', this.container);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(moduleElement, {\n\t\t\t\tplaceholder: app.vtranslate('JS_SELECT_MODULE')\n\t\t\t});\n\n\t\t\tthis.moduleName = moduleElement.val();\n\t\t\tthis.chartTypeValue = chartType.val();\n\n\t\t\tchartType.on('change', (e) => {\n\t\t\t\tthis.chartTypeValue = e.currentTarget.value;\n\t\t\t\tmoduleElement.trigger('change');\n\t\t\t});\n\t\t\tmoduleElement.on('change', (e) => {\n\t\t\t\tthis.moduleName = e.currentTarget.value;\n\t\t\t\tif (!this.moduleName) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.footer.hide();\n\t\t\t\tthis.step2.empty();\n\t\t\t\tthis.step3.empty();\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step2',\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep2(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tmoduleElement.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register second step elements\n\t\t */\n\t\tregisterStep2(stepContainer) {\n\t\t\tthis.step2.append(stepContainer);\n\t\t\tthis.stepNumber.val(2);\n\t\t\tthis.footer.hide();\n\t\t\tlet filtersIdElement = this.step2.find('.filtersId');\n\t\t\tlet valueTypeElement = this.step2.find('.valueType');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(filtersIdElement);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(valueTypeElement);\n\t\t\tthis.step2.find('.filtersId, .valueType').on('change', (e) => {\n\t\t\t\tthis.step3.empty();\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tthis.footer.hide();\n\t\t\t\tlet filterId = filtersIdElement.val(),\n\t\t\t\t\ttype = valueTypeElement.val();\n\t\t\t\tif (!filterId || Object.keys(filterId).length === 0 || !type || Object.keys(type).length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step3',\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\tfiltersId: filterId,\n\t\t\t\t\tvalueType: type,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep3(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tvalueTypeElement.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register third step elements\n\t\t */\n\t\tregisterStep3(stepContainer) {\n\t\t\tthis.step3.append(stepContainer);\n\t\t\tthis.stepNumber.val(3);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step3.find('select'));\n\t\t\tthis.footer.hide();\n\t\t\tlet groupField = this.step3.find('.groupField');\n\t\t\tgroupField.on('change', (e) => {\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tif (!groupField.val()) return;\n\t\t\t\tthis.footer.show();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step4',\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\tfiltersId: this.step2.find('.filtersId').val(),\n\t\t\t\t\tgroupField: groupField.val(),\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep4(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tgroupField.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register fourth step elements\n\t\t */\n\t\tregisterStep4(stepContainer) {\n\t\t\tthis.step4.append(stepContainer);\n\t\t\tthis.stepNumber.val(4);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step4.find('select'));\n\t\t\tlet dividingField = this.step4.find('[name=\"dividingField\"]');\n\t\t\tdividingField.on('change', (e) => {\n\t\t\t\tlet selectedOption = e.currentTarget.selectedOptions[0];\n\t\t\t\tlet type = selectedOption ? selectedOption.dataset.fieldType : '';\n\t\t\t\tlet selector = this.step4.find('.js-sector-container');\n\t\t\t\tif (type === 'datetime' || type === 'date') {\n\t\t\t\t\tselector.removeClass('d-none');\n\t\t\t\t\tselector.find('select').attr('disabled', false);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(selector.find('select'));\n\t\t\t\t} else {\n\t\t\t\t\tselector.addClass('d-none');\n\t\t\t\t\tselector.find('select').attr('disabled', true);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerRequestForStep5();\n\t\t\tthis.step4.find('[name=\"dividingField\"], [name=\"stacked\"], [name=\"sectorField\"]').on('change', (e) => {\n\t\t\t\tthis.step5.empty();\n\t\t\t\tthis.registerRequestForStep5();\n\t\t\t});\n\t\t\tif (this.widgetId && dividingField.length && dividingField.val()) {\n\t\t\t\tdividingField.trigger('change');\n\t\t\t}\n\t\t\tapp.registerModalEvents(this.container);\n\t\t},\n\t\tregisterRequestForStep5() {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\tview: this.widgetName,\n\t\t\t\tstep: 'step5',\n\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\tfiltersId: this.step2.find('.filtersId').val(),\n\t\t\t\tgroupField: this.step3.find('.groupField option:selected').val(),\n\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\tdividingField: this.step4.find('[name=\"dividingField\"] option:selected').val(),\n\t\t\t\tsectorField: this.step4.find('[name=\"sectorField\"] option:selected').val(),\n\t\t\t\tstacked: this.step4.find('[name=\"stacked\"]').is(':checked'),\n\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\tlinkId: this.linkId\n\t\t\t}).done((data) => {\n\t\t\t\tthis.registerStep5(data);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register fifth step elements\n\t\t */\n\t\tregisterStep5(stepContainer) {\n\t\t\tthis.step5.append(stepContainer);\n\t\t\tthis.stepNumber.val(5);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step5.find('select'));\n\t\t},\n\t\t/**\n\t\t * Register submit\n\t\t */\n\t\tregisterSubmit() {\n\t\t\tlet form = this.form;\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.data('jqv').InvalidFields.length === 0) {\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\tlet params = this.widgetId ? this.getParamsForEdit() : this.getParams();\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tthis.postSave(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t * @param {object} response\n\t\t */\n\t\tpostSave(response) {\n\t\t\tlet result = response['result'];\n\t\t\tVtiger_Helper_Js.showMessage({ type: 'success', text: result['text'] });\n\t\t\tif (this.isDashboard()) {\n\t\t\t\tlet linkElement = this.source.clone();\n\t\t\t\tlinkElement.data('name', this.widgetName);\n\t\t\t\tlinkElement.data('id', result['wid']);\n\t\t\t\tnew Vtiger_DashBoard_Js().addWidget(\n\t\t\t\t\tlinkElement,\n\t\t\t\t\t'index.php?module=Home&view=ShowWidget&name=ChartFilter&linkid=' +\n\t\t\t\t\t\tthis.source.data('linkid') +\n\t\t\t\t\t\t'&widgetid=' +\n\t\t\t\t\t\tresult['wid'] +\n\t\t\t\t\t\t'&active=0'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Gets params for save\n\t\t * @returns {object}\n\t\t */\n\t\tgetParamsForEdit() {\n\t\t\tlet paramsForm = this.form.serializeFormData();\n\t\t\tparamsForm.module = 'WidgetsManagement';\n\t\t\tparamsForm.parent = 'Settings';\n\t\t\tparamsForm.action = 'SaveAjax';\n\t\t\tparamsForm.mode = 'save';\n\t\t\tparamsForm.chartModule = this.moduleName;\n\t\t\tparamsForm.linkId = this.source.data('linkid');\n\t\t\tparamsForm.widgetId = this.widgetId;\n\t\t\treturn paramsForm;\n\t\t},\n\t\t/**\n\t\t * Gets params for save\n\t\t * @returns {object}\n\t\t */\n\t\tgetParams() {\n\t\t\tlet data = {};\n\t\t\tlet paramsForm = this.form.serializeFormData();\n\t\t\tthis.form.find('.saveParam').each(function (_, element) {\n\t\t\t\tif (typeof paramsForm[element.name] !== 'undefined') {\n\t\t\t\t\tdata[element.name] = paramsForm[element.name];\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet filtersId = this.step2.find('.filtersId').val();\n\t\t\tif (Array.isArray(filtersId)) {\n\t\t\t\tfiltersId = filtersId.join(',');\n\t\t\t}\n\t\t\tconst formData = {\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tblockid: this.source.data('block-id'),\n\t\t\t\tlinkid: this.source.data('linkid'),\n\t\t\t\tname: this.widgetName,\n\t\t\t\ttitle: paramsForm['title'],\n\t\t\t\tfilterid: filtersId,\n\t\t\t\tisdefault: 0,\n\t\t\t\theight: 4,\n\t\t\t\twidth: 4,\n\t\t\t\towners_all: ['mine', 'all', 'users', 'groups'],\n\t\t\t\tdefault_owner: 'mine',\n\t\t\t\tdashboardId: this.getCurrentDashboard()\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tform: formData,\n\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\tsourceModule: this.sourceModuleName || app.getModuleName(),\n\t\t\t\taction: 'Widget',\n\t\t\t\tmode: 'add',\n\t\t\t\taddToUser: this.isDashboard(),\n\t\t\t\tlinkid: this.source.data('linkid'),\n\t\t\t\tname: this.widgetName\n\t\t\t};\n\t\t},\n\t\t/**\n\t\t * Gets dashboard ID\n\t\t * @returns {int}\n\t\t */\n\t\tgetCurrentDashboard() {\n\t\t\treturn $('.selectDashboard li a.active').closest('li').data('id') || 1;\n\t\t},\n\t\t/**\n\t\t * Check if the widget is added on the dashboard\n\t\t * @returns {boolean}\n\t\t */\n\t\tisDashboard() {\n\t\t\treturn $('.dashboardViewContainer').length > 0 && typeof Vtiger_DashBoard_Js !== 'undefined';\n\t\t},\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tthis.container = $(modalContainer);\n\t\t\tlet id = this.container.closest('.js-modal-container').attr('id');\n\t\t\tthis.source = $(`[data-modalid=\"${id}\"]`);\n\t\t\tthis.sourceModuleName = this.source.data('module');\n\t\t\tthis.registerContainers();\n\t\t\tthis.registerStep1();\n\t\t\tthis.registerSubmit();\n\t\t}\n\t}\n);\n"],"names":["$","Class","widgetName","registerContainers","widgetId","container","val","linkId","step1","step2","step3","step4","step5","footer","form","stepNumber","registerStep1","chartType","moduleElement","App","Fields","Picklist","showSelect2ElementView","placeholder","app","vtranslate","moduleName","chartTypeValue","on","e","currentTarget","value","trigger","hide","empty","AppConnector","request","module","sourceModuleName","view","step","selectedModule","templateId","done","data","registerStep2","stepContainer","append","filtersIdElement","find","valueTypeElement","type","filterId","Object","keys","length","filtersId","valueType","registerStep3","groupField","show","registerStep4","dividingField","selectedOptions","selectedOption","dataset","fieldType","selector","removeClass","attr","addClass","registerRequestForStep5","registerModalEvents","sectorField","stacked","is","registerStep5","registerSubmit","validationEngine","validationEngineOptions","preventDefault","InvalidFields","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","params","getParamsForEdit","getParams","success","hideModalWindow","mode","postSave","fail","formAlignmentAfterValidation","response","result","Vtiger_Helper_Js","showMessage","text","isDashboard","source","clone","linkElement","addWidget","location","reload","serializeFormData","paramsForm","parent","action","chartModule","each","_","element","name","Array","isArray","join","formData","JSON","stringify","blockid","linkid","title","filterid","isdefault","height","width","owners_all","default_owner","dashboardId","getCurrentDashboard","sourceModule","getModuleName","addToUser","closest","Vtiger_DashBoard_Js","registerEvents","modalContainer","id"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,CAAC,CAACC,KAAK,CACN,qBAAqB,CACrB,EAAE,CACF;AAED;AACA,KACEC,UAAU,CAAE,aAAa,CACzBC,kBAAkB,CAAG,SAAA,kBAAA,EAAA,CACpB,IAAI,CAACC,QAAQ,CAAGJ,CAAC,CAAC,eAAe,CAAE,IAAI,CAACK,SAAS,CAAC,CAACC,GAAG,EAAE,CACxD,IAAI,CAACC,MAAM,CAAGP,CAAC,CAAC,aAAa,CAAE,IAAI,CAACK,SAAS,CAAC,CAACC,GAAG,EAAE,CACpD,IAAI,CAACE,KAAK,CAAGR,CAAC,CAAC,QAAQ,CAAE,IAAI,CAACK,SAAS,CAAC,CACxC,IAAI,CAACI,KAAK,CAAGT,CAAC,CAAC,QAAQ,CAAE,IAAI,CAACK,SAAS,CAAC,CACxC,IAAI,CAACK,KAAK,CAAGV,CAAC,CAAC,QAAQ,CAAE,IAAI,CAACK,SAAS,CAAC,CACxC,IAAI,CAACM,KAAK,CAAGX,CAAC,CAAC,QAAQ,CAAE,IAAI,CAACK,SAAS,CAAC,CACxC,IAAI,CAACO,KAAK,CAAGZ,CAAC,CAAC,QAAQ,CAAE,IAAI,CAACK,SAAS,CAAC,CACxC,IAAI,CAACQ,MAAM,CAAGb,CAAC,CAAC,kBAAkB,CAAE,IAAI,CAACK,SAAS,CAAC,CACnD,IAAI,CAACS,IAAI,CAAGd,CAAC,CAAC,MAAM,CAAE,IAAI,CAACK,SAAS,CAAC,CACrC,IAAI,CAACU,UAAU,CAAGf,CAAC,CAAC,aAAa,CAAE,IAAI,CAACK,SAAS,EAClD,CAAC;AAEH;AACA,KACEW,aAAa,CAAG,SAAA,aAAA,EAAA,CAAA,IAAA,KAAA,CAAA,IAAA,CACXC,SAAS,CAAGjB,CAAC,CAAC,4BAA0B,CAAE,IAAI,CAACK,SAAS,CAAC,CACzDa,aAAa,CAAGlB,CAAC,CAAC,yBAAuB,CAAE,IAAI,CAACK,SAAS,CAAC,CAC9Dc,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAACJ,aAAa,CAAE,CACzDK,WAAW,CAAEC,GAAG,CAACC,UAAU,CAAC,kBAAkB,CAC/C,CAAC,CAAC,CAEF,IAAI,CAACC,UAAU,CAAGR,aAAa,CAACZ,GAAG,EAAE,CACrC,IAAI,CAACqB,cAAc,CAAGV,SAAS,CAACX,GAAG,EAAE,CAErCW,SAAS,CAACW,EAAE,CAAC,QAAQ,CAAE,SAACC,CAAC,CAAK,CAC7B,KAAI,CAACF,cAAc,CAAGE,CAAC,CAACC,aAAa,CAACC,KAAK,CAC3Cb,aAAa,CAACc,OAAO,CAAC,QAAQ,EAC/B,CAAC,CAAC,CACFd,aAAa,CAACU,EAAE,CAAC,QAAQ,CAAE,SAACC,CAAC,CAAK,CAAA,OAC7B,KAAA,CAACH,UAAU,CAAGG,CAAC,CAACC,aAAa,CAACC,KAAK,CAAA,CAAA,CAClC,KAAI,CAACL,UAAU,EAGpB,KAAA,KAAI,CAACb,MAAM,CAACoB,IAAI,EAAE,CAClB,KAAI,CAACxB,KAAK,CAACyB,KAAK,EAAE,CAClB,KAAI,CAACxB,KAAK,CAACwB,KAAK,EAAE,CAClB,KAAI,CAACvB,KAAK,CAACuB,KAAK,EAAE,CAClB,KAAI,CAACtB,KAAK,CAACsB,KAAK,EAAE,CAClBC,YAAY,CAACC,OAAO,CAAC,CACpBC,MAAM,CAAE,KAAI,CAACC,gBAAgB,CAC7BC,IAAI,CAAE,KAAI,CAACrC,UAAU,CACrBsC,IAAI,CAAE,OAAO,CACbvB,SAAS,CAAE,KAAI,CAACU,cAAc,CAC9Bc,cAAc,CAAE,KAAI,CAACf,UAAU,CAC/BgB,UAAU,CAAE,KAAI,CAACtC,QAAQ,CACzBG,MAAM,CAAE,KAAI,CAACA,MACd,CAAC,CAAC,CAACoC,IAAI,CAAC,SAACC,IAAI,CAAK,CACjB,KAAI,CAACC,aAAa,CAACD,IAAI,EACxB,CAAC,CAAC,CACH,CAAC,CAAC,CACE,IAAI,CAACxC,QAAQ,EAChBc,aAAa,CAACc,OAAO,CAAC,QAAQ,EAEhC,CAAC;AAEH;AACA,KACEa,aAAa,CAACC,SAAAA,aAAAA,CAAAA,aAAa,CAAE,CAAA,IAAA,MAAA,CAAA,IAAA,CAC5B,IAAI,CAACrC,KAAK,CAACsC,MAAM,CAACD,aAAa,CAAC,CAChC,IAAI,CAAC/B,UAAU,CAACT,GAAG,CAAC,CAAC,CAAC,CACtB,IAAI,CAACO,MAAM,CAACoB,IAAI,EAAE,CACde,IAAAA,gBAAgB,CAAG,IAAI,CAACvC,KAAK,CAACwC,IAAI,CAAC,YAAY,CAAC,CAChDC,gBAAgB,CAAG,IAAI,CAACzC,KAAK,CAACwC,IAAI,CAAC,YAAY,CAAC,CACpD9B,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAAC0B,gBAAgB,CAAC,CAC5D7B,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAAC4B,gBAAgB,CAAC,CAC5D,IAAI,CAACzC,KAAK,CAACwC,IAAI,CAAC,wBAAwB,CAAC,CAACrB,EAAE,CAAC,QAAQ,CAAE,UAAO,CAC7D,MAAI,CAAClB,KAAK,CAACwB,KAAK,EAAE,CAClB,MAAI,CAACvB,KAAK,CAACuB,KAAK,EAAE,CAClB,MAAI,CAACtB,KAAK,CAACsB,KAAK,EAAE,CAClB,MAAI,CAACrB,MAAM,CAACoB,IAAI,EAAE,CAClB,IAAY,QAAA,CAAGe,gBAAgB,CAAC1C,GAAG,EAAE,CACpC6C,IAAI,CAAGD,gBAAgB,CAAC5C,GAAG,EAAE,CACzB8C,QAAQ,EAAqC,CAAC,GAAlCC,MAAM,CAACC,IAAI,CAACF,QAAQ,CAAC,CAACG,MAAY,EAAKJ,IAAI,EAAiC,CAAC,GAA9BE,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAACI,MAAY,EAG9FpB,YAAY,CAACC,OAAO,CAAC,CACpBC,MAAM,CAAE,MAAI,CAACC,gBAAgB,CAC7BC,IAAI,CAAE,MAAI,CAACrC,UAAU,CACrBsC,IAAI,CAAE,OAAO,CACbC,cAAc,CAAE,MAAI,CAACf,UAAU,CAC/BT,SAAS,CAAE,MAAI,CAACU,cAAc,CAC9B6B,SAAS,CAAEJ,QAAQ,CACnBK,SAAS,CAAEN,IAAI,CACfT,UAAU,CAAE,MAAI,CAACtC,QAAQ,CACzBG,MAAM,CAAE,MAAI,CAACA,MACd,CAAC,CAAC,CAACoC,IAAI,CAAC,SAACC,IAAI,CAAK,CACjB,MAAI,CAACc,aAAa,CAACd,IAAI,EACxB,CAAC,EACF,CAAC,CAAC,CACE,IAAI,CAACxC,QAAQ,EAChB8C,gBAAgB,CAAClB,OAAO,CAAC,QAAQ,EAEnC,CAAC;AAEH;AACA,KACE0B,aAAa,wBAACZ,aAAa,CAAE,iBAC5B,IAAI,CAACpC,KAAK,CAACqC,MAAM,CAACD,aAAa,CAAC,CAChC,IAAI,CAAC/B,UAAU,CAACT,GAAG,CAAC,CAAC,CAAC,CACtBa,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAAC,IAAI,CAACZ,KAAK,CAACuC,IAAI,CAAC,QAAQ,CAAC,CAAC,CACrE,IAAI,CAACpC,MAAM,CAACoB,IAAI,EAAE,CAClB,cAAc,CAAG,IAAI,CAACvB,KAAK,CAACuC,IAAI,CAAC,aAAa,CAAC,CAC/CU,UAAU,CAAC/B,EAAE,CAAC,QAAQ,CAAE,UAAO,CAC9B,MAAI,CAACjB,KAAK,CAACuB,KAAK,EAAE,CAClB,MAAI,CAACtB,KAAK,CAACsB,KAAK,EAAE,CACbyB,UAAU,CAACrD,GAAG,EAAE,GACrB,MAAI,CAACO,MAAM,CAAC+C,IAAI,EAAE,CAClBzB,YAAY,CAACC,OAAO,CAAC,CACpBC,MAAM,CAAE,MAAI,CAACC,gBAAgB,CAC7BC,IAAI,CAAE,MAAI,CAACrC,UAAU,CACrBsC,IAAI,CAAE,OAAO,CACbC,cAAc,CAAE,MAAI,CAACf,UAAU,CAC/B8B,SAAS,CAAE,MAAI,CAAC/C,KAAK,CAACwC,IAAI,CAAC,YAAY,CAAC,CAAC3C,GAAG,EAAE,CAC9CqD,UAAU,CAAEA,UAAU,CAACrD,GAAG,EAAE,CAC5BW,SAAS,CAAE,MAAI,CAACU,cAAc,CAC9Be,UAAU,CAAE,MAAI,CAACtC,QAAQ,CACzBG,MAAM,CAAE,MAAI,CAACA,MACd,CAAC,CAAC,CAACoC,IAAI,CAAC,SAACC,IAAI,CAAK,CACjB,MAAI,CAACiB,aAAa,CAACjB,IAAI,EACxB,CAAC,CAAC,EACH,CAAC,CAAC,CACE,IAAI,CAACxC,QAAQ,EAChBuD,UAAU,CAAC3B,OAAO,CAAC,QAAQ,EAE7B,CAAC;AAEH;AACA,KACE6B,aAAa,CAACf,SAAAA,aAAAA,CAAAA,aAAa,CAAE,CAC5B,IAAA,MAAA,CAAA,IAAA,CAAA,IAAI,CAACnC,KAAK,CAACoC,MAAM,CAACD,aAAa,CAAC,CAChC,IAAI,CAAC/B,UAAU,CAACT,GAAG,CAAC,CAAC,CAAC,CACtBa,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAAC,IAAI,CAACX,KAAK,CAACsC,IAAI,CAAC,QAAQ,CAAC,CAAC,CACrE,IAAIa,aAAa,CAAG,IAAI,CAACnD,KAAK,CAACsC,IAAI,CAAC,0BAAwB,CAAC,CAC7Da,aAAa,CAAClC,EAAE,CAAC,QAAQ,CAAE,SAACC,CAAC,CAAK,CAAA,kBACf,CAAGA,CAAC,CAACC,aAAa,CAACiC,eAAe,CAAC,CAAC,CAAC,CACnDZ,IAAI,CAAGa,cAAc,CAAGA,cAAc,CAACC,OAAO,CAACC,SAAS,CAAG,EAAE,CAC7DC,QAAQ,CAAG,MAAI,CAACxD,KAAK,CAACsC,IAAI,CAAC,sBAAsB,CAAC,CACzC,UAAU,GAAnBE,IAAmB,EAAa,MAAM,GAAfA,IAAe,EACzCgB,QAAQ,CAACC,WAAW,CAAC,QAAQ,CAAC,CAC9BD,QAAQ,CAAClB,IAAI,CAAC,QAAQ,CAAC,CAACoB,IAAI,CAAC,UAAU,CAAA,CAAA,CAAA,CAAQ,CAC/ClD,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAAC6C,QAAQ,CAAClB,IAAI,CAAC,QAAQ,CAAC,CAAC,GAEnEkB,QAAQ,CAACG,QAAQ,CAAC,QAAQ,CAAC,CAC3BH,QAAQ,CAAClB,IAAI,CAAC,QAAQ,CAAC,CAACoB,IAAI,CAAC,UAAU,CAAA,CAAA,CAAA,CAAO,EAEhD,CAAC,CAAC,CACF,IAAI,CAACE,uBAAuB,EAAE,CAC9B,IAAI,CAAC5D,KAAK,CAACsC,IAAI,CAAC,sEAAgE,CAAC,CAACrB,EAAE,CAAC,QAAQ,CAAE,UAAO,CACrG,MAAI,CAAChB,KAAK,CAACsB,KAAK,EAAE,CAClB,MAAI,CAACqC,uBAAuB,GAC7B,CAAC,CAAC,CACE,IAAI,CAACnE,QAAQ,EAAI0D,aAAa,CAACP,MAAM,EAAIO,aAAa,CAACxD,GAAG,EAAE,EAC/DwD,aAAa,CAAC9B,OAAO,CAAC,QAAQ,CAAC,CAEhCR,GAAG,CAACgD,mBAAmB,CAAC,IAAI,CAACnE,SAAS,EACvC,CAAC,CACDkE,uBAAuB,CAAG,SAAA,uBAAA,EAAA,CAAA,IAAA,MAAA,CAAA,IAAA,CACzBpC,YAAY,CAACC,OAAO,CAAC,CACpBC,MAAM,CAAE,IAAI,CAACC,gBAAgB,CAC7BC,IAAI,CAAE,IAAI,CAACrC,UAAU,CACrBsC,IAAI,CAAE,OAAO,CACbC,cAAc,CAAE,IAAI,CAACf,UAAU,CAC/B8B,SAAS,CAAE,IAAI,CAAC/C,KAAK,CAACwC,IAAI,CAAC,YAAY,CAAC,CAAC3C,GAAG,EAAE,CAC9CqD,UAAU,CAAE,IAAI,CAACjD,KAAK,CAACuC,IAAI,CAAC,6BAA6B,CAAC,CAAC3C,GAAG,EAAE,CAChEW,SAAS,CAAE,IAAI,CAACU,cAAc,CAC9BmC,aAAa,CAAE,IAAI,CAACnD,KAAK,CAACsC,IAAI,CAAC,0CAAwC,CAAC,CAAC3C,GAAG,EAAE,CAC9EmE,WAAW,CAAE,IAAI,CAAC9D,KAAK,CAACsC,IAAI,CAAC,wCAAsC,CAAC,CAAC3C,GAAG,EAAE,CAC1EoE,OAAO,CAAE,IAAI,CAAC/D,KAAK,CAACsC,IAAI,CAAC,oBAAkB,CAAC,CAAC0B,EAAE,CAAC,UAAU,CAAC,CAC3DjC,UAAU,CAAE,IAAI,CAACtC,QAAQ,CACzBG,MAAM,CAAE,IAAI,CAACA,MACd,CAAC,CAAC,CAACoC,IAAI,CAAC,SAACC,IAAI,CAAK,CACjB,MAAI,CAACgC,aAAa,CAAChC,IAAI,EACxB,CAAC,EACF,CAAC;AAEH;AACA,KACEgC,aAAa,CAAC9B,SAAAA,aAAAA,CAAAA,aAAa,CAAE,CAC5B,IAAI,CAAClC,KAAK,CAACmC,MAAM,CAACD,aAAa,CAAC,CAChC,IAAI,CAAC/B,UAAU,CAACT,GAAG,CAAC,CAAC,CAAC,CACtBa,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAAC,IAAI,CAACV,KAAK,CAACqC,IAAI,CAAC,QAAQ,CAAC,EACrE,CAAC;AAEH;AACA,KACE4B,cAAc,CAAA,SAAA,cAAA,EAAG,CACZ/D,IAAAA,MAAAA,CAAAA,IAAAA,CAAAA,IAAI,CAAG,IAAI,CAACA,IAAI,CACpBA,IAAI,CAACgE,gBAAgB,CAACtD,GAAG,CAACuD,uBAAuB,CAAC,CAClDjE,IAAI,CAACc,EAAE,CAAC,QAAQ,CAAE,SAACC,CAAC,CAAK,CAExB,GADAA,CAAC,CAACmD,cAAc,EAAE,CAC4B,CAAC,GAA3ClE,IAAI,CAAC8B,IAAI,CAAC,KAAK,CAAC,CAACqC,aAAa,CAAC1B,MAAY,CAAE,CAC5C2B,IAAAA,wBAAwB,CAAGlF,CAAC,CAACmF,iBAAiB,CAAC,CAAEC,QAAQ,CAAE,MAAM,CAAEC,SAAS,CAAE,CAAEC,OAAO,CAAA,CAAA,CAAO,CAAE,CAAC,CAAC,CAClGC,MAAM,CAAG,MAAI,CAACnF,QAAQ,CAAG,MAAI,CAACoF,gBAAgB,EAAE,CAAG,MAAI,CAACC,SAAS,EAAE,CACvEtD,YAAY,CAACC,OAAO,CAACmD,MAAM,CAAC,CAC1B5C,IAAI,CAAC,SAACC,IAAI,CAAK,CACXA,IAAI,CAAC8C,OAAO,GACflE,GAAG,CAACmE,eAAe,EAAE,CACrBT,wBAAwB,CAACC,iBAAiB,CAAC,CAAES,IAAI,CAAE,MAAO,CAAC,CAAC,CAC5D,MAAI,CAACC,QAAQ,CAACjD,IAAI,CAAC,EAErB,CAAC,CAAC,CACDkD,IAAI,CAAC,UAAY,CACjBZ,wBAAwB,CAACC,iBAAiB,CAAC,CAAES,IAAI,CAAE,MAAO,CAAC,EAC5D,CAAC,EACH,CAAC,KACApE,GAAG,CAACuE,4BAA4B,CAACjF,IAAI,EAEvC,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACE+E,QAAQ,mBAACG,QAAQ,CAAE,CAClB,IAAIC,MAAM,CAAGD,QAAQ,CAAU,MAAA,CAE/B,GADAE,gBAAgB,CAACC,WAAW,CAAC,CAAEhD,IAAI,CAAE,SAAS,CAAEiD,IAAI,CAAEH,MAAM,KAAS,CAAC,CAAC,CACnE,IAAI,CAACI,WAAW,EAAE,CAAE,CACvB,IAAe,WAAA,CAAG,IAAI,CAACC,MAAM,CAACC,KAAK,EAAE,CACrCC,WAAW,CAAC5D,IAAI,CAAC,MAAM,CAAE,IAAI,CAAC1C,UAAU,CAAC,CACzCsG,WAAW,CAAC5D,IAAI,CAAC,IAAI,CAAEqD,MAAM,CAAA,GAAO,CAAC,CACrC,uBAAuB,EAAE,CAACQ,SAAS,CAClCD,WAAW,CACX,gEAAgE,CAC/D,IAAI,CAACF,MAAM,CAAC1D,IAAI,CAAC,QAAQ,CAAC,CAC1B,YAAY,CACZqD,MAAM,CAAO,GAAA,CACb,WAAW,EAEd,CAAC,KACM,MAAA,CAACS,QAAQ,CAACC,MAAM,GAExB,CAAC;AAEH;AACA;AACA,KACEnB,gBAAgB,CAAA,SAAA,gBAAA,EAAG,CAClB,cAAc,CAAG,IAAI,CAAC1E,IAAI,CAAC8F,iBAAiB,EAAE,CAQ9C,OAPU,UAAA,CAACvE,MAAM,CAAG,mBAAmB,CACvCwE,UAAU,CAACC,MAAM,CAAG,UAAU,CAC9BD,UAAU,CAACE,MAAM,CAAG,UAAU,CAC9BF,UAAU,CAACjB,IAAI,CAAG,MAAM,CACxBiB,UAAU,CAACG,WAAW,CAAG,IAAI,CAACtF,UAAU,CACxCmF,UAAU,CAACtG,MAAM,CAAG,IAAI,CAAC+F,MAAM,CAAC1D,IAAI,CAAC,QAAQ,CAAC,CAC9CiE,UAAU,CAACzG,QAAQ,CAAG,IAAI,CAACA,QAAQ,CAC5ByG,UACR,CAAC;AAEH;AACA;AACA,KACEpB,SAAS,CAAG,SAAA,SAAA,EAAA,CAAA,IACH,IAAA,CAAG,EAAE,CACToB,UAAU,CAAG,IAAI,CAAC/F,IAAI,CAAC8F,iBAAiB,EAAE,CAC9C,IAAI,CAAC9F,IAAI,CAACmC,IAAI,CAAC,YAAY,CAAC,CAACgE,IAAI,CAAC,SAAUC,CAAC,CAAEC,OAAO,CAAE,CACf,WAAW,EAA/C,OAAON,UAAU,CAACM,OAAO,CAACC,IAAI,CAAiB,GAClDxE,IAAI,CAACuE,OAAO,CAACC,IAAI,CAAC,CAAGP,UAAU,CAACM,OAAO,CAACC,IAAI,CAAC,EAE/C,CAAC,CAAC,CACF,IAAa,SAAA,CAAG,IAAI,CAAC3G,KAAK,CAACwC,IAAI,CAAC,YAAY,CAAC,CAAC3C,GAAG,EAAE,CAC/C+G,KAAK,CAACC,OAAO,CAAC9D,SAAS,CAAC,GAC3BA,SAAS,CAAGA,SAAS,CAAC+D,IAAI,CAAC,GAAG,CAAC,CAAA,CAEhC,IAAMC,QAAQ,CAAG,CAChB5E,IAAI,CAAE6E,IAAI,CAACC,SAAS,CAAC9E,IAAI,CAAC,CAC1B+E,OAAO,CAAE,IAAI,CAACrB,MAAM,CAAC1D,IAAI,CAAC,UAAU,CAAC,CACrCgF,MAAM,CAAE,IAAI,CAACtB,MAAM,CAAC1D,IAAI,CAAC,QAAQ,CAAC,CAClCwE,IAAI,CAAE,IAAI,CAAClH,UAAU,CACrB2H,KAAK,CAAEhB,UAAU,CAAS,KAAA,CAC1BiB,QAAQ,CAAEtE,SAAS,CACnBuE,SAAS,CAAE,CAAC,CACZC,MAAM,CAAE,CAAC,CACTC,KAAK,CAAE,CAAC,CACRC,UAAU,CAAE,CAAC,MAAM,CAAE,KAAK,CAAE,OAAO,CAAE,QAAQ,CAAC,CAC9CC,aAAa,CAAE,MAAM,CACrBC,WAAW,CAAE,IAAI,CAACC,mBAAmB,EACtC,CAAC,CACD,OAAO,CACNvH,IAAI,CAAE0G,QAAQ,CACdnF,MAAM,CAAE,IAAI,CAACC,gBAAgB,CAC7BgG,YAAY,CAAE,IAAI,CAAChG,gBAAgB,EAAId,GAAG,CAAC+G,aAAa,EAAE,CAC1DxB,MAAM,CAAE,QAAQ,CAChBnB,IAAI,CAAE,KAAK,CACX4C,SAAS,CAAE,IAAI,CAACnC,WAAW,EAAE,CAC7BuB,MAAM,CAAE,IAAI,CAACtB,MAAM,CAAC1D,IAAI,CAAC,QAAQ,CAAC,CAClCwE,IAAI,CAAE,IAAI,CAAClH,UACZ,CACD,CAAC;AAEH;AACA;AACA,KACEmI,mBAAmB,+BAAG,CACrB,QAAQ,CAAC,8BAA8B,CAAC,CAACI,OAAO,CAAC,IAAI,CAAC,CAAC7F,IAAI,CAAC,IAAI,CAAC,EAAI,CACtE,CAAC;AAEH;AACA;AACA,KACEyD,WAAW,CAAG,SAAA,WAAA,EAAA,CACb,OAA8C,CAAA,CAAvCrG,CAAC,CAAC,yBAAyB,CAAC,CAACuD,MAAU,EAAmC,WAAW,EAA1C,OAAOmF,mBAC1D,CAAC;AAEH;AACA;AACA,KACEC,cAAc,CAAE,SAAUC,cAAAA,CAAAA,cAAc,CAAE,CACzC,IAAI,CAACvI,SAAS,CAAGL,CAAC,CAAC4I,cAAc,CAAC,CAClC,IAAM,EAAA,CAAG,IAAI,CAACvI,SAAS,CAACoI,OAAO,CAAC,qBAAqB,CAAC,CAACpE,IAAI,CAAC,IAAI,CAAC,CACjE,IAAI,CAACiC,MAAM,CAAGtG,CAAC,CAAmB6I,kBAAAA,CAAAA,MAAAA,CAAAA,EAAE,CAAK,KAAA,CAAA,CAAA,CACzC,IAAI,CAACvG,gBAAgB,CAAG,IAAI,CAACgE,MAAM,CAAC1D,IAAI,CAAC,QAAQ,CAAC,CAClD,IAAI,CAACzC,kBAAkB,EAAE,CACzB,IAAI,CAACa,aAAa,EAAE,CACpB,IAAI,CAAC6D,cAAc,GACpB,CACD,CAAC,CACD;;"}