{"version":3,"file":"ChartFilter.min.js","sources":["ChartFilter.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 4.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_ChartFilter_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Widget type name\n\t\t */\n\t\twidgetName: 'ChartFilter',\n\t\tregisterContainers() {\n\t\t\tthis.widgetId = $('.js-widget-id', this.container).val();\n\t\t\tthis.linkId = $('.js-link-id', this.container).val();\n\t\t\tthis.step1 = $('.step1', this.container);\n\t\t\tthis.step2 = $('.step2', this.container);\n\t\t\tthis.step3 = $('.step3', this.container);\n\t\t\tthis.step4 = $('.step4', this.container);\n\t\t\tthis.step5 = $('.step5', this.container);\n\t\t\tthis.footer = $('.js-chart-footer', this.container);\n\t\t\tthis.form = $('form', this.container);\n\t\t\tthis.stepNumber = $('#widgetStep', this.container);\n\t\t},\n\t\t/**\n\t\t * Register first step elements\n\t\t */\n\t\tregisterStep1() {\n\t\t\tlet chartType = $('select[name=\"chartType\"]', this.container);\n\t\t\tlet moduleElement = $('select[name=\"module\"]', this.container);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(moduleElement, {\n\t\t\t\tplaceholder: app.vtranslate('JS_SELECT_MODULE')\n\t\t\t});\n\n\t\t\tthis.moduleName = moduleElement.val();\n\t\t\tthis.chartTypeValue = chartType.val();\n\n\t\t\tchartType.on('change', (e) => {\n\t\t\t\tthis.chartTypeValue = e.currentTarget.value;\n\t\t\t\tmoduleElement.trigger('change');\n\t\t\t});\n\t\t\tmoduleElement.on('change', (e) => {\n\t\t\t\tthis.moduleName = e.currentTarget.value;\n\t\t\t\tif (!this.moduleName) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.footer.hide();\n\t\t\t\tthis.step2.empty();\n\t\t\t\tthis.step3.empty();\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step2',\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep2(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tmoduleElement.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register second step elements\n\t\t */\n\t\tregisterStep2(stepContainer) {\n\t\t\tthis.step2.append(stepContainer);\n\t\t\tthis.stepNumber.val(2);\n\t\t\tthis.footer.hide();\n\t\t\tlet filtersIdElement = this.step2.find('.filtersId');\n\t\t\tlet valueTypeElement = this.step2.find('.valueType');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(filtersIdElement);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(valueTypeElement);\n\t\t\tthis.step2.find('.filtersId, .valueType').on('change', (e) => {\n\t\t\t\tthis.step3.empty();\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tthis.footer.hide();\n\t\t\t\tlet filterId = filtersIdElement.val(),\n\t\t\t\t\ttype = valueTypeElement.val();\n\t\t\t\tif (!filterId || Object.keys(filterId).length === 0 || !type || Object.keys(type).length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step3',\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\tfiltersId: filterId,\n\t\t\t\t\tvalueType: type,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep3(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tvalueTypeElement.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register third step elements\n\t\t */\n\t\tregisterStep3(stepContainer) {\n\t\t\tthis.step3.append(stepContainer);\n\t\t\tthis.stepNumber.val(3);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step3.find('select'));\n\t\t\tthis.footer.hide();\n\t\t\tlet groupField = this.step3.find('.groupField');\n\t\t\tgroupField.on('change', (e) => {\n\t\t\t\tthis.step4.empty();\n\t\t\t\tthis.step5.empty();\n\t\t\t\tif (!groupField.val()) return;\n\t\t\t\tthis.footer.show();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\t\tview: this.widgetName,\n\t\t\t\t\tstep: 'step4',\n\t\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\t\tfiltersId: this.step2.find('.filtersId').val(),\n\t\t\t\t\tgroupField: groupField.val(),\n\t\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\t\tlinkId: this.linkId\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tthis.registerStep4(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tif (this.widgetId) {\n\t\t\t\tgroupField.trigger('change');\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register fourth step elements\n\t\t */\n\t\tregisterStep4(stepContainer) {\n\t\t\tthis.step4.append(stepContainer);\n\t\t\tthis.stepNumber.val(4);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step4.find('select'));\n\t\t\tlet dividingField = this.step4.find('[name=\"dividingField\"]');\n\t\t\tdividingField.on('change', (e) => {\n\t\t\t\tlet selectedOption = e.currentTarget.selectedOptions[0];\n\t\t\t\tlet type = selectedOption ? selectedOption.dataset.fieldType : '';\n\t\t\t\tlet selector = this.step4.find('.js-sector-container');\n\t\t\t\tif (type === 'datetime' || type === 'date') {\n\t\t\t\t\tselector.removeClass('d-none');\n\t\t\t\t\tselector.find('select').attr('disabled', false);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(selector.find('select'));\n\t\t\t\t} else {\n\t\t\t\t\tselector.addClass('d-none');\n\t\t\t\t\tselector.find('select').attr('disabled', true);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerRequestForStep5();\n\t\t\tthis.step4.find('[name=\"dividingField\"], [name=\"stacked\"], [name=\"sectorField\"]').on('change', (e) => {\n\t\t\t\tthis.step5.empty();\n\t\t\t\tthis.registerRequestForStep5();\n\t\t\t});\n\t\t\tif (this.widgetId && dividingField.length && dividingField.val()) {\n\t\t\t\tdividingField.trigger('change');\n\t\t\t}\n\t\t\tapp.registerModalEvents(this.container);\n\t\t},\n\t\tregisterRequestForStep5() {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\tview: this.widgetName,\n\t\t\t\tstep: 'step5',\n\t\t\t\tselectedModule: this.moduleName,\n\t\t\t\tfiltersId: this.step2.find('.filtersId').val(),\n\t\t\t\tgroupField: this.step3.find('.groupField option:selected').val(),\n\t\t\t\tchartType: this.chartTypeValue,\n\t\t\t\tdividingField: this.step4.find('[name=\"dividingField\"] option:selected').val(),\n\t\t\t\tsectorField: this.step4.find('[name=\"sectorField\"] option:selected').val(),\n\t\t\t\tstacked: this.step4.find('[name=\"stacked\"]').is(':checked'),\n\t\t\t\ttemplateId: this.widgetId,\n\t\t\t\tlinkId: this.linkId\n\t\t\t}).done((data) => {\n\t\t\t\tthis.registerStep5(data);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register fifth step elements\n\t\t */\n\t\tregisterStep5(stepContainer) {\n\t\t\tthis.step5.append(stepContainer);\n\t\t\tthis.stepNumber.val(5);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(this.step5.find('select'));\n\t\t},\n\t\t/**\n\t\t * Register submit\n\t\t */\n\t\tregisterSubmit() {\n\t\t\tlet form = this.form;\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tif (form.data('jqv').InvalidFields.length === 0) {\n\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\tlet params = this.widgetId ? this.getParamsForEdit() : this.getParams();\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done((data) => {\n\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tthis.postSave(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t * @param {object} response\n\t\t */\n\t\tpostSave(response) {\n\t\t\tlet result = response['result'];\n\t\t\tVtiger_Helper_Js.showMessage({ type: 'success', text: result['text'] });\n\t\t\tif (this.isDashboard()) {\n\t\t\t\tlet linkElement = this.source.clone();\n\t\t\t\tlinkElement.data('name', this.widgetName);\n\t\t\t\tlinkElement.data('id', result['wid']);\n\t\t\t\tnew Vtiger_DashBoard_Js().addWidget(\n\t\t\t\t\tlinkElement,\n\t\t\t\t\t'index.php?module=Home&view=ShowWidget&name=ChartFilter&linkid=' +\n\t\t\t\t\t\tthis.source.data('linkid') +\n\t\t\t\t\t\t'&widgetid=' +\n\t\t\t\t\t\tresult['wid'] +\n\t\t\t\t\t\t'&active=0'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Gets params for save\n\t\t * @returns {object}\n\t\t */\n\t\tgetParamsForEdit() {\n\t\t\tlet paramsForm = this.form.serializeFormData();\n\t\t\tparamsForm.module = 'WidgetsManagement';\n\t\t\tparamsForm.parent = 'Settings';\n\t\t\tparamsForm.action = 'SaveAjax';\n\t\t\tparamsForm.mode = 'save';\n\t\t\tparamsForm.chartModule = this.moduleName;\n\t\t\tparamsForm.linkId = this.source.data('linkid');\n\t\t\tparamsForm.widgetId = this.widgetId;\n\t\t\treturn paramsForm;\n\t\t},\n\t\t/**\n\t\t * Gets params for save\n\t\t * @returns {object}\n\t\t */\n\t\tgetParams() {\n\t\t\tlet data = {};\n\t\t\tlet paramsForm = this.form.serializeFormData();\n\t\t\tthis.form.find('.saveParam').each(function (_, element) {\n\t\t\t\tif (typeof paramsForm[element.name] !== 'undefined') {\n\t\t\t\t\tdata[element.name] = paramsForm[element.name];\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet filtersId = this.step2.find('.filtersId').val();\n\t\t\tif (Array.isArray(filtersId)) {\n\t\t\t\tfiltersId = filtersId.join(',');\n\t\t\t}\n\t\t\tconst formData = {\n\t\t\t\tdata: JSON.stringify(data),\n\t\t\t\tblockid: this.source.data('block-id'),\n\t\t\t\tlinkid: this.source.data('linkid'),\n\t\t\t\tname: this.widgetName,\n\t\t\t\ttitle: paramsForm['title'],\n\t\t\t\tfilterid: filtersId,\n\t\t\t\tisdefault: 0,\n\t\t\t\theight: 4,\n\t\t\t\twidth: 4,\n\t\t\t\towners_all: ['mine', 'all', 'users', 'groups'],\n\t\t\t\tdefault_owner: 'mine',\n\t\t\t\tdashboardId: this.getCurrentDashboard()\n\t\t\t};\n\t\t\treturn {\n\t\t\t\tform: formData,\n\t\t\t\tmodule: this.sourceModuleName,\n\t\t\t\tsourceModule: this.sourceModuleName || app.getModuleName(),\n\t\t\t\taction: 'Widget',\n\t\t\t\tmode: 'add',\n\t\t\t\taddToUser: this.isDashboard(),\n\t\t\t\tlinkid: this.source.data('linkid'),\n\t\t\t\tname: this.widgetName\n\t\t\t};\n\t\t},\n\t\t/**\n\t\t * Gets dashboard ID\n\t\t * @returns {int}\n\t\t */\n\t\tgetCurrentDashboard() {\n\t\t\treturn $('.selectDashboard li a.active').closest('li').data('id') || 1;\n\t\t},\n\t\t/**\n\t\t * Check if the widget is added on the dashboard\n\t\t * @returns {boolean}\n\t\t */\n\t\tisDashboard() {\n\t\t\treturn $('.dashboardViewContainer').length > 0 && typeof Vtiger_DashBoard_Js !== 'undefined';\n\t\t},\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tthis.container = $(modalContainer);\n\t\t\tlet id = this.container.closest('.js-modal-container').attr('id');\n\t\t\tthis.source = $(`[data-modalid=\"${id}\"]`);\n\t\t\tthis.sourceModuleName = this.source.data('module');\n\t\t\tthis.registerContainers();\n\t\t\tthis.registerStep1();\n\t\t\tthis.registerSubmit();\n\t\t}\n\t}\n);\n"],"names":["$","Class","widgetName","registerContainers","widgetId","container","val","linkId","step1","step2","step3","step4","step5","footer","form","stepNumber","registerStep1","chartType","moduleElement","App","Fields","Picklist","showSelect2ElementView","placeholder","app","vtranslate","moduleName","chartTypeValue","on","e","currentTarget","value","trigger","hide","empty","AppConnector","request","module","sourceModuleName","view","step","selectedModule","templateId","done","data","registerStep2","stepContainer","append","find","valueTypeElement","filtersIdElement","type","filterId","keys","length","filtersId","valueType","registerStep3","groupField","show","registerStep4","dividingField","selectedOptions","selectedOption","dataset","fieldType","selector","removeClass","attr","addClass","registerRequestForStep5","registerModalEvents","sectorField","stacked","is","registerStep5","registerSubmit","validationEngine","validationEngineOptions","preventDefault","InvalidFields","progressIndicator","position","blockInfo","enabled","params","getParamsForEdit","getParams","success","hideModalWindow","progressIndicatorElement","mode","postSave","fail","formAlignmentAfterValidation","response","Vtiger_Helper_Js","showMessage","text","result","isDashboard","source","clone","linkElement","addWidget","location","reload","serializeFormData","paramsForm","parent","action","chartModule","each","_","element","name","Array","isArray","join","JSON","stringify","blockid","linkid","title","filterid","isdefault","height","width","owners_all","default_owner","dashboardId","getCurrentDashboard","formData","sourceModule","getModuleName","addToUser","closest","registerEvents","modalContainer","id"],"mappings":"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"}