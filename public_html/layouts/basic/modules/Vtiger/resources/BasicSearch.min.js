"use strict";jQuery.Class("Vtiger_BasicSearch_Js",{},{searchModule:!1,currentSearchModule:!1,reduceNumberResults:!1,returnHtml:!0,mainContainer:!1,getSearchModule:function(){if(!1===this.searchModule){var module=app.getModuleName();void 0!==this.getCurrentSearchModule()&&(module=this.getCurrentSearchModule()),this.setSearchModule(module)}return this.searchModule},setSearchModule:function(moduleName){return this.searchModule=moduleName,this},setMainContainer:function(container){return this.mainContainer=container,this},getCurrentSearchModule:function(){return!1===this.currentSearchModule&&this.mainContainer&&(this.currentSearchModule=this.mainContainer.find(".basicSearchModulesList").val()),this.currentSearchModule},_search:function(params){var aDeferred=jQuery.Deferred();if(void 0===params&&(params={}),params.searchModule&&"-"!==params.searchModule?params.module=params.searchModule:params.module=app.getModuleName(),params.view="BasicAjax",params.mode="showSearchResults",params.limit=this.reduceNumberResults,params.html=this.returnHtml,app.getParentModuleName()&&(params.parent=app.getParentModuleName()),params.operator=CONFIG.globalSearchDefaultOperator,this.mainContainer){var operatorElement=this.mainContainer.find(".js-global-search-operator .active[data-operator]");operatorElement.length&&""!=operatorElement.data("operator")&&(params.operator=operatorElement.data("operator"))}return AppConnector.request(params).done((function(data){aDeferred.resolve(data)})).fail((function(error,err){aDeferred.reject(error)})),aDeferred.promise()},search:function(value){var searchModule=this.getCurrentSearchModule(),params={};return params.value=value,void 0!==searchModule&&!1!==searchModule?params.searchModule=searchModule:this.searchModule&&(params.searchModule=this.searchModule),this._search(params)},showSearchResults:function(data){var aDeferred=jQuery.Deferred(),params={};return params.data=data,params.cb=function(data){aDeferred.resolve(data)},app.showModalWindow(params),aDeferred.promise()}});
//# sourceMappingURL=BasicSearch.min.js.map
