{"version":3,"file":"ListPreview.min.js","sources":["ListPreview.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_List_Js(\n\t'Vtiger_ListPreview_Js',\n\t{},\n\t{\n\t\tframeProgress: false,\n\t\t/**\n\t\t * Sets correct page url.\n\t\t * @param {string} url - current url.\n\t\t */\n\t\tupdatePreview: function(url) {\n\t\t\tvar frame = $('.listPreviewframe');\n\t\t\tthis.frameProgress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tmessage: app.vtranslate('JS_FRAME_IN_PROGRESS'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar defaultView = '';\n\t\t\tif (app.getMainParams('defaultDetailViewName')) {\n\t\t\t\tdefaultView =\n\t\t\t\t\tdefaultView +\n\t\t\t\t\t'&mode=showDetailViewByMode&requestMode=' +\n\t\t\t\t\tapp.getMainParams('defaultDetailViewName'); // full, summary\n\t\t\t}\n\t\t\tframe.attr('src', url.replace('view=Detail', 'view=DetailPreview') + defaultView);\n\t\t},\n\t\t/**\n\t\t * Registers click events.\n\t\t */\n\t\tregisterRowClickEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.listViewEntries', function(e) {\n\t\t\t\tif (\n\t\t\t\t\t$(e.target)\n\t\t\t\t\t\t.closest('div')\n\t\t\t\t\t\t.hasClass('actions')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\t$(e.target).is('button') ||\n\t\t\t\t\t$(e.target)\n\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t.is('button')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\t$(e.target)\n\t\t\t\t\t\t.closest('a')\n\t\t\t\t\t\t.hasClass('noLinkBtn')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\tif ($(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\tif (\n\t\t\t\t\t$.contains(\n\t\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t\t.find('td:last-child')\n\t\t\t\t\t\t\t.get(0),\n\t\t\t\t\t\te.target\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\t$.contains(\n\t\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t\t.find('td:first-child')\n\t\t\t\t\t\t\t.get(0),\n\t\t\t\t\t\te.target\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tvar elem = $(e.currentTarget);\n\t\t\t\tvar recordUrl = elem.data('recordurl');\n\t\t\t\tif (typeof recordUrl === 'undefined') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t$('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t$(this).addClass('active');\n\t\t\t\tthisInstance.updatePreview(recordUrl);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Registers list events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t */\n\t\tregisterListEvents: function() {\n\t\t\tvar mainBody = this.container.closest('.mainBody');\n\t\t\tapp.showNewScrollbarTopBottomRight(this.list, { wheelPropagation: false });\n\t\t\tthis.registerFixedThead();\n\t\t\tthis.registerScrollEvent(mainBody);\n\t\t\tthis.registerResizeEvent();\n\t\t\tthis.list.on('click', '.listViewEntries', () => {\n\t\t\t\tif (this.split.getSizes()[1] < 10) {\n\t\t\t\t\tconst defaultGutterPosition = this.getDefaultSplitSizes();\n\t\t\t\t\tthis.split.setSizes(defaultGutterPosition);\n\t\t\t\t\tthis.preview.show();\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tapp.moduleCacheSet('userSplitSet', defaultGutterPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterScrollEvent(mainBody) {\n\t\t\tlet scrollContainer = App.Components.Scrollbar.page.element;\n\t\t\tscrollContainer.scrollTop(0); // reset scroll to set correct start position\n\t\t\tlet listOffsetTop = this.list.offset().top - this.headerH;\n\t\t\tlet initialH = this.sideBlocks.height();\n\t\t\tlet mainViewPortHeightCss = { height: mainBody.height() };\n\t\t\tlet mainViewPortWidthCss = { width: mainBody.height() };\n\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\tlet fixedElements = this.container.find('.js-fixed-scroll');\n\t\t\tlet fixedThead = this.list.siblings('.floatThead-container');\n\t\t\tconst onScroll = () => {\n\t\t\t\tif (scrollContainer.scrollTop() >= listOffsetTop) {\n\t\t\t\t\tfixedThead.add(fixedElements).css({ top: scrollContainer.scrollTop() - listOffsetTop });\n\t\t\t\t\tfixedElements.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortWidthCss);\n\t\t\t\t} else {\n\t\t\t\t\tfixedThead.add(fixedElements).css({ top: 'initial' });\n\t\t\t\t\tfixedElements.css({ height: initialH + scrollContainer.scrollTop() });\n\t\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\t\twidth: initialH + scrollContainer.scrollTop(),\n\t\t\t\t\t\theight: initialH + scrollContainer.scrollTop()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tscrollContainer.on('scroll', onScroll);\n\t\t},\n\t\tregisterResizeEvent() {\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif (\n\t\t\t\t\tApp.Components.Scrollbar.page.element.scrollTop() >=\n\t\t\t\t\tthis.list.offset().top + $('.commonActionsContainer').height()\n\t\t\t\t) {\n\t\t\t\t\tthis.container.find('.gutter').css('left', this.preview.offset().left - 8);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterFixedThead() {\n\t\t\tlet list = this.list;\n\t\t\tthis.listFloatThead = list.find('.js-fixed-thead');\n\t\t\tthis.listFloatThead.floatThead('destroy');\n\t\t\tthis.listFloatThead.floatThead({\n\t\t\t\tscrollContainer: function() {\n\t\t\t\t\treturn list;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.listFloatThead.floatThead('reflow');\n\t\t},\n\t\tgetSecondColMinWidth: function(container) {\n\t\t\tlet maxWidth = 0,\n\t\t\t\tthisWidth;\n\t\t\tcontainer.find('.listViewEntries').each(function(i) {\n\t\t\t\tthisWidth = $(this)\n\t\t\t\t\t.find('.listViewEntryValue a')\n\t\t\t\t\t.first()\n\t\t\t\t\t.width();\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tmaxWidth = thisWidth;\n\t\t\t\t} else {\n\t\t\t\t\tthisWidth > maxWidth ? (maxWidth = thisWidth) : maxWidth;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn maxWidth;\n\t\t},\n\t\tsetDomParams: function(container) {\n\t\t\tthis.container = container;\n\t\t\tthis.listColumnFirstWidth = container\n\t\t\t\t.find('.listViewEntriesDiv .listViewHeaders th')\n\t\t\t\t.first()\n\t\t\t\t.width();\n\t\t\tthis.listColumnSecondWidth = this.getSecondColMinWidth(container);\n\t\t\tthis.windowMinWidth = (15 / $(window).width()) * 100;\n\t\t\tthis.windowMaxWidth = 100 - this.minWidth;\n\t\t\tthis.sideBlocks = container.find('.js-side-block');\n\t\t\tthis.sideBlockLeft = this.sideBlocks.first();\n\t\t\tthis.sideBlockRight = this.sideBlocks.last();\n\t\t\tthis.list = container.find('.js-list-preview');\n\t\t\tthis.preview = container.find('.js-detail-preview');\n\t\t\tthis.rotatedText = container.find('.u-rotate-90');\n\t\t\tthis.footerH = $('.js-footer').outerHeight();\n\t\t\tthis.headerH = $('.js-header').outerHeight();\n\t\t},\n\t\tgetDefaultSplitSizes: function() {\n\t\t\tlet thWidth = ((this.listColumnFirstWidth + this.listColumnSecondWidth + 82) / $(window).width()) * 100;\n\t\t\treturn [thWidth, 100 - thWidth];\n\t\t},\n\t\t/**\n\t\t * Sets default windows size or from cache\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @return Array\n\t\t */\n\t\tgetSplitSizes: function() {\n\t\t\tconst cachedParams = app.moduleCacheGet('userSplitSet');\n\t\t\tif (cachedParams !== undefined) {\n\t\t\t\treturn cachedParams;\n\t\t\t} else {\n\t\t\t\treturn this.getDefaultSplitSizes();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Registers split's events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @param {Split} split - a split object.\n\t\t */\n\t\tregisterSplitEvents: function(container, split) {\n\t\t\tvar rightSplitMaxWidth = (400 / $(window).width()) * 100;\n\t\t\tvar minWindowWidth = (25 / $(window).width()) * 100;\n\t\t\tvar maxWindowWidth = 100 - minWindowWidth;\n\t\t\tvar listPreview = container.find('.js-detail-preview');\n\t\t\tthis.gutter.on('dblclick', () => {\n\t\t\t\tlet gutterMidPosition = app.moduleCacheGet('gutterMidPosition');\n\t\t\t\tif (isNaN(this.split.getSizes()[0])) {\n\t\t\t\t\tthis.split.setSizes(gutterMidPosition);\n\t\t\t\t}\n\t\t\t\tif (split.getSizes()[0] < 10) {\n\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\tif (gutterMidPosition[0] > 11) {\n\t\t\t\t\t\tsplit.setSizes(gutterMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t} else if (split.getSizes()[1] < 20) {\n\t\t\t\t\tif (gutterMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\t\tsplit.setSizes(gutterMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t\tthis.gutter.css('right', 'initial');\n\t\t\t\t} else if (split.getSizes()[0] > 10 && split.getSizes()[0] < 50) {\n\t\t\t\t\tsplit.setSizes([minWindowWidth, maxWindowWidth]);\n\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t} else if (split.getSizes()[1] > 10 && split.getSizes()[1] < 50) {\n\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t}\n\t\t\t\tthis.listFloatThead.floatThead('reflow');\n\t\t\t\tapp.moduleCacheSet('userSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockLeft.on('click', () => {\n\t\t\t\tlet gutterMidPosition = app.moduleCacheGet('gutterMidPosition');\n\t\t\t\tif (gutterMidPosition[0] > 11) {\n\t\t\t\t\tsplit.setSizes(gutterMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\tthis.listFloatThead.floatThead('reflow');\n\t\t\t\tapp.moduleCacheSet('userSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockRight.on('click', () => {\n\t\t\t\tlet gutterMidPosition = app.moduleCacheGet('gutterMidPosition');\n\t\t\t\tif (gutterMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\tsplit.setSizes(gutterMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\tlistPreview.show();\n\t\t\t\tthis.gutter.css('right', 'initial');\n\t\t\t\tthis.listFloatThead.floatThead('reflow');\n\t\t\t\tapp.moduleCacheSet('userSplitSet', split.getSizes());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Registers split object and executes its events listeners.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @returns {Split} A split object.\n\t\t */\n\t\tregisterSplit: function(container) {\n\t\t\tvar rightSplitMaxWidth = (400 / $(window).width()) * 100;\n\t\t\tvar splitMinWidth = (25 / $(window).width()) * 100;\n\t\t\tvar splitMaxWidth = 100 - splitMinWidth;\n\t\t\tvar listPreview = container.find('.js-detail-preview');\n\t\t\tconst splitSizes = this.getSplitSizes();\n\t\t\tvar split = Split([this.list[0], listPreview[0]], {\n\t\t\t\tsizes: splitSizes,\n\t\t\t\tminSize: 10,\n\t\t\t\tgutterSize: 24,\n\t\t\t\tsnapOffset: 100,\n\t\t\t\tonDrag: () => {\n\t\t\t\t\tif (split.getSizes()[1] < rightSplitMaxWidth) {\n\t\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] < 5) {\n\t\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[1] < 10) {\n\t\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tlistPreview.show();\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] > 10 && split.getSizes()[1] > rightSplitMaxWidth) {\n\t\t\t\t\t\tthis.listFloatThead.floatThead('reflow');\n\t\t\t\t\t\tapp.moduleCacheSet('gutterMidPosition', split.getSizes());\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet('userSplitSet', split.getSizes());\n\t\t\t\t},\n\t\t\t\tonDragStart: () => {\n\t\t\t\t\tlistPreview.css('z-index', '1001');\n\t\t\t\t\tthis.gutter.css('z-index', '1001');\n\t\t\t\t},\n\t\t\t\tonDragEnd: () => {\n\t\t\t\t\tlistPreview.css('z-index', '0');\n\t\t\t\t\tthis.gutter.css('z-index', '0');\n\t\t\t\t\tthis.listFloatThead.floatThead('reflow');\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (splitSizes[0] < 10) {\n\t\t\t\tlistPreview.width(listPreview.width() - 150);\n\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\tsplit.setSizes([splitMinWidth, splitMaxWidth]);\n\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t} else if (splitSizes[1] < rightSplitMaxWidth) {\n\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\tlistPreview.hide();\n\t\t\t\tsplit.setSizes([splitMaxWidth, splitMinWidth]);\n\t\t\t}\n\t\t\tthis.gutter = container.find('.gutter');\n\t\t\tvar mainWindowHeightCss = { height: $(window).height() - (this.gutter.offset().top + this.footerH) };\n\t\t\tthis.gutter.css(mainWindowHeightCss);\n\t\t\tthis.list.css(mainWindowHeightCss);\n\t\t\tthis.sideBlocks.css(mainWindowHeightCss);\n\t\t\tthis.registerSplitEvents(container, split);\n\t\t\tthis.rotatedText\n\t\t\t\t.first()\n\t\t\t\t.find('.js-list-name')\n\t\t\t\t.append($('.breadcrumbsContainer .js-text-content').text());\n\t\t\tthis.rotatedText.css({\n\t\t\t\twidth: this.sideBlockLeft.height(),\n\t\t\t\theight: this.sideBlockLeft.height()\n\t\t\t});\n\t\t\treturn split;\n\t\t},\n\t\t/**\n\t\t * Adds the split and deletes it on resize.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t */\n\t\ttoggleSplit: function(container) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listPreview = container.find('.js-detail-preview');\n\t\t\tvar splitsArray = [];\n\t\t\tvar mainBody = container.closest('.mainBody');\n\t\t\tif ($(window).width() > 993 && !container.find('.gutter').length) {\n\t\t\t\tthis.split = thisInstance.registerSplit(container);\n\t\t\t\tsplitsArray.push(this.split);\n\t\t\t}\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif ($(window).width() < 993) {\n\t\t\t\t\tif (container.find('.gutter').length) {\n\t\t\t\t\t\tsplitsArray[splitsArray.length - 1].destroy();\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (container.find('.gutter').length !== 1) {\n\t\t\t\t\t\tthis.split = thisInstance.registerSplit(container);\n\n\t\t\t\t\t\tthis.gutter = container.find('.gutter');\n\t\t\t\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\t\t\t\tif (mainBody.scrollTop() >= this.list.offset().top) {\n\t\t\t\t\t\t\tgutter.addClass('gutterOnScroll');\n\t\t\t\t\t\t\tgutter.css('left', listPreview.offset().left - 8);\n\t\t\t\t\t\t\tgutter.on('mousedown', function() {\n\t\t\t\t\t\t\t\t$(this).on('mousemove', function(e) {\n\t\t\t\t\t\t\t\t\t$(this).css('left', listPreview.offset().left - 8);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplitsArray.push(this.split);\n\t\t\t\t\t}\n\t\t\t\t\tvar currentSplit = splitsArray[splitsArray.length - 1];\n\t\t\t\t\tif (typeof currentSplit === 'undefined') return;\n\t\t\t\t\tif (currentSplit.getSizes()[0] < this.windowMinWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([this.windowMinWidth, this.windowMaxWidth]);\n\t\t\t\t\t} else if (currentSplit.getSizes()[1] < this.windowMinWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([this.windowMaxWidth, this.windowMinWidth]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * @inheritDoc\n\t\t */\n\t\tregisterDesktopEvents() {},\n\t\t/**\n\t\t * Sets initial iframe's height and fills the preview with first record's content.\n\t\t */\n\t\tregisterPreviewEvent: function() {\n\t\t\tconst iframe = $('.listPreviewframe');\n\t\t\tconst container = this.getListViewContentContainer();\n\t\t\tthis.setDomParams(container);\n\t\t\tthis.toggleSplit(container);\n\t\t\tif ($(window).width() > 993) {\n\t\t\t\tthis.registerListEvents(container);\n\t\t\t}\n\t\t\tiframe.on('load', () => {\n\t\t\t\tthis.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\tiframe.height(\n\t\t\t\t\tiframe\n\t\t\t\t\t\t.contents()\n\t\t\t\t\t\t.find('.bodyContents')\n\t\t\t\t\t\t.height() - 20\n\t\t\t\t);\n\t\t\t});\n\t\t\t$('.listViewEntriesTable .listViewEntries')\n\t\t\t\t.first()\n\t\t\t\t.trigger('click');\n\t\t},\n\t\t/**\n\t\t * Sets the correct parent iframe's size.\n\t\t * @param {jQuery} currentHeight - ifrmae's body height to be set.\n\t\t * @param {jQuery} frame - ifrmae's height to be changed.\n\t\t */\n\t\tupdateWindowHeight: function(height, frame) {\n\t\t\tframe.height(height);\n\t\t},\n\t\t/**\n\t\t * Executes event listener.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t */\n\t\tpostLoadListViewRecordsEvents: function(container) {\n\t\t\tthis._super(container);\n\t\t\tthis.registerPreviewEvent();\n\t\t},\n\t\t/**\n\t\t * Registers ListPreview's events.\n\t\t */\n\t\tregisterEvents: function() {\n\t\t\tthis._super();\n\t\t\tthis.registerPreviewEvent();\n\t\t}\n\t}\n);\n"],"names":["Vtiger_List_Js","url","frame","$","frameProgress","progressIndicator","app","vtranslate","defaultView","getMainParams","attr","replace","thisInstance","this","getListViewContentContainer","on","e","target","closest","hasClass","is","parent","currentTarget","contains","find","get","recordUrl","data","removeClass","addClass","updatePreview","mainBody","container","showNewScrollbarTopBottomRight","list","wheelPropagation","registerFixedThead","registerScrollEvent","registerResizeEvent","_this","split","getSizes","defaultGutterPosition","getDefaultSplitSizes","setSizes","preview","show","sideBlockRight","moduleCacheSet","scrollContainer","App","Components","Scrollbar","page","element","scrollTop","listOffsetTop","offset","top","headerH","initialH","sideBlocks","height","mainViewPortHeightCss","mainViewPortWidthCss","width","gutter","fixedElements","fixedThead","siblings","add","css","rotatedText","window","_this3","left","listFloatThead","floatThead","maxWidth","thisWidth","each","i","first","listColumnFirstWidth","listColumnSecondWidth","getSecondColMinWidth","windowMinWidth","windowMaxWidth","minWidth","sideBlockLeft","last","footerH","outerHeight","thWidth","cachedParams","moduleCacheGet","undefined","rightSplitMaxWidth","minWindowWidth","maxWindowWidth","listPreview","gutterMidPosition","isNaN","_this4","collapse","hide","splitMinWidth","splitMaxWidth","splitSizes","getSplitSizes","Split","_this5","mainWindowHeightCss","registerSplitEvents","append","text","splitsArray","length","registerSplit","push","destroy","_this6","currentSplit","iframe","setDomParams","toggleSplit","registerListEvents","mode","contents","trigger","_super","registerPreviewEvent"],"mappings":"aAGAA,eACC,wBACA,GACA,gBACgB,gBAKA,SAASC,SACnBC,MAAQC,EAAE,0BACTC,cAAgBD,EAAEE,kBAAkB,UAC9B,eACDC,IAAIC,WAAW,kCACb,UACD,SAGPC,YAAc,GACdF,IAAIG,cAAc,uCAEpBD,YACA,0CACAF,IAAIG,cAAc,gCAEdC,KAAK,MAAOT,IAAIU,QAAQ,cAAe,sBAAwBH,oCAK/C,eAClBI,aAAeC,KACMA,KAAKC,8BACXC,GAAG,QAAS,oBAAoB,SAASC,OAE1Db,EAAEa,EAAEC,QACFC,QAAQ,OACRC,SAAS,cAIXhB,EAAEa,EAAEC,QAAQG,GAAG,WACfjB,EAAEa,EAAEC,QACFI,SACAD,GAAG,WAILjB,EAAEa,EAAEC,QACFC,QAAQ,KACRC,SAAS,cAGRhB,EAAEa,EAAEC,OAAQd,EAAEa,EAAEM,gBAAgBF,GAAG,mBACnCjB,EAAEa,EAAEC,QAAQG,GAAG,2BAElBjB,EAAEoB,SACDpB,EAAEa,EAAEM,eACFE,KAAK,iBACLC,IAAI,GACNT,EAAEC,SAKHd,EAAEoB,SACDpB,EAAEa,EAAEM,eACFE,KAAK,kBACLC,IAAI,GACNT,EAAEC,cAKAS,UADOvB,EAAEa,EAAEM,eACMK,KAAK,kBACD,IAAdD,cAGT,0CAA0CE,YAAY,YACtDf,MAAMgB,SAAS,uBACJC,cAAcJ,oCAOT,0BACfK,SAAWlB,KAAKmB,UAAUd,QAAQ,iBAClCe,+BAA+BpB,KAAKqB,KAAM,CAAEC,kBAAkB,SAC7DC,0BACAC,oBAAoBN,eACpBO,2BACAJ,KAAKnB,GAAG,QAAS,oBAAoB,cACrCwB,MAAKC,MAAMC,WAAW,GAAK,GAAI,KAC5BC,sBAAwBH,MAAKI,6BAC9BH,MAAMI,SAASF,6BACfG,QAAQC,aACRC,eAAenB,YAAY,eAC5BoB,eAAe,eAAgBN,yDAIlBX,0BACfkB,gBAAkBC,IAAIC,WAAWC,UAAUC,KAAKC,wBACpCC,UAAU,OACtBC,cAAgB3C,KAAKqB,KAAKuB,SAASC,IAAM7C,KAAK8C,QAC9CC,SAAW/C,KAAKgD,WAAWC,SAC3BC,sBAAwB,CAAED,OAAQ/B,SAAS+B,UAC3CE,qBAAuB,CAAEC,MAAOlC,SAAS+B,eACxCI,OAAOrC,SAAS,uBACjBsC,cAAgBtD,KAAKmB,UAAUR,KAAK,oBACpC4C,WAAavD,KAAKqB,KAAKmC,SAAS,yCAgBpBtD,GAAG,UAfF,WACZkC,gBAAgBM,aAAeC,0BACvBc,IAAIH,eAAeI,IAAI,CAAEb,IAAKT,gBAAgBM,YAAcC,8BACzDe,IAAIR,8BACbS,YAAYD,IAAIR,8BAChBS,YAAYD,IAAIP,mCAEVM,IAAIH,eAAeI,IAAI,CAAEb,IAAK,0BAC3Ba,IAAI,CAAET,OAAQF,SAAWX,gBAAgBM,qBAClDiB,YAAYD,IAAI,OACbX,SAAWX,gBAAgBM,mBAC1BK,SAAWX,gBAAgBM,oEAOpCkB,QAAQ1D,GAAG,UAAU,WAErBmC,IAAIC,WAAWC,UAAUC,KAAKC,QAAQC,aACtCmB,OAAKxC,KAAKuB,SAASC,IAAMvD,EAAE,2BAA2B2D,iBAEjD9B,UAAUR,KAAK,WAAW+C,IAAI,OAAQG,OAAK7B,QAAQY,SAASkB,KAAO,yCAKtEzC,KAAOrB,KAAKqB,UACX0C,eAAiB1C,KAAKV,KAAK,wBAC3BoD,eAAeC,WAAW,gBAC1BD,eAAeC,WAAW,iBACb,kBACT3C,aAGJ0C,eAAeC,WAAW,gCAEV,SAAS7C,eAC1B8C,SAAW,EACdC,kCACSvD,KAAK,oBAAoBwD,MAAK,SAASC,aACpC9E,EAAEU,MACZW,KAAK,yBACL0D,QACAjB,QACQ,IAANgB,WACQF,oBAECD,WAAYA,SAAWC,cAG9BD,uBAEM,SAAS9C,gBACjBA,UAAYA,eACZmD,qBAAuBnD,UAC1BR,KAAK,2CACL0D,QACAjB,aACGmB,sBAAwBvE,KAAKwE,qBAAqBrD,gBAClDsD,eAAkB,GAAKnF,EAAEsE,QAAQR,QAAW,SAC5CsB,eAAiB,IAAM1E,KAAK2E,cAC5B3B,WAAa7B,UAAUR,KAAK,uBAC5BiE,cAAgB5E,KAAKgD,WAAWqB,aAChCnC,eAAiBlC,KAAKgD,WAAW6B,YACjCxD,KAAOF,UAAUR,KAAK,yBACtBqB,QAAUb,UAAUR,KAAK,2BACzBgD,YAAcxC,UAAUR,KAAK,qBAC7BmE,QAAUxF,EAAE,cAAcyF,mBAC1BjC,QAAUxD,EAAE,cAAcyF,oCAEV,eACjBC,SAAYhF,KAAKsE,qBAAuBtE,KAAKuE,sBAAwB,IAAMjF,EAAEsE,QAAQR,QAAW,UAC7F,CAAC4B,QAAS,IAAMA,wBAOT,eACRC,aAAexF,IAAIyF,eAAe,4BACnBC,IAAjBF,aACIA,aAEAjF,KAAK8B,4CAQO,SAASX,UAAWQ,uBACpCyD,mBAAsB,IAAM9F,EAAEsE,QAAQR,QAAW,IACjDiC,eAAkB,GAAK/F,EAAEsE,QAAQR,QAAW,IAC5CkC,eAAiB,IAAMD,eACvBE,YAAcpE,UAAUR,KAAK,2BAC5B0C,OAAOnD,GAAG,YAAY,eACtBsF,kBAAoB/F,IAAIyF,eAAe,qBACvCO,MAAMC,OAAK/D,MAAMC,WAAW,YAC1BD,MAAMI,SAASyD,mBAEjB7D,MAAMC,WAAW,GAAK,WACpBgD,cAAc7D,YAAY,kBAC1BM,KAAKN,YAAY,qBAClByE,kBAAkB,GAAK,SACpBzD,SAASyD,yBAETzD,SAAS2D,OAAK5D,yBAEXH,MAAMC,WAAW,GAAK,IAC5B4D,kBAAkB,GAAKJ,mBAAqB,QACzCrD,SAASyD,yBAETzD,SAAS2D,OAAK5D,+BAEhBI,eAAenB,YAAY,uBACpBkB,cACPoB,OAAOK,IAAI,QAAS,YACf/B,MAAMC,WAAW,GAAK,IAAMD,MAAMC,WAAW,GAAK,UACtDG,SAAS,CAACsD,eAAgBC,wBAC3BjE,KAAKL,SAAS,4BACd4D,cAAc5D,SAAS,YAClBW,MAAMC,WAAW,GAAK,IAAMD,MAAMC,WAAW,GAAK,WACtD+D,SAAS,UACVzD,eAAelB,SAAS,uBACjB4E,cACPvE,KAAK+B,MAAMsC,OAAKrE,KAAK+B,QAAU,YAEhCW,eAAeC,WAAW,cAC3B7B,eAAe,eAAgBR,MAAMC,oBAErCgD,cAAc1E,GAAG,SAAS,eAC1BsF,kBAAoB/F,IAAIyF,eAAe,qBACvCM,kBAAkB,GAAK,SACpBzD,SAASyD,yBAETzD,SAAS2D,OAAK5D,+BAEhB8C,cAAc7D,YAAY,kBAC1BM,KAAKN,YAAY,4BACjBgD,eAAeC,WAAW,cAC3B7B,eAAe,eAAgBR,MAAMC,oBAErCM,eAAehC,GAAG,SAAS,eAC3BsF,kBAAoB/F,IAAIyF,eAAe,qBACvCM,kBAAkB,GAAKJ,mBAAqB,QACzCrD,SAASyD,yBAETzD,SAAS2D,OAAK5D,+BAEhBI,eAAenB,YAAY,uBACpBkB,cACPoB,OAAOK,IAAI,QAAS,kBACpBK,eAAeC,WAAW,cAC3B7B,eAAe,eAAgBR,MAAMC,8BAQ5B,SAAST,2BACnBiE,mBAAsB,IAAM9F,EAAEsE,QAAQR,QAAW,IACjDyC,cAAiB,GAAKvG,EAAEsE,QAAQR,QAAW,IAC3C0C,cAAgB,IAAMD,cACtBN,YAAcpE,UAAUR,KAAK,sBAC3BoF,WAAa/F,KAAKgG,gBACpBrE,MAAQsE,MAAM,CAACjG,KAAKqB,KAAK,GAAIkE,YAAY,IAAK,OAC1CQ,mBACE,cACG,cACA,WACJ,WACHpE,MAAMC,WAAW,GAAKwD,0BACnBO,SAAS,GAEZhE,MAAMC,WAAW,GAAK,UACpBgD,cAAc5D,SAAS,kBACvBK,KAAKL,SAAS,8BAEd4D,cAAc7D,YAAY,kBAC1BM,KAAKN,YAAY,sBAEnBY,MAAMC,WAAW,GAAK,WACpBM,eAAelB,SAAS,uBACjB4E,cACPvE,KAAK+B,MAAM8C,OAAK7E,KAAK+B,QAAU,aAE/BlB,eAAenB,YAAY,uBACpBkB,QAETN,MAAMC,WAAW,GAAK,IAAMD,MAAMC,WAAW,GAAKwD,4BAChDrB,eAAeC,WAAW,cAC3B7B,eAAe,oBAAqBR,MAAMC,iBAE3CO,eAAe,eAAgBR,MAAMC,yBAE7B,uBACA8B,IAAI,UAAW,eACtBL,OAAOK,IAAI,UAAW,mBAEjB,uBACEA,IAAI,UAAW,YACtBL,OAAOK,IAAI,UAAW,YACtBK,eAAeC,WAAW,aAG7B+B,WAAW,GAAK,gBACP3C,MAAMmC,YAAYnC,QAAU,UACnCwB,cAAc5D,SAAS,iBACtBe,SAAS,CAAC8D,cAAeC,qBAC1BzE,KAAKL,SAAS,sBACT+E,WAAW,GAAKX,0BACrBlD,eAAelB,SAAS,uBACjB4E,aACN7D,SAAS,CAAC+D,cAAeD,sBAE3BxC,OAASlC,UAAUR,KAAK,eACzBwF,oBAAsB,CAAElD,OAAQ3D,EAAEsE,QAAQX,UAAYjD,KAAKqD,OAAOT,SAASC,IAAM7C,KAAK8E,sBACrFzB,OAAOK,IAAIyC,0BACX9E,KAAKqC,IAAIyC,0BACTnD,WAAWU,IAAIyC,0BACfC,oBAAoBjF,UAAWQ,YAC/BgC,YACHU,QACA1D,KAAK,iBACL0F,OAAO/G,EAAE,0CAA0CgH,aAChD3C,YAAYD,IAAI,OACb1D,KAAK4E,cAAc3B,gBAClBjD,KAAK4E,cAAc3B,WAErBtB,mBAMK,SAASR,2BACjBpB,aAAeC,KACfuF,YAAcpE,UAAUR,KAAK,sBAC7B4F,YAAc,GACdrF,SAAWC,UAAUd,QAAQ,aAC7Bf,EAAEsE,QAAQR,QAAU,MAAQjC,UAAUR,KAAK,WAAW6F,cACpD7E,MAAQ5B,aAAa0G,cAActF,uBAC5BuF,KAAK1G,KAAK2B,UAErBiC,QAAQ1D,GAAG,UAAU,cAClBZ,EAAEsE,QAAQR,QAAU,IACnBjC,UAAUR,KAAK,WAAW6F,qBACjBD,YAAYC,OAAS,GAAGG,iBAC/BzE,eAAenB,YAAY,kBAC3B6D,cAAc7D,YAAY,gBAE1B,CACmC,IAArCI,UAAUR,KAAK,WAAW6F,gBACxB7E,MAAQ5B,aAAa0G,cAActF,kBAEnCkC,OAASlC,UAAUR,KAAK,kBACxB0C,OAAOrC,SAAS,mBACjBE,SAASwB,aAAekE,OAAKvF,KAAKuB,SAASC,aACvC7B,SAAS,yBACT0C,IAAI,OAAQ6B,YAAY3C,SAASkB,KAAO,UACxC5D,GAAG,aAAa,aACpBF,MAAME,GAAG,aAAa,SAASC,KAC9BH,MAAM0D,IAAI,OAAQ6B,YAAY3C,SAASkB,KAAO,sBAIvC4C,KAAKE,OAAKjF,YAEnBkF,aAAeN,YAAYA,YAAYC,OAAS,WACxB,IAAjBK,aAA8B,OACrCA,aAAajF,WAAW,GAAKgF,OAAKnC,eAAiB,eACzC1C,SAAS,CAAC6E,OAAKnC,eAAgBmC,OAAKlC,iBACvCmC,aAAajF,WAAW,GAAKgF,OAAKnC,eAAiB,gBAChD1C,SAAS,CAAC6E,OAAKlC,eAAgBkC,OAAKnC,8EAY/B,2BACfqC,OAASxH,EAAE,qBACX6B,UAAYnB,KAAKC,mCAClB8G,aAAa5F,gBACb6F,YAAY7F,WACb7B,EAAEsE,QAAQR,QAAU,UAClB6D,mBAAmB9F,kBAElBjB,GAAG,QAAQ,kBACZX,cAAcC,kBAAkB,CAAE0H,KAAM,gBACtCjE,OACN6D,OACEK,WACAxG,KAAK,iBACLsC,SAAW,SAGb,0CACAoB,QACA+C,QAAQ,6BAOS,SAASnE,OAAQ5D,aAC9B4D,OAAOA,uCAMiB,SAAS9B,gBAClCkG,OAAOlG,gBACPmG,uCAKU,gBACVD,cACAC"}