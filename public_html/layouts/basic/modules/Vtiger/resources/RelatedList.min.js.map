{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_RelatedList_Js',\n\t{\n\t\trelatedListInstance: false,\n\t\tgetInstance: function (parentId, parentModule, selectedRelatedTabElement, relatedModuleName, url) {\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== relatedModuleName\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.parentRecordId = parentId;\n\t\t\t\tinstance.parentModuleName = parentModule;\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.moduleName = relatedModuleName;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parseUrlParams(url);\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\tgetInstanceByUrl: function (url, selectedRelatedTabElement) {\n\t\t\tlet params = app.convertUrlToObject(url);\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== params['relatedModule']\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentRecordId = params['record'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentModuleName = params['module'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName = params['relatedModule'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.defaultParams = params;\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\ttriggerMassAction: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet validationResult = self.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\t\tpostData = self.getCompleteParams();\n\t\t\t\tdelete postData.mode;\n\t\t\t\tdelete postData.view;\n\t\t\t\tpostData.viewname = cvId;\n\t\t\t\tpostData.selected_ids = selectedIds;\n\t\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\t\tlet actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdata: postData\n\t\t\t\t};\n\t\t\t\tif (type === 'sendByForm') {\n\t\t\t\t\tAppConnector.requestForm(massActionUrl, postData);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.reloadList) {\n\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.processStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Method to verify if selected files exist\n\t\t * @return boolean\n\t\t */\n\t\tverifyFileExist: function () {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\tpostData = self.getCompleteParams();\n\t\t\tdelete postData.mode;\n\t\t\tdelete postData.view;\n\t\t\tpostData.viewname = cvId;\n\t\t\tpostData.selected_ids = selectedIds;\n\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\tpostData.action = 'RelationAjax';\n\t\t\tpostData.mode = 'checkFilesIntegrity';\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: postData\n\t\t\t}).done(function (responseData) {\n\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t}\n\t\t\t\taDeferred.resolve(true);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass download action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\ttriggerMassDownload: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance,\n\t\t\t\tthisInstance = this;\n\t\t\tthis.verifyFileExist().done(function (data) {\n\t\t\t\tif (true === data) {\n\t\t\t\t\tthisInstance.triggerMassAction(massActionUrl.substring(0, massActionUrl.indexOf('&mode=multiple')), type);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttriggerMassQuickCreate: function (moduleName, data) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tif (self.checkListRecordSelected() !== true) {\n\t\t\t\tlet listParams = self.getSelectedParams();\n\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tlet params = {\n\t\t\t\t\tcallbackFunction: function () {\n\t\t\t\t\t\tself.loadRelatedList();\n\t\t\t\t\t},\n\t\t\t\t\tnoCache: true,\n\t\t\t\t\tdata: $.extend(data, {\n\t\t\t\t\t\tsourceView: 'RelatedListView',\n\t\t\t\t\t\tsourceModule: listParams.relatedModule,\n\t\t\t\t\t\tentityState: listParams.entityState,\n\t\t\t\t\t\tsearch_params: listParams.search_params,\n\t\t\t\t\t\texcluded_ids: listParams.excluded_ids,\n\t\t\t\t\t\tselected_ids: listParams.selected_ids,\n\t\t\t\t\t\trelationId: listParams.relationId,\n\t\t\t\t\t\trelatedRecord: listParams.record,\n\t\t\t\t\t\trelatedModule: listParams.module\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tApp.Components.QuickCreate.getForm(\n\t\t\t\t\t'index.php?module=' + moduleName + '&view=MassQuickCreateModal',\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tparams\n\t\t\t\t).done((data) => {\n\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tApp.Components.QuickCreate.showModal(data, params);\n\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal\n\t\t */\n\t\ttriggerSendEmail: function () {\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId()\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal by row\n\t\t */\n\t\ttriggerSendEmailByRow: function (row) {\n\t\t\tif (!(row instanceof jQuery)) {\n\t\t\t\trow = $(row);\n\t\t\t}\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId(),\n\t\t\t\t\tselected_ids: '[\"' + $(row).closest('.js-list__row').data('id') + '\"]'\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t},\n\t\t\t\trow\n\t\t\t);\n\t\t}\n\t},\n\t{\n\t\tselectedRelatedTabElement: false,\n\t\tparentRecordId: false,\n\t\tparentModuleName: false,\n\t\tmoduleName: false,\n\t\trelatedTabsContainer: false,\n\t\tcontent: false,\n\t\tlistSearchInstance: false,\n\t\tdetailViewContentHolder: false,\n\t\trelatedView: false,\n\t\tframeProgress: false,\n\t\tnoEventsListSearch: false,\n\t\tlistViewContainer: false,\n\t\tdefaultParams: {},\n\t\tsetSelectedTabElement: function (tabElement) {\n\t\t\tthis.selectedRelatedTabElement = tabElement;\n\t\t},\n\t\tgetSelectedTabElement: function () {\n\t\t\treturn this.selectedRelatedTabElement;\n\t\t},\n\t\tgetParentId: function () {\n\t\t\treturn this.parentRecordId;\n\t\t},\n\t\tgetRelatedContainer: function () {\n\t\t\treturn this.content;\n\t\t},\n\t\tsetRelatedContainer: function (container) {\n\t\t\tthis.content = container;\n\t\t\tthis.relatedView = container.find('input.relatedView').val();\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = $('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\tgetCurrentPageNum: function () {\n\t\t\treturn $('input[name=\"currentPageNum\"]', this.content).val();\n\t\t},\n\t\tsetCurrentPageNumber: function (pageNumber) {\n\t\t\t$('input[name=\"currentPageNum\"]', this.content).val(pageNumber);\n\t\t},\n\t\tgetOrderBy: function () {\n\t\t\treturn $('#orderBy', this.content).val();\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = Object.assign({}, this.defaultParams);\n\t\t\tparams['page'] = this.getCurrentPageNum();\n\t\t\tparams['orderby'] = this.getOrderBy();\n\t\t\tif (container.find('#relationId').val()) {\n\t\t\t\tparams['relationId'] = container.find('#relationId').val();\n\t\t\t}\n\t\t\tif (container.find('.js-relation-cv-id').val()) {\n\t\t\t\tparams['cvId'] = container.find('.js-relation-cv-id').val();\n\t\t\t}\n\t\t\tif (container.find('.pagination').length) {\n\t\t\t\tparams['totalCount'] = container.find('.pagination').data('totalCount');\n\t\t\t}\n\t\t\tif (container.find('.entityState').length) {\n\t\t\t\tparams['entityState'] = container.find('.entityState').val();\n\t\t\t}\n\t\t\tif (this.listSearchInstance) {\n\t\t\t\tparams.search_params = this.listSearchInstance.getListSearchParams();\n\t\t\t\tlet searchValue = this.listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\t\tparams['search_key'] = this.listSearchInstance.getAlphabetSearchField();\n\t\t\t\t\tparams['search_value'] = searchValue;\n\t\t\t\t\tparams['operator'] = 's';\n\t\t\t\t}\n\t\t\t\tthis.listSearchInstance.parseConditions(params);\n\t\t\t\tparams.search_params = JSON.stringify(params.search_params);\n\t\t\t}\n\t\t\tif (this.moduleName == 'Calendar') {\n\t\t\t\tlet switchBtn = container.find('.js-switch--calendar');\n\t\t\t\tif (switchBtn.length) {\n\t\t\t\t\tparams.time = switchBtn.first().prop('checked') ? 'current' : 'history';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tgetCompleteParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = {\n\t\t\t\tview: 'Detail',\n\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\trecord: this.getParentId(),\n\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\trelatedView: this.relatedView,\n\t\t\t\tmode: 'showRelatedList',\n\t\t\t\ttab_label: container.find('#tab_label').val()\n\t\t\t};\n\t\t\treturn $.extend(this.getDefaultParams(), params);\n\t\t},\n\t\tgetSelectedParams: function () {\n\t\t\treturn $.extend(this.getCompleteParams(), {\n\t\t\t\tselected_ids: this.readSelectedIds(true),\n\t\t\t\texcluded_ids: this.readExcludedIds(true),\n\t\t\t\tcvid: this.getCurrentCvId()\n\t\t\t});\n\t\t},\n\t\tparseUrlParams: function (url) {\n\t\t\tif (url) {\n\t\t\t\tthis.defaultParams = app.convertUrlToObject(url);\n\t\t\t} else {\n\t\t\t\tthis.defaultParams = {};\n\t\t\t}\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (typeof thisInstance.moduleName === 'undefined' || thisInstance.moduleName.length <= 0) {\n\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet completeParams = this.getCompleteParams();\n\t\t\tlet activeTabsReference = thisInstance.relatedTabsContainer.find('li.active').data('reference');\n\t\t\tAppConnector.request($.extend(completeParams, params))\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (activeTabsReference !== 'ProductsAndServices') {\n\t\t\t\t\t\tthisInstance.relatedTabsContainer.find('li').removeClass('active');\n\t\t\t\t\t\tthisInstance.selectedRelatedTabElement.addClass('active');\n\t\t\t\t\t\tthisInstance.content.html(responseData);\n\t\t\t\t\t\t$('.pageNumbers', thisInstance.content).tooltip();\n\t\t\t\t\t\tthisInstance.registerPostLoadEvents();\n\t\t\t\t\t\tthisInstance.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tshowSelectRelation: function (extendParams) {\n\t\t\tlet params = $.extend(this.getRecordsListParams(), extendParams);\n\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\tthis.addRelations(Object.keys(responseData)).done(() => {\n\t\t\t\t\t\tapp.event.trigger('RelatedListView.AfterSelectRelation', responseData, this, instance, params);\n\t\t\t\t\t\tlet detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tthis.loadRelatedList().done(function () {\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (this.getSelectedTabElement().data('link-key') === 'LBL_RECORD_SUMMARY') {\n\t\t\t\t\t\t\tdetail.loadWidgets();\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: this.moduleName,\n\t\t\t\tsrc_module: this.parentModuleName,\n\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t},\n\t\taddRelations: function (idList, params = {}) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(\n\t\t\t\t$.extend(\n\t\t\t\t\t{\n\t\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\tmode: 'addRelation',\n\t\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\t\trelated_record_list: $.isArray(idList) ? JSON.stringify(idList) : idList\n\t\t\t\t\t},\n\t\t\t\t\tparams\n\t\t\t\t)\n\t\t\t)\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tdeleteRelation(target) {\n\t\t\tlet params = {};\n\t\t\tif (target.data('url')) {\n\t\t\t\tparams = target.data('url');\n\t\t\t} else {\n\t\t\t\tlet id = target.data('id') ? target.data('id') : target.closest('tr').data('id');\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'deleteRelation',\n\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelated_record_list: JSON.stringify([id])\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: { enabled: true }\n\t\t\t});\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\tlet widget = target.closest('.widgetContentBlock');\n\t\t\t\t\t\tconst detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\tdetail.loadWidget(widget);\n\t\t\t\t\t\t\tlet updatesWidget = this.getContentHolder().find('[data-type=\"Updates\"]');\n\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\tdetail.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (err, errThrow) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tnextPageHandler: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet pageLimit = jQuery('#pageLimit', this.content).val();\n\t\t\tlet noOfEntries = jQuery('#noOfEntries', this.content).val();\n\t\t\tif (noOfEntries == pageLimit) {\n\t\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\t\tlet nextPage = parseInt(pageNumber) + 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: nextPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(nextPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tpreviousPageHandler: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\tif (pageNumber > 1) {\n\t\t\t\tlet previousPage = parseInt(pageNumber) - 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: previousPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(previousPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle select page jump in related list\n\t\t */\n\t\tselectPageHandler: function (pageNumber) {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tthis.loadRelatedList({\n\t\t\t\tpage: pageNumber\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tthisInstance.setCurrentPageNumber(pageNumber);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle page jump in related list\n\t\t */\n\t\tpageJumpHandler: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (e.which == 13) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet response = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet jumpToPage = parseInt(element.val());\n\t\t\t\t\tlet totalPages = parseInt(jQuery('#totalPageCount', thisInstance.content).text());\n\t\t\t\t\tif (jumpToPage > totalPages) {\n\t\t\t\t\t\tlet error = app.vtranslate('JS_PAGE_NOT_EXIST');\n\t\t\t\t\t\telement.validationEngine('showPrompt', error, '', 'topLeft', true);\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = element.parent().find('.formError');\n\t\t\t\t\tif (invalidFields.length < 1) {\n\t\t\t\t\t\tlet currentPage = jQuery('input[name=\"currentPageNum\"]', thisInstance.content).val();\n\t\t\t\t\t\tif (jumpToPage == currentPage) {\n\t\t\t\t\t\t\tlet message = app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + jumpToPage;\n\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\t\t\tpage: jumpToPage\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\tthisInstance.setCurrentPageNumber(jumpToPage);\n\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to add related record for the module\n\t\t */\n\t\taddRelatedRecord: function (element, callback) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet referenceModuleName = this.moduleName;\n\t\t\tlet parentId = this.getParentId();\n\t\t\tlet parentModule = this.parentModuleName;\n\t\t\tlet quickCreateParams = {};\n\t\t\tlet relatedParams = {};\n\t\t\tlet relatedField = element.data('name');\n\t\t\tlet fullFormUrl = element.data('url');\n\t\t\tif (relatedField) {\n\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t}\n\t\t\tlet eliminatedKeys = new Array('view', 'module', 'mode', 'action');\n\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\tlet index, queryParam, queryParamComponents;\n\t\t\t\tlet queryParameters = [];\n\n\t\t\t\t//To handle switch to task tab when click on add task from related list of activities\n\t\t\t\t//As this is leading to events tab intially even clicked on add task\n\t\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\t\tqueryParameters = queryString.split('&');\n\t\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\t\tif (queryParamComponents[0] == 'mode' && queryParamComponents[1] == 'Calendar') {\n\t\t\t\t\t\t\tdata.find('a[data-tab-name=\"Task\"]').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceModule\" value=\"' + parentModule + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceRecord\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" />').appendTo(data);\n\n\t\t\t\tif (typeof relatedField !== 'undefined') {\n\t\t\t\t\tlet field = data.find('[name=\"' + relatedField + '\"]');\n\t\t\t\t\t//If their is no element with the relatedField name,we are adding hidden element with\n\t\t\t\t\t//name as relatedField name,for saving of record with relation to parent record\n\t\t\t\t\tif (field.length == 0) {\n\t\t\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + relatedField + '\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1' &&\n\t\t\t\t\t\tdata.find('[name=\"' + queryParamComponents[0] + '\"]').length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"' + queryParamComponents[0] + '\" value=\"' + queryParamComponents[1] + '\" />'\n\t\t\t\t\t\t).appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback !== 'undefined') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\t//If url contains params then seperate them and make them as relatedParams\n\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\tlet queryParameters = queryString.split('&');\n\t\t\t\tfor (let index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParam = queryParameters[index];\n\t\t\t\t\tlet queryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (jQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1') {\n\t\t\t\t\t\trelatedParams[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\tquickCreateParams['callbackFunction'] = function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t};\n\t\t\tquickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, quickCreateParams);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedPageCount: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet element = this.content.find('#totalPageCount');\n\t\t\tlet totalCountElem = this.content.find('#totalCount');\n\t\t\tlet totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\telement.progressIndicator({});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelatedModule: this.moduleName\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tlet pageCount = data['result']['page'];\n\t\t\t\t\t\tlet numberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalCountElem.val(numberOfRecords);\n\t\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tfavoritesRelation: function (relcrmId, state) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (relcrmId) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateFavoriteForRecord',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelcrmid: relcrmId,\n\t\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\tactionMode: state ? 'delete' : 'add'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data.result) aDeferred.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.reject(false);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePreview: function (url) {\n\t\t\tlet frame = this.content.find('.listPreviewframe');\n\t\t\tthis.frameProgress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tmessage: app.vtranslate('JS_FRAME_IN_PROGRESS'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet defaultView = '';\n\t\t\tif (app.getMainParams('defaultDetailViewName')) {\n\t\t\t\tdefaultView =\n\t\t\t\t\tdefaultView + '&mode=showDetailViewByMode&requestMode=' + app.getMainParams('defaultDetailViewName'); // full, summary\n\t\t\t}\n\t\t\tframe.attr('src', url.replace('view=Detail', 'view=DetailPreview') + defaultView);\n\t\t},\n\t\tregisterUnreviewedCountEvent: function () {\n\t\t\tlet ids = [];\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet isUnreviewedActive = relatedContent.find('.unreviewed').length;\n\t\t\trelatedContent.find('tr.listViewEntries').each(function () {\n\t\t\t\tlet id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: this.moduleName,\n\t\t\t\trecordsId: ids\n\t\t\t}).done(function (appData) {\n\t\t\t\tlet data = appData.result;\n\t\t\t\t$.each(data, function (id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\trelatedContent.on('click', '.dropdownEntityState a', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\trelatedContent.find('.entityState').val(element.data('value'));\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\trelatedContent\n\t\t\t\t\t.find('.dropdownEntityState button')\n\t\t\t\t\t.find('span')\n\t\t\t\t\t.attr('class', element.find('span').attr('class'));\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterRowsEvent: function () {\n\t\t\tconst self = this;\n\t\t\tif (this.relatedView === 'List' || this.relatedView === 'Detail') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tif ($(e.target).hasClass('js-no-link')) return;\n\t\t\t\t\tif ($(e.target).closest('div').hasClass('actions')) return;\n\t\t\t\t\tif ($(e.target).is('button') || $(e.target).parent().is('button') || $(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target).closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif ($(e.target).is('input')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), e.target)) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), e.target)) return;\n\t\t\t\t\tlet recordUrl = $(e.target).closest('tr').data('recordurl');\n\t\t\t\t\tif (!recordUrl) return;\n\t\t\t\t\tif (app.getViewName() === 'DetailPreview') {\n\t\t\t\t\t\ttop.document.location.href = recordUrl;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.location.href = recordUrl;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.content.find('.js-toggle-hidden-row').on('click', function (e) {\n\t\t\t\t\tlet target = $(this);\n\t\t\t\t\tlet row = target.closest('tr');\n\t\t\t\t\tlet inventoryRow = row.next('.js-hidden-row');\n\t\t\t\t\tif (inventoryRow.length) {\n\t\t\t\t\t\tlet block = inventoryRow.find('.js-hidden-row__block[data-element=\"' + target.data('element') + '\"]');\n\t\t\t\t\t\tif (block.is(':visible') || !inventoryRow.is(':visible')) {\n\t\t\t\t\t\t\tinventoryRow.toggleClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinventoryRow.find('.js-hidden-row__block').addClass('d-none');\n\t\t\t\t\t\tblock.removeClass('d-none');\n\t\t\t\t\t\tif (block.is(':visible')) {\n\t\t\t\t\t\t\tself.registerWidgets(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('div').hasClass('actions')) return;\n\t\t\t\t\tif (target.is('button') || target.parent().is('button')) return;\n\t\t\t\t\tif (target.closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif (target.is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), target[0])) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), target[0])) return;\n\t\t\t\t\tlet recordUrl = $(this).data('recordurl');\n\t\t\t\t\tself.content.find('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\tself.updatePreview(recordUrl);\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet widgetsContainer = this.content.find('.js-hidden-row .js-hidden-row__block[data-element=\"widgets\"]');\n\t\t\tif (widgetsContainer.length) {\n\t\t\t\tself.registerWidgets(widgetsContainer);\n\t\t\t}\n\t\t},\n\t\tregisterWidgets: function (content) {\n\t\t\tlet widgetList = $('[class^=\"widgetContainer_\"]', content);\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\twidgetList.each(function (index, widget) {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tdetailInstance.loadWidget(widget);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSummationEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.on('click', '.listViewSummation button', function () {\n\t\t\t\tlet button = $(this);\n\t\t\t\tlet calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tlet params = thisInstance.getCompleteParams();\n\t\t\t\tparams['action'] = 'RelationAjax';\n\t\t\t\tparams['mode'] = 'calculate';\n\t\t\t\tparams['fieldName'] = button.data('field');\n\t\t\t\tparams['calculateType'] = button.data('operator');\n\t\t\t\tdelete params['view'];\n\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterPreviewEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contentHeight = this.content.find('.js-detail-preview,.js-list-preview');\n\t\t\tcontentHeight.height(app.getScreenHeight() - (this.content.offset().top + $('.js-footer').height()));\n\t\t\tthis.content.find('.listPreviewframe').on('load', function () {\n\t\t\t\tif (thisInstance.frameProgress) {\n\t\t\t\t\tthisInstance.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\t}\n\t\t\t\tcontentHeight.height($(this).contents().find('.bodyContents').height() + 2);\n\t\t\t});\n\t\t\tthis.content.find('.listViewEntriesTable .listViewEntries').first().trigger('click');\n\t\t},\n\t\tregisterPaginationEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\tthis.content.on('click', '#relatedViewNextPageButton', function (e) {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.nextPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedViewPreviousPageButton', function () {\n\t\t\t\tthisInstance.previousPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedListPageJump', function (e) {\n\t\t\t\tthisInstance.getRelatedPageCount();\n\t\t\t});\n\t\t\tthis.content\n\t\t\t\t.on('click', '#relatedListPageJumpDropDown > li', function (e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '#pageToJump', function (e) {\n\t\t\t\t\tthisInstance.pageJumpHandler(e);\n\t\t\t\t});\n\t\t\tthis.content.on('click', '.pageNumber', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthisInstance.selectPageHandler($(this).data('id'));\n\t\t\t});\n\t\t\tthis.content.on('click', '#totalCountBtn', function () {\n\t\t\t\tapp.hidePopover($(this));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tmode: 'getRelationPagination',\n\t\t\t\t\trecord: thisInstance.getParentId(),\n\t\t\t\t\trelatedModule: thisInstance.moduleName,\n\t\t\t\t\tnoOfEntries: $('#noOfEntries', relatedContent).val(),\n\t\t\t\t\tpage: relatedContent.find('[name=\"currentPageNum\"]').val()\n\t\t\t\t};\n\t\t\t\tif (relatedContent.find('.entityState').length) {\n\t\t\t\t\tparams['entityState'] = relatedContent.find('.entityState').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\trelatedContent.find('.paginationDiv').html(response);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.find('a.favorites').on('click', function () {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet row = element.closest('tr');\n\t\t\t\tthisInstance.favoritesRelation(row.data('id'), element.data('state')).done(function (response) {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tlet state = element.data('state') ? 0 : 1;\n\t\t\t\t\t\telement.data('state', state);\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\telement.find('.far').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.fas').removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement.find('.fas').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.far').removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet text = app.vtranslate('JS_REMOVED_FROM_FAVORITES');\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\ttext = app.vtranslate('JS_ADDED_TO_FAVORITES');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify({ text: text, type: 'success' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('[name=\"addButton\"]').on('click', function () {\n\t\t\t\tconst element = $(this);\n\t\t\t\tif (element.hasClass('quickCreateSupported') !== true) {\n\t\t\t\t\tapp.openUrl(element.data('url'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.addRelatedRecord(element);\n\t\t\t});\n\t\t\tthis.content.find('.relatedHeader button.selectRelation').on('click', function () {\n\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\tlet params = {\n\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t};\n\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tsearch_key: restrictionsField.key,\n\t\t\t\t\t\tsearch_value: restrictionsField.name,\n\t\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthisInstance.showSelectRelation(params);\n\t\t\t});\n\t\t\tthis.content.find('button.relationDelete').on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet target = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\ticon: false,\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteRelation(target);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.text = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else if (target.data('content')) {\n\t\t\t\t\tparams.text = target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.text = app.vtranslate('JS_DELETE_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tapp.showConfirmModal(params);\n\t\t\t});\n\t\t\tthis.content.find('.js-switch--calendar,select.js-relation-cv-id').on('change', function () {\n\t\t\t\tthisInstance.listSearchInstance.reloadList({\n\t\t\t\t\tsearch_params: [],\n\t\t\t\t\tsearch_key: '',\n\t\t\t\t\tsearch_value: '',\n\t\t\t\t\toperator: '',\n\t\t\t\t\tlockedEmptyFields: [],\n\t\t\t\t\tpage: 1,\n\t\t\t\t\ttotalCount: 0\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterPostLoadEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerRowsEvent();\n\t\t\tthis.registerListScroll();\n\t\t\tif (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.registerPreviewEvent();\n\t\t\t\tif (!this.content.find('.gutter').length) {\n\t\t\t\t\tif (!this.content.find('.js-list-preview').length) return;\n\t\t\t\t\tthis.setDomParams(this.content);\n\t\t\t\t\tthis.toggleSplit(this.content);\n\t\t\t\t\tthis.registerListPreviewEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.content.find('.listViewSearchTd [data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(this.content, false, this);\n\t\t\t} else {\n\t\t\t\tthis.listSearchInstance = false;\n\t\t\t}\n\t\t\tapp.event.trigger('RelatedList.AfterLoad', thisInstance);\n\t\t},\n\t\tgetListColumnWidth: function () {\n\t\t\tlet width = 300;\n\t\t\tlet column = this.container.find('.listViewEntriesDiv .listViewHeaders th:eq(1)');\n\t\t\tif (column.length) {\n\t\t\t\twidth = column.offset().left + column.width();\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\t\tsetDomParams: function (container) {\n\t\t\tthis.container = container;\n\t\t\tthis.listColumnWidth = this.getListColumnWidth();\n\t\t\tthis.windowW = $(window).width();\n\t\t\tthis.mainBody = container.closest('.mainBody');\n\t\t\tthis.windowMinWidth = (15 / this.windowW) * 100;\n\t\t\tthis.windowMaxWidth = 100 - this.minWidth;\n\t\t\tthis.sideBlocks = container.find('.js-side-block');\n\t\t\tthis.sideBlockLeft = this.sideBlocks.first();\n\t\t\tthis.sideBlockRight = this.sideBlocks.last();\n\t\t\tthis.list = container.find('.js-list-preview');\n\t\t\tthis.preview = container.find('.js-detail-preview');\n\t\t\tthis.rotatedText = container.find('.u-rotate-90');\n\t\t\tthis.footerH = $('.js-footer').outerHeight();\n\t\t\tthis.headerH = $('.js-header').outerHeight();\n\t\t},\n\t\tgetDefaultSplitSizes: function () {\n\t\t\tlet thWidth = (this.listColumnWidth / this.windowW) * 100;\n\t\t\treturn [thWidth, 100 - thWidth];\n\t\t},\n\t\tgetSplitSizes() {\n\t\t\tconst cachedParams = app.moduleCacheGet('userRelatedSplitSet');\n\t\t\tif (cachedParams !== undefined) {\n\t\t\t\treturn cachedParams;\n\t\t\t} else {\n\t\t\t\treturn this.getDefaultSplitSizes();\n\t\t\t}\n\t\t},\n\t\tregisterListPreviewEvents() {\n\t\t\tapp.showNewScrollbarTopBottom(this.content.find('.js-list-preview--scroll'));\n\t\t\tapp.showNewScrollbarLeft(this.list);\n\t\t\tthis.list.on('click', '.listViewEntries', () => {\n\t\t\t\tif (this.split.getSizes()[1] < 10) {\n\t\t\t\t\tconst defaultGutterPosition = this.getDefaultSplitSizes();\n\t\t\t\t\tthis.split.setSizes(defaultGutterPosition);\n\t\t\t\t\tthis.preview.show();\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', defaultGutterPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.registerScrollEvent();\n\t\t\t}\n\t\t},\n\t\tregisterScrollEvent() {\n\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\tlet scrollContainer = App.Components.Scrollbar.page.element;\n\t\t\tlet listOffsetTop = this.list.offset().top - this.headerH;\n\t\t\tlet initialH = this.sideBlocks.height();\n\t\t\tlet mainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\tlet mainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\tlet fixedElements = this.mainBody.find('.js-fixed-scroll');\n\t\t\tif (!this.mainBody.length) {\n\t\t\t\tthis.mainBody = $(top.document).find('.mainBody');\n\t\t\t\tthis.headerH = $(top.document).find('.js-header').outerHeight();\n\t\t\t\tscrollContainer = top.window.App.Components.Scrollbar.page.element;\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tlistOffsetTop = this.list.offset().top + iframe.offset().top - this.headerH + 1;\n\t\t\t\tmainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\t\tmainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\t}\n\t\t\tconst onScroll = () => {\n\t\t\t\tif (scrollContainer.scrollTop() >= listOffsetTop) {\n\t\t\t\t\tfixedElements.css({ top: scrollContainer.scrollTop() - listOffsetTop });\n\t\t\t\t\tthis.sideBlocks.css({ top: scrollContainer.scrollTop() - listOffsetTop + 56 });\n\t\t\t\t\tfixedElements.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortWidthCss);\n\t\t\t\t} else {\n\t\t\t\t\tfixedElements.css({ top: 'initial' });\n\t\t\t\t\tfixedElements.css({ height: initialH + scrollContainer.scrollTop() });\n\t\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\t\twidth: initialH + scrollContainer.scrollTop(),\n\t\t\t\t\t\theight: initialH + scrollContainer.scrollTop()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tscrollContainer.on('scroll', onScroll);\n\t\t},\n\t\t/**\n\t\t * Registers split's events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @param {Split} split - a split object.\n\t\t */\n\t\tregisterSplitEvents: function (container, split) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tlet minWindowWidth = (23 / this.windowW) * 100;\n\t\t\tlet maxWindowWidth = 100 - minWindowWidth;\n\t\t\tlet listPreview = container.find('.js-detail-preview');\n\t\t\tthis.gutter.on('dblclick', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (isNaN(this.split.getSizes()[0])) {\n\t\t\t\t\tthis.split.setSizes(gutterRelatedMidPosition);\n\t\t\t\t}\n\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t} else if (split.getSizes()[1] < 20) {\n\t\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t} else if (split.getSizes()[0] > 7 && split.getSizes()[0] < 50) {\n\t\t\t\t\tsplit.setSizes([minWindowWidth, maxWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t} else if (split.getSizes()[1] > 10 && split.getSizes()[1] < 50) {\n\t\t\t\t\tsplit.setSizes([maxWindowWidth, minWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\t//this.list.width(this.list.width() - 10);\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockLeft.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockRight.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\tlistPreview.show();\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t},\n\t\tregisterSplit: function (container) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tconst splitSizes = this.getSplitSizes();\n\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', splitSizes);\n\t\t\tlet split = Split([this.list[0], this.preview[0]], {\n\t\t\t\tsizes: splitSizes,\n\t\t\t\tminSize: 10,\n\t\t\t\tgutterSize: 24,\n\t\t\t\tsnapOffset: 100,\n\t\t\t\tonDrag: () => {\n\t\t\t\t\tif (split.getSizes()[1] < rightSplitMaxWidth) {\n\t\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[1] < 10) {\n\t\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\t\tthis.preview.hide();\n\t\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.preview.show();\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] > 10 && split.getSizes()[1] > rightSplitMaxWidth) {\n\t\t\t\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', split.getSizes());\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (splitSizes[0] < 10) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t} else if (splitSizes[1] < rightSplitMaxWidth) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\tthis.preview.hide();\n\t\t\t}\n\t\t\tthis.gutter = container.find('.gutter');\n\t\t\tlet mainWindowHeightCss = {\n\t\t\t\theight: $(window).height() - this.list.offset().top - this.footerH\n\t\t\t};\n\t\t\tif (!container.closest('.mainBody').length) {\n\t\t\t\tlet mainBody = $(top.document).find('.mainBody').height();\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tmainWindowHeightCss = {\n\t\t\t\t\theight: mainBody - this.list.offset().top - iframe.offset().top + 50\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.gutter.css(mainWindowHeightCss);\n\t\t\t\tthis.list.css(mainWindowHeightCss);\n\t\t\t\tthis.sideBlocks.css(mainWindowHeightCss);\n\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\twidth: this.sideBlockLeft.height(),\n\t\t\t\t\theight: this.sideBlockLeft.height()\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerSplitEvents(container, split);\n\t\t\treturn split;\n\t\t},\n\t\ttoggleSplit: function (container) {\n\t\t\tlet commactHeight = container.closest('.commonActionsContainer').height();\n\t\t\tlet splitsArray = [];\n\t\t\tthis.split = this.registerSplit(container);\n\t\t\tsplitsArray.push(this.split);\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif (this.windowW < 993) {\n\t\t\t\t\tif (container.find('.gutter').length) {\n\t\t\t\t\t\tsplitsArray[splitsArray.length - 1].destroy();\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (container.find('.gutter').length !== 1) {\n\t\t\t\t\t\tthis.split = this.registerSplit(container);\n\t\t\t\t\t\tlet gutter = container.find('.gutter');\n\t\t\t\t\t\tif (this.mainBody.scrollTop() >= this.list.offset().top + commactHeight) {\n\t\t\t\t\t\t\tgutter.addClass('gutterOnScroll');\n\t\t\t\t\t\t\tgutter.css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\tgutter.on('mousedown', function () {\n\t\t\t\t\t\t\t\t$(this).on('mousemove', function (e) {\n\t\t\t\t\t\t\t\t\t$(this).css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplitsArray.push(this.split);\n\t\t\t\t\t}\n\t\t\t\t\tlet currentSplit = splitsArray[splitsArray.length - 1];\n\t\t\t\t\tlet minWidth = (15 / this.windowW) * 100;\n\t\t\t\t\tlet maxWidth = 100 - minWidth;\n\t\t\t\t\tif (typeof currentSplit === 'undefined') return;\n\t\t\t\t\tif (currentSplit.getSizes()[0] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([minWidth, maxWidth]);\n\t\t\t\t\t} else if (currentSplit.getSizes()[1] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([maxWidth, minWidth]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function () {\n\t\t\tlet container = $('.listViewEntriesDiv');\n\t\t\tif (this.relatedView !== 'ListPreview' && Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tcontainer.each((index, element) => {\n\t\t\t\t\tif (container.closest('.js-detail-widget-content').length) {\n\t\t\t\t\t\telement = container.closest('.js-detail-widget-content');\n\t\t\t\t\t\telement.each((i, el) => {\n\t\t\t\t\t\t\tApp.Components.Scrollbar.xy($(el));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tApp.Components.Scrollbar.xy($(element));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function () {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\trecordCountVal = $('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tlet params = this.getCompleteParams();\n\t\t\t\tdelete params.view;\n\t\t\t\tparams.action = 'DetailAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$('#recordsCount').val(data['result']['count']);\n\t\t\t\t\taDeferred.resolve(data['result']['count']);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tnoRecordSelectedAlert: function (text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\tapp.showNotify({\n\t\t\t\ttext: app.vtranslate(text),\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t},\n\t\tgetCurrentCvId: function () {\n\t\t\treturn $('#customFilter').find('option:selected').data('id');\n\t\t},\n\t\tcheckListRecordSelected: function (minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\treturn typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords;\n\t\t},\n\t\treadSelectedIds: function (decode) {\n\t\t\tlet selectedIdsDataAttr = this.getCurrentCvId() + 'selectedIds',\n\t\t\t\tselectedIdsElementDataAttributes = $('#selectedIds').data(),\n\t\t\t\tselectedIds = [];\n\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t} else {\n\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof selectedIds == 'object') {\n\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\twriteSelectedIds: function (selectedIds) {\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\t$('#selectedIds').data(this.getCurrentCvId() + 'selectedIds', selectedIds);\n\t\t},\n\t\treadExcludedIds: function (decode) {\n\t\t\tlet excludedIdsDataAttr = this.getCurrentCvId() + 'Excludedids',\n\t\t\t\texcludedIdsElementDataAttributes = $('#excludedIds').data(),\n\t\t\t\texcludedIds = [];\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof excludedIds == 'object') {\n\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteExcludedIds: function (excludedIds) {\n\t\t\t$('#excludedIds').data(this.getCurrentCvId() + 'Excludedids', excludedIds);\n\t\t},\n\t\tcheckSelectAll: function () {\n\t\t\tlet state = true;\n\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\tif ($(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', state);\n\t\t\treturn state;\n\t\t},\n\t\tregisterCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '.relatedListViewEntriesCheckBox', function (e) {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds(),\n\t\t\t\t\telem = $(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice($.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if ($.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice($.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterMainCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '#relatedListViewEntriesMainCheckBox', function () {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds();\n\t\t\t\tif ($('#relatedListViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tlet recordCountObj = self.getRecordsCount();\n\t\t\t\t\trecordCountObj\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t$('#totalRecordsCount').text(data);\n\t\t\t\t\t\t\tif ($('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\t\t$('#selectAllMsgDiv').show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all' && $.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\texcludedIds.splice($.inArray($(element).val(), excludedIds), 1);\n\t\t\t\t\t\t} else if ($.inArray($(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push($(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push($(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice($.inArray($(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterSelectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#selectAllMsg', function () {\n\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\tregisterDeselectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#deSelectAllMsg', function () {\n\t\t\t\t$('#deSelectAllMsgDiv').hide();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds([]);\n\t\t\t\tself.writeExcludedIds([]);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register quick edit save event description.\n\t\t */\n\t\tregisterQuickEditSaveEvent() {\n\t\t\tapp.event.on('QuickEdit.AfterSaveFinal', (e, data, instance, element) => {\n\t\t\t\tif (this.moduleName === instance.data('moduleName')) {\n\t\t\t\t\tif (element.closest('.js-detail-widget').length) {\n\t\t\t\t\t\tVtiger_Detail_Js.getInstance().postSummaryWidgetAddRecord(data, element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register change related view.\n\t\t */\n\t\tregisterChangeViewEvent() {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-change-related-view', function () {\n\t\t\t\tself.relatedView = this.dataset.view;\n\t\t\t\tself.loadRelatedList();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register mass records events.\n\t\t */\n\t\tregisterMassRecordsEvents: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-mass-record-event', function () {\n\t\t\t\tlet target = $(this);\n\t\t\t\tif (self.checkListRecordSelected() !== true) {\n\t\t\t\t\tif (target.data('type') === 'modal') {\n\t\t\t\t\t\tlet params = self.getSelectedParams();\n\t\t\t\t\t\ttarget.data('url').replace(/[?&]+([^=&]+)=([^&]*)/gi, function (_m, key, value) {\n\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\tdata: params\n\t\t\t\t\t\t}).done(function (modal) {\n\t\t\t\t\t\t\tapp.showModalWindow(modal);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\ticon: false,\n\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\t\t\t\t\tdataParams = self.getSearchParams();\n\t\t\t\t\t\t\t\tdelete dataParams.view;\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\t\t\tdata: dataParams\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tif (data && data.result && data.result.notify) {\n\t\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tself.getListViewRecords();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\t\t\tparams.text = target.data('confirm');\n\t\t\t\t\t\t\tparams.title = target.html();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams.text = target.html();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showConfirmModal(params);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register related events\n\t\t */\n\t\tregisterRelatedEvents: function () {\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerPaginationEvents();\n\t\t\tthis.registerListEvents();\n\t\t\tthis.registerPostLoadEvents();\n\t\t\tthis.registerSummationEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t\tthis.registerQuickEditSaveEvent();\n\t\t\tthis.registerChangeViewEvent();\n\t\t\tthis.registerMassRecordsEvents();\n\t\t\tYetiForce_ListSearch_Js.registerSearch(this.content, (data) => {\n\t\t\t\tthis.loadRelatedList(data);\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","relatedListInstance","getInstance","parentId","parentModule","selectedRelatedTabElement","relatedModuleName","url","Vtiger_RelatedList_Js","moduleName","moduleClassName","app","getModuleName","fallbackClassName","instance","window","parentRecordId","parentModuleName","relatedTabsContainer","closest","content","$","relatedView","find","val","parseUrlParams","setSelectedTabElement","getInstanceByUrl","params","convertUrlToObject","defaultParams","triggerMassAction","massActionUrl","type","self","validationResult","checkListRecordSelected","progressIndicator","selectedIds","readSelectedIds","excludedIds","readExcludedIds","cvId","getCurrentCvId","postData","getCompleteParams","mode","view","viewname","selected_ids","excluded_ids","AppConnector","requestForm","progressIndicatorElement","request","data","done","responseData","result","notify","Vtiger_Helper_Js","showMessage","reloadList","Vtiger_Detail_Js","reloadRelatedList","processStop","fail","noRecordSelectedAlert","verifyFileExist","aDeferred","Deferred","action","resolve","promise","triggerMassDownload","thisInstance","substring","indexOf","triggerMassQuickCreate","listParams","getSelectedParams","progress","blockInfo","enabled","callbackFunction","loadRelatedList","noCache","extend","sourceView","sourceModule","relatedModule","entityState","search_params","relationId","relatedRecord","record","module","App","Components","QuickCreate","getForm","showModal","registerEventForClockPicker","triggerSendEmail","getDefaultParams","Vtiger_List_Js","relatedLoad","sourceRecord","getRecordId","triggerSendEmailByRow","row","listSearchInstance","detailViewContentHolder","frameProgress","noEventsListSearch","listViewContainer","tabElement","getSelectedTabElement","getParentId","getRelatedContainer","setRelatedContainer","container","getContentHolder","getCurrentPageNum","setCurrentPageNumber","pageNumber","getOrderBy","Object","assign","length","getListSearchParams","getAlphabetSearchValue","searchValue","getAlphabetSearchField","parseConditions","JSON","stringify","switchBtn","time","first","prop","tab_label","cvid","currentInstance","loadWidgets","position","completeParams","activeTabsReference","progressInstance","removeClass","addClass","html","tooltip","registerPostLoadEvents","registerListEvents","textStatus","errorThrown","reject","showNotify","text","vtranslate","showSelectRelation","extendParams","getRecordsListParams","showRecordsList","_modal","setSelectEvent","addRelations","keys","event","trigger","detail","registerRelatedModulesRecordCount","src_module","src_record","multi_select","idList","related_module","related_record_list","isArray","deleteRelation","target","id","response","widget","loadWidget","updatesWidget","nextPageHandler","pageLimit","noOfEntries","nextPage","parseInt","page","previousPageHandler","previousPage","selectPageHandler","pageJumpHandler","e","which","currentTarget","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","element","validationEngine","preventDefault","totalPages","jumpToPage","error","invalidFields","parent","currentPage","message","addRelatedRecord","callback","referenceModuleName","quickCreateParams","relatedParams","relatedField","fullFormUrl","eliminatedKeys","Array","urlSplit","split","queryString","queryParameters","index","queryParamComponents","queryParam","inArray","appendTo","field","createRecord","getRelatedPageCount","totalCountElem","totalPageNumber","numberOfRecords","pageCount","err","favoritesRelation","relcrmId","state","relcrmid","actionMode","updatePreview","frame","getMainParams","defaultView","attr","replace","registerUnreviewedCountEvent","relatedContent","isUnreviewedActive","each","ids","push","recordsId","appData","value","a","m","registerChangeEntityStateEvent","on","registerRowsEvent","hasClass","is","contains","get","recordUrl","getViewName","top","document","location","href","inventoryRow","next","block","toggleClass","registerWidgets","widgetsContainer","detailInstance","widgetList","registerSummationEvent","calculateValue","button","hidePopover","success","registerPreviewEvent","contentHeight","height","getScreenHeight","offset","contents","registerPaginationEvents","stopImmediatePropagation","openUrl","restrictionsField","search_key","key","search_value","name","icon","confirmedCallback","title","showConfirmModal","operator","lockedEmptyFields","totalCount","registerListScroll","setDomParams","toggleSplit","registerListPreviewEvents","YetiForce_ListSearch_Js","getListColumnWidth","column","width","left","listColumnWidth","windowW","mainBody","windowMinWidth","windowMaxWidth","minWidth","sideBlocks","sideBlockLeft","sideBlockRight","last","list","preview","rotatedText","footerH","outerHeight","headerH","getDefaultSplitSizes","thWidth","getSplitSizes","moduleCacheGet","cachedParams","showNewScrollbarTopBottom","showNewScrollbarLeft","getSizes","setSizes","defaultGutterPosition","show","moduleCacheSet","parents","registerScrollEvent","gutter","scrollContainer","Scrollbar","listOffsetTop","initialH","mainViewPortHeightCss","mainViewPortWidthCss","fixedElements","iframe","onScroll","scrollTop","css","registerSplitEvents","rightSplitMaxWidth","minWindowWidth","maxWindowWidth","listPreview","isNaN","gutterRelatedMidPosition","hide","registerSplit","splitSizes","Split","sizes","minSize","gutterSize","snapOffset","onDrag","collapse","mainWindowHeightCss","commactHeight","splitsArray","destroy","maxWidth","currentSplit","Quasar","plugins","Platform","desktop","i","el","xy","getRecordsCount","recordCountVal","minNumberOfRecords","decode","selectedIdsDataAttr","selectedIdsElementDataAttributes","writeSelectedIds","excludedIdsDataAttr","excludedIdsElementDataAttributes","writeExcludedIds","checkSelectAll","registerCheckBoxClickEvent","elem","splice","registerMainCheckBoxClickEvent","recordCountObj","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerQuickEditSaveEvent","postSummaryWidgetAddRecord","registerChangeViewEvent","dataset","registerMassRecordsEvents","_m","modal","showModalWindow","dataParams","getSearchParams","getListViewRecords","registerRelatedEvents","registerSearch"],"mappings":"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"}