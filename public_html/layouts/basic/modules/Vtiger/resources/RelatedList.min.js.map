{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_RelatedList_Js',\n\t{\n\t\trelatedListInstance: false,\n\t\tgetInstance: function (parentId, parentModule, selectedRelatedTabElement, relatedModuleName, url) {\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== relatedModuleName\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.parentRecordId = parentId;\n\t\t\t\tinstance.parentModuleName = parentModule;\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.moduleName = relatedModuleName;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parseUrlParams(url);\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\tgetInstanceByUrl: function (url, selectedRelatedTabElement) {\n\t\t\tlet params = app.convertUrlToObject(url);\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== params['relatedModule']\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentRecordId = params['record'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentModuleName = params['module'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName = params['relatedModule'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.defaultParams = params;\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\ttriggerMassAction: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet validationResult = self.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\t\tpostData = self.getCompleteParams();\n\t\t\t\tdelete postData.mode;\n\t\t\t\tdelete postData.view;\n\t\t\t\tpostData.viewname = cvId;\n\t\t\t\tpostData.selected_ids = selectedIds;\n\t\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\t\tlet actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdata: postData\n\t\t\t\t};\n\t\t\t\tif (type === 'sendByForm') {\n\t\t\t\t\tAppConnector.requestForm(massActionUrl, postData);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.reloadList) {\n\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.processStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Method to verify if selected files exist\n\t\t * @return boolean\n\t\t */\n\t\tverifyFileExist: function () {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\tpostData = self.getCompleteParams();\n\t\t\tdelete postData.mode;\n\t\t\tdelete postData.view;\n\t\t\tpostData.viewname = cvId;\n\t\t\tpostData.selected_ids = selectedIds;\n\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\tpostData.action = 'RelationAjax';\n\t\t\tpostData.mode = 'checkFilesIntegrity';\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: postData\n\t\t\t}).done(function (responseData) {\n\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t}\n\t\t\t\taDeferred.resolve(true);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass download action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\ttriggerMassDownload: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance,\n\t\t\t\tthisInstance = this;\n\t\t\tthis.verifyFileExist().done(function (data) {\n\t\t\t\tif (true === data) {\n\t\t\t\t\tthisInstance.triggerMassAction(massActionUrl.substring(0, massActionUrl.indexOf('&mode=multiple')), type);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttriggerMassQuickCreate: function (moduleName, data) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tif (self.checkListRecordSelected() != true) {\n\t\t\t\tlet listParams = self.getSelectedParams();\n\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tlet params = {\n\t\t\t\t\tcallbackFunction: function () {\n\t\t\t\t\t\tself.loadRelatedList();\n\t\t\t\t\t},\n\t\t\t\t\tnoCache: true,\n\t\t\t\t\tdata: $.extend(data, {\n\t\t\t\t\t\tsourceView: 'RelatedListView',\n\t\t\t\t\t\tsourceModule: listParams.relatedModule,\n\t\t\t\t\t\tentityState: listParams.entityState,\n\t\t\t\t\t\tsearch_params: listParams.search_params,\n\t\t\t\t\t\texcluded_ids: listParams.excluded_ids,\n\t\t\t\t\t\tselected_ids: listParams.selected_ids,\n\t\t\t\t\t\trelationId: listParams.relationId,\n\t\t\t\t\t\trelatedRecord: listParams.record,\n\t\t\t\t\t\trelatedModule: listParams.module\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tApp.Components.QuickCreate.getForm(\n\t\t\t\t\t'index.php?module=' + moduleName + '&view=MassQuickCreateModal',\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tparams\n\t\t\t\t).done((data) => {\n\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tApp.Components.QuickCreate.showModal(data, params);\n\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal\n\t\t */\n\t\ttriggerSendEmail: function () {\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId()\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal by row\n\t\t */\n\t\ttriggerSendEmailByRow: function (row) {\n\t\t\tif (!(row instanceof jQuery)) {\n\t\t\t\trow = $(row);\n\t\t\t}\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId(),\n\t\t\t\t\tselected_ids: '[\"' + $(row).closest('.js-list__row').data('id') + '\"]'\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t},\n\t\t\t\trow\n\t\t\t);\n\t\t}\n\t},\n\t{\n\t\tselectedRelatedTabElement: false,\n\t\tparentRecordId: false,\n\t\tparentModuleName: false,\n\t\tmoduleName: false,\n\t\trelatedTabsContainer: false,\n\t\tcontent: false,\n\t\tlistSearchInstance: false,\n\t\tdetailViewContentHolder: false,\n\t\trelatedView: false,\n\t\tframeProgress: false,\n\t\tnoEventsListSearch: false,\n\t\tlistViewContainer: false,\n\t\tdefaultParams: {},\n\t\tsetSelectedTabElement: function (tabElement) {\n\t\t\tthis.selectedRelatedTabElement = tabElement;\n\t\t},\n\t\tgetSelectedTabElement: function () {\n\t\t\treturn this.selectedRelatedTabElement;\n\t\t},\n\t\tgetParentId: function () {\n\t\t\treturn this.parentRecordId;\n\t\t},\n\t\tgetRelatedContainer: function () {\n\t\t\treturn this.content;\n\t\t},\n\t\tsetRelatedContainer: function (container) {\n\t\t\tthis.content = container;\n\t\t\tthis.relatedView = container.find('input.relatedView').val();\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = $('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\tgetCurrentPageNum: function () {\n\t\t\treturn $('input[name=\"currentPageNum\"]', this.content).val();\n\t\t},\n\t\tsetCurrentPageNumber: function (pageNumber) {\n\t\t\t$('input[name=\"currentPageNum\"]', this.content).val(pageNumber);\n\t\t},\n\t\tgetOrderBy: function () {\n\t\t\treturn $('#orderBy', this.content).val();\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = Object.assign({}, this.defaultParams);\n\t\t\tparams['page'] = this.getCurrentPageNum();\n\t\t\tparams['orderby'] = this.getOrderBy();\n\t\t\tif (container.find('#relationId').val()) {\n\t\t\t\tparams['relationId'] = container.find('#relationId').val();\n\t\t\t}\n\t\t\tif (container.find('.js-relation-cv-id').val()) {\n\t\t\t\tparams['cvId'] = container.find('.js-relation-cv-id').val();\n\t\t\t}\n\t\t\tif (container.find('.pagination').length) {\n\t\t\t\tparams['totalCount'] = container.find('.pagination').data('totalCount');\n\t\t\t}\n\t\t\tif (container.find('.entityState').length) {\n\t\t\t\tparams['entityState'] = container.find('.entityState').val();\n\t\t\t}\n\t\t\tif (this.listSearchInstance) {\n\t\t\t\tparams.search_params = this.listSearchInstance.getListSearchParams();\n\t\t\t\tlet searchValue = this.listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\t\tparams['search_key'] = this.listSearchInstance.getAlphabetSearchField();\n\t\t\t\t\tparams['search_value'] = searchValue;\n\t\t\t\t\tparams['operator'] = 's';\n\t\t\t\t}\n\t\t\t\tthis.listSearchInstance.parseConditions(params);\n\t\t\t\tparams.search_params = JSON.stringify(params.search_params);\n\t\t\t}\n\t\t\tif (this.moduleName == 'Calendar') {\n\t\t\t\tlet switchBtn = container.find('.js-switch--calendar');\n\t\t\t\tif (switchBtn.length) {\n\t\t\t\t\tparams.time = switchBtn.first().prop('checked') ? 'current' : 'history';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tgetCompleteParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = {\n\t\t\t\tview: 'Detail',\n\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\trecord: this.getParentId(),\n\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\trelatedView: this.relatedView,\n\t\t\t\tmode: 'showRelatedList',\n\t\t\t\ttab_label: container.find('#tab_label').val()\n\t\t\t};\n\t\t\treturn $.extend(this.getDefaultParams(), params);\n\t\t},\n\t\tgetSelectedParams: function () {\n\t\t\treturn $.extend(this.getCompleteParams(), {\n\t\t\t\tselected_ids: this.readSelectedIds(true),\n\t\t\t\texcluded_ids: this.readExcludedIds(true),\n\t\t\t\tcvid: this.getCurrentCvId()\n\t\t\t});\n\t\t},\n\t\tparseUrlParams: function (url) {\n\t\t\tif (url) {\n\t\t\t\tthis.defaultParams = app.convertUrlToObject(url);\n\t\t\t} else {\n\t\t\t\tthis.defaultParams = {};\n\t\t\t}\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (typeof thisInstance.moduleName === 'undefined' || thisInstance.moduleName.length <= 0) {\n\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet completeParams = this.getCompleteParams();\n\t\t\tlet activeTabsReference = thisInstance.relatedTabsContainer.find('li.active').data('reference');\n\t\t\tAppConnector.request($.extend(completeParams, params))\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (activeTabsReference !== 'ProductsAndServices') {\n\t\t\t\t\t\tthisInstance.relatedTabsContainer.find('li').removeClass('active');\n\t\t\t\t\t\tthisInstance.selectedRelatedTabElement.addClass('active');\n\t\t\t\t\t\tthisInstance.content.html(responseData);\n\t\t\t\t\t\t$('.pageNumbers', thisInstance.content).tooltip();\n\t\t\t\t\t\tthisInstance.registerPostLoadEvents();\n\t\t\t\t\t\tthisInstance.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tshowSelectRelation: function (extendParams) {\n\t\t\tlet params = $.extend(this.getRecordsListParams(), extendParams);\n\t\t\tapp.showRecordsList(params, (_modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\tthis.addRelations(Object.keys(responseData)).done(() => {\n\t\t\t\t\t\tapp.event.trigger('RelatedListView.AfterSelectRelation', responseData, this, instance, params);\n\t\t\t\t\t\tlet detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tthis.loadRelatedList().done(function () {\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (this.getSelectedTabElement().data('link-key') === 'LBL_RECORD_SUMMARY') {\n\t\t\t\t\t\t\tdetail.loadWidgets();\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: this.moduleName,\n\t\t\t\tsrc_module: this.parentModuleName,\n\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t},\n\t\taddRelations: function (idList, params = {}) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(\n\t\t\t\t$.extend(\n\t\t\t\t\t{\n\t\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\tmode: 'addRelation',\n\t\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\t\trelated_record_list: $.isArray(idList) ? JSON.stringify(idList) : idList\n\t\t\t\t\t},\n\t\t\t\t\tparams\n\t\t\t\t)\n\t\t\t)\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tdeleteRelation(target) {\n\t\t\tlet params = {};\n\t\t\tif (target.data('url')) {\n\t\t\t\tparams = target.data('url');\n\t\t\t} else {\n\t\t\t\tlet id = target.data('id') ? target.data('id') : target.closest('tr').data('id');\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'deleteRelation',\n\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelated_record_list: JSON.stringify([id])\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: { enabled: true }\n\t\t\t});\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\tlet widget = target.closest('.widgetContentBlock');\n\t\t\t\t\t\tconst detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\tdetail.loadWidget(widget);\n\t\t\t\t\t\t\tlet updatesWidget = this.getContentHolder().find('[data-type=\"Updates\"]');\n\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\tdetail.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (err, errThrow) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tnextPageHandler: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet pageLimit = jQuery('#pageLimit', this.content).val();\n\t\t\tlet noOfEntries = jQuery('#noOfEntries', this.content).val();\n\t\t\tif (noOfEntries == pageLimit) {\n\t\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\t\tlet nextPage = parseInt(pageNumber) + 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: nextPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(nextPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tpreviousPageHandler: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\tif (pageNumber > 1) {\n\t\t\t\tlet previousPage = parseInt(pageNumber) - 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: previousPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(previousPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle select page jump in related list\n\t\t */\n\t\tselectPageHandler: function (pageNumber) {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tthis.loadRelatedList({\n\t\t\t\tpage: pageNumber\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tthisInstance.setCurrentPageNumber(pageNumber);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle page jump in related list\n\t\t */\n\t\tpageJumpHandler: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (e.which == 13) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet response = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet jumpToPage = parseInt(element.val());\n\t\t\t\t\tlet totalPages = parseInt(jQuery('#totalPageCount', thisInstance.content).text());\n\t\t\t\t\tif (jumpToPage > totalPages) {\n\t\t\t\t\t\tlet error = app.vtranslate('JS_PAGE_NOT_EXIST');\n\t\t\t\t\t\telement.validationEngine('showPrompt', error, '', 'topLeft', true);\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = element.parent().find('.formError');\n\t\t\t\t\tif (invalidFields.length < 1) {\n\t\t\t\t\t\tlet currentPage = jQuery('input[name=\"currentPageNum\"]', thisInstance.content).val();\n\t\t\t\t\t\tif (jumpToPage == currentPage) {\n\t\t\t\t\t\t\tlet message = app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + jumpToPage;\n\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\t\t\tpage: jumpToPage\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\tthisInstance.setCurrentPageNumber(jumpToPage);\n\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to add related record for the module\n\t\t */\n\t\taddRelatedRecord: function (element, callback) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet referenceModuleName = this.moduleName;\n\t\t\tlet parentId = this.getParentId();\n\t\t\tlet parentModule = this.parentModuleName;\n\t\t\tlet quickCreateParams = {};\n\t\t\tlet relatedParams = {};\n\t\t\tlet relatedField = element.data('name');\n\t\t\tlet fullFormUrl = element.data('url');\n\t\t\tif (relatedField) {\n\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t}\n\t\t\tlet eliminatedKeys = new Array('view', 'module', 'mode', 'action');\n\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\tlet index, queryParam, queryParamComponents;\n\t\t\t\tlet queryParameters = [];\n\n\t\t\t\t//To handle switch to task tab when click on add task from related list of activities\n\t\t\t\t//As this is leading to events tab intially even clicked on add task\n\t\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\t\tqueryParameters = queryString.split('&');\n\t\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\t\tif (queryParamComponents[0] == 'mode' && queryParamComponents[1] == 'Calendar') {\n\t\t\t\t\t\t\tdata.find('a[data-tab-name=\"Task\"]').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceModule\" value=\"' + parentModule + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceRecord\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" />').appendTo(data);\n\n\t\t\t\tif (typeof relatedField !== 'undefined') {\n\t\t\t\t\tlet field = data.find('[name=\"' + relatedField + '\"]');\n\t\t\t\t\t//If their is no element with the relatedField name,we are adding hidden element with\n\t\t\t\t\t//name as relatedField name,for saving of record with relation to parent record\n\t\t\t\t\tif (field.length == 0) {\n\t\t\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + relatedField + '\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1' &&\n\t\t\t\t\t\tdata.find('[name=\"' + queryParamComponents[0] + '\"]').length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"' + queryParamComponents[0] + '\" value=\"' + queryParamComponents[1] + '\" />'\n\t\t\t\t\t\t).appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback !== 'undefined') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\t//If url contains params then seperate them and make them as relatedParams\n\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\tlet queryParameters = queryString.split('&');\n\t\t\t\tfor (let index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParam = queryParameters[index];\n\t\t\t\t\tlet queryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (jQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1') {\n\t\t\t\t\t\trelatedParams[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\tquickCreateParams['callbackFunction'] = function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t};\n\t\t\tquickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, quickCreateParams);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedPageCount: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet element = this.content.find('#totalPageCount');\n\t\t\tlet totalCountElem = this.content.find('#totalCount');\n\t\t\tlet totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\telement.progressIndicator({});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelatedModule: this.moduleName\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tlet pageCount = data['result']['page'];\n\t\t\t\t\t\tlet numberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalCountElem.val(numberOfRecords);\n\t\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tfavoritesRelation: function (relcrmId, state) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (relcrmId) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateFavoriteForRecord',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelcrmid: relcrmId,\n\t\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\tactionMode: state ? 'delete' : 'add'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data.result) aDeferred.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.reject(false);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePreview: function (url) {\n\t\t\tlet frame = this.content.find('.listPreviewframe');\n\t\t\tthis.frameProgress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tmessage: app.vtranslate('JS_FRAME_IN_PROGRESS'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet defaultView = '';\n\t\t\tif (app.getMainParams('defaultDetailViewName')) {\n\t\t\t\tdefaultView =\n\t\t\t\t\tdefaultView + '&mode=showDetailViewByMode&requestMode=' + app.getMainParams('defaultDetailViewName'); // full, summary\n\t\t\t}\n\t\t\tframe.attr('src', url.replace('view=Detail', 'view=DetailPreview') + defaultView);\n\t\t},\n\t\tregisterUnreviewedCountEvent: function () {\n\t\t\tlet ids = [];\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet isUnreviewedActive = relatedContent.find('.unreviewed').length;\n\t\t\trelatedContent.find('tr.listViewEntries').each(function () {\n\t\t\t\tlet id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: this.moduleName,\n\t\t\t\trecordsId: ids\n\t\t\t}).done(function (appData) {\n\t\t\t\tlet data = appData.result;\n\t\t\t\t$.each(data, function (id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\trelatedContent.on('click', '.dropdownEntityState a', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\trelatedContent.find('.entityState').val(element.data('value'));\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\trelatedContent\n\t\t\t\t\t.find('.dropdownEntityState button')\n\t\t\t\t\t.find('span')\n\t\t\t\t\t.attr('class', element.find('span').attr('class'));\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterRowsEvent: function () {\n\t\t\tconst self = this;\n\t\t\tif (this.relatedView === 'List' || this.relatedView === 'Detail') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tif ($(e.target).hasClass('js-no-link')) return;\n\t\t\t\t\tif ($(e.target).closest('div').hasClass('actions')) return;\n\t\t\t\t\tif ($(e.target).is('button') || $(e.target).parent().is('button') || $(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target).closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif ($(e.target).is('input')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), e.target)) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), e.target)) return;\n\t\t\t\t\tlet recordUrl = $(e.target).closest('tr').data('recordurl');\n\t\t\t\t\tif (!recordUrl) return;\n\t\t\t\t\tif (app.getViewName() === 'DetailPreview') {\n\t\t\t\t\t\ttop.document.location.href = recordUrl;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.location.href = recordUrl;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.content.find('.js-toggle-hidden-row').on('click', function (e) {\n\t\t\t\t\tlet target = $(this);\n\t\t\t\t\tlet row = target.closest('tr');\n\t\t\t\t\tlet inventoryRow = row.next('.js-hidden-row');\n\t\t\t\t\tif (inventoryRow.length) {\n\t\t\t\t\t\tlet block = inventoryRow.find('.js-hidden-row__block[data-element=\"' + target.data('element') + '\"]');\n\t\t\t\t\t\tif (block.is(':visible') || !inventoryRow.is(':visible')) {\n\t\t\t\t\t\t\tinventoryRow.toggleClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinventoryRow.find('.js-hidden-row__block').addClass('d-none');\n\t\t\t\t\t\tblock.removeClass('d-none');\n\t\t\t\t\t\tif (block.is(':visible')) {\n\t\t\t\t\t\t\tself.registerWidgets(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('div').hasClass('actions')) return;\n\t\t\t\t\tif (target.is('button') || target.parent().is('button')) return;\n\t\t\t\t\tif (target.closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif (target.is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), target[0])) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), target[0])) return;\n\t\t\t\t\tlet recordUrl = $(this).data('recordurl');\n\t\t\t\t\tself.content.find('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\tself.updatePreview(recordUrl);\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet widgetsContainer = this.content.find('.js-hidden-row .js-hidden-row__block[data-element=\"widgets\"]');\n\t\t\tif (widgetsContainer.length) {\n\t\t\t\tself.registerWidgets(widgetsContainer);\n\t\t\t}\n\t\t},\n\t\tregisterWidgets: function (content) {\n\t\t\tlet widgetList = $('[class^=\"widgetContainer_\"]', content);\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\twidgetList.each(function (index, widget) {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tdetailInstance.loadWidget(widget);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSummationEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.on('click', '.listViewSummation button', function () {\n\t\t\t\tlet button = $(this);\n\t\t\t\tlet calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tlet params = thisInstance.getCompleteParams();\n\t\t\t\tparams['action'] = 'RelationAjax';\n\t\t\t\tparams['mode'] = 'calculate';\n\t\t\t\tparams['fieldName'] = button.data('field');\n\t\t\t\tparams['calculateType'] = button.data('operator');\n\t\t\t\tdelete params['view'];\n\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterPreviewEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contentHeight = this.content.find('.js-detail-preview,.js-list-preview');\n\t\t\tcontentHeight.height(app.getScreenHeight() - (this.content.offset().top + $('.js-footer').height()));\n\t\t\tthis.content.find('.listPreviewframe').on('load', function () {\n\t\t\t\tif (thisInstance.frameProgress) {\n\t\t\t\t\tthisInstance.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\t}\n\t\t\t\tcontentHeight.height($(this).contents().find('.bodyContents').height() + 2);\n\t\t\t});\n\t\t\tthis.content.find('.listViewEntriesTable .listViewEntries').first().trigger('click');\n\t\t},\n\t\tregisterPaginationEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\tthis.content.on('click', '#relatedViewNextPageButton', function (e) {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.nextPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedViewPreviousPageButton', function () {\n\t\t\t\tthisInstance.previousPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedListPageJump', function (e) {\n\t\t\t\tthisInstance.getRelatedPageCount();\n\t\t\t});\n\t\t\tthis.content\n\t\t\t\t.on('click', '#relatedListPageJumpDropDown > li', function (e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '#pageToJump', function (e) {\n\t\t\t\t\tthisInstance.pageJumpHandler(e);\n\t\t\t\t});\n\t\t\tthis.content.on('click', '.pageNumber', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthisInstance.selectPageHandler($(this).data('id'));\n\t\t\t});\n\t\t\tthis.content.on('click', '#totalCountBtn', function () {\n\t\t\t\tapp.hidePopover($(this));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tmode: 'getRelationPagination',\n\t\t\t\t\trecord: thisInstance.getParentId(),\n\t\t\t\t\trelatedModule: thisInstance.moduleName,\n\t\t\t\t\tnoOfEntries: $('#noOfEntries', relatedContent).val(),\n\t\t\t\t\tpage: relatedContent.find('[name=\"currentPageNum\"]').val()\n\t\t\t\t};\n\t\t\t\tif (relatedContent.find('.entityState').length) {\n\t\t\t\t\tparams['entityState'] = relatedContent.find('.entityState').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\trelatedContent.find('.paginationDiv').html(response);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListEvents: function () {\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.find('a.favorites').on('click', function (e) {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet row = element.closest('tr');\n\t\t\t\tthisInstance.favoritesRelation(row.data('id'), element.data('state')).done(function (response) {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tlet state = element.data('state') ? 0 : 1;\n\t\t\t\t\t\telement.data('state', state);\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\telement.find('.far').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.fas').removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement.find('.fas').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.far').removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet text = app.vtranslate('JS_REMOVED_FROM_FAVORITES');\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\ttext = app.vtranslate('JS_ADDED_TO_FAVORITES');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify({ text: text, type: 'success' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('[name=\"addButton\"]').on('click', function (e) {\n\t\t\t\tconst element = $(this);\n\t\t\t\tif (element.hasClass('quickCreateSupported') !== true) {\n\t\t\t\t\tapp.openUrl(element.data('url'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.addRelatedRecord(element);\n\t\t\t});\n\t\t\tthis.content.find('.relatedHeader button.selectRelation').on('click', function (e) {\n\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\tlet params = {\n\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t};\n\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tsearch_key: restrictionsField.key,\n\t\t\t\t\t\tsearch_value: restrictionsField.name,\n\t\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthisInstance.showSelectRelation(params);\n\t\t\t});\n\t\t\tthis.content.find('button.relationDelete').on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet target = $(e.currentTarget);\n\t\t\t\tlet params = {\n\t\t\t\t\ticon: false,\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteRelation(target);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.text = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else if (target.data('content')) {\n\t\t\t\t\tparams.text = target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.text = app.vtranslate('JS_DELETE_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tapp.showConfirmModal(params);\n\t\t\t});\n\t\t\tthis.content.find('.js-switch--calendar,select.js-relation-cv-id').on('change', function (e) {\n\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t});\n\t\t},\n\t\tregisterPostLoadEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerRowsEvent();\n\t\t\tthis.registerListScroll();\n\t\t\tif (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.registerPreviewEvent();\n\t\t\t\tif (!this.content.find('.gutter').length) {\n\t\t\t\t\tif (!this.content.find('.js-list-preview').length) return;\n\t\t\t\t\tthis.setDomParams(this.content);\n\t\t\t\t\tthis.toggleSplit(this.content);\n\t\t\t\t\tthis.registerListPreviewEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.content.find('.listViewSearchTd [data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(this.content, false, this);\n\t\t\t} else {\n\t\t\t\tthis.listSearchInstance = false;\n\t\t\t}\n\t\t\tapp.event.trigger('RelatedList.AfterLoad', thisInstance);\n\t\t},\n\t\tgetListColumnWidth: function () {\n\t\t\tlet width = 300;\n\t\t\tlet column = this.container.find('.listViewEntriesDiv .listViewHeaders th:eq(1)');\n\t\t\tif (column.length) {\n\t\t\t\twidth = column.offset().left + column.width();\n\t\t\t}\n\t\t\treturn width;\n\t\t},\n\t\tsetDomParams: function (container) {\n\t\t\tthis.container = container;\n\t\t\tthis.listColumnWidth = this.getListColumnWidth();\n\t\t\tthis.windowW = $(window).width();\n\t\t\tthis.mainBody = container.closest('.mainBody');\n\t\t\tthis.windowMinWidth = (15 / this.windowW) * 100;\n\t\t\tthis.windowMaxWidth = 100 - this.minWidth;\n\t\t\tthis.sideBlocks = container.find('.js-side-block');\n\t\t\tthis.sideBlockLeft = this.sideBlocks.first();\n\t\t\tthis.sideBlockRight = this.sideBlocks.last();\n\t\t\tthis.list = container.find('.js-list-preview');\n\t\t\tthis.preview = container.find('.js-detail-preview');\n\t\t\tthis.rotatedText = container.find('.u-rotate-90');\n\t\t\tthis.footerH = $('.js-footer').outerHeight();\n\t\t\tthis.headerH = $('.js-header').outerHeight();\n\t\t},\n\t\tgetDefaultSplitSizes: function () {\n\t\t\tlet thWidth = (this.listColumnWidth / this.windowW) * 100;\n\t\t\treturn [thWidth, 100 - thWidth];\n\t\t},\n\t\tgetSplitSizes() {\n\t\t\tconst cachedParams = app.moduleCacheGet('userRelatedSplitSet');\n\t\t\tif (cachedParams !== undefined) {\n\t\t\t\treturn cachedParams;\n\t\t\t} else {\n\t\t\t\treturn this.getDefaultSplitSizes();\n\t\t\t}\n\t\t},\n\t\tregisterListPreviewEvents() {\n\t\t\tapp.showNewScrollbarTopBottom(this.content.find('.js-list-preview--scroll'));\n\t\t\tapp.showNewScrollbarLeft(this.list);\n\t\t\tthis.list.on('click', '.listViewEntries', () => {\n\t\t\t\tif (this.split.getSizes()[1] < 10) {\n\t\t\t\t\tconst defaultGutterPosition = this.getDefaultSplitSizes();\n\t\t\t\t\tthis.split.setSizes(defaultGutterPosition);\n\t\t\t\t\tthis.preview.show();\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', defaultGutterPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.registerScrollEvent();\n\t\t\t}\n\t\t},\n\t\tregisterScrollEvent() {\n\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\tlet scrollContainer = App.Components.Scrollbar.page.element;\n\t\t\tlet listOffsetTop = this.list.offset().top - this.headerH;\n\t\t\tlet initialH = this.sideBlocks.height();\n\t\t\tlet mainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\tlet mainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\tlet fixedElements = this.mainBody.find('.js-fixed-scroll');\n\t\t\tif (!this.mainBody.length) {\n\t\t\t\tthis.mainBody = $(top.document).find('.mainBody');\n\t\t\t\tthis.headerH = $(top.document).find('.js-header').outerHeight();\n\t\t\t\tscrollContainer = top.window.App.Components.Scrollbar.page.element;\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tlistOffsetTop = this.list.offset().top + iframe.offset().top - this.headerH + 1;\n\t\t\t\tmainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\t\tmainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\t}\n\t\t\tconst onScroll = () => {\n\t\t\t\tif (scrollContainer.scrollTop() >= listOffsetTop) {\n\t\t\t\t\tfixedElements.css({ top: scrollContainer.scrollTop() - listOffsetTop });\n\t\t\t\t\tthis.sideBlocks.css({ top: scrollContainer.scrollTop() - listOffsetTop + 56 });\n\t\t\t\t\tfixedElements.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortWidthCss);\n\t\t\t\t} else {\n\t\t\t\t\tfixedElements.css({ top: 'initial' });\n\t\t\t\t\tfixedElements.css({ height: initialH + scrollContainer.scrollTop() });\n\t\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\t\twidth: initialH + scrollContainer.scrollTop(),\n\t\t\t\t\t\theight: initialH + scrollContainer.scrollTop()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tscrollContainer.on('scroll', onScroll);\n\t\t},\n\t\t/**\n\t\t * Registers split's events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @param {Split} split - a split object.\n\t\t */\n\t\tregisterSplitEvents: function (container, split) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tlet minWindowWidth = (23 / this.windowW) * 100;\n\t\t\tlet maxWindowWidth = 100 - minWindowWidth;\n\t\t\tlet listPreview = container.find('.js-detail-preview');\n\t\t\tthis.gutter.on('dblclick', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (isNaN(this.split.getSizes()[0])) {\n\t\t\t\t\tthis.split.setSizes(gutterRelatedMidPosition);\n\t\t\t\t}\n\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t} else if (split.getSizes()[1] < 20) {\n\t\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t} else if (split.getSizes()[0] > 7 && split.getSizes()[0] < 50) {\n\t\t\t\t\tsplit.setSizes([minWindowWidth, maxWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t} else if (split.getSizes()[1] > 10 && split.getSizes()[1] < 50) {\n\t\t\t\t\tsplit.setSizes([maxWindowWidth, minWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\t//this.list.width(this.list.width() - 10);\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockLeft.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockRight.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\tlistPreview.show();\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t},\n\t\tregisterSplit: function (container) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tconst splitSizes = this.getSplitSizes();\n\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', splitSizes);\n\t\t\tlet split = Split([this.list[0], this.preview[0]], {\n\t\t\t\tsizes: splitSizes,\n\t\t\t\tminSize: 10,\n\t\t\t\tgutterSize: 24,\n\t\t\t\tsnapOffset: 100,\n\t\t\t\tonDrag: () => {\n\t\t\t\t\tif (split.getSizes()[1] < rightSplitMaxWidth) {\n\t\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[1] < 10) {\n\t\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\t\tthis.preview.hide();\n\t\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.preview.show();\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] > 10 && split.getSizes()[1] > rightSplitMaxWidth) {\n\t\t\t\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', split.getSizes());\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (splitSizes[0] < 10) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t} else if (splitSizes[1] < rightSplitMaxWidth) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\tthis.preview.hide();\n\t\t\t}\n\t\t\tthis.gutter = container.find('.gutter');\n\t\t\tlet mainWindowHeightCss = {\n\t\t\t\theight: $(window).height() - this.list.offset().top - this.footerH\n\t\t\t};\n\t\t\tif (!container.closest('.mainBody').length) {\n\t\t\t\tlet mainBody = $(top.document).find('.mainBody').height();\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tmainWindowHeightCss = {\n\t\t\t\t\theight: mainBody - this.list.offset().top - iframe.offset().top + 50\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.gutter.css(mainWindowHeightCss);\n\t\t\t\tthis.list.css(mainWindowHeightCss);\n\t\t\t\tthis.sideBlocks.css(mainWindowHeightCss);\n\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\twidth: this.sideBlockLeft.height(),\n\t\t\t\t\theight: this.sideBlockLeft.height()\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerSplitEvents(container, split);\n\t\t\treturn split;\n\t\t},\n\t\ttoggleSplit: function (container) {\n\t\t\tlet commactHeight = container.closest('.commonActionsContainer').height();\n\t\t\tlet splitsArray = [];\n\t\t\tthis.split = this.registerSplit(container);\n\t\t\tsplitsArray.push(this.split);\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif (this.windowW < 993) {\n\t\t\t\t\tif (container.find('.gutter').length) {\n\t\t\t\t\t\tsplitsArray[splitsArray.length - 1].destroy();\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (container.find('.gutter').length !== 1) {\n\t\t\t\t\t\tthis.split = this.registerSplit(container);\n\t\t\t\t\t\tlet gutter = container.find('.gutter');\n\t\t\t\t\t\tif (this.mainBody.scrollTop() >= this.list.offset().top + commactHeight) {\n\t\t\t\t\t\t\tgutter.addClass('gutterOnScroll');\n\t\t\t\t\t\t\tgutter.css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\tgutter.on('mousedown', function () {\n\t\t\t\t\t\t\t\t$(this).on('mousemove', function (e) {\n\t\t\t\t\t\t\t\t\t$(this).css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplitsArray.push(this.split);\n\t\t\t\t\t}\n\t\t\t\t\tlet currentSplit = splitsArray[splitsArray.length - 1];\n\t\t\t\t\tlet minWidth = (15 / this.windowW) * 100;\n\t\t\t\t\tlet maxWidth = 100 - minWidth;\n\t\t\t\t\tif (typeof currentSplit === 'undefined') return;\n\t\t\t\t\tif (currentSplit.getSizes()[0] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([minWidth, maxWidth]);\n\t\t\t\t\t} else if (currentSplit.getSizes()[1] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([maxWidth, minWidth]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function () {\n\t\t\tlet container = $('.listViewEntriesDiv');\n\t\t\tif (this.relatedView !== 'ListPreview' && Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tcontainer.each((index, element) => {\n\t\t\t\t\tif (container.closest('.js-detail-widget-content').length) {\n\t\t\t\t\t\telement = container.closest('.js-detail-widget-content');\n\t\t\t\t\t\telement.each((i, el) => {\n\t\t\t\t\t\t\tApp.Components.Scrollbar.xy($(el));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tApp.Components.Scrollbar.xy($(element));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function () {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\trecordCountVal = $('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tlet params = this.getCompleteParams();\n\t\t\t\tdelete params.view;\n\t\t\t\tparams.action = 'DetailAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$('#recordsCount').val(data['result']['count']);\n\t\t\t\t\taDeferred.resolve(data['result']['count']);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tnoRecordSelectedAlert: function (text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\tapp.showNotify({\n\t\t\t\ttext: app.vtranslate(text),\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t},\n\t\tgetCurrentCvId: function () {\n\t\t\treturn $('#customFilter').find('option:selected').data('id');\n\t\t},\n\t\tcheckListRecordSelected: function (minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\tif (typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\treadSelectedIds: function (decode) {\n\t\t\tlet selectedIdsDataAttr = this.getCurrentCvId() + 'selectedIds',\n\t\t\t\tselectedIdsElementDataAttributes = $('#selectedIds').data(),\n\t\t\t\tselectedIds = [];\n\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t} else {\n\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof selectedIds == 'object') {\n\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\twriteSelectedIds: function (selectedIds) {\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\t$('#selectedIds').data(this.getCurrentCvId() + 'selectedIds', selectedIds);\n\t\t},\n\t\treadExcludedIds: function (decode) {\n\t\t\tlet excludedIdsDataAttr = this.getCurrentCvId() + 'Excludedids',\n\t\t\t\texcludedIdsElementDataAttributes = $('#excludedIds').data(),\n\t\t\t\texcludedIds = [];\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof excludedIds == 'object') {\n\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteExcludedIds: function (excludedIds) {\n\t\t\t$('#excludedIds').data(this.getCurrentCvId() + 'Excludedids', excludedIds);\n\t\t},\n\t\tcheckSelectAll: function () {\n\t\t\tlet state = true;\n\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\tif ($(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', state);\n\t\t\treturn state;\n\t\t},\n\t\tregisterCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '.relatedListViewEntriesCheckBox', function (e) {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds(),\n\t\t\t\t\telem = $(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice($.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if ($.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice($.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterMainCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '#relatedListViewEntriesMainCheckBox', function () {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds();\n\t\t\t\tif ($('#relatedListViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tlet recordCountObj = self.getRecordsCount();\n\t\t\t\t\trecordCountObj\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t$('#totalRecordsCount').text(data);\n\t\t\t\t\t\t\tif ($('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\t\t$('#selectAllMsgDiv').show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all' && $.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\texcludedIds.splice($.inArray($(element).val(), excludedIds), 1);\n\t\t\t\t\t\t} else if ($.inArray($(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push($(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push($(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice($.inArray($(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterSelectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#selectAllMsg', function () {\n\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\tregisterDeselectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#deSelectAllMsg', function () {\n\t\t\t\t$('#deSelectAllMsgDiv').hide();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds([]);\n\t\t\t\tself.writeExcludedIds([]);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register quick edit save event description.\n\t\t */\n\t\tregisterQuickEditSaveEvent() {\n\t\t\tapp.event.on('QuickEdit.AfterSaveFinal', (e, data, instance, element) => {\n\t\t\t\tif (this.moduleName === instance.data('moduleName')) {\n\t\t\t\t\tif (element.closest('.js-detail-widget').length) {\n\t\t\t\t\t\tVtiger_Detail_Js.getInstance().postSummaryWidgetAddRecord(data, element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register change related view.\n\t\t */\n\t\tregisterChangeViewEvent() {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-change-related-view', function () {\n\t\t\t\tself.relatedView = this.dataset.view;\n\t\t\t\tself.loadRelatedList();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register mass records events.\n\t\t */\n\t\tregisterMassRecordsEvents: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-mass-record-event', function () {\n\t\t\t\tlet target = $(this);\n\t\t\t\tif (self.checkListRecordSelected() != true) {\n\t\t\t\t\tif (target.data('type') === 'modal') {\n\t\t\t\t\t\tlet params = self.getSelectedParams();\n\t\t\t\t\t\ttarget.data('url').replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n\t\t\t\t\t\t\tparams[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\tdata: params\n\t\t\t\t\t\t}).done(function (modal) {\n\t\t\t\t\t\t\tapp.showModalWindow(modal);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\ticon: false,\n\t\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\t\t\t\t\tdataParams = self.getSearchParams();\n\t\t\t\t\t\t\t\tdelete dataParams.view;\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\t\t\tdata: dataParams\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tif (data && data.result && data.result.notify) {\n\t\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tself.getListViewRecords();\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\t\t\tparams.text = target.data('confirm');\n\t\t\t\t\t\t\tparams.title = target.html();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams.text = target.html();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showConfirmModal(params);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register related events\n\t\t */\n\t\tregisterRelatedEvents: function () {\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerPaginationEvents();\n\t\t\tthis.registerListEvents();\n\t\t\tthis.registerPostLoadEvents();\n\t\t\tthis.registerSummationEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t\tthis.registerQuickEditSaveEvent();\n\t\t\tthis.registerChangeViewEvent();\n\t\t\tthis.registerMassRecordsEvents();\n\t\t\tYetiForce_ListSearch_Js.registerSearch(this.content, (data) => {\n\t\t\t\tthis.loadRelatedList(data);\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","relatedListInstance","getInstance","parentId","parentModule","selectedRelatedTabElement","relatedModuleName","url","Vtiger_RelatedList_Js","moduleName","instance","moduleClassName","app","getModuleName","fallbackClassName","window","parentRecordId","parentModuleName","relatedTabsContainer","closest","content","$","relatedView","find","val","parseUrlParams","setSelectedTabElement","getInstanceByUrl","params","convertUrlToObject","defaultParams","triggerMassAction","massActionUrl","type","self","validationResult","checkListRecordSelected","progressIndicatorElement","progressIndicator","selectedIds","readSelectedIds","excludedIds","readExcludedIds","cvId","getCurrentCvId","postData","getCompleteParams","mode","view","viewname","selected_ids","excluded_ids","AppConnector","requestForm","request","data","done","responseData","result","notify","Vtiger_Helper_Js","showMessage","reloadList","Vtiger_Detail_Js","reloadRelatedList","processStop","fail","noRecordSelectedAlert","verifyFileExist","aDeferred","Deferred","action","resolve","promise","triggerMassDownload","thisInstance","substring","indexOf","triggerMassQuickCreate","listParams","getSelectedParams","progress","blockInfo","enabled","callbackFunction","loadRelatedList","noCache","extend","sourceView","sourceModule","relatedModule","entityState","search_params","relationId","relatedRecord","record","module","App","Components","QuickCreate","getForm","showModal","registerEventForClockPicker","triggerSendEmail","getDefaultParams","Vtiger_List_Js","relatedLoad","sourceRecord","getRecordId","triggerSendEmailByRow","row","listSearchInstance","detailViewContentHolder","frameProgress","noEventsListSearch","listViewContainer","tabElement","getSelectedTabElement","getParentId","getRelatedContainer","setRelatedContainer","container","getContentHolder","getCurrentPageNum","setCurrentPageNumber","pageNumber","getOrderBy","Object","assign","length","getListSearchParams","searchValue","getAlphabetSearchValue","getAlphabetSearchField","parseConditions","JSON","stringify","switchBtn","time","first","prop","tab_label","cvid","currentInstance","loadWidgets","progressInstance","position","completeParams","activeTabsReference","removeClass","addClass","html","tooltip","registerPostLoadEvents","registerListEvents","textStatus","errorThrown","reject","showNotify","text","vtranslate","showSelectRelation","extendParams","getRecordsListParams","showRecordsList","_modal","setSelectEvent","addRelations","keys","event","trigger","detail","registerRelatedModulesRecordCount","src_module","src_record","multi_select","idList","related_module","related_record_list","isArray","deleteRelation","target","id","response","widget","loadWidget","updatesWidget","nextPageHandler","pageLimit","noOfEntries","nextPage","parseInt","page","previousPageHandler","previousPage","selectPageHandler","pageJumpHandler","e","which","element","currentTarget","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","validationEngine","preventDefault","jumpToPage","totalPages","error","invalidFields","parent","currentPage","message","addRelatedRecord","callback","referenceModuleName","quickCreateParams","relatedParams","relatedField","fullFormUrl","eliminatedKeys","Array","preQuickCreateSave","index","queryParam","queryParamComponents","queryParameters","urlSplit","split","queryString","appendTo","field","inArray","createRecord","getRelatedPageCount","totalCountElem","totalPageNumber","pageCount","numberOfRecords","favoritesRelation","relcrmId","state","relcrmid","actionMode","updatePreview","frame","defaultView","getMainParams","attr","replace","registerUnreviewedCountEvent","ids","relatedContent","isUnreviewedActive","each","push","recordsId","appData","value","a","m","registerChangeEntityStateEvent","on","registerRowsEvent","hasClass","is","contains","get","recordUrl","getViewName","top","document","location","href","inventoryRow","next","block","toggleClass","registerWidgets","widgetsContainer","widgetList","detailInstance","registerSummationEvent","button","calculateValue","hidePopover","success","registerPreviewEvent","contentHeight","height","getScreenHeight","offset","contents","registerPaginationEvents","stopImmediatePropagation","openUrl","restrictionsField","search_key","key","search_value","name","icon","confirmedCallback","title","showConfirmModal","registerListScroll","setDomParams","toggleSplit","registerListPreviewEvents","YetiForce_ListSearch_Js","getListColumnWidth","width","column","left","listColumnWidth","windowW","mainBody","windowMinWidth","windowMaxWidth","minWidth","sideBlocks","sideBlockLeft","sideBlockRight","last","list","preview","rotatedText","footerH","outerHeight","headerH","getDefaultSplitSizes","thWidth","getSplitSizes","cachedParams","moduleCacheGet","showNewScrollbarTopBottom","showNewScrollbarLeft","getSizes","defaultGutterPosition","setSizes","show","moduleCacheSet","parents","registerScrollEvent","gutter","scrollContainer","Scrollbar","listOffsetTop","initialH","mainViewPortHeightCss","mainViewPortWidthCss","fixedElements","iframe","onScroll","scrollTop","css","registerSplitEvents","rightSplitMaxWidth","minWindowWidth","maxWindowWidth","listPreview","gutterRelatedMidPosition","isNaN","hide","registerSplit","splitSizes","Split","sizes","minSize","gutterSize","snapOffset","onDrag","collapse","mainWindowHeightCss","commactHeight","splitsArray","destroy","currentSplit","maxWidth","Quasar","plugins","Platform","desktop","i","el","xy","getRecordsCount","recordCountVal","minNumberOfRecords","decode","selectedIdsDataAttr","selectedIdsElementDataAttributes","writeSelectedIds","excludedIdsDataAttr","excludedIdsElementDataAttributes","writeExcludedIds","checkSelectAll","registerCheckBoxClickEvent","elem","splice","registerMainCheckBoxClickEvent","recordCountObj","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerQuickEditSaveEvent","postSummaryWidgetAddRecord","registerChangeViewEvent","dataset","registerMassRecordsEvents","modal","showModalWindow","dataParams","getSearchParams","getListViewRecords","registerRelatedEvents","registerSearch"],"mappings":"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"}