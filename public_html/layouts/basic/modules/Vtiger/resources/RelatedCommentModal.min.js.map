{"version":3,"file":"RelatedCommentModal.min.js","sources":["RelatedCommentModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Vtiger_RelatedCommentModal_Js', {\n\twindowParent: app.getWindowParent(),\n\t/*\n\t * Function to register the click event for generate button\n\t */\n\tregisterSubmitEvent: function(container) {\n\t\tconst self = this;\n\t\tcontainer.find('[name=\"saveButton\"]').on('click', function(e) {\n\t\t\tvar progressLoader = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar comment = container.find('.comment').val();\n\t\t\tvar params = {\n\t\t\t\tmodule: self.windowParent.app.getModuleName(),\n\t\t\t\trecord: self.windowParent.app.getRecordId(),\n\t\t\t\taction: 'RelatedCommentModal',\n\t\t\t\tmode: 'update',\n\t\t\t\tcomment: comment,\n\t\t\t\trelid: container.find('.relatedRecord').val(),\n\t\t\t\trelmodule: container.find('.relatedModuleName').val()\n\t\t\t};\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({ text: data.result });\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tprogressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tself.windowParent.Vtiger_Detail_Js.getInstance().reloadTabContent();\n\t\t\t\t})\n\t\t\t\t.fail(function(error) {\n\t\t\t\t\tprogressLoader.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function() {\n\t\tvar container = $('#modalRelatedCommentModal');\n\t\tnew App.Fields.Text.Completions(container.find('.js-completions'));\n\t\tthis.registerSubmitEvent(container);\n\t}\n});\n$(function() {\n\tvar instance = new Vtiger_RelatedCommentModal_Js();\n\tinstance.registerEvents();\n});\n"],"names":["jQuery","Class","app","getWindowParent","container","self","this","find","on","e","progressLoader","$","progressIndicator","comment","val","params","windowParent","getModuleName","getRecordId","request","done","data","showMessage","text","result","hideModalWindow","mode","Vtiger_Detail_Js","getInstance","reloadTabContent","fail","error","App","Fields","Text","Completions","registerSubmitEvent","Vtiger_RelatedCommentModal_Js","registerEvents"],"mappings":"aAGAA,OAAOC,MAAM,gCAAiC,cAC/BC,IAAIC,sCAIG,SAASC,eACvBC,KAAOC,eACHC,KAAK,uBAAuBC,GAAG,SAAS,SAASC,OACtDC,eAAiBC,EAAEC,kBAAkB,UAC9B,iBACC,UACD,KAGPC,QAAUT,UAAUG,KAAK,YAAYO,MACrCC,OAAS,QACJV,KAAKW,aAAad,IAAIe,uBACtBZ,KAAKW,aAAad,IAAIgB,qBACtB,2BACF,iBACGL,cACFT,UAAUG,KAAK,kBAAkBO,gBAC7BV,UAAUG,KAAK,sBAAsBO,oBAEpCK,QAAQJ,QACnBK,MAAK,SAASC,uBACGC,YAAY,CAAEC,KAAMF,KAAKG,aACtCC,iCACWb,kBAAkB,CAAEc,KAAM,cACpCV,aAAaW,iBAAiBC,cAAcC,sBAEjDC,MAAK,SAASC,sBACCnB,kBAAkB,CAAEc,KAAM,+BAI7B,eACXtB,UAAYO,EAAE,iCACdqB,IAAIC,OAAOC,KAAKC,YAAY/B,UAAUG,KAAK,yBAC1C6B,oBAAoBhC,cAG3BO,GAAE,YACc,IAAI0B,+BACVC"}