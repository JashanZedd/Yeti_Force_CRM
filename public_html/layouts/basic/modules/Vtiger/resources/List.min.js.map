{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_List_Js',\n\t{\n\t\tlistInstance: false,\n\t\tgetRelatedModulesContainer: false,\n\t\tmassEditPreSave: 'Vtiger.MassEdit.PreSave',\n\t\tgetInstance: function() {\n\t\t\tif (Vtiger_List_Js.listInstance === false) {\n\t\t\t\tlet module = app.getModuleName(),\n\t\t\t\t\tparentModule = app.getParentModuleName(),\n\t\t\t\t\tmoduleClassName,\n\t\t\t\t\tfallbackClassName,\n\t\t\t\t\tinstance;\n\t\t\t\tif (parentModule == 'Settings') {\n\t\t\t\t\tmoduleClassName = parentModule + '_' + module + '_List_Js';\n\t\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\t\tmoduleClassName = module + '_List_Js';\n\t\t\t\t\t}\n\t\t\t\t\tfallbackClassName = parentModule + '_Vtiger_List_Js';\n\t\t\t\t\tif (typeof window[fallbackClassName] === 'undefined') {\n\t\t\t\t\t\tfallbackClassName = 'Vtiger_List_Js';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmoduleClassName = module + '_List_Js';\n\t\t\t\t\tfallbackClassName = 'Vtiger_List_Js';\n\t\t\t\t}\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new window[fallbackClassName]();\n\t\t\t\t}\n\t\t\t\tVtiger_List_Js.listInstance = instance;\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t\treturn Vtiger_List_Js.listInstance;\n\t\t},\n\t\t/*\n\t\t * function to trigger send Email\n\t\t * @params: send email url , module name.\n\t\t */\n\t\ttriggerSendEmail: function(params) {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult !== true) {\n\t\t\t\tvar postData = listInstance.getSearchParams();\n\t\t\t\tdelete postData.parent;\n\t\t\t\tpostData.view = 'SendMailModal';\n\t\t\t\tpostData.cvid = listInstance.getCurrentCvId();\n\t\t\t\tif (params) {\n\t\t\t\t\tjQuery.extend(postData, params);\n\t\t\t\t}\n\t\t\t\tAppConnector.request(postData).done(function(response) {\n\t\t\t\t\tapp.showModalWindow(response, function(data) {\n\t\t\t\t\t\tdata.find('[name=\"saveButton\"]').on('click', function(e) {\n\t\t\t\t\t\t\tif (data.find('form').validationEngine('validate')) {\n\t\t\t\t\t\t\t\tjQuery.extend(postData, {\n\t\t\t\t\t\t\t\t\tfield: data.find('#field').val(),\n\t\t\t\t\t\t\t\t\ttemplate: data.find('#template').val(),\n\t\t\t\t\t\t\t\t\taction: 'Mail',\n\t\t\t\t\t\t\t\t\tmode: 'sendMails'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tdelete postData.view;\n\t\t\t\t\t\t\t\tAppConnector.request(postData)\n\t\t\t\t\t\t\t\t\t.done(function(response) {\n\t\t\t\t\t\t\t\t\t\tif (response.result == true) {\n\t\t\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function(data, err) {\n\t\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * function to trigger Send Sms\n\t\t * @params: send email url , module name.\n\t\t */\n\t\ttriggerSendSms: function(massActionUrl, module) {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tVtiger_List_Js.triggerMassAction(massActionUrl);\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerTransferOwnership: function(massActionUrl) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\t\tvar actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tAppConnector.request(actionParams).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tvar callback = function(data) {\n\t\t\t\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\t\t\t\tparams.onValidationComplete = function(form, valid) {\n\t\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdata.find('#changeOwner').validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showModalWindow(data, function(data) {\n\t\t\t\t\t\t\tvar selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerQuickExportToExcel: function(module) {\n\t\t\tconst massActionUrl = 'index.php';\n\t\t\tconst listInstance = Vtiger_List_Js.getInstance();\n\t\t\tif (listInstance.checkListRecordSelected() != true) {\n\t\t\t\tconst progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tlet postData = {\n\t\t\t\t\tmodule: module,\n\t\t\t\t\taction: 'QuickExport',\n\t\t\t\t\tmode: 'exportToExcel'\n\t\t\t\t};\n\t\t\t\t$.extend(postData, listInstance.getSearchParams());\n\t\t\t\tapp.openUrlMethodPost(massActionUrl, postData);\n\t\t\t\tVtiger_Helper_Js.showMessage({ text: app.vtranslate('JS_STARTED_GENERATING_FILE'), type: 'info' });\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttransferOwnershipSave: function(form) {\n\t\t\tconst listInstance = Vtiger_List_Js.getInstance();\n\t\t\tlet transferOwner = jQuery('#transferOwnerId').val(),\n\t\t\t\trelatedModules = jQuery('#related_modules').val(),\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'TransferOwnership',\n\t\t\t\t\ttransferOwnerId: transferOwner,\n\t\t\t\t\trelated_modules: relatedModules\n\t\t\t\t};\n\t\t\tparams = $.extend(params, listInstance.getSearchParams());\n\t\t\tdelete params.view;\n\t\t\tAppConnector.request(params).done(response => {\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\tif (response.result.success) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showMessage(response.result.notify);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to get the related module container\n\t\t */\n\t\tgetRelatedModuleContainer: function() {\n\t\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t\t}\n\t\t\treturn this.getRelatedModulesContainer;\n\t\t},\n\t\ttriggerMassAction: function(massActionUrl, callBackFunction, beforeShowCb, css) {\n\t\t\tif (typeof beforeShowCb === 'undefined') {\n\t\t\t\tbeforeShowCb = function() {\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (typeof beforeShowCb == 'object') {\n\t\t\t\tcss = beforeShowCb;\n\t\t\t\tbeforeShowCb = function() {\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tvar actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: listInstance.getSearchParams()\n\t\t\t\t};\n\t\t\t\tif (typeof css === 'undefined') {\n\t\t\t\t\tcss = {};\n\t\t\t\t}\n\t\t\t\tcss = jQuery.extend({ 'text-align': 'left' }, css);\n\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar result = beforeShowCb(data);\n\t\t\t\t\t\t\tif (!result) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\t\tapp.event.trigger('MassEditModal.AfterLoad', data, massActionUrl);\n\t\t\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t\t\t\t//listInstance.triggerDisplayTypeEvent();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcss\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t//register inactive fields for massedit modal\n\t\t\t\t\t\t\tif ($('#massEditContainer').length) {\n\t\t\t\t\t\t\t\tlistInstance.inactiveFieldsValidation($('#massEditContainer').find('form'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: err,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerMassEdit: function(massEditUrl) {\n\t\t\tvar selectedCount = this.getSelectedRecordCount();\n\t\t\tif (selectedCount > jQuery('#listMaxEntriesMassEdit').val()) {\n\t\t\t\tvar params = {\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_MASS_EDIT_LIMIT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tVtiger_List_Js.triggerMassAction(\n\t\t\t\tmassEditUrl,\n\t\t\t\tfunction(container) {\n\t\t\t\t\tvar massEditForm = container.find('#massEdit');\n\t\t\t\t\tmassEditForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\t\t\tlistInstance.registerEventForTabClick(massEditForm);\n\t\t\t\t\tvar editInstance = Vtiger_Edit_Js.getInstance();\n\t\t\t\t\teditInstance.registerBasicEvents(massEditForm);\n\t\t\t\t\tlistInstance.postMassEdit(container);\n\t\t\t\t\tlistInstance.registerSlimScrollMassEdit();\n\t\t\t\t},\n\t\t\t\t{ width: '65%' }\n\t\t\t);\n\t\t},\n\t\tgetSelectedRecordCount: function() {\n\t\t\tvar count;\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar cvId = listInstance.getCurrentCvId();\n\t\t\tvar selectedIdObj = jQuery('#selectedIds').data(cvId + 'selectedIds');\n\t\t\tif (selectedIdObj != undefined) {\n\t\t\t\tif (selectedIdObj != 'all') {\n\t\t\t\t\tcount = selectedIdObj.length;\n\t\t\t\t} else {\n\t\t\t\t\tvar excludedIdsCount = jQuery('#excludedIds').data(cvId + 'Excludedids').length;\n\t\t\t\t\tvar totalRecords = jQuery('#recordsCount').val();\n\t\t\t\t\tcount = totalRecords - excludedIdsCount;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\t\t/*\n\t\t * function to trigger export action\n\t\t * returns UI\n\t\t */\n\t\ttriggerExportAction: function(exportActionUrl) {\n\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\tlet params = listInstance.getSearchParams();\n\t\t\tif ('undefined' === typeof params.viewname)\n\t\t\t\texportActionUrl +=\n\t\t\t\t\t'&selected_ids=' + params.selected_ids + '&excluded_ids=' + params.excluded_ids + '&page=' + params.page;\n\t\t\telse\n\t\t\t\texportActionUrl +=\n\t\t\t\t\t'&selected_ids=' +\n\t\t\t\t\tparams.selected_ids +\n\t\t\t\t\t'&excluded_ids=' +\n\t\t\t\t\tparams.excluded_ids +\n\t\t\t\t\t'&viewname=' +\n\t\t\t\t\tparams.viewname +\n\t\t\t\t\t'&page=' +\n\t\t\t\t\tparams.page +\n\t\t\t\t\t'&entityState=' +\n\t\t\t\t\tparams.entityState;\n\t\t\tif (listInstance.getListSearchInstance()) {\n\t\t\t\texportActionUrl += '&search_params=' + params.search_params;\n\t\t\t\tif (typeof params.search_value !== 'undefined' && params.search_value.length > 0) {\n\t\t\t\t\texportActionUrl += '&search_key=' + params.search_key;\n\t\t\t\t\texportActionUrl += '&search_value=' + params.search_value;\n\t\t\t\t\texportActionUrl += '&operator=s';\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.location.href = exportActionUrl;\n\t\t},\n\t\t/**\n\t\t * Function to reload list\n\t\t */\n\t\tclearList: function() {\n\t\t\tjQuery('#deSelectAllMsg').trigger('click');\n\t\t\tjQuery('#selectAllMsgDiv').hide();\n\t\t},\n\t\ttriggerListSearch: function() {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar listViewContainer = listInstance.getListViewContentContainer();\n\t\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').trigger('click');\n\t\t},\n\t\tgetSelectedRecordsParams: function(checkList) {\n\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\tif (checkList == false || listInstance.checkListRecordSelected() !== true) {\n\t\t\t\treturn listInstance.getSearchParams();\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\ttriggerGenerateRecords: function() {\n\t\t\tvar selected = Vtiger_List_Js.getSelectedRecordsParams();\n\t\t\tif (selected === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tselected.view = 'GenerateModal';\n\t\t\tselected.fromview = 'List';\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.showModalWindow(null, 'index.php?' + jQuery.param(selected), function() {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowMap: function() {\n\t\t\tvar selectedParams = Vtiger_List_Js.getSelectedRecordsParams(false);\n\t\t\tvar url = 'index.php?module=OpenStreetMap&view=MapModal&srcModule=' + app.getModuleName();\n\t\t\tapp.showModalWindow(null, url, function(container) {\n\t\t\t\tvar mapView = new OpenStreetMap_Map_Js();\n\t\t\t\tmapView.setSelectedParams(selectedParams);\n\t\t\t\tmapView.registerModalView(container);\n\t\t\t});\n\t\t},\n\t\ttriggerReviewChanges: function(reviewUrl) {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tvar message = app.vtranslate('JS_MASS_REVIEWING_CHANGES_CONFIRMATION');\n\t\t\t\tvar title = '<i class=\"fa fa-check-circle\"></i> ' + app.vtranslate('JS_LBL_REVIEW_CHANGES');\n\t\t\t\tVtiger_Helper_Js.showConfirmationBox({ message: message, title: title })\n\t\t\t\t\t.done(function(e) {\n\t\t\t\t\t\tlet params = listInstance.getSearchParams();\n\t\t\t\t\t\tvar url =\n\t\t\t\t\t\t\treviewUrl +\n\t\t\t\t\t\t\t'&viewname=' +\n\t\t\t\t\t\t\tparams.viewname +\n\t\t\t\t\t\t\t'&selected_ids=' +\n\t\t\t\t\t\t\tparams.selected_ids +\n\t\t\t\t\t\t\t'&excluded_ids=' +\n\t\t\t\t\t\t\tparams.excluded_ids +\n\t\t\t\t\t\t\t'&entityState=' +\n\t\t\t\t\t\t\tparams.entityState;\n\t\t\t\t\t\tif (listInstance.getListSearchInstance()) {\n\t\t\t\t\t\t\turl += '&search_params=' + params.search_params;\n\t\t\t\t\t\t\tif (typeof searchValue !== 'undefined' && params.search_value.length > 0) {\n\t\t\t\t\t\t\t\turl += '&search_key=' + params.search_key;\n\t\t\t\t\t\t\t\turl += '&search_value=' + params.search_value;\n\t\t\t\t\t\t\t\turl += '&operator=s';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar deleteMessage = app.vtranslate('JS_LOADING_PLEASE_WAIT');\n\t\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t\tmessage: deleteMessage,\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request(url)\n\t\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t//contains the List View element.\n\t\tlistViewContainer: false,\n\t\t//Contains list view top menu element\n\t\tlistViewTopMenuContainer: false,\n\t\t//Contains list view content element\n\t\tlistViewContentContainer: false,\n\t\t//Contains filter Block Element\n\t\tfilterBlock: false,\n\t\tfilterSelectElement: false,\n\t\tlistSearchInstance: false,\n\t\tnoEventsListSearch: true,\n\t\t//Contains float table head\n\t\tlistFloatThead: false,\n\t\tgetListSearchInstance: function(events) {\n\t\t\tif (events != undefined) {\n\t\t\t\tthis.noEventsListSearch = events;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tthis.listSearchInstance == false &&\n\t\t\t\t(this.getListViewContainer().find('.searchField').length ||\n\t\t\t\t\tthis.getListViewContainer().find('.picklistSearchField').length)\n\t\t\t) {\n\t\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(\n\t\t\t\t\tthis.getListViewContainer(),\n\t\t\t\t\tthis.noEventsListSearch\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn this.listSearchInstance;\n\t\t},\n\t\tgetListViewContainer: function() {\n\t\t\tif (this.listViewContainer == false) {\n\t\t\t\tthis.listViewContainer = jQuery('div.listViewPageDiv');\n\t\t\t}\n\t\t\treturn this.listViewContainer;\n\t\t},\n\t\tgetListViewTopMenuContainer: function() {\n\t\t\tif (this.listViewTopMenuContainer == false) {\n\t\t\t\tthis.listViewTopMenuContainer = jQuery('.listViewTopMenuDiv');\n\t\t\t}\n\t\t\treturn this.listViewTopMenuContainer;\n\t\t},\n\t\tgetListViewContentContainer: function() {\n\t\t\tif (this.listViewContentContainer == false) {\n\t\t\t\tthis.listViewContentContainer = jQuery('.listViewContentDiv');\n\t\t\t}\n\t\t\treturn this.listViewContentContainer;\n\t\t},\n\t\tgetFilterBlock: function() {\n\t\t\tif (this.filterBlock == false) {\n\t\t\t\tvar filterSelectElement = this.getFilterSelectElement();\n\t\t\t\tif (filterSelectElement.length <= 0) {\n\t\t\t\t\tthis.filterBlock = jQuery();\n\t\t\t\t} else if (filterSelectElement.is('select')) {\n\t\t\t\t\tthis.filterBlock = filterSelectElement.data('select2').$dropdown;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.filterBlock;\n\t\t},\n\t\tgetFilterSelectElement: function() {\n\t\t\tif (this.filterSelectElement == false) {\n\t\t\t\tthis.filterSelectElement = jQuery('#customFilter');\n\t\t\t}\n\t\t\treturn this.filterSelectElement;\n\t\t},\n\t\tgetSearchParams() {\n\t\t\tlet params = this.getDefaultParams();\n\t\t\tif (this.checkListRecordSelected() !== true) {\n\t\t\t\tparams.selected_ids = this.readSelectedIds(true);\n\t\t\t\tparams.excluded_ids = this.readExcludedIds(true);\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tgetDefaultParams: function() {\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tpage: $('#pageNumber').val(),\n\t\t\t\tview: app.getViewName(),\n\t\t\t\tviewname: this.getCurrentCvId(),\n\t\t\t\torderby: $('#orderBy').val(),\n\t\t\t\tentityState: $('#entityState').val()\n\t\t\t};\n\t\t\tif($('#sortOrder').length){\n\t\t\t\tparams.sortorder = $('#sortOrder').val();\n\t\t\t}\n\t\t\tif (app.getParentModuleName()) {\n\t\t\t\tparams.parent = app.getParentModuleName();\n\t\t\t}\n\t\t\tvar listSearchInstance = this.getListSearchInstance();\n\t\t\tif (listSearchInstance !== false) {\n\t\t\t\tvar searchValue = listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tparams.search_params = JSON.stringify(listSearchInstance.getListSearchParams(true));\n\t\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\t\tparams.search_key = listSearchInstance.getAlphabetSearchField();\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tparams.operator = 's';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\n\t\t/*\n\t\t * Function which will give you all the list view params\n\t\t */\n\t\tgetListViewRecords: function(urlParams) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tif (typeof urlParams === 'undefined') {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewContentsContainer = $('#listViewContents');\n\t\t\tvar loadingMessage = jQuery('.listViewLoadingMsg').text();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tmessage: loadingMessage,\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar defaultParams = this.getDefaultParams();\n\t\t\turlParams = $.extend(defaultParams, urlParams);\n\t\t\tAppConnector.requestPjax(urlParams)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlistViewContentsContainer.html(data);\n\t\t\t\t\tapp.event.trigger('RecordListView.AfterLoad', data, thisInstance);\n\t\t\t\t\tthisInstance.calculatePages().done(function(data) {\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.postLoadListViewRecordsEvents(listViewContentsContainer);\n\t\t\t\t\tthisInstance.massUpdatePagination(urlParams);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tpostLoadListViewRecordsEvents: function(container) {\n\t\t\tconst self = this;\n\t\t\tthis.registerPostLoadDesktopEvents(container);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('select.select2'));\n\t\t\tApp.Fields.Picklist.changeSelectElementView(container);\n\t\t\tvar searchInstance = self.getListSearchInstance();\n\t\t\tif (searchInstance !== false) {\n\t\t\t\tsearchInstance.registerBasicEvents();\n\t\t\t}\n\t\t\tVtiger_Index_Js.registerMailButtons(container);\n\t\t\t//self.triggerDisplayTypeEvent();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tvar selectedIds = self.readSelectedIds();\n\t\t\tif (selectedIds != '') {\n\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t$('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t});\n\t\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t\tvar excludedIds = self.readExcludedIds();\n\t\t\t\t\tif (excludedIds != '') {\n\t\t\t\t\t\t$('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t\t\t$('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\t\tif ($.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\t\t$(element)\n\t\t\t\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\tif ($.inArray($(element).val(), selectedIds) != -1) {\n\t\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t}\n\t\t\tself.registerUnreviewedCountEvent();\n\t\t\tself.registerLastRelationsEvent();\n\t\t},\n\t\t/**\n\t\t * Function to calculate number of pages\n\t\t */\n\t\tcalculatePages: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar element = jQuery('#totalPageCount');\n\t\t\tvar totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\tvar totalRecordCount = jQuery('#totalCount').val();\n\t\t\t\tif (totalRecordCount != '') {\n\t\t\t\t\tvar pageLimit = jQuery('#pageLimit').val();\n\t\t\t\t\tif (pageLimit == '0') pageLimit = 1;\n\t\t\t\t\tlet pageCount = Math.ceil(totalRecordCount / pageLimit);\n\t\t\t\t\tif (pageCount == 0) {\n\t\t\t\t\t\tpageCount = 1;\n\t\t\t\t\t}\n\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\treturn aDeferred.promise();\n\t\t\t\t}\n\t\t\t\taDeferred.resolve();\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to return alerts if no records selected.\n\t\t */\n\t\tnoRecordSelectedAlert: function(text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\treturn Vtiger_Helper_Js.showPnotify({ text: app.vtranslate(text) });\n\t\t},\n\t\tmassActionSave: function(form, isMassEdit) {\n\t\t\tif (typeof isMassEdit === 'undefined') {\n\t\t\t\tisMassEdit = false;\n\t\t\t}\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (isMassEdit) {\n\t\t\t\tvar massEditPreSaveEvent = jQuery.Event(Vtiger_List_Js.massEditPreSave);\n\t\t\t\tform.trigger(massEditPreSaveEvent);\n\t\t\t\tif (massEditPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\tform.find('[name=\"saveButton\"]').removeAttr('disabled');\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t\treturn aDeferred.promise();\n\t\t\t\t}\n\t\t\t\tform.find('[id^=\"selectRow\"]').each(function(index, checkbox) {\n\t\t\t\t\tcheckbox = jQuery(checkbox);\n\t\t\t\t\tif (!checkbox.prop('checked')) {\n\t\t\t\t\t\tcheckbox\n\t\t\t\t\t\t\t.closest('.js-form-row-container')\n\t\t\t\t\t\t\t.find('.fieldValue [name]')\n\t\t\t\t\t\t\t.each(function(index, element) {\n\t\t\t\t\t\t\t\telement = jQuery(element);\n\t\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar massActionUrl = form.serializeFormData();\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(massActionUrl)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tif (!data.result) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_MASS_EDIT_NOT_SUCCESSFUL'),\n\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tcheckSelectAll: function() {\n\t\t\tvar state = true;\n\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\tif (jQuery(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (state == true) {\n\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t} else {\n\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar recordCountVal = jQuery('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tvar count = '';\n\t\t\t\tvar params = this.getDefaultParams();\n\t\t\t\tparams.view = 'ListAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\tvar response = JSON.parse(data);\n\t\t\t\t\tjQuery('#recordsCount').val(response['result']['count']);\n\t\t\t\t\tcount = response['result']['count'];\n\t\t\t\t\taDeferred.resolve(count);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetSelectOptionFromChosenOption: function(liElement) {\n\t\t\tvar id = liElement.attr('id');\n\t\t\tvar idArr = id.split('-');\n\t\t\tvar currentOptionId = '';\n\t\t\tif (idArr.length > 0) {\n\t\t\t\tcurrentOptionId = idArr[idArr.length - 1];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn jQuery('#filterOptionId_' + currentOptionId);\n\t\t},\n\t\treadSelectedIds: function(decode) {\n\t\t\tvar cvId = this.getCurrentCvId();\n\t\t\tvar selectedIdsElement = jQuery('#selectedIds');\n\t\t\tvar selectedIdsDataAttr = cvId + 'selectedIds';\n\t\t\tvar selectedIdsElementDataAttributes = selectedIdsElement.data();\n\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\tvar selectedIds = [];\n\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t} else {\n\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true) {\n\t\t\t\tif (typeof selectedIds == 'object') {\n\t\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\treadExcludedIds: function(decode) {\n\t\t\tvar cvId = this.getCurrentCvId();\n\t\t\tvar exlcudedIdsElement = jQuery('#excludedIds');\n\t\t\tvar excludedIdsDataAttr = cvId + 'Excludedids';\n\t\t\tvar excludedIdsElementDataAttributes = exlcudedIdsElement.data();\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tvar excludedIds = [];\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true) {\n\t\t\t\tif (typeof excludedIds == 'object') {\n\t\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteSelectedIds: function(selectedIds) {\n\t\t\tvar cvId = this.getCurrentCvId();\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\tjQuery('#selectedIds').data(cvId + 'selectedIds', selectedIds);\n\t\t},\n\t\twriteExcludedIds: function(excludedIds) {\n\t\t\tvar cvId = this.getCurrentCvId();\n\t\t\tjQuery('#excludedIds').data(cvId + 'Excludedids', excludedIds);\n\t\t},\n\t\tgetCurrentCvId: function() {\n\t\t\treturn jQuery('#customFilter')\n\t\t\t\t.find('option:selected')\n\t\t\t\t.data('id');\n\t\t},\n\t\tgetAlphabetSearchField: function() {\n\t\t\treturn jQuery('#alphabetSearchKey').val();\n\t\t},\n\t\tgetAlphabetSearchValue: function() {\n\t\t\treturn jQuery('#alphabetValue').val();\n\t\t},\n\t\t/**\n\t\t * Function to check whether atleast minNumberOfRecords is checked\n\t\t * @param {number} minNumberOfRecords\n\t\t * @returns {boolean}\n\t\t */\n\t\tcheckListRecordSelected(minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\tif (typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tinactiveFieldValidation: function(field) {\n\t\t\tfield.validationEngine('hide');\n\t\t\tvar form = field.closest('form');\n\t\t\tvar invalidFields = form.data('jqv').InvalidFields;\n\t\t\tvar fields = [field.get(0)];\n\t\t\tvar validationVal = field.attr('data-validation-engine');\n\t\t\tfield.attr('data-invalid-validation-engine', validationVal ? validationVal : 'validate[]');\n\t\t\tfield.removeAttr('data-validation-engine');\n\n\t\t\tif (field.is('select') && field.hasClass('select2')) {\n\t\t\t\tlet selectElement = app.getSelect2ElementFromSelect(field);\n\t\t\t\tselectElement.validationEngine('hide');\n\t\t\t\tfields.push(selectElement.get(0));\n\t\t\t}\n\t\t\tfor (var i in fields) {\n\t\t\t\tvar response = jQuery.inArray(fields[i], invalidFields);\n\t\t\t\tif (response != '-1') {\n\t\t\t\t\tinvalidFields.splice(response, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tactiveFieldValidation: function(field) {\n\t\t\tvar validationVal = field.attr('data-invalid-validation-engine');\n\t\t\tif (typeof validationVal === 'undefined') return;\n\t\t\tfield.attr('data-validation-engine', validationVal ? validationVal : 'validate[]');\n\t\t\tfield.removeAttr('data-invalid-validation-engine');\n\t\t},\n\t\tpostMassEdit: function(massEditContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar editInstance = Vtiger_Edit_Js.getInstance();\n\t\t\tmassEditContainer.find('.selectRow').on('change', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar blockElement = element.closest('.js-form-row-container').find('.fieldValue');\n\t\t\t\tvar fieldElement = blockElement.find('[data-validation-engine],[data-invalid-validation-engine]');\n\t\t\t\tvar fieldInfo = fieldElement.data('fieldinfo');\n\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\tthisInstance.activeFieldValidation(fieldElement);\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.inactiveFieldValidation(fieldElement);\n\t\t\t\t}\n\t\t\t\tif (fieldInfo !== undefined && fieldInfo.type === 'reference') {\n\t\t\t\t\tvar mapFields = editInstance.getMappingRelatedField(\n\t\t\t\t\t\tfieldInfo.name,\n\t\t\t\t\t\teditInstance.getReferencedModuleName(blockElement),\n\t\t\t\t\t\tmassEditContainer\n\t\t\t\t\t);\n\t\t\t\t\t$.each(mapFields, function(key, value) {\n\t\t\t\t\t\tvar checkboxElement = massEditContainer.find('[id=\"selectRow' + key + '\"]');\n\t\t\t\t\t\tif (checkboxElement.length && checkboxElement.prop('disabled')) {\n\t\t\t\t\t\t\tcheckboxElement.prop('disabled', false);\n\t\t\t\t\t\t\tcheckboxElement.trigger('click');\n\t\t\t\t\t\t\tcheckboxElement.prop('disabled', true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tmassEditContainer.find('form').on('submit', function(e) {\n\t\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (!form.find('input[id^=\"selectRow\"]:checked').length) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('NONE_OF_THE_FIELD_VALUES_ARE_CHANGED_IN_MASS_EDIT'));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\t\tif (invalidFields.length == 0) {\n\t\t\t\t\t\tform.find('[name=\"saveButton\"]').prop('disabled', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.massActionSave(form, true)\n\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\tthisInstance.getListViewRecords();\n\t\t\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to go to page\n\t\t * @param {int} page\n\t\t */\n\t\tpaginationGoToPage(page) {\n\t\t\tconst self = this,\n\t\t\t\tlistViewPageDiv = self.getListViewContainer();\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\tpageNumber = listViewPageDiv.find('#pageNumber');\n\t\t\tpageNumber.val(page);\n\t\t\tlistViewPageDiv.find('.js-page-jump').val(page);\n\t\t\tself\n\t\t\t\t.getListViewRecords({\n\t\t\t\t\torderby: listViewPageDiv.find('#orderBy').val(),\n\t\t\t\t\tsortorder: listViewPageDiv.find('#sortOrder').val(),\n\t\t\t\t\tviewname: self.getCurrentCvId()\n\t\t\t\t})\n\t\t\t\t.done(function(data) {\n\t\t\t\t\taDeferred.resolve();\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register List view Page Navigation\n\t\t */\n\t\tregisterPageNavigationEvents() {\n\t\t\tconst listViewPageDiv = this.getListViewContainer();\n\t\t\tlistViewPageDiv.find('.js-next-page').on('click', e => {\n\t\t\t\tthis.jumpToNextPage(e);\n\t\t\t});\n\t\t\tlistViewPageDiv.find('.js-page--previous').on('click', () => {\n\t\t\t\tthis.jumpToPreviousPage();\n\t\t\t});\n\t\t\tlistViewPageDiv.find('.pageNumber').on('click', e => {\n\t\t\t\tthis.jumpToClickedPage($(e.currentTarget));\n\t\t\t});\n\t\t\tlistViewPageDiv.find('.js-count-number-records').on('click', () => {\n\t\t\t\tthis.updatePaginationAjax(true);\n\t\t\t});\n\t\t\tlistViewPageDiv\n\t\t\t\t.find('.js-page--jump-drop-down')\n\t\t\t\t.on('click', 'li', e => {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '.js-page-jump', e => {\n\t\t\t\t\tthis.jumpToPage(e);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Jump to next page\n\t\t * @param {jQuery} element\n\t\t */\n\t\tjumpToNextPage(element) {\n\t\t\tif ($(element.currentTarget).hasClass('disabled')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst listViewPageDiv = this.getListViewContainer();\n\t\t\tif (listViewPageDiv.find('#noOfEntries').val() === listViewPageDiv.find('#pageLimit').val()) {\n\t\t\t\tthis.paginationGoToPage(parseInt(listViewPageDiv.find('#pageNumber').val()) + 1);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Jump to previous page\n\t\t */\n\t\tjumpToPreviousPage() {\n\t\t\tlet pageNumber = this.getListViewContainer().find('#pageNumber');\n\t\t\tif (pageNumber.val() > 1) {\n\t\t\t\tthis.paginationGoToPage(parseInt(pageNumber.val()) - 1);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Jump to clicked page function\n\t\t * @param {jQuery} element\n\t\t */\n\t\tjumpToClickedPage(element) {\n\t\t\tif (element.hasClass('disabled')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.paginationGoToPage(element.data('id'));\n\t\t},\n\t\t/**\n\t\t * Jump to page function\n\t\t * @param {jQuery.Event} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tjumpToPage(e) {\n\t\t\tconst self = this,\n\t\t\t\tlistViewPageDiv = this.getListViewContainer();\n\t\t\tif (13 === e.which) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet element = $(e.currentTarget),\n\t\t\t\t\tresponse = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet currentPageElement = listViewPageDiv.find('#pageNumber'),\n\t\t\t\t\t\tcurrentPageNumber = parseInt(currentPageElement.val()),\n\t\t\t\t\t\tnewPageNumber = parseInt(element.val()),\n\t\t\t\t\t\ttotalPages = parseInt(listViewPageDiv.find('.js-page--total').text());\n\t\t\t\t\tif (newPageNumber > totalPages) {\n\t\t\t\t\t\telement.validationEngine('showPrompt', app.vtranslate('JS_PAGE_NOT_EXIST'), '', 'topLeft', true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (newPageNumber === currentPageNumber) {\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + newPageNumber,\n\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentPageElement.val(newPageNumber);\n\t\t\t\t\tself.getListViewRecords();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to get page count and total number of records in list\n\t\t */\n\t\tgetPageCount: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar pageCountParams = this.getPageJumpParams();\n\t\t\tAppConnector.request(pageCountParams)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar response;\n\t\t\t\t\tif (typeof data != 'object') {\n\t\t\t\t\t\tresponse = JSON.parse(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresponse = data;\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(response);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get Page Jump Params\n\t\t */\n\t\tgetPageJumpParams: function() {\n\t\t\tvar params = this.getDefaultParams();\n\t\t\tparams.view = 'ListAjax';\n\t\t\tparams.mode = 'getPageCount';\n\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Function to update Pagining status\n\t\t */\n\t\tupdatePagination: function(pageNumber) {\n\t\t\tpageNumber = typeof pageNumber !== 'undefined' ? pageNumber : 1;\n\t\t\tAppConnector.request(\n\t\t\t\tObject.assign(this.getDefaultParams(), {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tpage: pageNumber,\n\t\t\t\t\tmode: 'getPagination',\n\t\t\t\t\tsourceModule: jQuery('#moduleFilter').val(),\n\t\t\t\t\ttotalCount: $('.pagination').data('totalCount'),\n\t\t\t\t\tnoOfEntries: jQuery('#noOfEntries').val()\n\t\t\t\t})\n\t\t\t).done(data => {\n\t\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\t\tthis.registerPageNavigationEvents();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to update pagination page numer\n\t\t * @param {boolean} force\n\t\t */\n\t\tupdatePaginationAjax(force = false) {\n\t\t\tconst self = this,\n\t\t\t\tlistViewPageDiv = this.getListViewContainer();\n\t\t\tlet params = self.getDefaultParams(),\n\t\t\t\tcontainer = listViewPageDiv.find('.paginationDiv');\n\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\ttext: app.vtranslate('JS_GET_PAGINATION_INFO'),\n\t\t\t\ttype: 'info'\n\t\t\t});\n\t\t\tif (container.find('.js-pagination-list').data('total-count') > 0 || force) {\n\t\t\t\tparams.totalCount = -1;\n\t\t\t\tparams.view = 'Pagination';\n\t\t\t\tparams.mode = 'getPagination';\n\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\tcontainer.html(data);\n\t\t\t\t\tself.registerPageNavigationEvents();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the event for changing the custom Filter\n\t\t */\n\t\tregisterChangeCustomFilterEvent: function(event) {\n\t\t\tlet target = $(event.currentTarget);\n\t\t\tlet selectOption = '';\n\t\t\tlet selectOptionId = '';\n\t\t\tlet textOption = '';\n\t\t\tif (target.is('option')) {\n\t\t\t\tselectOption = target;\n\t\t\t} else if (event.type === 'select2:selecting') {\n\t\t\t\tselectOptionId = event.params.args.data.id;\n\t\t\t\tselectOption = $(`#filterOptionId_${selectOptionId}`);\n\t\t\t} else if (event.type === 'mouseup') {\n\t\t\t\tselectOptionId = event.currentTarget.id.split('-').pop();\n\t\t\t\tselectOption = $(`#filterOptionId_${selectOptionId}`);\n\t\t\t\tthis.getFilterSelectElement()\n\t\t\t\t\t.val(event.currentTarget.id.split('-').pop())\n\t\t\t\t\t.trigger('change');\n\t\t\t}\n\n\t\t\tif ($(`.nav-item[data-cvid='${selectOptionId}'] .nav-link`).tab('show').length === 0) {\n\t\t\t\t$('.js-filter-tab .active').removeClass('active');\n\t\t\t}\n\n\t\t\tif (typeof selectOption === 'object') {\n\t\t\t\ttextOption = selectOption.text();\n\t\t\t}\n\n\t\t\t$('#select2-customFilter-container span')\n\t\t\t\t.contents()\n\t\t\t\t.last()\n\t\t\t\t.replaceWith(textOption);\n\t\t\tapp.setMainParams('pageNumber', '1');\n\t\t\tapp.setMainParams('pageToJump', '1');\n\t\t\tapp.setMainParams('orderBy', selectOption.data('orderby'));\n\t\t\tapp.setMainParams('sortOrder', selectOption.data('sortorder'));\n\t\t\tlet urlParams = {\n\t\t\t\tviewname: selectOption.val(),\n\t\t\t\t//to make alphabetic search empty\n\t\t\t\tsearch_key: this.getAlphabetSearchField(),\n\t\t\t\tsearch_value: '',\n\t\t\t\tsearch_params: ''\n\t\t\t};\n\t\t\t//Make the select all count as empty\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t$('.pagination').data('totalCount', 0);\n\t\t\tthis.getListViewRecords(urlParams).done(() => {\n\t\t\t\tthis.breadCrumbsFilter(selectOption.text());\n\t\t\t\tthis.ListViewPostOperation();\n\t\t\t\tthis.updatePagination(1);\n\t\t\t});\n\t\t\tevent.stopPropagation();\n\t\t},\n\t\t/*\n\t\t * Function to register the event listeners for changing the custom Filter\n\t\t */\n\t\tregisterChangeCustomFilterEventListeners() {\n\t\t\tlet filterSelect = this.getFilterSelectElement();\n\t\t\tfilterSelect.on('select2:selecting', event => {\n\t\t\t\t//prevent default select2 event if it isn't keyboard event\n\t\t\t\tif (!$(':focus').length) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tfilterSelect.select2('close');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.registerChangeCustomFilterEvent(event);\n\t\t\t});\n\t\t\t// select change event must be replaced by click to avoid triggering while clicking on options' buttons\n\t\t\tfilterSelect.on('click', 'option', this.registerChangeCustomFilterEvent.bind(this));\n\t\t\t// event triggered by tab filter click\n\t\t\tthis.getFilterBlock().on('mouseup', '.select2-results__option', this.registerChangeCustomFilterEvent.bind(this));\n\t\t\tthis.getListViewTopMenuContainer()\n\t\t\t\t.find('.js-filter-tab')\n\t\t\t\t.on('click', e => {\n\t\t\t\t\tconst cvId = $(e.currentTarget).data('cvid');\n\t\t\t\t\tlet selectOption = filterSelect.find(`[value=${cvId}]`);\n\t\t\t\t\tselectOption.trigger('click');\n\t\t\t\t\t$('#select2-customFilter-container span')\n\t\t\t\t\t\t.contents()\n\t\t\t\t\t\t.last()\n\t\t\t\t\t\t.replaceWith(selectOption.text());\n\t\t\t\t\tfilterSelect.val(cvId).trigger('change');\n\t\t\t\t});\n\t\t},\n\t\tbreadCrumbsFilter: function(text) {\n\t\t\tvar breadCrumbs = jQuery('.breadcrumbsContainer');\n\t\t\tvar breadCrumbsLastSpan = breadCrumbs.last('span');\n\t\t\tvar filterExist = breadCrumbsLastSpan.find('.breadCrumbsFilter');\n\t\t\tif (filterExist.length && text != undefined) {\n\t\t\t\tfilterExist.text(' [' + app.vtranslate('JS_FILTER') + ': ' + text + ']');\n\t\t\t} else if (filterExist.length < 1) {\n\t\t\t\ttext =\n\t\t\t\t\ttext == undefined\n\t\t\t\t\t\t? this.getFilterSelectElement()\n\t\t\t\t\t\t\t\t.find(':selected')\n\t\t\t\t\t\t\t\t.text()\n\t\t\t\t\t\t: text;\n\t\t\t\tif (breadCrumbsLastSpan.hasClass('breadCrumbsFilter')) {\n\t\t\t\t\tbreadCrumbsLastSpan.text(': ' + text);\n\t\t\t\t} else {\n\t\t\t\t\tbreadCrumbs.append(\n\t\t\t\t\t\t'<small class=\"breadCrumbsFilter hideToHistory p-1 js-text-content u-text-ellipsis--no-hover\" data-js=\"text\"> [' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_FILTER') +\n\t\t\t\t\t\t\t': ' +\n\t\t\t\t\t\t\ttext +\n\t\t\t\t\t\t\t']</small>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tListViewPostOperation: function() {\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for list view main check box.\n\t\t */\n\t\tregisterMainCheckBoxClickEvent: function() {\n\t\t\tvar listViewPageDiv = this.getListViewContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tlistViewPageDiv.on('click', '#listViewEntriesMainCheckBox', function() {\n\t\t\t\tvar selectedIds = thisInstance.readSelectedIds();\n\t\t\t\tvar excludedIds = thisInstance.readExcludedIds();\n\t\t\t\tif (jQuery('#listViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tvar recordCountObj = thisInstance.getRecordsCount();\n\t\t\t\t\trecordCountObj.done(function(data) {\n\t\t\t\t\t\tjQuery('#totalRecordsCount').text(data);\n\t\t\t\t\t\tif (jQuery('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\tjQuery('#selectAllMsgDiv').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\t\texcludedIds.splice(jQuery.inArray(jQuery(element).val(), excludedIds), 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (jQuery.inArray(jQuery(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push(jQuery(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('#selectAllMsgDiv').hide();\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push(jQuery(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice(jQuery.inArray(jQuery(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.writeSelectedIds(selectedIds);\n\t\t\t\tthisInstance.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function  to register click event for list view check box.\n\t\t */\n\t\tregisterCheckBoxClickEvent: function() {\n\t\t\tvar listViewPageDiv = this.getListViewContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tlistViewPageDiv.on('click', '.listViewEntriesCheckBox', function(e) {\n\t\t\t\tvar selectedIds = thisInstance.readSelectedIds();\n\t\t\t\tvar excludedIds = thisInstance.readExcludedIds();\n\t\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice(jQuery.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if (jQuery.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice(jQuery.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisInstance.checkSelectAll();\n\t\t\t\tthisInstance.writeSelectedIds(selectedIds);\n\t\t\t\tthisInstance.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for select all.\n\t\t */\n\t\tregisterSelectAllClickEvent: function() {\n\t\t\tvar listViewPageDiv = this.getListViewContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tlistViewPageDiv.on('click', '#selectAllMsg', function() {\n\t\t\t\tjQuery('#selectAllMsgDiv').hide();\n\t\t\t\tjQuery('#deSelectAllMsgDiv').show();\n\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tthisInstance.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for deselect All.\n\t\t */\n\t\tregisterDeselectAllClickEvent: function() {\n\t\t\tvar listViewPageDiv = this.getListViewContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tlistViewPageDiv.on('click', '#deSelectAllMsg', function() {\n\t\t\t\tjQuery('#deSelectAllMsgDiv').hide();\n\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tvar excludedIds = [];\n\t\t\t\tvar selectedIds = [];\n\t\t\t\tthisInstance.writeSelectedIds(selectedIds);\n\t\t\t\tthisInstance.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for listView headers\n\t\t */\n\t\tregisterHeadersClickEvent: function() {\n\t\t\tYetiForce_ListSearch_Js.registerSearch(this.getListViewContainer(), (data) => {\n\t\t\t\tthis.getListViewRecords(data);\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * function to register the click event event for create filter\n\t\t */\n\t\tcreateFilterClickEvent: function(event) {\n\t\t\t//to close the dropdown\n\t\t\tthis.getFilterSelectElement()\n\t\t\t\t.data('select2')\n\t\t\t\t.close();\n\t\t\tnew CustomView(\n\t\t\t\t$(event.currentTarget)\n\t\t\t\t\t.find('#createFilter')\n\t\t\t\t\t.data('createurl')\n\t\t\t);\n\t\t},\n\t\tregisterFeaturedFilterClickEvent: function() {\n\t\t\tlet thisInstance = this;\n\t\t\tlet listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-favorites', function(event) {\n\t\t\t\t\tlet liElement = $(this).closest('.select2-results__option');\n\t\t\t\t\tlet currentOptionElement = thisInstance.getSelectOptionFromChosenOption(liElement);\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tcvid: currentOptionElement.attr('value'),\n\t\t\t\t\t\tmodule: 'CustomView',\n\t\t\t\t\t\taction: 'Featured',\n\t\t\t\t\t\tsorceModuleName: app.getModuleName()\n\t\t\t\t\t};\n\t\t\t\t\tif (currentOptionElement.data('featured') === 1) {\n\t\t\t\t\t\tparams.actions = 'remove';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.actions = 'add';\n\t\t\t\t\t}\n\t\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for duplicate filter\n\t\t */\n\t\tregisterDuplicateFilterClickEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-duplicate', function(event) {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tvar liElement = jQuery(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tvar currentOptionElement = thisInstance.getSelectOptionFromChosenOption(liElement);\n\t\t\t\t\tvar editUrl = currentOptionElement.data('duplicateurl');\n\t\t\t\t\tnew CustomView(editUrl);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for edit filter\n\t\t */\n\t\tregisterEditFilterClickEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-edit', function(event) {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tvar liElement = jQuery(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tvar currentOptionElement = thisInstance.getSelectOptionFromChosenOption(liElement);\n\t\t\t\t\tvar editUrl = currentOptionElement.data('editurl');\n\t\t\t\t\tnew CustomView(editUrl);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for delete filter\n\t\t */\n\t\tregisterDeleteFilterClickEvent: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tconst listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\t//used mouseup event to stop the propagation of customfilter select change event.\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-delete', event => {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tconst liElement = $(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE_FILTER')\n\t\t\t\t\t}).done(e => {\n\t\t\t\t\t\tapp.openUrlMethodPost(thisInstance.getSelectOptionFromChosenOption(liElement).data('deleteurl'));\n\t\t\t\t\t});\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for approve filter\n\t\t */\n\t\tregisterApproveFilterClickEvent: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tconst listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-approve', event => {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tconst liElement = $(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tapp.openUrlMethodPost(thisInstance.getSelectOptionFromChosenOption(liElement).data('approveurl'));\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for deny filter\n\t\t */\n\t\tregisterDenyFilterClickEvent: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tconst listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-deny', event => {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tconst liElement = $(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tapp.openUrlMethodPost(thisInstance.getSelectOptionFromChosenOption(liElement).data('denyurl'));\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to generate filter actions template\n\t\t */\n\t\tappendFilterActionsTemplate: function(liElement) {\n\t\t\tlet currentOptionElement = this.getSelectOptionFromChosenOption(liElement);\n\t\t\tlet template = $(`<span class=\"js-filter-actions o-filter-actions noWrap float-right\">\n\t\t\t\t\t<span ${\n\t\t\t\t\t\tcurrentOptionElement.data('featured') === 1\n\t\t\t\t\t\t\t? 'title=\"' + app.vtranslate('JS_REMOVE_TO_FAVORITES') + '\"'\n\t\t\t\t\t\t\t: 'title=\"' + app.vtranslate('JS_ADD_TO_FAVORITES') + '\"'\n\t\t\t\t\t} data-value=\"favorites\" data-js=\"click\"\n\t\t\t\t\t\t  class=\" mr-1 js-filter-favorites ${\n\t\t\t\t\t\t\t\tcurrentOptionElement.data('featured') === 1 ? 'fas fa-star' : 'far fa-star'\n\t\t\t\t\t\t\t}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_DUPLICATE')}\" data-value=\"duplicate\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-retweet mr-1 js-filter-duplicate ${$('#createFilter').length !== 0 ? '' : 'd-none'}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_EDIT')}\" data-value=\"edit\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-pencil-alt mr-1 js-filter-edit ${currentOptionElement.data('editable') === 1 ? '' : 'd-none'}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_DELETE')}\" data-value=\"delete\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-trash-alt mr-1 js-filter-delete ${currentOptionElement.data('deletable') === 1 ? '' : 'd-none'}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_DENY')}\" data-value=\"deny\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-exclamation-circle mr-1 js-filter-deny ${\n\t\t\t\t\t\t\t\tcurrentOptionElement.data('public') === 1 ? '' : 'd-none'\n\t\t\t\t\t\t\t}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_APPROVE')}\" data-value=\"approve\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-check mr-1 js-filter-approve ${currentOptionElement.data('pending') === 1 ? '' : 'd-none'}\"></span>\n\t\t\t\t</span>`);\n\t\t\ttemplate.appendTo(liElement.find('.js-filter__title'));\n\t\t},\n\t\t/*\n\t\t * Function to register the hover event for customview filter options\n\t\t */\n\t\tregisterCustomFilterOptionsHoverEvent: function() {\n\t\t\tvar filterBlock = this.getFilterBlock();\n\t\t\tif (filterBlock != false) {\n\t\t\t\tfilterBlock.on('mouseenter mouseleave', 'li.select2-results__option[role=\"option\"]', event => {\n\t\t\t\t\tlet liElement = $(event.currentTarget);\n\t\t\t\t\tlet liFilterImages = liElement.find('.js-filter-actions');\n\t\t\t\t\tif (liElement.hasClass('group-result')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (event.type === 'mouseenter' && liFilterImages.length === 0) {\n\t\t\t\t\t\tthis.appendFilterActionsTemplate(liElement);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the list view row click event\n\t\t */\n\t\tregisterRowClickEvent: function() {\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.listViewEntries', function(e) {\n\t\t\t\tif (\n\t\t\t\t\tjQuery(e.target)\n\t\t\t\t\t\t.closest('div')\n\t\t\t\t\t\t.hasClass('actions')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\tjQuery(e.target).is('button') ||\n\t\t\t\t\tjQuery(e.target)\n\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t.is('button')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\tjQuery(e.target)\n\t\t\t\t\t\t.closest('a')\n\t\t\t\t\t\t.hasClass('noLinkBtn')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (jQuery(e.target, jQuery(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\tif (\n\t\t\t\t\t$.contains(\n\t\t\t\t\t\tjQuery(e.currentTarget)\n\t\t\t\t\t\t\t.find('td:last-child')\n\t\t\t\t\t\t\t.get(0),\n\t\t\t\t\t\te.target\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\t$.contains(\n\t\t\t\t\t\tjQuery(e.currentTarget)\n\t\t\t\t\t\t\t.find('td:first-child')\n\t\t\t\t\t\t\t.get(0),\n\t\t\t\t\t\te.target\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\t\tvar recordUrl = elem.data('recordurl');\n\t\t\t\tif (typeof recordUrl === 'undefined') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twindow.location.href = recordUrl;\n\t\t\t});\n\t\t},\n\t\tregisterRecordEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.recordEvent', function(event) {\n\t\t\t\tvar target = $(this);\n\t\t\t\tvar recordId = target.closest('tr').data('id');\n\t\t\t\tvar params = {};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.message = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.message = target.data('content');\n\t\t\t\t}\n\t\t\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function(e) {\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request(target.data('url') + '&sourceView=List&record=' + recordId).done(function(data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (data && data.success) {\n\t\t\t\t\t\t\tif (data.result.notify) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar paginationObject = $('.pagination');\n\t\t\t\t\t\t\tvar totalCount = paginationObject.data('totalCount');\n\t\t\t\t\t\t\tif (totalCount != '') {\n\t\t\t\t\t\t\t\ttotalCount--;\n\t\t\t\t\t\t\t\tpaginationObject.data('totalCount', totalCount);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar orderBy = jQuery('#orderBy').val();\n\t\t\t\t\t\t\tvar sortOrder = jQuery('#sortOrder').val();\n\t\t\t\t\t\t\tvar pageNumber = parseInt($('#pageNumber').val());\n\t\t\t\t\t\t\tif ($('#noOfEntries').val() == 1 && pageNumber != 1) {\n\t\t\t\t\t\t\t\tpageNumber--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar urlParams = {\n\t\t\t\t\t\t\t\tviewname: data.result.viewname,\n\t\t\t\t\t\t\t\torderby: orderBy,\n\t\t\t\t\t\t\t\tsortorder: sortOrder,\n\t\t\t\t\t\t\t\tpage: pageNumber\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t$('#recordsCount').val('');\n\t\t\t\t\t\t\t$('#totalPageCount').text('');\n\t\t\t\t\t\t\tthisInstance.getListViewRecords(urlParams).done(function() {\n\t\t\t\t\t\t\t\tthisInstance.updatePagination(pageNumber);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate(data.error.message),\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t},\n\t\tregisterMassRecordsEvents: function() {\n\t\t\tconst self = this;\n\t\t\tthis.getListViewContainer().on('click', '.js-mass-record-event', function() {\n\t\t\t\tlet target = $(this);\n\t\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\t\tif (listInstance.checkListRecordSelected() != true) {\n\t\t\t\t\tif (target.data('type') === 'modal') {\n\t\t\t\t\t\tlet vars = {};\n\t\t\t\t\t\ttarget.data('url').replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {\n\t\t\t\t\t\t\tvars[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\tdata: $.extend(self.getSearchParams(), vars)\n\t\t\t\t\t\t}).done(function(modal) {\n\t\t\t\t\t\t\tapp.showModalWindow(modal);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\t\t\tparams.message = target.data('confirm');\n\t\t\t\t\t\t\tparams.title = target.html();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams.message = target.html();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function(e) {\n\t\t\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator(),\n\t\t\t\t\t\t\t\tdataParams = self.getSearchParams();\n\t\t\t\t\t\t\tdelete dataParams.view;\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\t\tdata: dataParams\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\tif (data && data.result && data.result.notify) {\n\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tself.getListViewRecords();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Update pagination row\n\t\t * @param {Array} urlParams\n\t\t */\n\t\tmassUpdatePagination(urlParams = []) {\n\t\t\tconst self = this,\n\t\t\t\tlistViewPageDiv = this.getListViewContainer();\n\t\t\tlet paginationObject = listViewPageDiv.find('.js-pagination-list'),\n\t\t\t\ttotalCount = paginationObject.data('totalCount'),\n\t\t\t\tpageNumber = parseInt(listViewPageDiv.find('#pageNumber').val()),\n\t\t\t\ttempPageNumber = pageNumber,\n\t\t\t\tselectedIds = self.readSelectedIds(false);\n\t\t\tif ('all' === selectedIds[0]) {\n\t\t\t\tpageNumber = 1;\n\t\t\t\ttotalCount = 0;\n\t\t\t} else {\n\t\t\t\tif ('' !== totalCount && 0 !== totalCount) {\n\t\t\t\t\ttotalCount = totalCount - selectedIds.length;\n\t\t\t\t}\n\t\t\t\tif (listViewPageDiv.find('#noOfEntries').val() <= 0 && pageNumber !== 1) {\n\t\t\t\t\tpageNumber--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpaginationObject.data('totalCount', totalCount);\n\t\t\tself.updatePagination(pageNumber);\n\t\t\tif (tempPageNumber !== pageNumber) {\n\t\t\t\tif (!$.isEmptyObject(urlParams)) {\n\t\t\t\t\turlParams['page'] = pageNumber;\n\t\t\t\t}\n\t\t\t\tself.getListViewRecords(urlParams);\n\t\t\t}\n\t\t\tself.writeSelectedIds([]);\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of email field\n\t\t */\n\t\tregisterEmailFieldClickEvent: function() {\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.emailField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of phone field\n\t\t */\n\t\tregisterPhoneFieldClickEvent: function() {\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.phoneField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of url field\n\t\t */\n\t\tregisterUrlFieldClickEvent: function() {\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.urlField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to inactive field for validation in a form\n\t\t * this will remove data-validation-engine attr of all the elements\n\t\t * @param Accepts form as a parameter\n\t\t */\n\t\tinactiveFieldsValidation: function(form) {\n\t\t\tvar massEditFieldList = jQuery('#massEditFieldsNameList').data('value');\n\t\t\tfor (var fieldName in massEditFieldList) {\n\t\t\t\tvar fieldInfo = massEditFieldList[fieldName];\n\n\t\t\t\tvar fieldElement = form.find('[name=\"' + fieldInfo.name + '\"]');\n\t\t\t\tif (fieldInfo.type == 'reference') {\n\t\t\t\t\t//get the element which will be shown which has \"_display\" appended to actual field name\n\t\t\t\t\tfieldElement = form.find('[name=\"' + fieldInfo.name + '_display\"]');\n\t\t\t\t} else if (fieldInfo.type == 'multipicklist' || fieldInfo.type == 'sharedOwner') {\n\t\t\t\t\tfieldElement = form.find('[name=\"' + fieldInfo.name + '[]\"]');\n\t\t\t\t}\n\n\t\t\t\t//Not all the fields will be enabled for mass edit\n\t\t\t\tif (fieldElement.length == 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar elemData = fieldElement.data();\n\n\t\t\t\t//Blank validation by default\n\t\t\t\tvar validationVal = 'validate[]';\n\t\t\t\tif ('validationEngine' in elemData) {\n\t\t\t\t\tvalidationVal = elemData.validationEngine;\n\t\t\t\t\tdelete elemData.validationEngine;\n\t\t\t\t}\n\t\t\t\tfieldElement.attr('data-invalid-validation-engine', validationVal);\n\t\t\t\tfieldElement.removeAttr('data-validation-engine');\n\t\t\t}\n\t\t},\n\t\tregisterEventForTabClick: function(form) {\n\t\t\tvar ulContainer = form.find('.massEditTabs');\n\t\t\tulContainer.on('click', 'a[data-toggle=\"tab\"]', function(e) {\n\t\t\t\tform.validationEngine('validate');\n\t\t\t\tvar invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\tif (invalidFields.length > 0) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSlimScrollMassEdit: function() {\n\t\t\tapp.showScrollBar(jQuery('div[name=\"massEditContent\"]'), { height: app.getScreenHeight(70) + 'px' });\n\t\t},\n\t\t/*\n\t\t * Function to register the submit event for mass Actions save\n\t\t */\n\t\tregisterMassActionSubmitEvent: function() {\n\t\t\t$('body').on('submit', '#massSave', e => {\n\t\t\t\tlet form = jQuery(e.currentTarget),\n\t\t\t\t\tcommentContent = form.find('#commentcontent'),\n\t\t\t\t\tcommentContentValue = commentContent.html();\n\t\t\t\tif (commentContentValue === '') {\n\t\t\t\t\tvar errorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY');\n\t\t\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcommentContent.validationEngine('hide');\n\t\t\t\tjQuery(form)\n\t\t\t\t\t.find('[name=saveButton]')\n\t\t\t\t\t.attr('disabled', 'disabled');\n\t\t\t\tthis.massActionSave(form).done(function(data) {\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t});\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tchangeCustomFilterElementView: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet filterSelectElement = this.getFilterSelectElement();\n\t\t\tif (filterSelectElement.length > 0 && filterSelectElement.is('select')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(filterSelectElement, {\n\t\t\t\t\ttemplateSelection: function(data) {\n\t\t\t\t\t\tlet resultContainer = $('<span></span>');\n\t\t\t\t\t\tresultContainer.append(\n\t\t\t\t\t\t\t$(\n\t\t\t\t\t\t\t\t$('.filterImage')\n\t\t\t\t\t\t\t\t\t.clone()\n\t\t\t\t\t\t\t\t\t.get(0)\n\t\t\t\t\t\t\t).show()\n\t\t\t\t\t\t);\n\t\t\t\t\t\tresultContainer.append(data.text);\n\t\t\t\t\t\treturn resultContainer;\n\t\t\t\t\t},\n\t\t\t\t\tcustomSortOptGroup: true,\n\t\t\t\t\ttemplateResult: function(data) {\n\t\t\t\t\t\tlet actualElement = $(data.element);\n\t\t\t\t\t\tif (actualElement.is('option')) {\n\t\t\t\t\t\t\tlet additionalText = '';\n\t\t\t\t\t\t\tif (actualElement.data('option') !== undefined) {\n\t\t\t\t\t\t\t\tadditionalText =\n\t\t\t\t\t\t\t\t\t'<div class=\"u-max-w-lg-100 u-text-ellipsis--no-hover d-inline-block small\">' +\n\t\t\t\t\t\t\t\t\tactualElement.data('option') +\n\t\t\t\t\t\t\t\t\t'</div>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t'<div class=\"js-filter__title d-flex justify-content-between\" data-js=\"appendTo\"><div class=\"u-text-ellipsis--no-hover\">' +\n\t\t\t\t\t\t\t\tactualElement.text() +\n\t\t\t\t\t\t\t\t'</div></div>' +\n\t\t\t\t\t\t\t\tadditionalText\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn actualElement.attr('label');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tescapeMarkup: function(markup) {\n\t\t\t\t\t\treturn markup;\n\t\t\t\t\t},\n\t\t\t\t\tcloseOnSelect: true\n\t\t\t\t});\n\n\t\t\t\tlet select2Instance = filterSelectElement.data('select2');\n\t\t\t\t$('.filterActionsDiv')\n\t\t\t\t\t.appendTo(select2Instance.$dropdown.find('.select2-dropdown:last'))\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.on('click', function(e) {\n\t\t\t\t\t\tthisInstance.createFilterClickEvent(e);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\ttriggerDisplayTypeEvent: function() {\n\t\t\tvar widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\t\tif (widthType) {\n\t\t\t\tvar elements = jQuery('.listViewEntriesTable').find('td,th');\n\t\t\t\telements.attr('class', widthType);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to show total records count in listview on hover\n\t\t * of pageNumber text\n\t\t */\n\t\tregisterEventForTotalRecordsCount: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('.totalNumberOfRecords').on('click', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar totalRecordsElement = jQuery('#totalCount');\n\t\t\t\tvar totalNumberOfRecords = totalRecordsElement.val();\n\t\t\t\telement.addClass('d-none');\n\t\t\t\telement.parent().progressIndicator({});\n\t\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\t\tthisInstance.getPageCount().done(function(data) {\n\t\t\t\t\t\ttotalNumberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalRecordsElement.val(totalNumberOfRecords);\n\t\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t}\n\t\t\t\telement.parent().progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowPagingInfo: function() {\n\t\t\tvar totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\tvar pageNumberElement = jQuery('.pageNumbersText');\n\t\t\tvar pageRange = pageNumberElement.text();\n\t\t\tvar newPagingInfo = pageRange + ' (' + totalNumberOfRecords + ')';\n\t\t\tvar listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\t\tif (listViewEntriesCount != 0) {\n\t\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t\t} else {\n\t\t\t\tjQuery('.pageNumbersText').html('');\n\t\t\t}\n\t\t},\n\t\tregisterUnreviewedCountEvent: function() {\n\t\t\tlet ids = [],\n\t\t\t\tlistViewContentDiv = this.getListViewContentContainer(),\n\t\t\t\tisUnreviewedActive = listViewContentDiv.find('.unreviewed').length;\n\t\t\tlistViewContentDiv.find('tr.listViewEntries').each(function() {\n\t\t\t\tvar id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\trecordsId: ids\n\t\t\t}).done(appData => {\n\t\t\t\tlet data = appData.result;\n\t\t\t\t$.each(data, function(id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\tlistViewContentDiv\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\tlistViewContentDiv\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.reflowThead();\n\t\t\t});\n\t\t},\n\t\tregisterLastRelationsEvent: function() {\n\t\t\tlet ids = [],\n\t\t\t\tlistViewContentDiv = this.getListViewContentContainer(),\n\t\t\t\tisTimeLineActive = listViewContentDiv.find('.timeLineIconList').length;\n\t\t\tlistViewContentDiv.find('tr.listViewEntries').each(function() {\n\t\t\t\tlet id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isTimeLineActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'LastRelation',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\trecordsId: ids\n\t\t\t}).done(appData => {\n\t\t\t\tvar data = appData.result;\n\t\t\t\t$.each(data, function(id, value) {\n\t\t\t\t\tif (value.type) {\n\t\t\t\t\t\tlistViewContentDiv\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .timeLineIconList')\n\t\t\t\t\t\t\t.addClass(value.color + ' userIcon-' + value.type)\n\t\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t\t.on('click', function(e) {\n\t\t\t\t\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\t\t\t\t\tvar url = element.data('url');\n\t\t\t\t\t\t\t\tapp.showModalWindow(null, url, function(data) {\n\t\t\t\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.reflowThead();\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\t$('.dropdownEntityState a').on('click', function(e) {\n\t\t\t\tvar element = $(this);\n\t\t\t\telement\n\t\t\t\t\t.closest('ul')\n\t\t\t\t\t.find('a')\n\t\t\t\t\t.removeClass('active');\n\t\t\t\telement.addClass('active');\n\t\t\t\t$('#entityState').val(element.data('value'));\n\t\t\t\tapp.setMainParams('pageNumber', '1');\n\t\t\t\tapp.setMainParams('pageToJump', '1');\n\t\t\t\t$('#recordsCount').val('');\n\t\t\t\t$('#totalPageCount').text('');\n\t\t\t\t$('.pagination').data('totalCount', 0);\n\t\t\t\t$('#dropdownEntityState')\n\t\t\t\t\t.find('.js-icon')\n\t\t\t\t\t.attr('class', element.find('.js-icon').attr('class'));\n\t\t\t\tthisInstance.getListViewRecords().done(function(data) {\n\t\t\t\t\tthisInstance.calculatePages().done(function() {\n\t\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterSummationEvent: function() {\n\t\t\tlet self = this;\n\t\t\tlet listContainer = this.getListViewContentContainer();\n\t\t\tlistContainer.on('click', '.listViewSummation button', function() {\n\t\t\t\tvar button = $(this);\n\t\t\t\tvar calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tvar params = self.getSearchParams();\n\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tparams.action = 'List';\n\t\t\t\tparams.mode = 'calculate';\n\t\t\t\tparams.fieldName = button.data('field');\n\t\t\t\tparams.calculateType = button.data('operator');\n\t\t\t\tdelete params.view;\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tlet scrollLeft = listContainer.scrollLeft();\n\t\t\t\tlet scrollTop = listContainer.scrollTop();\n\t\t\t\tAppConnector.request(params).done(response => {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tself.registerFixedThead(listContainer);\n\t\t\t\t\tlistContainer.scrollLeft(scrollLeft);\n\t\t\t\t\tlistContainer.scrollTop(scrollTop);\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function(container) {\n\t\t\tconst containerH = container.height(),\n\t\t\t\tcontainerOffsetTop = container.offset().top,\n\t\t\t\tfooterH = $('.js-footer').height(),\n\t\t\t\twindowH = $(window).height();\n\t\t\t//\tif list is bigger than window fit its height to it\n\t\t\tif (containerH + containerOffsetTop + footerH > windowH) {\n\t\t\t\tcontainer.height(windowH - (containerOffsetTop + footerH));\n\t\t\t}\n\t\t\tcontainer.find('.js-fixed-thead').floatThead('destroy');\n\t\t\tcontainer.siblings('.floatThead-container').remove();\n\t\t\tapp.showNewScrollbarTopBottomRight(container);\n\t\t\tapp.registerMiddleClickScroll(container);\n\t\t},\n\t\tregisterFixedThead(container) {\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tthis.listFloatThead = container.find('.js-fixed-thead');\n\t\t\t\tthis.listFloatThead.floatThead('destroy');\n\t\t\t\tthis.listFloatThead.floatThead({\n\t\t\t\t\tscrollContainer: function() {\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.listFloatThead.floatThead('reflow');\n\t\t\t}\n\t\t},\n\t\tgetFloatTheadContainer(container = this.getListViewContentContainer()) {\n\t\t\tif (this.listFloatThead === false) {\n\t\t\t\tthis.listFloatThead = container.find('.js-fixed-thead');\n\t\t\t}\n\t\t\treturn this.listFloatThead;\n\t\t},\n\t\treflowThead() {\n\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tthis.getFloatTheadContainer().floatThead('reflow');\n\t\t\t}\n\t\t},\n\t\tregisterMassActionsBtnEvents() {\n\t\t\tthis.getListViewContainer().on('click', '.js-mass-action', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst url = $(e.currentTarget).data('url');\n\t\t\t\tif (typeof url != 'undefined') {\n\t\t\t\t\tif (this.checkListRecordSelected() !== true) {\n\t\t\t\t\t\tVtiger_List_Js.triggerMassAction(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.noRecordSelectedAlert();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\tregisterMassActionsBtnMergeEvents() {\n\t\t\tthis.getListViewContainer().on('click', '.js-mass-action--merge', e => {\n\t\t\t\tlet url = $(e.target).data('url');\n\t\t\t\tif (typeof url !== 'undefined') {\n\t\t\t\t\tif (this.checkListRecordSelected(2) !== true) {\n\t\t\t\t\t\tVtiger_List_Js.triggerMassAction(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.noRecordSelectedAlert('JS_SELECT_ATLEAST_TWO_RECORD_FOR_MERGING');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterMassActionModalEvents() {\n\t\t\tapp.event.on('MassEditModal.AfterLoad', (data, container) => {\n\t\t\t\tif (container.hasClass('js-add-comment__container') || container.hasClass('js-send-sms__container')) {\n\t\t\t\t\tnew App.Fields.Text.Completions(container.find('.js-completions'));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register desktop events\n\t\t * @param {jQuery} listViewContainer\n\t\t */\n\t\tregisterDesktopEvents(listViewContainer) {\n\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tthis.registerListScroll(listViewContainer);\n\t\t\t\tthis.registerFixedThead(listViewContainer);\n\t\t\t}\n\t\t},\n\t\tregisterPostLoadDesktopEvents(listViewContainer) {\n\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tnew PerfectScrollbar(listViewContainer[0]).destroy();\n\t\t\t\tlistViewContainer.find('.js-fixed-thead').floatThead('destroy');\n\t\t\t\tlistViewContainer.siblings('.floatThead-container').remove();\n\t\t\t\tnew PerfectScrollbar(listViewContainer[0]);\n\t\t\t\tthis.registerFixedThead(listViewContainer);\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tthis.registerRowClickEvent();\n\t\t\tthis.registerPageNavigationEvents();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t\tthis.registerRecordEvents();\n\t\t\tthis.registerMassRecordsEvents();\n\t\t\tthis.registerMassActionsBtnMergeEvents();\n\t\t\tthis.registerHeadersClickEvent();\n\t\t\tthis.registerMassActionSubmitEvent();\n\t\t\tthis.changeCustomFilterElementView();\n\t\t\tthis.registerFeaturedFilterClickEvent();\n\t\t\tthis.registerChangeCustomFilterEventListeners();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerDuplicateFilterClickEvent();\n\t\t\tthis.registerEditFilterClickEvent();\n\t\t\tthis.registerDeleteFilterClickEvent();\n\t\t\tthis.registerApproveFilterClickEvent();\n\t\t\tthis.registerDenyFilterClickEvent();\n\t\t\tthis.registerCustomFilterOptionsHoverEvent();\n\t\t\tthis.registerEmailFieldClickEvent();\n\t\t\tthis.registerPhoneFieldClickEvent();\n\t\t\tthis.registerMassActionModalEvents();\n\t\t\tthis.registerMassActionsBtnEvents();\n\t\t\t//this.triggerDisplayTypeEvent();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tthis.registerUrlFieldClickEvent();\n\t\t\tthis.registerEventForTotalRecordsCount();\n\t\t\tthis.registerSummationEvent();\n\t\t\t//Just reset all the checkboxes on page load: added for chrome issue.\n\t\t\tvar listViewContainer = this.getListViewContentContainer();\n\t\t\tlistViewContainer.find('#listViewEntriesMainCheckBox,.listViewEntriesCheckBox').prop('checked', false);\n\t\t\tthis.getListSearchInstance(false);\n\t\t\tthis.registerDesktopEvents(listViewContainer);\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerLastRelationsEvent();\n\t\t\tVtiger_Index_Js.registerMailButtons(listViewContainer);\n\t\t},\n\t\t/**\n\t\t * Function that executes after the mass delete action\n\t\t */\n\t\tpostMassDeleteRecords: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tapp.hideModalWindow();\n\t\t\tlistInstance.getListViewRecords().done(function(data) {\n\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t//listInstance.triggerDisplayTypeEvent();\n\t\t\t\tjQuery('#deSelectAllMsg').trigger('click');\n\t\t\t\tlistInstance.calculatePages().done(function() {\n\t\t\t\t\tlistInstance.updatePagination();\n\t\t\t\t});\n\t\t\t\taDeferred.resolve();\n\t\t\t});\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","Vtiger_List_Js","listInstance","module","app","getModuleName","parentModule","getParentModuleName","moduleClassName","fallbackClassName","instance","window","params","getInstance","validationResult","checkListRecordSelected","postData","getSearchParams","parent","view","cvid","getCurrentCvId","extend","request","done","response","showModalWindow","data","find","on","e","validationEngine","val","result","hideModalWindow","fail","err","noRecordSelectedAlert","massActionUrl","triggerMassAction","thisInstance","progressIndicatorElement","progressIndicator","getRelatedModulesContainer","actionParams","mode","callback","validationEngineOptions","onValidationComplete","form","valid","transferOwnershipSave","selectElement","getRelatedModuleContainer","Fields","Picklist","changeSelectElementView","openUrlMethodPost","showMessage","text","vtranslate","type","transferOwner","relatedModules","$","getListViewRecords","clearList","success","notify","callBackFunction","beforeShowCb","css","event","trigger","length","inactiveFieldsValidation","error","showPnotify","massEditUrl","selectedCount","getSelectedRecordCount","container","massEditForm","registerEventForTabClick","editInstance","Vtiger_Edit_Js","registerBasicEvents","postMassEdit","registerSlimScrollMassEdit","width","count","cvId","selectedIdObj","undefined","excludedIdsCount","totalRecords","exportActionUrl","viewname","selected_ids","excluded_ids","page","entityState","getListSearchInstance","search_params","search_value","search_key","location","href","hide","listViewContainer","getListViewContentContainer","checkList","selected","getSelectedRecordsParams","fromview","param","selectedParams","url","mapView","OpenStreetMap_Map_Js","setSelectedParams","registerModalView","reviewUrl","message","title","showConfirmationBox","searchValue","deleteMessage","errorLog","events","noEventsListSearch","listSearchInstance","getListViewContainer","YetiForce_ListSearch_Js","listViewTopMenuContainer","listViewContentContainer","filterBlock","filterSelectElement","getFilterSelectElement","is","$dropdown","getDefaultParams","readSelectedIds","readExcludedIds","getViewName","sortorder","getAlphabetSearchValue","JSON","stringify","getListSearchParams","getAlphabetSearchField","operator","urlParams","aDeferred","Deferred","listViewContentsContainer","loadingMessage","defaultParams","requestPjax","html","calculatePages","resolve","notifyPostAjaxReady","postLoadListViewRecordsEvents","massUpdatePagination","textStatus","errorThrown","reject","promise","self","registerPostLoadDesktopEvents","showSelect2ElementView","searchInstance","registerMailButtons","showHorizontalTopScrollBar","selectedIds","each","index","element","prop","closest","addClass","show","excludedIds","inArray","removeClass","checkSelectAll","registerUnreviewedCountEvent","registerLastRelationsEvent","totalPageNumber","totalRecordCount","pageLimit","pageCount","Math","ceil","Vtiger_Helper_Js","isMassEdit","massEditPreSaveEvent","Event","massEditPreSave","isDefaultPrevented","removeAttr","checkbox","attr","serializeFormData","state","recordCountVal","parse","liElement","id","idArr","split","currentOptionId","decode","selectedIdsElement","selectedIdsDataAttr","selectedIdsElementDataAttributes","writeSelectedIds","exlcudedIdsElement","excludedIdsDataAttr","excludedIdsElementDataAttributes","writeExcludedIds","Array","isArray","minNumberOfRecords","field","invalidFields","InvalidFields","fields","get","validationVal","hasClass","getSelect2ElementFromSelect","push","i","splice","massEditContainer","currentTarget","blockElement","fieldElement","fieldInfo","activeFieldValidation","inactiveFieldValidation","mapFields","getMappingRelatedField","name","getReferencedModuleName","key","value","checkboxElement","preventDefault","massActionSave","removeData","formAlignmentAfterValidation","listViewPageDiv","pageNumber","jumpToNextPage","jumpToPreviousPage","jumpToClickedPage","updatePaginationAjax","stopImmediatePropagation","jumpToPage","paginationGoToPage","parseInt","which","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","currentPageElement","currentPageNumber","newPageNumber","totalPages","pageCountParams","getPageJumpParams","Object","assign","registerPageNavigationEvents","force","totalCount","target","selectOption","selectOptionId","textOption","args","pop","tab","contents","last","replaceWith","setMainParams","breadCrumbsFilter","ListViewPostOperation","updatePagination","stopPropagation","filterSelect","select2","registerChangeCustomFilterEvent","bind","getFilterBlock","getListViewTopMenuContainer","breadCrumbs","breadCrumbsLastSpan","filterExist","append","recordCountObj","getRecordsCount","elem","registerSearch","close","CustomView","listViewFilterBlock","currentOptionElement","getSelectOptionFromChosenOption","actions","reload","editUrl","template","appendTo","liFilterImages","appendFilterActionsTemplate","listViewContentDiv","contains","recordUrl","recordId","paginationObject","orderBy","sortOrder","vars","replace","m","modal","dataParams","tempPageNumber","isEmptyObject","massEditFieldList","fieldName","elemData","ulContainer","showScrollBar","height","getScreenHeight","commentContent","commentContentValue","errorMsg","resultContainer","clone","actualElement","additionalText","markup","select2Instance","createFilterClickEvent","widthType","cacheGet","elements","totalRecordsElement","totalNumberOfRecords","getPageCount","showPagingInfo","pageNumberElement","pageRange","newPagingInfo","listViewEntriesCount","ids","isUnreviewedActive","appData","a","reflowThead","isTimeLineActive","color","listContainer","button","calculateValue","progress","action","calculateType","hidePopover","scrollLeft","scrollTop","registerFixedThead","containerH","containerOffsetTop","offset","top","footerH","windowH","floatThead","siblings","remove","showNewScrollbarTopBottomRight","registerMiddleClickScroll","Quasar","plugins","Platform","desktop","listFloatThead","getFloatTheadContainer","App","Text","Completions","registerListScroll","PerfectScrollbar","destroy","registerRowClickEvent","registerMainCheckBoxClickEvent","registerCheckBoxClickEvent","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerRecordEvents","registerMassRecordsEvents","registerMassActionsBtnMergeEvents","registerHeadersClickEvent","registerMassActionSubmitEvent","changeCustomFilterElementView","registerFeaturedFilterClickEvent","registerChangeCustomFilterEventListeners","registerChangeEntityStateEvent","registerDuplicateFilterClickEvent","registerEditFilterClickEvent","registerDeleteFilterClickEvent","registerApproveFilterClickEvent","registerDenyFilterClickEvent","registerCustomFilterOptionsHoverEvent","registerEmailFieldClickEvent","registerPhoneFieldClickEvent","registerMassActionModalEvents","registerMassActionsBtnEvents","registerUrlFieldClickEvent","registerEventForTotalRecordsCount","registerSummationEvent","registerDesktopEvents"],"mappings":"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"}