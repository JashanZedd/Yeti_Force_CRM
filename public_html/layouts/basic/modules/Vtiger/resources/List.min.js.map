{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_List_Js',\n\t{\n\t\tlistInstance: false,\n\t\tgetRelatedModulesContainer: false,\n\t\tmassEditPreSave: 'Vtiger.MassEdit.PreSave',\n\t\tgetInstance: function() {\n\t\t\tif (Vtiger_List_Js.listInstance === false) {\n\t\t\t\tlet module = app.getModuleName(),\n\t\t\t\t\tparentModule = app.getParentModuleName(),\n\t\t\t\t\tmoduleClassName,\n\t\t\t\t\tfallbackClassName,\n\t\t\t\t\tinstance;\n\t\t\t\tif (parentModule == 'Settings') {\n\t\t\t\t\tmoduleClassName = parentModule + '_' + module + '_List_Js';\n\t\t\t\t\tif (typeof window[moduleClassName] === 'undefined') {\n\t\t\t\t\t\tmoduleClassName = module + '_List_Js';\n\t\t\t\t\t}\n\t\t\t\t\tfallbackClassName = parentModule + '_Vtiger_List_Js';\n\t\t\t\t\tif (typeof window[fallbackClassName] === 'undefined') {\n\t\t\t\t\t\tfallbackClassName = 'Vtiger_List_Js';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmoduleClassName = module + '_List_Js';\n\t\t\t\t\tfallbackClassName = 'Vtiger_List_Js';\n\t\t\t\t}\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new window[fallbackClassName]();\n\t\t\t\t}\n\t\t\t\tVtiger_List_Js.listInstance = instance;\n\t\t\t\treturn instance;\n\t\t\t}\n\t\t\treturn Vtiger_List_Js.listInstance;\n\t\t},\n\t\t/*\n\t\t * function to trigger send Email\n\t\t * @params: send email url , module name.\n\t\t */\n\t\ttriggerSendEmail: function(params) {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult !== true) {\n\t\t\t\tvar postData = listInstance.getSearchParams();\n\t\t\t\tdelete postData.parent;\n\t\t\t\tpostData.view = 'SendMailModal';\n\t\t\t\tpostData.cvid = listInstance.getCurrentCvId();\n\t\t\t\tif (params) {\n\t\t\t\t\tjQuery.extend(postData, params);\n\t\t\t\t}\n\t\t\t\tAppConnector.request(postData).done(function(response) {\n\t\t\t\t\tapp.showModalWindow(response, function(data) {\n\t\t\t\t\t\tdata.find('[name=\"saveButton\"]').on('click', function(e) {\n\t\t\t\t\t\t\tif (data.find('form').validationEngine('validate')) {\n\t\t\t\t\t\t\t\tjQuery.extend(postData, {\n\t\t\t\t\t\t\t\t\tfield: data.find('#field').val(),\n\t\t\t\t\t\t\t\t\ttemplate: data.find('#template').val(),\n\t\t\t\t\t\t\t\t\taction: 'Mail',\n\t\t\t\t\t\t\t\t\tmode: 'sendMails'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tdelete postData.view;\n\t\t\t\t\t\t\t\tAppConnector.request(postData)\n\t\t\t\t\t\t\t\t\t.done(function(response) {\n\t\t\t\t\t\t\t\t\t\tif (response.result == true) {\n\t\t\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.fail(function(data, err) {\n\t\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * function to trigger Send Sms\n\t\t * @params: send email url , module name.\n\t\t */\n\t\ttriggerSendSms: function(massActionUrl, module) {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tVtiger_List_Js.triggerMassAction(massActionUrl);\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerTransferOwnership: function(massActionUrl) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\t\tvar actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tAppConnector.request(actionParams).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tvar callback = function(data) {\n\t\t\t\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\t\t\t\tparams.onValidationComplete = function(form, valid) {\n\t\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdata.find('#changeOwner').validationEngine(app.validationEngineOptions);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showModalWindow(data, function(data) {\n\t\t\t\t\t\t\tvar selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerQuickExportToExcel: function(module) {\n\t\t\tconst massActionUrl = 'index.php';\n\t\t\tconst listInstance = Vtiger_List_Js.getInstance();\n\t\t\tif (listInstance.checkListRecordSelected() != true) {\n\t\t\t\tconst progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tlet postData = {\n\t\t\t\t\tmodule: module,\n\t\t\t\t\taction: 'QuickExport',\n\t\t\t\t\tmode: 'exportToExcel'\n\t\t\t\t};\n\t\t\t\t$.extend(postData, listInstance.getSearchParams());\n\t\t\t\tapp.openUrlMethodPost(massActionUrl, postData);\n\t\t\t\tVtiger_Helper_Js.showMessage({ text: app.vtranslate('JS_STARTED_GENERATING_FILE'), type: 'info' });\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttransferOwnershipSave: function(form) {\n\t\t\tconst listInstance = Vtiger_List_Js.getInstance();\n\t\t\tlet transferOwner = jQuery('#transferOwnerId').val(),\n\t\t\t\trelatedModules = jQuery('#related_modules').val(),\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'TransferOwnership',\n\t\t\t\t\ttransferOwnerId: transferOwner,\n\t\t\t\t\trelated_modules: relatedModules\n\t\t\t\t};\n\t\t\tparams = $.extend(params, listInstance.getSearchParams());\n\t\t\tdelete params.view;\n\t\t\tAppConnector.request(params).done(response => {\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\tif (response.result.success) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showMessage(response.result.notify);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to get the related module container\n\t\t */\n\t\tgetRelatedModuleContainer: function() {\n\t\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t\t}\n\t\t\treturn this.getRelatedModulesContainer;\n\t\t},\n\t\ttriggerMassAction: function(massActionUrl, callBackFunction, beforeShowCb, css) {\n\t\t\tif (typeof beforeShowCb === 'undefined') {\n\t\t\t\tbeforeShowCb = function() {\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (typeof beforeShowCb == 'object') {\n\t\t\t\tcss = beforeShowCb;\n\t\t\t\tbeforeShowCb = function() {\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tvar actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: listInstance.getSearchParams()\n\t\t\t\t};\n\t\t\t\tif (typeof css === 'undefined') {\n\t\t\t\t\tcss = {};\n\t\t\t\t}\n\t\t\t\tcss = jQuery.extend({ 'text-align': 'left' }, css);\n\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar result = beforeShowCb(data);\n\t\t\t\t\t\t\tif (!result) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\t\tapp.event.trigger('MassEditModal.AfterLoad', data, massActionUrl);\n\t\t\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t\t\t\t//listInstance.triggerDisplayTypeEvent();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcss\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t//register inactive fields for massedit modal\n\t\t\t\t\t\t\tif ($('#massEditContainer').length) {\n\t\t\t\t\t\t\t\tlistInstance.inactiveFieldsValidation($('#massEditContainer').find('form'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: err,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerMassEdit: function(massEditUrl) {\n\t\t\tvar selectedCount = this.getSelectedRecordCount();\n\t\t\tif (selectedCount > jQuery('#listMaxEntriesMassEdit').val()) {\n\t\t\t\tvar params = {\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_MASS_EDIT_LIMIT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tVtiger_List_Js.triggerMassAction(\n\t\t\t\tmassEditUrl,\n\t\t\t\tfunction(container) {\n\t\t\t\t\tvar massEditForm = container.find('#massEdit');\n\t\t\t\t\tmassEditForm.validationEngine(app.validationEngineOptions);\n\t\t\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\t\t\tlistInstance.registerEventForTabClick(massEditForm);\n\t\t\t\t\tvar editInstance = Vtiger_Edit_Js.getInstance();\n\t\t\t\t\teditInstance.registerBasicEvents(massEditForm);\n\t\t\t\t\tlistInstance.postMassEdit(container);\n\t\t\t\t\tlistInstance.registerSlimScrollMassEdit();\n\t\t\t\t},\n\t\t\t\t{ width: '65%' }\n\t\t\t);\n\t\t},\n\t\tgetSelectedRecordCount: function() {\n\t\t\tvar count;\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar cvId = listInstance.getCurrentCvId();\n\t\t\tvar selectedIdObj = jQuery('#selectedIds').data(cvId + 'selectedIds');\n\t\t\tif (selectedIdObj != undefined) {\n\t\t\t\tif (selectedIdObj != 'all') {\n\t\t\t\t\tcount = selectedIdObj.length;\n\t\t\t\t} else {\n\t\t\t\t\tvar excludedIdsCount = jQuery('#excludedIds').data(cvId + 'Excludedids').length;\n\t\t\t\t\tvar totalRecords = jQuery('#recordsCount').val();\n\t\t\t\t\tcount = totalRecords - excludedIdsCount;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\t\t/*\n\t\t * function to trigger export action\n\t\t * returns UI\n\t\t */\n\t\ttriggerExportAction: function(exportActionUrl) {\n\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\tlet params = listInstance.getSearchParams();\n\t\t\tif ('undefined' === typeof params.viewname)\n\t\t\t\texportActionUrl +=\n\t\t\t\t\t'&selected_ids=' + params.selected_ids + '&excluded_ids=' + params.excluded_ids + '&page=' + params.page;\n\t\t\telse\n\t\t\t\texportActionUrl +=\n\t\t\t\t\t'&selected_ids=' +\n\t\t\t\t\tparams.selected_ids +\n\t\t\t\t\t'&excluded_ids=' +\n\t\t\t\t\tparams.excluded_ids +\n\t\t\t\t\t'&viewname=' +\n\t\t\t\t\tparams.viewname +\n\t\t\t\t\t'&page=' +\n\t\t\t\t\tparams.page +\n\t\t\t\t\t'&entityState=' +\n\t\t\t\t\tparams.entityState;\n\t\t\tif (listInstance.getListSearchInstance()) {\n\t\t\t\texportActionUrl += '&search_params=' + params.search_params;\n\t\t\t\tif (typeof params.search_value !== 'undefined' && params.search_value.length > 0) {\n\t\t\t\t\texportActionUrl += '&search_key=' + params.search_key;\n\t\t\t\t\texportActionUrl += '&search_value=' + params.search_value;\n\t\t\t\t\texportActionUrl += '&operator=s';\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.location.href = exportActionUrl;\n\t\t},\n\t\t/**\n\t\t * Function to reload list\n\t\t */\n\t\tclearList: function() {\n\t\t\tjQuery('#deSelectAllMsg').trigger('click');\n\t\t\tjQuery('#selectAllMsgDiv').hide();\n\t\t},\n\t\ttriggerListSearch: function() {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar listViewContainer = listInstance.getListViewContentContainer();\n\t\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').trigger('click');\n\t\t},\n\t\tgetSelectedRecordsParams: function(checkList) {\n\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\tif (checkList == false || listInstance.checkListRecordSelected() !== true) {\n\t\t\t\treturn listInstance.getSearchParams();\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\ttriggerGenerateRecords: function() {\n\t\t\tvar selected = Vtiger_List_Js.getSelectedRecordsParams();\n\t\t\tif (selected === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tselected.view = 'GenerateModal';\n\t\t\tselected.fromview = 'List';\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.showModalWindow(null, 'index.php?' + jQuery.param(selected), function() {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowMap: function() {\n\t\t\tvar selectedParams = Vtiger_List_Js.getSelectedRecordsParams(false);\n\t\t\tvar url = 'index.php?module=OpenStreetMap&view=MapModal&srcModule=' + app.getModuleName();\n\t\t\tapp.showModalWindow(null, url, function(container) {\n\t\t\t\tvar mapView = new OpenStreetMap_Map_Js();\n\t\t\t\tmapView.setSelectedParams(selectedParams);\n\t\t\t\tmapView.registerModalView(container);\n\t\t\t});\n\t\t},\n\t\ttriggerReviewChanges: function(reviewUrl) {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tvar message = app.vtranslate('JS_MASS_REVIEWING_CHANGES_CONFIRMATION');\n\t\t\t\tvar title = '<i class=\"fa fa-check-circle\"></i> ' + app.vtranslate('JS_LBL_REVIEW_CHANGES');\n\t\t\t\tVtiger_Helper_Js.showConfirmationBox({ message: message, title: title })\n\t\t\t\t\t.done(function(e) {\n\t\t\t\t\t\tlet params = listInstance.getSearchParams();\n\t\t\t\t\t\tvar url =\n\t\t\t\t\t\t\treviewUrl +\n\t\t\t\t\t\t\t'&viewname=' +\n\t\t\t\t\t\t\tparams.viewname +\n\t\t\t\t\t\t\t'&selected_ids=' +\n\t\t\t\t\t\t\tparams.selected_ids +\n\t\t\t\t\t\t\t'&excluded_ids=' +\n\t\t\t\t\t\t\tparams.excluded_ids +\n\t\t\t\t\t\t\t'&entityState=' +\n\t\t\t\t\t\t\tparams.entityState;\n\t\t\t\t\t\tif (listInstance.getListSearchInstance()) {\n\t\t\t\t\t\t\turl += '&search_params=' + params.search_params;\n\t\t\t\t\t\t\tif (typeof searchValue !== 'undefined' && params.search_value.length > 0) {\n\t\t\t\t\t\t\t\turl += '&search_key=' + params.search_key;\n\t\t\t\t\t\t\t\turl += '&search_value=' + params.search_value;\n\t\t\t\t\t\t\t\turl += '&operator=s';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar deleteMessage = app.vtranslate('JS_LOADING_PLEASE_WAIT');\n\t\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t\tmessage: deleteMessage,\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request(url)\n\t\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t//contains the List View element.\n\t\tlistViewContainer: false,\n\t\t//Contains list view top menu element\n\t\tlistViewTopMenuContainer: false,\n\t\t//Contains list view content element\n\t\tlistViewContentContainer: false,\n\t\t//Contains filter Block Element\n\t\tfilterBlock: false,\n\t\tfilterSelectElement: false,\n\t\tlistSearchInstance: false,\n\t\tnoEventsListSearch: true,\n\t\t//Contains float table head\n\t\tlistFloatThead: false,\n\t\tgetListSearchInstance: function(events) {\n\t\t\tif (events != undefined) {\n\t\t\t\tthis.noEventsListSearch = events;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tthis.listSearchInstance == false &&\n\t\t\t\t(this.getListViewContainer().find('.searchField').length ||\n\t\t\t\t\tthis.getListViewContainer().find('.picklistSearchField').length)\n\t\t\t) {\n\t\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(\n\t\t\t\t\tthis.getListViewContainer(),\n\t\t\t\t\tthis.noEventsListSearch\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn this.listSearchInstance;\n\t\t},\n\t\tgetListViewContainer: function() {\n\t\t\tif (this.listViewContainer == false) {\n\t\t\t\tthis.listViewContainer = jQuery('div.listViewPageDiv');\n\t\t\t}\n\t\t\treturn this.listViewContainer;\n\t\t},\n\t\tgetListViewTopMenuContainer: function() {\n\t\t\tif (this.listViewTopMenuContainer == false) {\n\t\t\t\tthis.listViewTopMenuContainer = jQuery('.listViewTopMenuDiv');\n\t\t\t}\n\t\t\treturn this.listViewTopMenuContainer;\n\t\t},\n\t\tgetListViewContentContainer: function() {\n\t\t\tif (this.listViewContentContainer == false) {\n\t\t\t\tthis.listViewContentContainer = jQuery('.listViewContentDiv');\n\t\t\t}\n\t\t\treturn this.listViewContentContainer;\n\t\t},\n\t\tgetFilterBlock: function() {\n\t\t\tif (this.filterBlock == false) {\n\t\t\t\tvar filterSelectElement = this.getFilterSelectElement();\n\t\t\t\tif (filterSelectElement.length <= 0) {\n\t\t\t\t\tthis.filterBlock = jQuery();\n\t\t\t\t} else if (filterSelectElement.is('select')) {\n\t\t\t\t\tthis.filterBlock = filterSelectElement.data('select2').$dropdown;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.filterBlock;\n\t\t},\n\t\tgetFilterSelectElement: function() {\n\t\t\tif (this.filterSelectElement == false) {\n\t\t\t\tthis.filterSelectElement = jQuery('#customFilter');\n\t\t\t}\n\t\t\treturn this.filterSelectElement;\n\t\t},\n\t\tgetSearchParams() {\n\t\t\tlet params = this.getDefaultParams();\n\t\t\tif (this.checkListRecordSelected() !== true) {\n\t\t\t\tparams.selected_ids = this.readSelectedIds(true);\n\t\t\t\tparams.excluded_ids = this.readExcludedIds(true);\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tgetDefaultParams: function() {\n\t\t\tlet params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tpage: $('#pageNumber').val(),\n\t\t\t\tview: app.getViewName(),\n\t\t\t\tviewname: this.getCurrentCvId(),\n\t\t\t\torderby: $('#orderBy').val(),\n\t\t\t\tentityState: $('#entityState').val()\n\t\t\t};\n\t\t\tif($('#sortOrder').length){\n\t\t\t\tparams.sortorder = $('#sortOrder').val();\n\t\t\t}\n\t\t\tif (app.getParentModuleName()) {\n\t\t\t\tparams.parent = app.getParentModuleName();\n\t\t\t}\n\t\t\tvar listSearchInstance = this.getListSearchInstance();\n\t\t\tif (listSearchInstance !== false) {\n\t\t\t\tvar searchValue = listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tparams.search_params = JSON.stringify(listSearchInstance.getListSearchParams(true));\n\t\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\t\tparams.search_key = listSearchInstance.getAlphabetSearchField();\n\t\t\t\t\tparams.search_value = searchValue;\n\t\t\t\t\tparams.operator = 's';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\n\t\t/*\n\t\t * Function which will give you all the list view params\n\t\t */\n\t\tgetListViewRecords: function(urlParams) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tif (typeof urlParams === 'undefined') {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewContentsContainer = $('#listViewContents');\n\t\t\tvar loadingMessage = jQuery('.listViewLoadingMsg').text();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tmessage: loadingMessage,\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar defaultParams = this.getDefaultParams();\n\t\t\turlParams = $.extend(defaultParams, urlParams);\n\t\t\tAppConnector.requestPjax(urlParams)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlistViewContentsContainer.html(data);\n\t\t\t\t\tapp.event.trigger('RecordListView.AfterLoad', data, thisInstance);\n\t\t\t\t\tthisInstance.calculatePages().done(function(data) {\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.postLoadListViewRecordsEvents(listViewContentsContainer);\n\t\t\t\t\tthisInstance.massUpdatePagination(urlParams);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tpostLoadListViewRecordsEvents: function(container) {\n\t\t\tconst self = this;\n\t\t\tthis.registerPostLoadDesktopEvents(container);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('select.select2'));\n\t\t\tApp.Fields.Picklist.changeSelectElementView(container);\n\t\t\tvar searchInstance = self.getListSearchInstance();\n\t\t\tif (searchInstance !== false) {\n\t\t\t\tsearchInstance.registerBasicEvents();\n\t\t\t}\n\t\t\tVtiger_Index_Js.registerMailButtons(container);\n\t\t\t//self.triggerDisplayTypeEvent();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tvar selectedIds = self.readSelectedIds();\n\t\t\tif (selectedIds != '') {\n\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t$('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t});\n\t\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t\tvar excludedIds = self.readExcludedIds();\n\t\t\t\t\tif (excludedIds != '') {\n\t\t\t\t\t\t$('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t\t\t$('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\t\tif ($.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\t\t$(element)\n\t\t\t\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\tif ($.inArray($(element).val(), selectedIds) != -1) {\n\t\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t}\n\t\t\tself.registerUnreviewedCountEvent();\n\t\t\tself.registerLastRelationsEvent();\n\t\t},\n\t\t/**\n\t\t * Function to calculate number of pages\n\t\t */\n\t\tcalculatePages: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar element = jQuery('#totalPageCount');\n\t\t\tvar totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\tvar totalRecordCount = jQuery('#totalCount').val();\n\t\t\t\tif (totalRecordCount != '') {\n\t\t\t\t\tvar pageLimit = jQuery('#pageLimit').val();\n\t\t\t\t\tif (pageLimit == '0') pageLimit = 1;\n\t\t\t\t\tlet pageCount = Math.ceil(totalRecordCount / pageLimit);\n\t\t\t\t\tif (pageCount == 0) {\n\t\t\t\t\t\tpageCount = 1;\n\t\t\t\t\t}\n\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\treturn aDeferred.promise();\n\t\t\t\t}\n\t\t\t\taDeferred.resolve();\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to return alerts if no records selected.\n\t\t */\n\t\tnoRecordSelectedAlert: function(text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\treturn Vtiger_Helper_Js.showPnotify({ text: app.vtranslate(text) });\n\t\t},\n\t\tmassActionSave: function(form, isMassEdit) {\n\t\t\tif (typeof isMassEdit === 'undefined') {\n\t\t\t\tisMassEdit = false;\n\t\t\t}\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (isMassEdit) {\n\t\t\t\tvar massEditPreSaveEvent = jQuery.Event(Vtiger_List_Js.massEditPreSave);\n\t\t\t\tform.trigger(massEditPreSaveEvent);\n\t\t\t\tif (massEditPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\tform.find('[name=\"saveButton\"]').removeAttr('disabled');\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t\treturn aDeferred.promise();\n\t\t\t\t}\n\t\t\t\tform.find('[id^=\"selectRow\"]').each(function(index, checkbox) {\n\t\t\t\t\tcheckbox = jQuery(checkbox);\n\t\t\t\t\tif (!checkbox.prop('checked')) {\n\t\t\t\t\t\tcheckbox\n\t\t\t\t\t\t\t.closest('.js-form-row-container')\n\t\t\t\t\t\t\t.find('.fieldValue [name]')\n\t\t\t\t\t\t\t.each(function(index, element) {\n\t\t\t\t\t\t\t\telement = jQuery(element);\n\t\t\t\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar massActionUrl = form.serializeFormData();\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(massActionUrl)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tif (!data.result) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_MASS_EDIT_NOT_SUCCESSFUL'),\n\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tcheckSelectAll: function() {\n\t\t\tvar state = true;\n\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\tif (jQuery(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (state == true) {\n\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t} else {\n\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar recordCountVal = jQuery('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tvar count = '';\n\t\t\t\tvar params = this.getDefaultParams();\n\t\t\t\tparams.view = 'ListAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\tvar response = JSON.parse(data);\n\t\t\t\t\tjQuery('#recordsCount').val(response['result']['count']);\n\t\t\t\t\tcount = response['result']['count'];\n\t\t\t\t\taDeferred.resolve(count);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetSelectOptionFromChosenOption: function(liElement) {\n\t\t\tvar id = liElement.attr('id');\n\t\t\tvar idArr = id.split('-');\n\t\t\tvar currentOptionId = '';\n\t\t\tif (idArr.length > 0) {\n\t\t\t\tcurrentOptionId = idArr[idArr.length - 1];\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn jQuery('#filterOptionId_' + currentOptionId);\n\t\t},\n\t\treadSelectedIds: function(decode) {\n\t\t\tvar cvId = this.getCurrentCvId();\n\t\t\tvar selectedIdsElement = jQuery('#selectedIds');\n\t\t\tvar selectedIdsDataAttr = cvId + 'selectedIds';\n\t\t\tvar selectedIdsElementDataAttributes = selectedIdsElement.data();\n\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\tvar selectedIds = [];\n\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t} else {\n\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true) {\n\t\t\t\tif (typeof selectedIds == 'object') {\n\t\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\treadExcludedIds: function(decode) {\n\t\t\tvar cvId = this.getCurrentCvId();\n\t\t\tvar exlcudedIdsElement = jQuery('#excludedIds');\n\t\t\tvar excludedIdsDataAttr = cvId + 'Excludedids';\n\t\t\tvar excludedIdsElementDataAttributes = exlcudedIdsElement.data();\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tvar excludedIds = [];\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true) {\n\t\t\t\tif (typeof excludedIds == 'object') {\n\t\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteSelectedIds: function(selectedIds) {\n\t\t\tvar cvId = this.getCurrentCvId();\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\tjQuery('#selectedIds').data(cvId + 'selectedIds', selectedIds);\n\t\t},\n\t\twriteExcludedIds: function(excludedIds) {\n\t\t\tvar cvId = this.getCurrentCvId();\n\t\t\tjQuery('#excludedIds').data(cvId + 'Excludedids', excludedIds);\n\t\t},\n\t\tgetCurrentCvId: function() {\n\t\t\treturn jQuery('#customFilter')\n\t\t\t\t.find('option:selected')\n\t\t\t\t.data('id');\n\t\t},\n\t\tgetAlphabetSearchField: function() {\n\t\t\treturn jQuery('#alphabetSearchKey').val();\n\t\t},\n\t\tgetAlphabetSearchValue: function() {\n\t\t\treturn jQuery('#alphabetValue').val();\n\t\t},\n\t\t/**\n\t\t * Function to check whether atleast minNumberOfRecords is checked\n\t\t * @param {number} minNumberOfRecords\n\t\t * @returns {boolean}\n\t\t */\n\t\tcheckListRecordSelected(minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\tif (typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tinactiveFieldValidation: function(field) {\n\t\t\tfield.validationEngine('hide');\n\t\t\tvar form = field.closest('form');\n\t\t\tvar invalidFields = form.data('jqv').InvalidFields;\n\t\t\tvar fields = [field.get(0)];\n\t\t\tvar validationVal = field.attr('data-validation-engine');\n\t\t\tfield.attr('data-invalid-validation-engine', validationVal ? validationVal : 'validate[]');\n\t\t\tfield.removeAttr('data-validation-engine');\n\n\t\t\tif (field.is('select') && field.hasClass('select2')) {\n\t\t\t\tlet selectElement = app.getSelect2ElementFromSelect(field);\n\t\t\t\tselectElement.validationEngine('hide');\n\t\t\t\tfields.push(selectElement.get(0));\n\t\t\t}\n\t\t\tfor (var i in fields) {\n\t\t\t\tvar response = jQuery.inArray(fields[i], invalidFields);\n\t\t\t\tif (response != '-1') {\n\t\t\t\t\tinvalidFields.splice(response, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tactiveFieldValidation: function(field) {\n\t\t\tvar validationVal = field.attr('data-invalid-validation-engine');\n\t\t\tif (typeof validationVal === 'undefined') return;\n\t\t\tfield.attr('data-validation-engine', validationVal ? validationVal : 'validate[]');\n\t\t\tfield.removeAttr('data-invalid-validation-engine');\n\t\t},\n\t\tpostMassEdit: function(massEditContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar editInstance = Vtiger_Edit_Js.getInstance();\n\t\t\tmassEditContainer.find('.selectRow').on('change', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar blockElement = element.closest('.js-form-row-container').find('.fieldValue');\n\t\t\t\tvar fieldElement = blockElement.find('[data-validation-engine],[data-invalid-validation-engine]');\n\t\t\t\tvar fieldInfo = fieldElement.data('fieldinfo');\n\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\tthisInstance.activeFieldValidation(fieldElement);\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.inactiveFieldValidation(fieldElement);\n\t\t\t\t}\n\t\t\t\tif (fieldInfo !== undefined && fieldInfo.type === 'reference') {\n\t\t\t\t\tvar mapFields = editInstance.getMappingRelatedField(\n\t\t\t\t\t\tfieldInfo.name,\n\t\t\t\t\t\teditInstance.getReferencedModuleName(blockElement),\n\t\t\t\t\t\tmassEditContainer\n\t\t\t\t\t);\n\t\t\t\t\t$.each(mapFields, function(key, value) {\n\t\t\t\t\t\tvar checkboxElement = massEditContainer.find('[id=\"selectRow' + key + '\"]');\n\t\t\t\t\t\tif (checkboxElement.length && checkboxElement.prop('disabled')) {\n\t\t\t\t\t\t\tcheckboxElement.prop('disabled', false);\n\t\t\t\t\t\t\tcheckboxElement.trigger('click');\n\t\t\t\t\t\t\tcheckboxElement.prop('disabled', true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tmassEditContainer.find('form').on('submit', function(e) {\n\t\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tif (!form.find('input[id^=\"selectRow\"]:checked').length) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('NONE_OF_THE_FIELD_VALUES_ARE_CHANGED_IN_MASS_EDIT'));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\t\tif (invalidFields.length == 0) {\n\t\t\t\t\t\tform.find('[name=\"saveButton\"]').prop('disabled', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.massActionSave(form, true)\n\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\tthisInstance.getListViewRecords();\n\t\t\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to go to page\n\t\t * @param {int} page\n\t\t */\n\t\tpaginationGoToPage(page) {\n\t\t\tconst self = this,\n\t\t\t\tlistViewPageDiv = self.getListViewContainer();\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\tpageNumber = listViewPageDiv.find('#pageNumber');\n\t\t\tpageNumber.val(page);\n\t\t\tlistViewPageDiv.find('.js-page-jump').val(page);\n\t\t\tself\n\t\t\t\t.getListViewRecords({\n\t\t\t\t\torderby: listViewPageDiv.find('#orderBy').val(),\n\t\t\t\t\tsortorder: listViewPageDiv.find('#sortOrder').val(),\n\t\t\t\t\tviewname: self.getCurrentCvId()\n\t\t\t\t})\n\t\t\t\t.done(function(data) {\n\t\t\t\t\taDeferred.resolve();\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register List view Page Navigation\n\t\t */\n\t\tregisterPageNavigationEvents() {\n\t\t\tconst listViewPageDiv = this.getListViewContainer();\n\t\t\tlistViewPageDiv.find('.js-next-page').on('click', e => {\n\t\t\t\tthis.jumpToNextPage(e);\n\t\t\t});\n\t\t\tlistViewPageDiv.find('.js-page--previous').on('click', () => {\n\t\t\t\tthis.jumpToPreviousPage();\n\t\t\t});\n\t\t\tlistViewPageDiv.find('.pageNumber').on('click', e => {\n\t\t\t\tthis.jumpToClickedPage($(e.currentTarget));\n\t\t\t});\n\t\t\tlistViewPageDiv.find('.js-count-number-records').on('click', () => {\n\t\t\t\tthis.updatePaginationAjax(true);\n\t\t\t});\n\t\t\tlistViewPageDiv\n\t\t\t\t.find('.js-page--jump-drop-down')\n\t\t\t\t.on('click', 'li', e => {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '.js-page-jump', e => {\n\t\t\t\t\tthis.jumpToPage(e);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Jump to next page\n\t\t * @param {jQuery} element\n\t\t */\n\t\tjumpToNextPage(element) {\n\t\t\tif ($(element.currentTarget).hasClass('disabled')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst listViewPageDiv = this.getListViewContainer();\n\t\t\tif (listViewPageDiv.find('#noOfEntries').val() === listViewPageDiv.find('#pageLimit').val()) {\n\t\t\t\tthis.paginationGoToPage(parseInt(listViewPageDiv.find('#pageNumber').val()) + 1);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Jump to previous page\n\t\t */\n\t\tjumpToPreviousPage() {\n\t\t\tlet pageNumber = this.getListViewContainer().find('#pageNumber');\n\t\t\tif (pageNumber.val() > 1) {\n\t\t\t\tthis.paginationGoToPage(parseInt(pageNumber.val()) - 1);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Jump to clicked page function\n\t\t * @param {jQuery} element\n\t\t */\n\t\tjumpToClickedPage(element) {\n\t\t\tif (element.hasClass('disabled')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.paginationGoToPage(element.data('id'));\n\t\t},\n\t\t/**\n\t\t * Jump to page function\n\t\t * @param {jQuery.Event} e\n\t\t * @returns {boolean}\n\t\t */\n\t\tjumpToPage(e) {\n\t\t\tconst self = this,\n\t\t\t\tlistViewPageDiv = this.getListViewContainer();\n\t\t\tif (13 === e.which) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet element = $(e.currentTarget),\n\t\t\t\t\tresponse = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet currentPageElement = listViewPageDiv.find('#pageNumber'),\n\t\t\t\t\t\tcurrentPageNumber = parseInt(currentPageElement.val()),\n\t\t\t\t\t\tnewPageNumber = parseInt(element.val()),\n\t\t\t\t\t\ttotalPages = parseInt(listViewPageDiv.find('.js-page--total').text());\n\t\t\t\t\tif (newPageNumber > totalPages) {\n\t\t\t\t\t\telement.validationEngine('showPrompt', app.vtranslate('JS_PAGE_NOT_EXIST'), '', 'topLeft', true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (newPageNumber === currentPageNumber) {\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + newPageNumber,\n\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentPageElement.val(newPageNumber);\n\t\t\t\t\tself.getListViewRecords();\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to get page count and total number of records in list\n\t\t */\n\t\tgetPageCount: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar pageCountParams = this.getPageJumpParams();\n\t\t\tAppConnector.request(pageCountParams)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar response;\n\t\t\t\t\tif (typeof data != 'object') {\n\t\t\t\t\t\tresponse = JSON.parse(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresponse = data;\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(response);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get Page Jump Params\n\t\t */\n\t\tgetPageJumpParams: function() {\n\t\t\tvar params = this.getDefaultParams();\n\t\t\tparams.view = 'ListAjax';\n\t\t\tparams.mode = 'getPageCount';\n\n\t\t\treturn params;\n\t\t},\n\t\t/**\n\t\t * Function to update Pagining status\n\t\t */\n\t\tupdatePagination: function(pageNumber) {\n\t\t\tpageNumber = typeof pageNumber !== 'undefined' ? pageNumber : 1;\n\t\t\tAppConnector.request(\n\t\t\t\tObject.assign(this.getDefaultParams(), {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tpage: pageNumber,\n\t\t\t\t\tmode: 'getPagination',\n\t\t\t\t\tsourceModule: jQuery('#moduleFilter').val(),\n\t\t\t\t\ttotalCount: $('.pagination').data('totalCount'),\n\t\t\t\t\tnoOfEntries: jQuery('#noOfEntries').val()\n\t\t\t\t})\n\t\t\t).done(data => {\n\t\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\t\tthis.registerPageNavigationEvents();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to update pagination page numer\n\t\t * @param {boolean} force\n\t\t */\n\t\tupdatePaginationAjax(force = false) {\n\t\t\tconst self = this,\n\t\t\t\tlistViewPageDiv = this.getListViewContainer();\n\t\t\tlet params = self.getDefaultParams(),\n\t\t\t\tcontainer = listViewPageDiv.find('.paginationDiv');\n\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\ttext: app.vtranslate('JS_GET_PAGINATION_INFO'),\n\t\t\t\ttype: 'info'\n\t\t\t});\n\t\t\tif (container.find('.js-pagination-list').data('total-count') > 0 || force) {\n\t\t\t\tparams.totalCount = -1;\n\t\t\t\tparams.view = 'Pagination';\n\t\t\t\tparams.mode = 'getPagination';\n\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\tcontainer.html(data);\n\t\t\t\t\tself.registerPageNavigationEvents();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the event for changing the custom Filter\n\t\t */\n\t\tregisterChangeCustomFilterEvent: function(event) {\n\t\t\tlet target = $(event.currentTarget);\n\t\t\tlet selectOption = '';\n\t\t\tlet selectOptionId = '';\n\t\t\tlet textOption = '';\n\t\t\tif (target.is('option')) {\n\t\t\t\tselectOption = target;\n\t\t\t} else if (event.type === 'select2:selecting') {\n\t\t\t\tselectOptionId = event.params.args.data.id;\n\t\t\t\tselectOption = $(`#filterOptionId_${selectOptionId}`);\n\t\t\t} else if (event.type === 'mouseup') {\n\t\t\t\tselectOptionId = event.currentTarget.id.split('-').pop();\n\t\t\t\tselectOption = $(`#filterOptionId_${selectOptionId}`);\n\t\t\t\tthis.getFilterSelectElement()\n\t\t\t\t\t.val(event.currentTarget.id.split('-').pop())\n\t\t\t\t\t.trigger('change');\n\t\t\t}\n\n\t\t\tif ($(`.nav-item[data-cvid='${selectOptionId}'] .nav-link`).tab('show').length === 0) {\n\t\t\t\t$('.js-filter-tab .active').removeClass('active');\n\t\t\t}\n\n\t\t\tif (typeof selectOption === 'object') {\n\t\t\t\ttextOption = selectOption.text();\n\t\t\t}\n\n\t\t\t$('#select2-customFilter-container span')\n\t\t\t\t.contents()\n\t\t\t\t.last()\n\t\t\t\t.replaceWith(textOption);\n\t\t\tapp.setMainParams('pageNumber', '1');\n\t\t\tapp.setMainParams('pageToJump', '1');\n\t\t\tapp.setMainParams('orderBy', selectOption.data('orderby'));\n\t\t\tapp.setMainParams('sortOrder', selectOption.data('sortorder'));\n\t\t\tlet urlParams = {\n\t\t\t\tviewname: selectOption.val(),\n\t\t\t\t//to make alphabetic search empty\n\t\t\t\tsearch_key: this.getAlphabetSearchField(),\n\t\t\t\tsearch_value: '',\n\t\t\t\tsearch_params: ''\n\t\t\t};\n\t\t\t//Make the select all count as empty\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t$('.pagination').data('totalCount', 0);\n\t\t\tthis.getListViewRecords(urlParams).done(() => {\n\t\t\t\tthis.breadCrumbsFilter(selectOption.text());\n\t\t\t\tthis.ListViewPostOperation();\n\t\t\t\tthis.updatePagination(1);\n\t\t\t});\n\t\t\tevent.stopPropagation();\n\t\t},\n\t\t/*\n\t\t * Function to register the event listeners for changing the custom Filter\n\t\t */\n\t\tregisterChangeCustomFilterEventListeners() {\n\t\t\tlet filterSelect = this.getFilterSelectElement();\n\t\t\tfilterSelect.on('select2:selecting', event => {\n\t\t\t\t//prevent default select2 event if it isn't keyboard event\n\t\t\t\tif (!$(':focus').length) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tfilterSelect.select2('close');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthis.registerChangeCustomFilterEvent(event);\n\t\t\t});\n\t\t\t// select change event must be replaced by click to avoid triggering while clicking on options' buttons\n\t\t\tfilterSelect.on('click', 'option', this.registerChangeCustomFilterEvent.bind(this));\n\t\t\t// event triggered by tab filter click\n\t\t\tthis.getFilterBlock().on('mouseup', '.select2-results__option', this.registerChangeCustomFilterEvent.bind(this));\n\t\t\tthis.getListViewTopMenuContainer()\n\t\t\t\t.find('.js-filter-tab')\n\t\t\t\t.on('click', e => {\n\t\t\t\t\tconst cvId = $(e.currentTarget).data('cvid');\n\t\t\t\t\tlet selectOption = filterSelect.find(`[value=${cvId}]`);\n\t\t\t\t\tselectOption.trigger('click');\n\t\t\t\t\t$('#select2-customFilter-container span')\n\t\t\t\t\t\t.contents()\n\t\t\t\t\t\t.last()\n\t\t\t\t\t\t.replaceWith(selectOption.text());\n\t\t\t\t\tfilterSelect.val(cvId).trigger('change');\n\t\t\t\t});\n\t\t},\n\t\tbreadCrumbsFilter: function(text) {\n\t\t\tvar breadCrumbs = jQuery('.breadcrumbsContainer');\n\t\t\tvar breadCrumbsLastSpan = breadCrumbs.last('span');\n\t\t\tvar filterExist = breadCrumbsLastSpan.find('.breadCrumbsFilter');\n\t\t\tif (filterExist.length && text != undefined) {\n\t\t\t\tfilterExist.text(' [' + app.vtranslate('JS_FILTER') + ': ' + text + ']');\n\t\t\t} else if (filterExist.length < 1) {\n\t\t\t\ttext =\n\t\t\t\t\ttext == undefined\n\t\t\t\t\t\t? this.getFilterSelectElement()\n\t\t\t\t\t\t\t\t.find(':selected')\n\t\t\t\t\t\t\t\t.text()\n\t\t\t\t\t\t: text;\n\t\t\t\tif (breadCrumbsLastSpan.hasClass('breadCrumbsFilter')) {\n\t\t\t\t\tbreadCrumbsLastSpan.text(': ' + text);\n\t\t\t\t} else {\n\t\t\t\t\tbreadCrumbs.append(\n\t\t\t\t\t\t'<small class=\"breadCrumbsFilter hideToHistory p-1 js-text-content u-text-ellipsis--no-hover\" data-js=\"text\"> [' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_FILTER') +\n\t\t\t\t\t\t\t': ' +\n\t\t\t\t\t\t\ttext +\n\t\t\t\t\t\t\t']</small>'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tListViewPostOperation: function() {\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for list view main check box.\n\t\t */\n\t\tregisterMainCheckBoxClickEvent: function() {\n\t\t\tvar listViewPageDiv = this.getListViewContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tlistViewPageDiv.on('click', '#listViewEntriesMainCheckBox', function() {\n\t\t\t\tvar selectedIds = thisInstance.readSelectedIds();\n\t\t\t\tvar excludedIds = thisInstance.readExcludedIds();\n\t\t\t\tif (jQuery('#listViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tvar recordCountObj = thisInstance.getRecordsCount();\n\t\t\t\t\trecordCountObj.done(function(data) {\n\t\t\t\t\t\tjQuery('#totalRecordsCount').text(data);\n\t\t\t\t\t\tif (jQuery('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\tjQuery('#selectAllMsgDiv').show();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\t\texcludedIds.splice(jQuery.inArray(jQuery(element).val(), excludedIds), 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (jQuery.inArray(jQuery(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push(jQuery(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('#selectAllMsgDiv').hide();\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push(jQuery(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice(jQuery.inArray(jQuery(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.writeSelectedIds(selectedIds);\n\t\t\t\tthisInstance.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function  to register click event for list view check box.\n\t\t */\n\t\tregisterCheckBoxClickEvent: function() {\n\t\t\tvar listViewPageDiv = this.getListViewContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tlistViewPageDiv.on('click', '.listViewEntriesCheckBox', function(e) {\n\t\t\t\tvar selectedIds = thisInstance.readSelectedIds();\n\t\t\t\tvar excludedIds = thisInstance.readExcludedIds();\n\t\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice(jQuery.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if (jQuery.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice(jQuery.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisInstance.checkSelectAll();\n\t\t\t\tthisInstance.writeSelectedIds(selectedIds);\n\t\t\t\tthisInstance.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for select all.\n\t\t */\n\t\tregisterSelectAllClickEvent: function() {\n\t\t\tvar listViewPageDiv = this.getListViewContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tlistViewPageDiv.on('click', '#selectAllMsg', function() {\n\t\t\t\tjQuery('#selectAllMsgDiv').hide();\n\t\t\t\tjQuery('#deSelectAllMsgDiv').show();\n\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tthisInstance.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for deselect All.\n\t\t */\n\t\tregisterDeselectAllClickEvent: function() {\n\t\t\tvar listViewPageDiv = this.getListViewContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tlistViewPageDiv.on('click', '#deSelectAllMsg', function() {\n\t\t\t\tjQuery('#deSelectAllMsgDiv').hide();\n\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tvar excludedIds = [];\n\t\t\t\tvar selectedIds = [];\n\t\t\t\tthisInstance.writeSelectedIds(selectedIds);\n\t\t\t\tthisInstance.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for listView headers\n\t\t */\n\t\tregisterHeadersClickEvent: function() {\n\t\t\tYetiForce_ListSearch_Js.registerSearch(this.getListViewContainer(), (data) => {\n\t\t\t\tthis.getListViewRecords(data);\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * function to register the click event event for create filter\n\t\t */\n\t\tcreateFilterClickEvent: function(event) {\n\t\t\t//to close the dropdown\n\t\t\tthis.getFilterSelectElement()\n\t\t\t\t.data('select2')\n\t\t\t\t.close();\n\t\t\tnew CustomView(\n\t\t\t\t$(event.currentTarget)\n\t\t\t\t\t.find('#createFilter')\n\t\t\t\t\t.data('createurl')\n\t\t\t);\n\t\t},\n\t\tregisterFeaturedFilterClickEvent: function() {\n\t\t\tlet thisInstance = this;\n\t\t\tlet listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-favorites', function(event) {\n\t\t\t\t\tlet liElement = $(this).closest('.select2-results__option');\n\t\t\t\t\tlet currentOptionElement = thisInstance.getSelectOptionFromChosenOption(liElement);\n\t\t\t\t\tlet params = {\n\t\t\t\t\t\tcvid: currentOptionElement.attr('value'),\n\t\t\t\t\t\tmodule: 'CustomView',\n\t\t\t\t\t\taction: 'Featured',\n\t\t\t\t\t\tsorceModuleName: app.getModuleName()\n\t\t\t\t\t};\n\t\t\t\t\tif (currentOptionElement.data('featured') === 1) {\n\t\t\t\t\t\tparams.actions = 'remove';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.actions = 'add';\n\t\t\t\t\t}\n\t\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for duplicate filter\n\t\t */\n\t\tregisterDuplicateFilterClickEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-duplicate', function(event) {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tvar liElement = jQuery(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tvar currentOptionElement = thisInstance.getSelectOptionFromChosenOption(liElement);\n\t\t\t\t\tvar editUrl = currentOptionElement.data('duplicateurl');\n\t\t\t\t\tnew CustomView(editUrl);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for edit filter\n\t\t */\n\t\tregisterEditFilterClickEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-edit', function(event) {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tvar liElement = jQuery(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tvar currentOptionElement = thisInstance.getSelectOptionFromChosenOption(liElement);\n\t\t\t\t\tvar editUrl = currentOptionElement.data('editurl');\n\t\t\t\t\tnew CustomView(editUrl);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for delete filter\n\t\t */\n\t\tregisterDeleteFilterClickEvent: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tconst listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\t//used mouseup event to stop the propagation of customfilter select change event.\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-delete', event => {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tconst liElement = $(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE_FILTER')\n\t\t\t\t\t}).done(e => {\n\t\t\t\t\t\tapp.openUrlMethodPost(thisInstance.getSelectOptionFromChosenOption(liElement).data('deleteurl'));\n\t\t\t\t\t});\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for approve filter\n\t\t */\n\t\tregisterApproveFilterClickEvent: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tconst listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-approve', event => {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tconst liElement = $(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tapp.openUrlMethodPost(thisInstance.getSelectOptionFromChosenOption(liElement).data('approveurl'));\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for deny filter\n\t\t */\n\t\tregisterDenyFilterClickEvent: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tconst listViewFilterBlock = this.getFilterBlock();\n\t\t\tif (listViewFilterBlock != false) {\n\t\t\t\tlistViewFilterBlock.on('mouseup', '.js-filter-deny', event => {\n\t\t\t\t\t//to close the dropdown\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getFilterSelectElement()\n\t\t\t\t\t\t.data('select2')\n\t\t\t\t\t\t.close();\n\t\t\t\t\tconst liElement = $(event.currentTarget).closest('.select2-results__option');\n\t\t\t\t\tapp.openUrlMethodPost(thisInstance.getSelectOptionFromChosenOption(liElement).data('denyurl'));\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to generate filter actions template\n\t\t */\n\t\tappendFilterActionsTemplate: function(liElement) {\n\t\t\tlet currentOptionElement = this.getSelectOptionFromChosenOption(liElement);\n\t\t\tlet template = $(`<span class=\"js-filter-actions o-filter-actions noWrap float-right\">\n\t\t\t\t\t<span ${\n\t\t\t\t\t\tcurrentOptionElement.data('featured') === 1\n\t\t\t\t\t\t\t? 'title=\"' + app.vtranslate('JS_REMOVE_TO_FAVORITES') + '\"'\n\t\t\t\t\t\t\t: 'title=\"' + app.vtranslate('JS_ADD_TO_FAVORITES') + '\"'\n\t\t\t\t\t} data-value=\"favorites\" data-js=\"click\"\n\t\t\t\t\t\t  class=\" mr-1 js-filter-favorites ${\n\t\t\t\t\t\t\t\tcurrentOptionElement.data('featured') === 1 ? 'fas fa-star' : 'far fa-star'\n\t\t\t\t\t\t\t}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_DUPLICATE')}\" data-value=\"duplicate\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-retweet mr-1 js-filter-duplicate ${$('#createFilter').length !== 0 ? '' : 'd-none'}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_EDIT')}\" data-value=\"edit\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-pencil-alt mr-1 js-filter-edit ${currentOptionElement.data('editable') === 1 ? '' : 'd-none'}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_DELETE')}\" data-value=\"delete\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-trash-alt mr-1 js-filter-delete ${currentOptionElement.data('deletable') === 1 ? '' : 'd-none'}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_DENY')}\" data-value=\"deny\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-exclamation-circle mr-1 js-filter-deny ${\n\t\t\t\t\t\t\t\tcurrentOptionElement.data('public') === 1 ? '' : 'd-none'\n\t\t\t\t\t\t\t}\"></span>\n\t\t\t\t\t<span title=\"${app.vtranslate('JS_APPROVE')}\" data-value=\"approve\" data-js=\"click\"\n\t\t\t\t\t\t  class=\"fas fa-check mr-1 js-filter-approve ${currentOptionElement.data('pending') === 1 ? '' : 'd-none'}\"></span>\n\t\t\t\t</span>`);\n\t\t\ttemplate.appendTo(liElement.find('.js-filter__title'));\n\t\t},\n\t\t/*\n\t\t * Function to register the hover event for customview filter options\n\t\t */\n\t\tregisterCustomFilterOptionsHoverEvent: function() {\n\t\t\tvar filterBlock = this.getFilterBlock();\n\t\t\tif (filterBlock != false) {\n\t\t\t\tfilterBlock.on('mouseenter mouseleave', 'li.select2-results__option[role=\"option\"]', event => {\n\t\t\t\t\tlet liElement = $(event.currentTarget);\n\t\t\t\t\tlet liFilterImages = liElement.find('.js-filter-actions');\n\t\t\t\t\tif (liElement.hasClass('group-result')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (event.type === 'mouseenter' && liFilterImages.length === 0) {\n\t\t\t\t\t\tthis.appendFilterActionsTemplate(liElement);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the list view row click event\n\t\t */\n\t\tregisterRowClickEvent: function() {\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.listViewEntries', function(e) {\n\t\t\t\tif (\n\t\t\t\t\tjQuery(e.target)\n\t\t\t\t\t\t.closest('div')\n\t\t\t\t\t\t.hasClass('actions')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\tjQuery(e.target).is('button') ||\n\t\t\t\t\tjQuery(e.target)\n\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t.is('button')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\tjQuery(e.target)\n\t\t\t\t\t\t.closest('a')\n\t\t\t\t\t\t.hasClass('noLinkBtn')\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (jQuery(e.target, jQuery(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\tif (\n\t\t\t\t\t$.contains(\n\t\t\t\t\t\tjQuery(e.currentTarget)\n\t\t\t\t\t\t\t.find('td:last-child')\n\t\t\t\t\t\t\t.get(0),\n\t\t\t\t\t\te.target\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tif (\n\t\t\t\t\t$.contains(\n\t\t\t\t\t\tjQuery(e.currentTarget)\n\t\t\t\t\t\t\t.find('td:first-child')\n\t\t\t\t\t\t\t.get(0),\n\t\t\t\t\t\te.target\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t\treturn;\n\t\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\t\tvar recordUrl = elem.data('recordurl');\n\t\t\t\tif (typeof recordUrl === 'undefined') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\twindow.location.href = recordUrl;\n\t\t\t});\n\t\t},\n\t\tregisterRecordEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.recordEvent', function(event) {\n\t\t\t\tvar target = $(this);\n\t\t\t\tvar recordId = target.closest('tr').data('id');\n\t\t\t\tvar params = {};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.message = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.message = target.data('content');\n\t\t\t\t}\n\t\t\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function(e) {\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request(target.data('url') + '&sourceView=List&record=' + recordId).done(function(data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (data && data.success) {\n\t\t\t\t\t\t\tif (data.result.notify) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar paginationObject = $('.pagination');\n\t\t\t\t\t\t\tvar totalCount = paginationObject.data('totalCount');\n\t\t\t\t\t\t\tif (totalCount != '') {\n\t\t\t\t\t\t\t\ttotalCount--;\n\t\t\t\t\t\t\t\tpaginationObject.data('totalCount', totalCount);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar orderBy = jQuery('#orderBy').val();\n\t\t\t\t\t\t\tvar sortOrder = jQuery('#sortOrder').val();\n\t\t\t\t\t\t\tvar pageNumber = parseInt($('#pageNumber').val());\n\t\t\t\t\t\t\tif ($('#noOfEntries').val() == 1 && pageNumber != 1) {\n\t\t\t\t\t\t\t\tpageNumber--;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar urlParams = {\n\t\t\t\t\t\t\t\tviewname: data.result.viewname,\n\t\t\t\t\t\t\t\torderby: orderBy,\n\t\t\t\t\t\t\t\tsortorder: sortOrder,\n\t\t\t\t\t\t\t\tpage: pageNumber\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t$('#recordsCount').val('');\n\t\t\t\t\t\t\t$('#totalPageCount').text('');\n\t\t\t\t\t\t\tthisInstance.getListViewRecords(urlParams).done(function() {\n\t\t\t\t\t\t\t\tthisInstance.updatePagination(pageNumber);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate(data.error.message),\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t},\n\t\tregisterMassRecordsEvents: function() {\n\t\t\tconst self = this;\n\t\t\tthis.getListViewContainer().on('click', '.js-mass-record-event', function() {\n\t\t\t\tlet target = $(this);\n\t\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\t\tif (listInstance.checkListRecordSelected() != true) {\n\t\t\t\t\tif (target.data('type') === 'modal') {\n\t\t\t\t\t\tlet vars = {};\n\t\t\t\t\t\ttarget.data('url').replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {\n\t\t\t\t\t\t\tvars[key] = value;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\tdata: $.extend(self.getSearchParams(), vars)\n\t\t\t\t\t\t}).done(function(modal) {\n\t\t\t\t\t\t\tapp.showModalWindow(modal);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\t\t\tparams.message = target.data('confirm');\n\t\t\t\t\t\t\tparams.title = target.html();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams.message = target.html();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function(e) {\n\t\t\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator(),\n\t\t\t\t\t\t\t\tdataParams = self.getSearchParams();\n\t\t\t\t\t\t\tdelete dataParams.view;\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\t\turl: target.data('url'),\n\t\t\t\t\t\t\t\tdata: dataParams\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\tif (data && data.result && data.result.notify) {\n\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tself.getListViewRecords();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Update pagination row\n\t\t * @param {Array} urlParams\n\t\t */\n\t\tmassUpdatePagination(urlParams = []) {\n\t\t\tconst self = this,\n\t\t\t\tlistViewPageDiv = this.getListViewContainer();\n\t\t\tlet paginationObject = listViewPageDiv.find('.js-pagination-list'),\n\t\t\t\ttotalCount = paginationObject.data('totalCount'),\n\t\t\t\tpageNumber = parseInt(listViewPageDiv.find('#pageNumber').val()),\n\t\t\t\ttempPageNumber = pageNumber,\n\t\t\t\tselectedIds = self.readSelectedIds(false);\n\t\t\tif ('all' === selectedIds[0]) {\n\t\t\t\tpageNumber = 1;\n\t\t\t\ttotalCount = 0;\n\t\t\t} else {\n\t\t\t\tif ('' !== totalCount && 0 !== totalCount) {\n\t\t\t\t\ttotalCount = totalCount - selectedIds.length;\n\t\t\t\t}\n\t\t\t\tif (listViewPageDiv.find('#noOfEntries').val() <= 0 && pageNumber !== 1) {\n\t\t\t\t\tpageNumber--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpaginationObject.data('totalCount', totalCount);\n\t\t\tself.updatePagination(pageNumber);\n\t\t\tif (tempPageNumber !== pageNumber) {\n\t\t\t\tif (!$.isEmptyObject(urlParams)) {\n\t\t\t\t\turlParams['page'] = pageNumber;\n\t\t\t\t}\n\t\t\t\tself.getListViewRecords(urlParams);\n\t\t\t}\n\t\t\tself.writeSelectedIds([]);\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of email field\n\t\t */\n\t\tregisterEmailFieldClickEvent: function() {\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.emailField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of phone field\n\t\t */\n\t\tregisterPhoneFieldClickEvent: function() {\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.phoneField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of url field\n\t\t */\n\t\tregisterUrlFieldClickEvent: function() {\n\t\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\t\tlistViewContentDiv.on('click', '.urlField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to inactive field for validation in a form\n\t\t * this will remove data-validation-engine attr of all the elements\n\t\t * @param Accepts form as a parameter\n\t\t */\n\t\tinactiveFieldsValidation: function(form) {\n\t\t\tvar massEditFieldList = jQuery('#massEditFieldsNameList').data('value');\n\t\t\tfor (var fieldName in massEditFieldList) {\n\t\t\t\tvar fieldInfo = massEditFieldList[fieldName];\n\n\t\t\t\tvar fieldElement = form.find('[name=\"' + fieldInfo.name + '\"]');\n\t\t\t\tif (fieldInfo.type == 'reference') {\n\t\t\t\t\t//get the element which will be shown which has \"_display\" appended to actual field name\n\t\t\t\t\tfieldElement = form.find('[name=\"' + fieldInfo.name + '_display\"]');\n\t\t\t\t} else if (fieldInfo.type == 'multipicklist' || fieldInfo.type == 'sharedOwner') {\n\t\t\t\t\tfieldElement = form.find('[name=\"' + fieldInfo.name + '[]\"]');\n\t\t\t\t}\n\n\t\t\t\t//Not all the fields will be enabled for mass edit\n\t\t\t\tif (fieldElement.length == 0) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar elemData = fieldElement.data();\n\n\t\t\t\t//Blank validation by default\n\t\t\t\tvar validationVal = 'validate[]';\n\t\t\t\tif ('validationEngine' in elemData) {\n\t\t\t\t\tvalidationVal = elemData.validationEngine;\n\t\t\t\t\tdelete elemData.validationEngine;\n\t\t\t\t}\n\t\t\t\tfieldElement.attr('data-invalid-validation-engine', validationVal);\n\t\t\t\tfieldElement.removeAttr('data-validation-engine');\n\t\t\t}\n\t\t},\n\t\tregisterEventForTabClick: function(form) {\n\t\t\tvar ulContainer = form.find('.massEditTabs');\n\t\t\tulContainer.on('click', 'a[data-toggle=\"tab\"]', function(e) {\n\t\t\t\tform.validationEngine('validate');\n\t\t\t\tvar invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\tif (invalidFields.length > 0) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSlimScrollMassEdit: function() {\n\t\t\tapp.showScrollBar(jQuery('div[name=\"massEditContent\"]'), { height: app.getScreenHeight(70) + 'px' });\n\t\t},\n\t\t/*\n\t\t * Function to register the submit event for mass Actions save\n\t\t */\n\t\tregisterMassActionSubmitEvent: function() {\n\t\t\t$('body').on('submit', '#massSave', e => {\n\t\t\t\tlet form = jQuery(e.currentTarget),\n\t\t\t\t\tcommentContent = form.find('#commentcontent'),\n\t\t\t\t\tcommentContentValue = commentContent.html();\n\t\t\t\tif (commentContentValue === '') {\n\t\t\t\t\tvar errorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY');\n\t\t\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcommentContent.validationEngine('hide');\n\t\t\t\tjQuery(form)\n\t\t\t\t\t.find('[name=saveButton]')\n\t\t\t\t\t.attr('disabled', 'disabled');\n\t\t\t\tthis.massActionSave(form).done(function(data) {\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t});\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\tchangeCustomFilterElementView: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet filterSelectElement = this.getFilterSelectElement();\n\t\t\tif (filterSelectElement.length > 0 && filterSelectElement.is('select')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(filterSelectElement, {\n\t\t\t\t\ttemplateSelection: function(data) {\n\t\t\t\t\t\tlet resultContainer = $('<span></span>');\n\t\t\t\t\t\tresultContainer.append(\n\t\t\t\t\t\t\t$(\n\t\t\t\t\t\t\t\t$('.filterImage')\n\t\t\t\t\t\t\t\t\t.clone()\n\t\t\t\t\t\t\t\t\t.get(0)\n\t\t\t\t\t\t\t).show()\n\t\t\t\t\t\t);\n\t\t\t\t\t\tresultContainer.append(data.text);\n\t\t\t\t\t\treturn resultContainer;\n\t\t\t\t\t},\n\t\t\t\t\tcustomSortOptGroup: true,\n\t\t\t\t\ttemplateResult: function(data) {\n\t\t\t\t\t\tlet actualElement = $(data.element);\n\t\t\t\t\t\tif (actualElement.is('option')) {\n\t\t\t\t\t\t\tlet additionalText = '';\n\t\t\t\t\t\t\tif (actualElement.data('option') !== undefined) {\n\t\t\t\t\t\t\t\tadditionalText =\n\t\t\t\t\t\t\t\t\t'<div class=\"u-max-w-lg-100 u-text-ellipsis--no-hover d-inline-block small\">' +\n\t\t\t\t\t\t\t\t\tactualElement.data('option') +\n\t\t\t\t\t\t\t\t\t'</div>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t'<div class=\"js-filter__title d-flex justify-content-between\" data-js=\"appendTo\"><div class=\"u-text-ellipsis--no-hover\">' +\n\t\t\t\t\t\t\t\tactualElement.text() +\n\t\t\t\t\t\t\t\t'</div></div>' +\n\t\t\t\t\t\t\t\tadditionalText\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn actualElement.attr('label');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tescapeMarkup: function(markup) {\n\t\t\t\t\t\treturn markup;\n\t\t\t\t\t},\n\t\t\t\t\tcloseOnSelect: true\n\t\t\t\t});\n\n\t\t\t\tlet select2Instance = filterSelectElement.data('select2');\n\t\t\t\t$('.filterActionsDiv')\n\t\t\t\t\t.appendTo(select2Instance.$dropdown.find('.select2-dropdown:last'))\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.on('click', function(e) {\n\t\t\t\t\t\tthisInstance.createFilterClickEvent(e);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\ttriggerDisplayTypeEvent: function() {\n\t\t\tvar widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\t\tif (widthType) {\n\t\t\t\tvar elements = jQuery('.listViewEntriesTable').find('td,th');\n\t\t\t\telements.attr('class', widthType);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to show total records count in listview on hover\n\t\t * of pageNumber text\n\t\t */\n\t\tregisterEventForTotalRecordsCount: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('.totalNumberOfRecords').on('click', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar totalRecordsElement = jQuery('#totalCount');\n\t\t\t\tvar totalNumberOfRecords = totalRecordsElement.val();\n\t\t\t\telement.addClass('d-none');\n\t\t\t\telement.parent().progressIndicator({});\n\t\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\t\tthisInstance.getPageCount().done(function(data) {\n\t\t\t\t\t\ttotalNumberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalRecordsElement.val(totalNumberOfRecords);\n\t\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t}\n\t\t\t\telement.parent().progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowPagingInfo: function() {\n\t\t\tvar totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\tvar pageNumberElement = jQuery('.pageNumbersText');\n\t\t\tvar pageRange = pageNumberElement.text();\n\t\t\tvar newPagingInfo = pageRange + ' (' + totalNumberOfRecords + ')';\n\t\t\tvar listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\t\tif (listViewEntriesCount != 0) {\n\t\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t\t} else {\n\t\t\t\tjQuery('.pageNumbersText').html('');\n\t\t\t}\n\t\t},\n\t\tregisterUnreviewedCountEvent: function() {\n\t\t\tlet ids = [],\n\t\t\t\tlistViewContentDiv = this.getListViewContentContainer(),\n\t\t\t\tisUnreviewedActive = listViewContentDiv.find('.unreviewed').length;\n\t\t\tlistViewContentDiv.find('tr.listViewEntries').each(function() {\n\t\t\t\tvar id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\trecordsId: ids\n\t\t\t}).done(appData => {\n\t\t\t\tlet data = appData.result;\n\t\t\t\t$.each(data, function(id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\tlistViewContentDiv\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\tlistViewContentDiv\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.reflowThead();\n\t\t\t});\n\t\t},\n\t\tregisterLastRelationsEvent: function() {\n\t\t\tlet ids = [],\n\t\t\t\tlistViewContentDiv = this.getListViewContentContainer(),\n\t\t\t\tisTimeLineActive = listViewContentDiv.find('.timeLineIconList').length;\n\t\t\tlistViewContentDiv.find('tr.listViewEntries').each(function() {\n\t\t\t\tlet id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isTimeLineActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'LastRelation',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\trecordsId: ids\n\t\t\t}).done(appData => {\n\t\t\t\tvar data = appData.result;\n\t\t\t\t$.each(data, function(id, value) {\n\t\t\t\t\tif (value.type) {\n\t\t\t\t\t\tlistViewContentDiv\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .timeLineIconList')\n\t\t\t\t\t\t\t.addClass(value.color + ' userIcon-' + value.type)\n\t\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t\t.on('click', function(e) {\n\t\t\t\t\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\t\t\t\t\tvar url = element.data('url');\n\t\t\t\t\t\t\t\tapp.showModalWindow(null, url, function(data) {\n\t\t\t\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.reflowThead();\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\t$('.dropdownEntityState a').on('click', function(e) {\n\t\t\t\tvar element = $(this);\n\t\t\t\telement\n\t\t\t\t\t.closest('ul')\n\t\t\t\t\t.find('a')\n\t\t\t\t\t.removeClass('active');\n\t\t\t\telement.addClass('active');\n\t\t\t\t$('#entityState').val(element.data('value'));\n\t\t\t\tapp.setMainParams('pageNumber', '1');\n\t\t\t\tapp.setMainParams('pageToJump', '1');\n\t\t\t\t$('#recordsCount').val('');\n\t\t\t\t$('#totalPageCount').text('');\n\t\t\t\t$('.pagination').data('totalCount', 0);\n\t\t\t\t$('#dropdownEntityState')\n\t\t\t\t\t.find('.js-icon')\n\t\t\t\t\t.attr('class', element.find('.js-icon').attr('class'));\n\t\t\t\tthisInstance.getListViewRecords().done(function(data) {\n\t\t\t\t\tthisInstance.calculatePages().done(function() {\n\t\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterSummationEvent: function() {\n\t\t\tlet self = this;\n\t\t\tlet listContainer = this.getListViewContentContainer();\n\t\t\tlistContainer.on('click', '.listViewSummation button', function() {\n\t\t\t\tvar button = $(this);\n\t\t\t\tvar calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tvar params = self.getSearchParams();\n\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tparams.action = 'List';\n\t\t\t\tparams.mode = 'calculate';\n\t\t\t\tparams.fieldName = button.data('field');\n\t\t\t\tparams.calculateType = button.data('operator');\n\t\t\t\tdelete params.view;\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tlet scrollLeft = listContainer.scrollLeft();\n\t\t\t\tlet scrollTop = listContainer.scrollTop();\n\t\t\t\tAppConnector.request(params).done(response => {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tself.registerFixedThead(listContainer);\n\t\t\t\t\tlistContainer.scrollLeft(scrollLeft);\n\t\t\t\t\tlistContainer.scrollTop(scrollTop);\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function(container) {\n\t\t\tconst containerH = container.height(),\n\t\t\t\tcontainerOffsetTop = container.offset().top,\n\t\t\t\tfooterH = $('.js-footer').height(),\n\t\t\t\twindowH = $(window).height();\n\t\t\t//\tif list is bigger than window fit its height to it\n\t\t\tif (containerH + containerOffsetTop + footerH > windowH) {\n\t\t\t\tcontainer.height(windowH - (containerOffsetTop + footerH));\n\t\t\t}\n\t\t\tcontainer.find('.js-fixed-thead').floatThead('destroy');\n\t\t\tcontainer.siblings('.floatThead-container').remove();\n\t\t\tapp.showNewScrollbarTopBottomRight(container);\n\t\t\tapp.registerMiddleClickScroll(container);\n\t\t},\n\t\tregisterFixedThead(container) {\n\t\t\tif (!Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tthis.listFloatThead = container.find('.js-fixed-thead');\n\t\t\t\tthis.listFloatThead.floatThead('destroy');\n\t\t\t\tthis.listFloatThead.floatThead({\n\t\t\t\t\tscrollContainer: function() {\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.listFloatThead.floatThead('reflow');\n\t\t\t}\n\t\t},\n\t\tgetFloatTheadContainer(container = this.getListViewContentContainer()) {\n\t\t\tif (this.listFloatThead === false) {\n\t\t\t\tthis.listFloatThead = container.find('.js-fixed-thead');\n\t\t\t}\n\t\t\treturn this.listFloatThead;\n\t\t},\n\t\treflowThead() {\n\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tthis.getFloatTheadContainer().floatThead('reflow');\n\t\t\t}\n\t\t},\n\t\tregisterMassActionsBtnEvents() {\n\t\t\tthis.getListViewContainer().on('click', '.js-mass-action', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst url = $(e.currentTarget).data('url');\n\t\t\t\tif (typeof url != 'undefined') {\n\t\t\t\t\tif (this.checkListRecordSelected() !== true) {\n\t\t\t\t\t\tVtiger_List_Js.triggerMassAction(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.noRecordSelectedAlert();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\tregisterMassActionsBtnMergeEvents() {\n\t\t\tthis.getListViewContainer().on('click', '.js-mass-action--merge', e => {\n\t\t\t\tlet url = $(e.target).data('url');\n\t\t\t\tif (typeof url !== 'undefined') {\n\t\t\t\t\tif (this.checkListRecordSelected(2) !== true) {\n\t\t\t\t\t\tVtiger_List_Js.triggerMassAction(url);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.noRecordSelectedAlert('JS_SELECT_ATLEAST_TWO_RECORD_FOR_MERGING');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterMassActionModalEvents() {\n\t\t\tapp.event.on('MassEditModal.AfterLoad', (data, container) => {\n\t\t\t\tif (container.hasClass('js-add-comment__container') || container.hasClass('js-send-sms__container')) {\n\t\t\t\t\tnew App.Fields.Text.Completions(container.find('.js-completions'));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register desktop events\n\t\t * @param {jQuery} listViewContainer\n\t\t */\n\t\tregisterDesktopEvents(listViewContainer) {\n\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tthis.registerListScroll(listViewContainer);\n\t\t\t\tthis.registerFixedThead(listViewContainer);\n\t\t\t}\n\t\t},\n\t\tregisterPostLoadDesktopEvents(listViewContainer) {\n\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tnew PerfectScrollbar(listViewContainer[0]).destroy();\n\t\t\t\tlistViewContainer.find('.js-fixed-thead').floatThead('destroy');\n\t\t\t\tlistViewContainer.siblings('.floatThead-container').remove();\n\t\t\t\tnew PerfectScrollbar(listViewContainer[0]);\n\t\t\t\tthis.registerFixedThead(listViewContainer);\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tthis.registerRowClickEvent();\n\t\t\tthis.registerPageNavigationEvents();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t\tthis.registerRecordEvents();\n\t\t\tthis.registerMassRecordsEvents();\n\t\t\tthis.registerMassActionsBtnMergeEvents();\n\t\t\tthis.registerHeadersClickEvent();\n\t\t\tthis.registerMassActionSubmitEvent();\n\t\t\tthis.changeCustomFilterElementView();\n\t\t\tthis.registerFeaturedFilterClickEvent();\n\t\t\tthis.registerChangeCustomFilterEventListeners();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerDuplicateFilterClickEvent();\n\t\t\tthis.registerEditFilterClickEvent();\n\t\t\tthis.registerDeleteFilterClickEvent();\n\t\t\tthis.registerApproveFilterClickEvent();\n\t\t\tthis.registerDenyFilterClickEvent();\n\t\t\tthis.registerCustomFilterOptionsHoverEvent();\n\t\t\tthis.registerEmailFieldClickEvent();\n\t\t\tthis.registerPhoneFieldClickEvent();\n\t\t\tthis.registerMassActionModalEvents();\n\t\t\tthis.registerMassActionsBtnEvents();\n\t\t\t//this.triggerDisplayTypeEvent();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tthis.registerUrlFieldClickEvent();\n\t\t\tthis.registerEventForTotalRecordsCount();\n\t\t\tthis.registerSummationEvent();\n\t\t\t//Just reset all the checkboxes on page load: added for chrome issue.\n\t\t\tvar listViewContainer = this.getListViewContentContainer();\n\t\t\tlistViewContainer.find('#listViewEntriesMainCheckBox,.listViewEntriesCheckBox').prop('checked', false);\n\t\t\tthis.getListSearchInstance(false);\n\t\t\tthis.registerDesktopEvents(listViewContainer);\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerLastRelationsEvent();\n\t\t\tVtiger_Index_Js.registerMailButtons(listViewContainer);\n\t\t},\n\t\t/**\n\t\t * Function that executes after the mass delete action\n\t\t */\n\t\tpostMassDeleteRecords: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tapp.hideModalWindow();\n\t\t\tlistInstance.getListViewRecords().done(function(data) {\n\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t//listInstance.triggerDisplayTypeEvent();\n\t\t\t\tjQuery('#deSelectAllMsg').trigger('click');\n\t\t\t\tlistInstance.calculatePages().done(function() {\n\t\t\t\t\tlistInstance.updatePagination();\n\t\t\t\t});\n\t\t\t\taDeferred.resolve();\n\t\t\t});\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","Vtiger_List_Js","listInstance","module","app","getModuleName","parentModule","getParentModuleName","moduleClassName","fallbackClassName","instance","window","params","getInstance","checkListRecordSelected","postData","getSearchParams","parent","view","cvid","getCurrentCvId","extend","request","done","response","showModalWindow","data","find","on","e","validationEngine","val","result","hideModalWindow","fail","err","noRecordSelectedAlert","massActionUrl","triggerMassAction","thisInstance","this","progressIndicatorElement","progressIndicator","getRelatedModulesContainer","actionParams","mode","callback","validationEngineOptions","onValidationComplete","form","valid","transferOwnershipSave","selectElement","getRelatedModuleContainer","Fields","Picklist","changeSelectElementView","openUrlMethodPost","showMessage","text","vtranslate","type","transferOwner","relatedModules","$","getListViewRecords","clearList","success","notify","callBackFunction","beforeShowCb","css","text-align","event","trigger","length","inactiveFieldsValidation","error","showPnotify","massEditUrl","getSelectedRecordCount","container","massEditForm","registerEventForTabClick","Vtiger_Edit_Js","registerBasicEvents","postMassEdit","registerSlimScrollMassEdit","width","count","cvId","selectedIdObj","undefined","excludedIdsCount","exportActionUrl","viewname","selected_ids","excluded_ids","page","entityState","getListSearchInstance","search_params","search_value","search_key","location","href","hide","getListViewContentContainer","checkList","selected","getSelectedRecordsParams","fromview","param","selectedParams","url","mapView","OpenStreetMap_Map_Js","setSelectedParams","registerModalView","reviewUrl","message","title","showConfirmationBox","searchValue","deleteMessage","errorLog","events","noEventsListSearch","listSearchInstance","getListViewContainer","YetiForce_ListSearch_Js","listViewContainer","listViewTopMenuContainer","listViewContentContainer","filterBlock","filterSelectElement","getFilterSelectElement","is","$dropdown","getDefaultParams","readSelectedIds","readExcludedIds","getViewName","sortorder","getAlphabetSearchValue","JSON","stringify","getListSearchParams","getAlphabetSearchField","operator","urlParams","aDeferred","Deferred","listViewContentsContainer","loadingMessage","defaultParams","requestPjax","html","calculatePages","resolve","notifyPostAjaxReady","postLoadListViewRecordsEvents","massUpdatePagination","textStatus","errorThrown","reject","promise","registerPostLoadDesktopEvents","showSelect2ElementView","searchInstance","registerMailButtons","showHorizontalTopScrollBar","selectedIds","each","index","element","prop","closest","addClass","show","excludedIds","inArray","removeClass","checkSelectAll","registerUnreviewedCountEvent","registerLastRelationsEvent","totalRecordCount","pageLimit","pageCount","Math","ceil","Vtiger_Helper_Js","isMassEdit","massEditPreSaveEvent","Event","massEditPreSave","isDefaultPrevented","removeAttr","checkbox","attr","serializeFormData","state","recordCountVal","parse","liElement","idArr","split","currentOptionId","decode","selectedIdsDataAttr","selectedIdsElementDataAttributes","writeSelectedIds","excludedIdsDataAttr","excludedIdsElementDataAttributes","writeExcludedIds","Array","isArray","minNumberOfRecords","field","invalidFields","InvalidFields","fields","get","validationVal","hasClass","getSelect2ElementFromSelect","push","i","splice","massEditContainer","editInstance","currentTarget","blockElement","fieldElement","fieldInfo","activeFieldValidation","inactiveFieldValidation","mapFields","getMappingRelatedField","name","getReferencedModuleName","key","value","checkboxElement","preventDefault","massActionSave","removeData","formAlignmentAfterValidation","listViewPageDiv","jumpToNextPage","jumpToPreviousPage","jumpToClickedPage","updatePaginationAjax","stopImmediatePropagation","jumpToPage","paginationGoToPage","parseInt","pageNumber","which","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","currentPageElement","currentPageNumber","newPageNumber","pageCountParams","getPageJumpParams","Object","assign","registerPageNavigationEvents","force","self","totalCount","target","selectOption","selectOptionId","textOption","args","id","pop","tab","contents","last","replaceWith","setMainParams","breadCrumbsFilter","ListViewPostOperation","updatePagination","stopPropagation","filterSelect","select2","registerChangeCustomFilterEvent","bind","getFilterBlock","getListViewTopMenuContainer","breadCrumbs","breadCrumbsLastSpan","filterExist","append","getRecordsCount","elem","registerSearch","close","CustomView","listViewFilterBlock","currentOptionElement","getSelectOptionFromChosenOption","actions","reload","editUrl","appendTo","liFilterImages","appendFilterActionsTemplate","contains","recordUrl","recordId","paginationObject","orderBy","sortOrder","vars","replace","m","modal","dataParams","tempPageNumber","isEmptyObject","massEditFieldList","fieldName","elemData","showScrollBar","height","getScreenHeight","commentContent","errorMsg","resultContainer","clone","actualElement","additionalText","markup","select2Instance","createFilterClickEvent","widthType","cacheGet","totalRecordsElement","totalNumberOfRecords","getPageCount","showPagingInfo","newPagingInfo","ids","listViewContentDiv","isUnreviewedActive","appData","a","reflowThead","isTimeLineActive","color","listContainer","button","calculateValue","progress","action","calculateType","hidePopover","scrollLeft","scrollTop","registerFixedThead","containerH","containerOffsetTop","offset","top","footerH","windowH","floatThead","siblings","remove","showNewScrollbarTopBottomRight","registerMiddleClickScroll","Quasar","plugins","Platform","desktop","listFloatThead","getFloatTheadContainer","_this10","_this11","App","Text","Completions","registerListScroll","PerfectScrollbar","destroy","registerRowClickEvent","registerMainCheckBoxClickEvent","registerCheckBoxClickEvent","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerRecordEvents","registerMassRecordsEvents","registerMassActionsBtnMergeEvents","registerHeadersClickEvent","registerMassActionSubmitEvent","changeCustomFilterElementView","registerFeaturedFilterClickEvent","registerChangeCustomFilterEventListeners","registerChangeEntityStateEvent","registerDuplicateFilterClickEvent","registerEditFilterClickEvent","registerDeleteFilterClickEvent","registerApproveFilterClickEvent","registerDenyFilterClickEvent","registerCustomFilterOptionsHoverEvent","registerEmailFieldClickEvent","registerPhoneFieldClickEvent","registerMassActionModalEvents","registerMassActionsBtnEvents","registerUrlFieldClickEvent","registerEventForTotalRecordsCount","registerSummationEvent","registerDesktopEvents"],"mappings":"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"}