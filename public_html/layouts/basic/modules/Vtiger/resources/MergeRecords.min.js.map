{"version":3,"file":"MergeRecords.min.js","sources":["MergeRecords.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_MergeRecords_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Modal container\n\t\t */\n\t\tcontainer: false,\n\t\t/**\n\t\t * Register list events\n\t\t */\n\t\tregisterListEvents: function () {\n\t\t\tthis.container.find('[name=\"record\"]').on('change', (e) => {\n\t\t\t\tthis.container.find('input[value=' + $(e.currentTarget).val() + ']').trigger('click');\n\t\t\t});\n\t\t\tthis.container.find('[type=\"submit\"]').on('click', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t});\n\t\t\t\tAppConnector.request(this.container.find('form').serializeFormData()).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (data.result === false) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function (modalContainer) {\n\t\t\tthis.container = $(modalContainer);\n\t\t\tthis.registerListEvents();\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","registerListEvents","find","on","e","currentTarget","val","trigger","preventDefault","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","AppConnector","request","serializeFormData","done","data","mode","result","app","showNotify","text","vtranslate","type","hideModalWindow","listInstance","getListViewRecords","Vtiger_List_Js","clearList","registerEvents","modalContainer"],"mappings":";;AAAA,kKACA,YAAY,CAEZA,CAAC,CAACC,KAAK,CACN,sBAAsB,CACtB,EAAE,CACF;AAED;AACA,KACEC,SAAS,GAAO;AAElB;AACA,KACEC,kBAAkB,CAAE,SAAA,kBAAA,EAAY,gBAC/B,IAAI,CAACD,SAAS,CAACE,IAAI,CAAC,mBAAiB,CAAC,CAACC,EAAE,CAAC,QAAQ,CAAE,SAACC,CAAC,CAAK,CAC1D,KAAI,CAACJ,SAAS,CAACE,IAAI,CAAC,cAAc,CAAGJ,CAAC,CAACM,CAAC,CAACC,aAAa,CAAC,CAACC,GAAG,EAAE,CAAG,GAAG,CAAC,CAACC,OAAO,CAAC,OAAO,EACrF,CAAC,CAAC,CACF,IAAI,CAACP,SAAS,CAACE,IAAI,CAAC,mBAAiB,CAAC,CAACC,EAAE,CAAC,OAAO,CAAE,SAACC,CAAC,CAAK,CACzDA,CAAC,CAACI,cAAc,EAAE,CAClB,IAAMC,wBAAwB,CAAGX,CAAC,CAACY,iBAAiB,CAAC,CACpDC,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CAAEC,OAAO,CAAA,CAAA,CAAO,CAC5B,CAAC,CAAC,CACFC,YAAY,CAACC,OAAO,CAAC,KAAI,CAACf,SAAS,CAACE,IAAI,CAAC,MAAM,CAAC,CAACc,iBAAiB,EAAE,CAAC,CAACC,IAAI,CAAC,SAAUC,IAAI,CAAE,CAC1FT,wBAAwB,CAACC,iBAAiB,CAAC,CAAES,IAAI,CAAE,MAAO,CAAC,CAAC,CACxD,CAAA,CAAA,GAAAD,IAAI,CAACE,MAAgB,EACxBC,GAAG,CAACC,UAAU,CAAC,CACdC,IAAI,CAAEF,GAAG,CAACG,UAAU,CAAC,UAAU,CAAC,CAChCC,IAAI,CAAE,OACP,CAAC,CAAC,CAEHJ,GAAG,CAACK,eAAe,EAAE,CACrB,gBAAkB,CAAG,kBAAoB,CACzCC,YAAY,CAACC,kBAAkB,EAAE,CACjCC,cAAc,CAACC,SAAS,GACzB,CAAC,EACF,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACEC,cAAc,CAAE,SAAUC,cAAAA,CAAAA,cAAc,CAAE,CACzC,IAAI,CAAChC,SAAS,CAAGF,CAAC,CAACkC,cAAc,CAAC,CAClC,IAAI,CAAC/B,kBAAkB,GACxB,CACD,CAAC,CACD;;"}