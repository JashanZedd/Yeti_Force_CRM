{"version":3,"file":"MergeRecords.min.js","sources":["MergeRecords.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_MergeRecords_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Modal container\n\t\t */\n\t\tcontainer: false,\n\t\t/**\n\t\t * Register list events\n\t\t */\n\t\tregisterListEvents: function() {\n\t\t\tthis.container.find('[name=\"record\"]').on('change', e => {\n\t\t\t\tthis.container.find('input[value=' + $(e.currentTarget).val() + ']').trigger('click');\n\t\t\t});\n\t\t\tthis.container.find('[type=\"submit\"]').on('click', e => {\n\t\t\t\te.preventDefault;\n\t\t\t\tconst progressIndicatorElement = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request(this.container.find('form').serializeFormData()).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (data.result === false) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: app.vtranslate('JS_ERROR') });\n\t\t\t\t\t}\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tconst listInstance = new Vtiger_List_Js();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents: function(modalContainer) {\n\t\t\tthis.container = $(modalContainer);\n\t\t\tthis.registerListEvents();\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","find","on","e","currentTarget","val","trigger","preventDefault","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","request","serializeFormData","done","data","mode","result","showPnotify","text","app","vtranslate","hideModalWindow","listInstance","Vtiger_List_Js","getListViewRecords","clearList","modalContainer","registerListEvents"],"mappings":";;AAAA;AACA;AAEAA,EAAEC,KAAF,CACC,sBADD,EAEC,EAFD,EAGC;;;;YAIY,KAJZ;;;;qBAQqB,8BAAW;;;OACzBC,SAAL,CAAeC,IAAf,CAAoB,iBAApB,EAAuCC,EAAvC,CAA0C,QAA1C,EAAoD,aAAK;SACnDF,SAAL,CAAeC,IAAf,CAAoB,iBAAiBH,EAAEK,EAAEC,aAAJ,EAAmBC,GAAnB,EAAjB,GAA4C,GAAhE,EAAqEC,OAArE,CAA6E,OAA7E;GADD;OAGKN,SAAL,CAAeC,IAAf,CAAoB,iBAApB,EAAuCC,EAAvC,CAA0C,OAA1C,EAAmD,aAAK;KACrDK,cAAF;OACMC,2BAA2BV,EAAEW,iBAAF,CAAoB,EAAEC,UAAU,MAAZ,EAAoBC,WAAW,EAAEC,SAAS,IAAX,EAA/B,EAApB,CAAjC;gBACaC,OAAb,CAAqB,MAAKb,SAAL,CAAeC,IAAf,CAAoB,MAApB,EAA4Ba,iBAA5B,EAArB,EAAsEC,IAAtE,CAA2E,UAASC,IAAT,EAAe;6BAChEP,iBAAzB,CAA2C,EAAEQ,MAAM,MAAR,EAA3C;QACID,KAAKE,MAAL,KAAgB,KAApB,EAA2B;sBACTC,WAAjB,CAA6B,EAAEC,MAAMC,IAAIC,UAAJ,CAAe,UAAf,CAAR,EAA7B;;QAEGC,eAAJ;QACMC,eAAe,IAAIC,cAAJ,EAArB;iBACaC,kBAAb;mBACeC,SAAf;IARD;GAHD;EAZF;;;;;iBA+BiB,wBAASC,cAAT,EAAyB;OACnC5B,SAAL,GAAiBF,EAAE8B,cAAF,CAAjB;OACKC,kBAAL;;CApCH"}