{"version":3,"file":"CalendarView.min.js","sources":["CalendarView.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/**\n * Class representing a standard calendar.\n * @extends Calendar_Js\n */\nwindow.Vtiger_Calendar_Js = class Vtiger_Calendar_Js extends Calendar_Js {\n\t/**\n\t * Create calendar's options.\n\t * @param {jQuery} container\n\t * @param {bool} readonly\n\t * @param {boolean} browserHistory\n\t */\n\tconstructor(container, readonly, browserHistory = false) {\n\t\tsuper(container, readonly, browserHistory);\n\t}\n\t/**\n\t * Set calendar module options.\n\t * @returns {{allDaySlot: boolean, dayClick: object, selectable: boolean}}\n\t */\n\tsetCalendarModuleOptions() {\n\t\tconst self = this;\n\t\treturn {\n\t\t\tallDaySlot: false,\n\t\t\tdateClick: (args) => {\n\t\t\t\tif (this.eventCreate) {\n\t\t\t\t\tself.registerDayClickEvent(args);\n\t\t\t\t}\n\t\t\t},\n\t\t\tselectable: false,\n\t\t\teventClick: function (info) {\n\t\t\t\tinfo.jsEvent.preventDefault();\n\t\t\t\tconst element = $(info.el);\n\t\t\t\tlet link = element.attr('href');\n\t\t\t\tif (!link) {\n\t\t\t\t\tlink = element.find('a').attr('href');\n\t\t\t\t}\n\t\t\t\tif (link && $.inArray('js-show-modal', info.event.classNames) !== -1) {\n\t\t\t\t\tapp.showModalWindow(null, link.replace('view=', 'xview=') + '&view=QuickDetailModal');\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\t/**\n\t * Set calendar module's options.\n\t * @returns {object}\n\t */\n\tsetCalendarAdvancedOptions() {\n\t\tconst self = this;\n\t\treturn Object.assign(super.setCalendarAdvancedOptions(), {\n\t\t\theaderToolbar: {\n\t\t\t\tleft: `dayGridMonth,${app.getMainParams('weekView')},${app.getMainParams('dayView')},listWeek,today`,\n\t\t\t\tcenter: 'prevYear,prev,title,next,nextYear',\n\t\t\t\tright: ''\n\t\t\t},\n\t\t\tselect: function (info) {\n\t\t\t\tself.selectDays(info);\n\t\t\t},\n\t\t\tdatesSet: function (dateInfo) {\n\t\t\t\tapp.event.trigger('Calendar.DatesSet', dateInfo, this);\n\t\t\t\tif (self.fullCalendar.view !== 'year') {\n\t\t\t\t\tself.loadCalendarData();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Function invokes by fullCalendar, sets selected days in form\n\t * @param {object} info\n\t */\n\tselectDays(info) {\n\t\tif (!this.container.find('.js-right-panel-event-link').length) {\n\t\t\treturn false;\n\t\t}\n\t\tthis.container.find('.js-right-panel-event-link').tab('show');\n\t\tsuper.selectDays(info);\n\t}\n\t/**\n\t * Load calendar data\n\t */\n\tloadCalendarData() {\n\t\tconst self = this,\n\t\t\tdefaultParams = this.getDefaultParams(),\n\t\t\tprogressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\tself.fullCalendar.removeAllEvents();\n\t\tself.clearFilterButton(defaultParams['user']);\n\t\tAppConnector.request(defaultParams).done((events) => {\n\t\t\tself.fullCalendar.removeAllEvents();\n\t\t\tself.fullCalendar.addEventSource(events.result);\n\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t});\n\t}\n\t/**\n\t * Reload calendar data after changing search parameters\n\t */\n\treloadCalendarData() {\n\t\tsuper.reloadCalendarData();\n\t\tthis.updateCountTaskCalendar();\n\t}\n\t/**\n\t * Show/hide clear filter button\n\t */\n\tclearFilterButton(user) {\n\t\tlet currentUser = parseInt(app.getMainParams('userId')),\n\t\t\ttime = app.getMainParams('showType'),\n\t\t\tstatement =\n\t\t\t\tJSON.stringify(user['selectedIds']) === JSON.stringify([`${currentUser}`]) &&\n\t\t\t\tthis.getCurrentCvId() === undefined &&\n\t\t\t\ttime === 'current';\n\t\t$('.js-calendar__clear-filters').toggleClass('d-none', statement);\n\t}\n\t/**\n\t * Default params\n\t * @returns {{module: *, action: string, mode: string, start: *, end: *, user: *, emptyFilters: boolean}}\n\t */\n\tgetDefaultParams() {\n\t\tlet options = super.getDefaultParams(),\n\t\t\tuser = this.getSelectedUsersCalendar();\n\t\tif (0 === user.length) {\n\t\t\tuser = app.getMainParams('usersId');\n\t\t}\n\t\tif (user === undefined) {\n\t\t\tuser = [app.getMainParams('userId')];\n\t\t}\n\t\tif (this.fullCalendar.view === 'timeGridDay') {\n\t\t\tthis.fullCalendar.view.activeEnd = this.fullCalendar.view.activeEnd.add(1, 'day');\n\t\t}\n\t\tconst time = this.getSidebarView().find('.js-switch--showType input:checked').data('val');\n\t\toptions.time = options.time !== undefined ? time : app.getMainParams('showType');\n\t\toptions.history = true;\n\t\toptions.user = user;\n\t\treturn options;\n\t}\n\t/**\n\t * Get selected users\n\t * @returns {{ selectedIds: array, excludedIds: array }}\n\t */\n\tgetSelectedUsersCalendar() {\n\t\tconst sidebar = this.getSidebarView();\n\t\tlet selectedUsers = sidebar.find('.js-input-user-owner-id:checked'),\n\t\t\tnotSelectedUsers = sidebar.find('.js-input-user-owner-id:not(:checked)'),\n\t\t\tselectedUsersAjax = sidebar.find('.js-input-user-owner-id-ajax'),\n\t\t\tselectedRolesAjax = sidebar.find('.js-input-role-owner-id-ajax'),\n\t\t\tcheckboxSelectAll = sidebar.find('.js-select-all'),\n\t\t\tselectedIds = [],\n\t\t\texcludedIds = [];\n\n\t\tlet ifSelectAllIsChecked = checkboxSelectAll.length > 0 && checkboxSelectAll.is(':checked');\n\t\tif (ifSelectAllIsChecked) {\n\t\t\tselectedIds.push('all');\n\t\t} else if (selectedUsers.length > 0) {\n\t\t\tselectedUsers.each(function () {\n\t\t\t\tselectedIds.push($(this).val());\n\t\t\t});\n\t\t}\n\t\tif (selectedUsersAjax.length > 0) {\n\t\t\tselectedIds = selectedUsersAjax.val().concat(selectedRolesAjax.val());\n\t\t}\n\t\tif (ifSelectAllIsChecked && notSelectedUsers) {\n\t\t\tnotSelectedUsers.each(function () {\n\t\t\t\texcludedIds.push($(this).val());\n\t\t\t});\n\t\t}\n\t\tif (0 === selectedIds.length && CONFIG.userId) {\n\t\t\tselectedIds.push(CONFIG.userId);\n\t\t}\n\t\treturn { selectedIds: selectedIds, excludedIds: excludedIds };\n\t}\n\t/**\n\t * Register day click event.\n\t * @param {object} info\n\t */\n\tregisterDayClickEvent(info) {\n\t\tconst self = this,\n\t\t\tuserFormat = App.Fields.Date.dateToUserFormat(info.date);\n\t\tif (!CONFIG.isQuickCreateSupported) {\n\t\t\tapp.openUrl(\n\t\t\t\t'index.php?module=' +\n\t\t\t\t\t(this.module ? this.module : CONFIG.module) +\n\t\t\t\t\t'&view=Edit&date_start=' +\n\t\t\t\t\tuserFormat +\n\t\t\t\t\t'&due_date=' +\n\t\t\t\t\tuserFormat\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tself.getCalendarCreateView().done((data) => {\n\t\t\tApp.Components.QuickCreate.showModal(data, {\n\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\tself.reloadCalendarData();\n\t\t\t\t},\n\t\t\t\tcallbackBeforeRegister: (modal) => {\n\t\t\t\t\tmodal.find('.js-selected-date').val(App.Fields.Date.dateToDbFormat(info.date));\n\t\t\t\t},\n\t\t\t\tcallbackPostShown: (modal) => {\n\t\t\t\t\tself.dayCallbackCreateModal(modal, info);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Callback after shown create modal\n\t * @param {jQuery} modal\n\t * @param {object} info\n\t */\n\tdayCallbackCreateModal(modal, info) {\n\t\tlet dateFormat = modal.find('[name=\"date_start\"]').data('dateFormat'),\n\t\t\ttimeFormat = modal.find('[name=\"time_start\"]').data('format'),\n\t\t\tdefaultTimeFormat = 'hh:mm A',\n\t\t\tuserFormat = App.Fields.Date.dateToUserFormat(info.date, dateFormat),\n\t\t\tendTimeString;\n\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t}\n\t\tlet startTimeString = moment(info.date).format(defaultTimeFormat);\n\t\tif ('dayGridMonth' == this.fullCalendar.view.type) {\n\t\t\tlet now = new Date();\n\t\t\tstartTimeString = moment(now).format(defaultTimeFormat);\n\t\t\tendTimeString = moment(now).add(15, 'minutes').format(defaultTimeFormat);\n\t\t} else {\n\t\t\tendTimeString = moment(info.date).add(30, 'minutes').format(defaultTimeFormat);\n\t\t}\n\t\tmodal.find('[name=\"date_start\"]').val(userFormat);\n\t\tmodal.find('[name=\"due_date\"]').val(userFormat);\n\t\tmodal.find('[name=\"time_start\"]').val(startTimeString);\n\t\tmodal.find('[name=\"time_end\"]').val(endTimeString);\n\t}\n\t/**\n\t * Register switch events\n\t */\n\tregisterSwitchEvents() {\n\t\tlet isWorkDays,\n\t\t\tswitchShowTypeVal,\n\t\t\tswitchContainer = $('.js-calendar__tab--filters'),\n\t\t\tswitchShowType = switchContainer.find('.js-switch--showType'),\n\t\t\tshowTypeState = switchShowType.find('.js-switch--label-on.active').length ? 'current' : 'history',\n\t\t\tswitchSwitchingDays = switchContainer.find('.js-switch--switchingDays'),\n\t\t\tswitchingDaysState = switchSwitchingDays.find('.js-switch--label-on.active').length ? 'workDays' : 'all';\n\t\tlet historyParams = app.getMainParams('historyParams', true);\n\t\tif (historyParams === '') {\n\t\t\tisWorkDays =\n\t\t\t\tapp.getMainParams('switchingDays') === 'workDays' && app.moduleCacheGet('defaultSwitchingDays') !== 'all';\n\t\t\tswitchShowTypeVal =\n\t\t\t\tapp.getMainParams('showType') === 'current' && app.moduleCacheGet('defaultShowType') !== 'history';\n\t\t\tif (!switchShowTypeVal) {\n\t\t\t\tswitchShowType.find('.js-switch--label-off').button('toggle');\n\t\t\t}\n\t\t} else {\n\t\t\tif (historyParams.time !== undefined) {\n\t\t\t\tapp.setMainParams('showType', historyParams.time);\n\t\t\t}\n\t\t\tapp.setMainParams('switchingDays', historyParams.hiddenDays === '' ? 'all' : 'workDays');\n\t\t}\n\t\tswitchShowType.on('change', 'input', (e) => {\n\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\tapp.setMainParams('showType', 'current');\n\t\t\t\tapp.moduleCacheSet('defaultShowType', 'current');\n\t\t\t} else if (typeof currentTarget.data('off-text') !== 'undefined') {\n\t\t\t\tapp.setMainParams('showType', 'history');\n\t\t\t\tapp.moduleCacheSet('defaultShowType', 'history');\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t\tif (app.getMainParams('showType') !== showTypeState) {\n\t\t\t$('label.active', switchShowType).find('input').filter(':first').trigger('change');\n\t\t}\n\t\tif (switchSwitchingDays.length) {\n\t\t\tif (typeof isWorkDays !== 'undefined' && !isWorkDays) {\n\t\t\t\tswitchSwitchingDays.find('.js-switch--label-off').button('toggle');\n\t\t\t}\n\t\t\tswitchSwitchingDays.on('change', 'input', (e) => {\n\t\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\t\tlet hiddenDays = [];\n\t\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\t\tapp.setMainParams('switchingDays', 'workDays');\n\t\t\t\t\tapp.moduleCacheSet('defaultSwitchingDays', 'workDays');\n\t\t\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t\t\t} else if (typeof currentTarget.data('off-text') !== 'undefined') {\n\t\t\t\t\tapp.setMainParams('switchingDays', 'all');\n\t\t\t\t\tapp.moduleCacheSet('defaultSwitchingDays', 'all');\n\t\t\t\t}\n\t\t\t\tthis.fullCalendar.setOption('hiddenDays', hiddenDays);\n\t\t\t\tthis.fullCalendar.setOption('height', this.setCalendarHeight());\n\t\t\t});\n\t\t\tif (app.getMainParams('switchingDays') !== switchingDaysState) {\n\t\t\t\t$('label.active', switchSwitchingDays).find('input').filter(':first').trigger('change');\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Function toggles next year/month and general arrows on view render\n\t */\n\tregisterViewRenderEvents() {\n\t\tlet toolbar = this.calendarView.find('.fc-toolbar.fc-header-toolbar');\n\t\tthis.showChangeDateButtons(toolbar);\n\t\tthis.appendSubDateRow(toolbar);\n\t\tthis.refreshDatesRowView();\n\t\tthis.addHeaderButtons();\n\t\tthis.showTodayButtonCheckbox(toolbar);\n\t\tapp.event.on('Calendar.DatesSet', () => {\n\t\t\tthis.showChangeDateButtons(toolbar);\n\t\t\tthis.refreshDatesRowView();\n\t\t\tthis.showTodayButtonCheckbox(toolbar);\n\t\t});\n\t}\n\t/**\n\t * Function shows change date buttons in calendar's header for specific view\n\t * @param {jQuery} toolbar\n\t */\n\tshowChangeDateButtons(toolbar) {\n\t\tconst view = this.fullCalendar.view;\n\t\tconst buttonText = this.calendarOptions.buttonText;\n\t\tlet nextPrevButtons = toolbar.find('.fc-prev-button, .fc-next-button'),\n\t\t\tyearButtons = toolbar.find('.fc-prevYear-button, .fc-nextYear-button');\n\t\tyearButtons.first().html(`<span class=\"fas fa-xs fa-minus mr-1\"></span>${buttonText['year']}`);\n\t\tyearButtons.last().html(`${buttonText['year']}<span class=\"fas fa-xs fa-plus ml-1\"></span>`);\n\t\tif (view.type !== 'year' && Calendar_Js.viewsNamesLabels[view.type]) {\n\t\t\tlet viewType = Calendar_Js.viewsNamesLabels[view.type];\n\t\t\tnextPrevButtons.first().html(`<span class=\"fas fa-xs fa-minus mr-1\"></span>${buttonText[viewType]}`);\n\t\t\tnextPrevButtons.last().html(`${buttonText[viewType]}<span class=\"fas fa-xs fa-plus ml-1\"></span>`);\n\t\t}\n\t\tif (view.type === 'year') {\n\t\t\tnextPrevButtons.hide();\n\t\t\tyearButtons.show();\n\t\t} else if (view.type === 'dayGridMonth') {\n\t\t\tnextPrevButtons.show();\n\t\t\tyearButtons.show();\n\t\t} else if (view.type === 'list') {\n\t\t\tnextPrevButtons.hide();\n\t\t\tyearButtons.hide();\n\t\t} else {\n\t\t\tnextPrevButtons.show();\n\t\t\tyearButtons.hide();\n\t\t}\n\t}\n\t/**\n\t * Appends sub date row to calendar header and register its scroll\n\t * @param {jQuery} toolbar\n\t */\n\tappendSubDateRow(toolbar) {\n\t\tif (!this.calendarView.find('.js-dates-row').length) {\n\t\t\tthis.subDateRow =\n\t\t\t\t$(`<div class=\"js-scroll js-dates-row u-overflow-auto-xl-down order-4 flex-grow-1 position-relative my-1 w-100\" data-js=\"perfectScrollbar | container\">\n\t\t\t\t\t\t<div class=\"d-flex flex-nowrap w-100\">\n\t\t\t\t\t\t\t<div class=\"js-sub-date-list w-100 sub-date-list row no-gutters flex-nowrap nav nav-tabs\" data-js=\"data-type\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`);\n\t\t\ttoolbar.append(this.subDateRow);\n\t\t\tif ($(window).width() > app.breakpoints.lg) {\n\t\t\t\tapp.showNewScrollbar(toolbar);\n\t\t\t}\n\t\t}\n\t}\n\t/**\n\t * Refresh date bar with counts\n\t */\n\trefreshDatesRowView() {\n\t\tconst self = this;\n\t\tswitch (this.fullCalendar.view.type) {\n\t\t\tcase 'year':\n\t\t\t\tself.generateYearList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridMonth':\n\t\t\t\tself.generateMonthList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridWeek':\n\t\t\tcase 'timeGridWeek':\n\t\t\tcase 'listWeek':\n\t\t\t\tself.generateWeekList();\n\t\t\t\tbreak;\n\t\t\tcase 'dayGridWeek':\n\t\t\tcase 'timeGridDay':\n\t\t\t\tself.generateDaysList();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.container.find('.js-dates-row .js-sub-date-list').html('');\n\t\t\t\tbreak;\n\t\t}\n\t\tself.updateCountTaskCalendar();\n\t\tself.registerDatesChange();\n\t}\n\t/**\n\t * Generate days bar list\n\t */\n\tgenerateDaysList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveDays = moment(this.fullCalendar.view.currentStart).format('DDD'),\n\t\t\tnextDays = moment(this.fullCalendar.view.currentStart).add(7, 'days');\n\t\tlet prevDays = moment(this.fullCalendar.view.currentStart).subtract(5, 'days'),\n\t\t\tdaysToShow = nextDays.diff(prevDays, 'days'),\n\t\t\thtml = '';\n\n\t\tfor (let day = 0; day < daysToShow; ++day) {\n\t\t\tif (app.getMainParams('switchingDays') === 'workDays' && app.moduleCacheGet('defaultSwitchingDays') !== 'all') {\n\t\t\t\tif ($.inArray(prevDays.day(), app.getMainParams('hiddenDays', true)) !== -1) {\n\t\t\t\t\tprevDays = moment(prevDays).add(1, 'days');\n\t\t\t\t\tdaysToShow++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet date = prevDays.format('YYYY-MM-DD'),\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tactive = '';\n\t\t\tif (prevDays.format('DDD') === activeDays) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${date}\" data-type=\"days\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\"\n\t\t\t\t\ttitle=\"${App.Fields.Date.fullDaysTranslated[prevDays.format('d')]} ${dateUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${app.vtranslate('JS_DAY_SHORT')} ${prevDays.format('DD')}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t\tprevDays = moment(prevDays).add(1, 'days');\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate weeks bar list\n\t */\n\tgenerateWeekList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveWeek = moment(this.fullCalendar.view.currentStart).format('WW'),\n\t\t\tnextWeeks = moment(this.fullCalendar.view.currentStart).add(6, 'weeks');\n\t\tlet prevWeeks = moment(this.fullCalendar.view.currentStart).subtract(5, 'weeks'),\n\t\t\thtml = '';\n\t\twhile (prevWeeks.format('YYYY-MM-DD') <= nextWeeks.format('YYYY-MM-DD')) {\n\t\t\tlet date = prevWeeks.format('YYYY-MM-DD'),\n\t\t\t\tdateEnd = moment(prevWeeks).add(6, 'day').format('YYYY-MM-DD'),\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tdateEndUser = App.Fields.Date.dateToUserFormat(dateEnd),\n\t\t\t\tactive = '';\n\t\t\tif (prevWeeks.format('WW') === activeWeek) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-type=\"weeks\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\" title=\"${dateUser} > ${dateEndUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${app.vtranslate('JS_WEEK_SHORT')} ${prevWeeks.format('WW')}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t\tprevWeeks.add(1, 'weeks');\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate month bar list\n\t */\n\tgenerateMonthList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveMonth = this.fullCalendar.view.currentStart.getMonth(),\n\t\t\tactiveYear = this.fullCalendar.view.currentStart.getFullYear();\n\t\tlet html = '';\n\t\tfor (let month = 0; 12 > month; ++month) {\n\t\t\tlet m = month <= 8 ? '0' + (month + 1) : month + 1,\n\t\t\t\tlastDay = App.Fields.Date.getLastMonthDay(activeYear, m),\n\t\t\t\tdate = activeYear + '-' + m + '-01',\n\t\t\t\tdateEnd = activeYear + '-' + m + '-' + lastDay,\n\t\t\t\tdateUser = App.Fields.Date.dateToUserFormat(date),\n\t\t\t\tdateEndUser = App.Fields.Date.dateToUserFormat(dateEnd),\n\t\t\t\tactive = '';\n\t\t\tif (month === activeMonth) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record nav-item col-1 px-0\" data-type=\"months\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link js-popover-tooltip ${active}\" title=\"${dateUser} > ${dateEndUser}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${App.Fields.Date.monthsTranslated[month]}\n\t\t\t\t<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div>\n\t\t\t\t</div></div></div>`;\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Generate year bar list\n\t */\n\tgenerateYearList() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tactiveYear = this.fullCalendar.view.currentStart.getFullYear(),\n\t\t\tnextYear = activeYear + 1;\n\t\tlet prevYear = activeYear - 1,\n\t\t\thtml = '';\n\t\twhile (prevYear <= nextYear) {\n\t\t\tlet date = prevYear + '-01-01',\n\t\t\t\tdateEnd = prevYear + '-12-31',\n\t\t\t\tactive = '';\n\t\t\tif (prevYear === activeYear) {\n\t\t\t\tactive = 'active';\n\t\t\t}\n\t\t\thtml += `<div data-date=\"${date}\" data-dates=\"${date}|${dateEnd}\"\n\t\t\t\tclass=\"js-sub-record sub-record col-4 nav-item\" data-type=\"years\" data-js=\"click\">\n\t\t\t\t<div class=\"sub-record-content nav-link ${active}\" data-js=\"class: active\">\n\t\t\t\t<div class=\"sub-date-name\">${prevYear}<div class=\"js-count-events count badge c-badge--md ml-1\" data-js=\"html\">0</div></div>\n\t\t\t\t</div></div>`;\n\t\t\tprevYear = prevYear + 1;\n\t\t}\n\t\tdatesView.find('.js-sub-date-list').html(html);\n\t}\n\t/**\n\t * Counting the number of events in the bar for the current view\n\t */\n\tupdateCountTaskCalendar() {\n\t\tconst datesView = this.container.find('.js-dates-row'),\n\t\t\tsubDatesElements = datesView.find('.js-sub-record');\n\t\tlet options = this.getDefaultParams(),\n\t\t\tdateArray = {};\n\t\tdelete options.start;\n\t\tdelete options.end;\n\t\tsubDatesElements.each(function (key) {\n\t\t\tdateArray[key] = $(this).data('dates').split('|');\n\t\t});\n\t\toptions.mode = 'getCountEventsGroup';\n\t\toptions.dates = dateArray;\n\t\tAppConnector.request(options).done(function (events) {\n\t\t\tsubDatesElements.each(function (key) {\n\t\t\t\t$(this).find('.js-count-events').removeClass('hide').html(events.result[key]);\n\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Registration of the date change in the counting the number of events bar\n\t */\n\tregisterDatesChange() {\n\t\tthis.container.find('.js-dates-row .js-sub-record').on('click', (e) => {\n\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\tcurrentTarget.addClass('active');\n\t\t\tthis.fullCalendar.gotoDate(currentTarget.data('date'));\n\t\t});\n\t}\n\t/**\n\t * Add header buttons\n\t */\n\taddHeaderButtons() {\n\t\tif (this.calendarView.find('.js-calendar__view-btn').length) {\n\t\t\treturn;\n\t\t}\n\t\tlet buttonsContainer = this.calendarView.prev('.js-calendar__header-buttons'),\n\t\t\tviewBtn = buttonsContainer.find('.js-calendar__view-btn').clone(),\n\t\t\tfilters = buttonsContainer.find('.js-calendar__filter-container').clone(),\n\t\t\ttoolbar = this.calendarView.find('.fc-toolbar-chunk');\n\t\ttoolbar.first().addClass('fc-left');\n\t\ttoolbar.eq(1).addClass('fc-center');\n\t\tthis.calendarView.find('.fc-left .fc-button-group').prepend(viewBtn);\n\t\tthis.calendarView.find('.fc-center').after(filters);\n\t\tthis.registerClearFilterButton();\n\t\tthis.registerFilterTabChange();\n\t}\n\t/**\n\t * Register clear filter button\n\t */\n\tregisterClearFilterButton() {\n\t\tconst sidebar = this.getSidebarView(),\n\t\t\tclearBtn = this.calendarView.find('.js-calendar__clear-filters');\n\t\tapp.showPopoverElementView(clearBtn);\n\t\tclearBtn.on('click', () => {\n\t\t\t$('.js-calendar__extended-filter-tab a').removeClass('active');\n\t\t\tapp.moduleCacheSet('CurrentCvId', null);\n\t\t\tapp.setMainParams('showType', 'current');\n\t\t\tapp.moduleCacheSet('defaultShowType', 'current');\n\t\t\tsidebar.find('input:checkbox').prop('checked', false);\n\t\t\tsidebar.find('option:selected').prop('selected', false).trigger('change.select2');\n\t\t\tsidebar.find('.js-sidebar-filter-container').each((_, e) => {\n\t\t\t\tlet element = $(e);\n\t\t\t\tlet cacheName = element.data('cache');\n\t\t\t\tif (element.data('name') && cacheName) {\n\t\t\t\t\tapp.moduleCacheSet(cacheName, '');\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet calendarSwitch = sidebar.find('.js-switch--showType [class*=\"js-switch--label\"]'),\n\t\t\t\tactualUserCheckbox = sidebar.find('.js-input-user-owner-id[value=' + app.getMainParams('userId') + ']');\n\t\t\tcalendarSwitch.last().removeClass('active');\n\t\t\tcalendarSwitch.first().addClass('active');\n\t\t\t$('input[data-val=\"current\"]', calendarSwitch).prop('checked', true);\n\t\t\tif (actualUserCheckbox.length) {\n\t\t\t\tactualUserCheckbox.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tapp.setMainParams('usersId', undefined);\n\t\t\t}\n\t\t\tthis.reloadCalendarData();\n\t\t});\n\t}\n\t/**\n\t * Register filter tab change\n\t */\n\tregisterFilterTabChange() {\n\t\tthis.calendarView.find('.js-calendar__extended-filter-tab').on('shown.bs.tab', () => {\n\t\t\tthis.reloadCalendarData();\n\t\t\tapp.moduleCacheSet('CurrentCvId', this.getCurrentCvId());\n\t\t});\n\t}\n\t/**\n\t * Function appends and shows today button's checkbox\n\t * @param {jQuery} toolbar\n\t */\n\tshowTodayButtonCheckbox(toolbar) {\n\t\tlet todayButton = toolbar.find('.fc-today-button'),\n\t\t\ttodyButtonIcon = todayButton.attr('disabled') ? 'fa-calendar-check' : 'fa-calendar',\n\t\t\tpopoverContent = todayButton.attr('title');\n\t\ttodayButton.html(`<div class=\"js-popover-tooltip\"><span class=\"far fa-lg ${todyButtonIcon}\"></span></div>`);\n\t\tapp.showPopoverElementView(todayButton.find('.js-popover-tooltip'), {\n\t\t\ttitle: popoverContent\n\t\t});\n\t}\n\t/**\n\t * Registration of the event being added to favorite users\n\t */\n\tregisterPinUser() {\n\t\tconst self = this;\n\t\tthis.getSidebarView()\n\t\t\t.find('.js-pin-user')\n\t\t\t.on('click', function () {\n\t\t\t\tconst element = $(this);\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: self.module,\n\t\t\t\t\taction: 'Calendar',\n\t\t\t\t\tmode: 'pinOrUnpinUser',\n\t\t\t\t\telement_id: element.data('elementid')\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tif (data.result === 'unpin') {\n\t\t\t\t\t\telement.find('.js-pin-icon').removeClass('fas').addClass('far');\n\t\t\t\t\t} else if (data.result === 'pin') {\n\t\t\t\t\t\telement.find('.js-pin-icon').removeClass('far').addClass('fas');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t}\n\t/**\n\t * Register cache settings\n\t */\n\tregisterCacheSettings() {}\n\t/**\n\t * Register events\n\t */\n\tregisterEvents() {\n\t\tsuper.registerEvents();\n\t\tthis.registerCacheSettings();\n\t\tthis.registerSwitchEvents();\n\t\tthis.registerPinUser();\n\t\tElementQueries.listen();\n\t}\n};\n"],"names":["window","Vtiger_Calendar_Js","container","readonly","browserHistory","self","allDaySlot","dateClick","args","eventCreate","registerDayClickEvent","selectable","eventClick","info","jsEvent","preventDefault","$","el","link","element","attr","find","inArray","event","classNames","app","showModalWindow","replace","assign","headerToolbar","left","getMainParams","center","right","select","selectDays","datesSet","dateInfo","trigger","fullCalendar","view","loadCalendarData","length","tab","defaultParams","getDefaultParams","progressInstance","progressIndicator","blockInfo","enabled","removeAllEvents","clearFilterButton","AppConnector","request","done","events","addEventSource","result","mode","updateCountTaskCalendar","user","parseInt","time","statement","JSON","stringify","currentUser","getCurrentCvId","toggleClass","options","getSelectedUsersCalendar","activeEnd","add","getSidebarView","data","history","sidebar","selectedUsers","notSelectedUsers","selectedUsersAjax","selectedRolesAjax","checkboxSelectAll","selectedIds","excludedIds","ifSelectAllIsChecked","is","push","each","val","concat","CONFIG","userId","userFormat","App","Fields","Date","dateToUserFormat","date","isQuickCreateSupported","getCalendarCreateView","Components","QuickCreate","showModal","callbackFunction","reloadCalendarData","callbackBeforeRegister","modal","dateToDbFormat","callbackPostShown","dayCallbackCreateModal","openUrl","module","dateFormat","timeFormat","defaultTimeFormat","moment","format","type","now","startTimeString","endTimeString","switchShowTypeVal","switchContainer","switchShowType","showTypeState","switchSwitchingDays","switchingDaysState","historyParams","isWorkDays","moduleCacheGet","button","setMainParams","hiddenDays","on","e","currentTarget","moduleCacheSet","filter","setOption","setCalendarHeight","toolbar","calendarView","showChangeDateButtons","appendSubDateRow","refreshDatesRowView","addHeaderButtons","showTodayButtonCheckbox","buttonText","calendarOptions","nextPrevButtons","yearButtons","first","html","last","Calendar_Js","viewsNamesLabels","viewType","hide","show","subDateRow","append","width","breakpoints","lg","showNewScrollbar","generateYearList","generateMonthList","generateWeekList","generateDaysList","registerDatesChange","activeDays","currentStart","nextDays","prevDays","subtract","daysToShow","diff","day","dateUser","active","fullDaysTranslated","vtranslate","datesView","activeWeek","nextWeeks","prevWeeks","dateEnd","dateEndUser","activeMonth","getMonth","activeYear","getFullYear","month","lastDay","getLastMonthDay","m","monthsTranslated","prevYear","subDatesElements","dateArray","start","end","key","split","dates","removeClass","addClass","gotoDate","buttonsContainer","prev","viewBtn","clone","filters","eq","prepend","after","registerClearFilterButton","registerFilterTabChange","clearBtn","showPopoverElementView","prop","_","cacheName","calendarSwitch","actualUserCheckbox","todyButtonIcon","todayButton","popoverContent","title","action","element_id","showNotify","text","registerCacheSettings","registerSwitchEvents","registerPinUser","ElementQueries","listen"],"mappings":"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"}