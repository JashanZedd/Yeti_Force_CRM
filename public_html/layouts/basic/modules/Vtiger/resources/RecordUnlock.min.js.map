{"version":3,"file":"RecordUnlock.min.js","sources":["RecordUnlock.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\n\t'Base_RecordUnlock_JS',\n\t{},\n\t{\n\t\t/**\n\t\t * Register modal events\n\t\t * @param {jQuery} modalContainer\n\t\t */\n\t\tregisterEvents(modalContainer) {\n\t\t\tmodalContainer.find('form').on('submit', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst progressIndicator = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request($(this).serializeFormData()).done(response => {\n\t\t\t\t\tlet result = response.result;\n\t\t\t\t\tif (result.success && result.url) {\n\t\t\t\t\t\tif (CONFIG.view === 'ListPreview') {\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t$('.listPreviewframe')[0].src = result.url.replace('view=Detail', 'view=DetailPreview');\n\t\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.location.href = result.url;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: app.vtranslate('JS_ERROR') });\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["$","Class","modalContainer","find","on","e","preventDefault","progressIndicator","position","blockInfo","enabled","request","serializeFormData","done","result","response","success","url","CONFIG","view","hideModalWindow","src","replace","mode","location","href","showPnotify","text","app","vtranslate"],"mappings":";;AAAA;AACA;AAEAA,EAAEC,KAAF,CACC,sBADD,EAEC,EAFD,EAGC;;;;;eAAA,0BAKgBC,cALhB,EAKgC;iBACfC,IAAf,CAAoB,MAApB,EAA4BC,EAA5B,CAA+B,QAA/B,EAAyC,UAASC,CAAT,EAAY;KAClDC,cAAF;OACMC,oBAAoBP,EAAEO,iBAAF,CAAoB,EAAEC,UAAU,MAAZ,EAAoBC,WAAW,EAAEC,SAAS,IAAX,EAA/B,EAApB,CAA1B;gBACaC,OAAb,CAAqBX,EAAE,IAAF,EAAQY,iBAAR,EAArB,EAAkDC,IAAlD,CAAuD,oBAAY;QAC9DC,SAASC,SAASD,MAAtB;QACIA,OAAOE,OAAP,IAAkBF,OAAOG,GAA7B,EAAkC;SAC7BC,OAAOC,IAAP,KAAgB,aAApB,EAAmC;UAC9BC,eAAJ;QACE,mBAAF,EAAuB,CAAvB,EAA0BC,GAA1B,GAAgCP,OAAOG,GAAP,CAAWK,OAAX,CAAmB,aAAnB,EAAkC,oBAAlC,CAAhC;wBACkBf,iBAAlB,CAAoC,EAAEgB,MAAM,MAAR,EAApC;MAHD,MAIO;aACCC,QAAP,CAAgBC,IAAhB,GAAuBX,OAAOG,GAA9B;;KANF,MAQO;sBACWS,WAAjB,CAA6B,EAAEC,MAAMC,IAAIC,UAAJ,CAAe,UAAf,CAAR,EAA7B;uBACkBtB,iBAAlB,CAAoC,EAAEgB,MAAM,MAAR,EAApC;;IAZF;GAHD;;CATH"}