"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};$.Class("Vtiger_DetailPreview_Js",{},{registerLinkEvent:function(){$("#page").on("click","a",(function(e){e.preventDefault();var target=$(this);target.closest("div").hasClass("fieldValue")&&!target.hasClass("showReferenceTooltip")||target.attr("href")&&"#"!=target.attr("href")&&(top.location.href=target.attr("href"))}))},updateParentFrame:function(){parent.app.getPageController().updateWindowHeight($(".mainContainer").height(),$(window.frameElement))},updateWindowHeight:function(currentHeight,frame){var relatedContents=frame.closest(".relatedContents"),fixedListHeight=relatedContents.find(".js-list-preview--scroll").height();frame.height(currentHeight),fixedListHeight>currentHeight&&(currentHeight=fixedListHeight),relatedContents.find(".gutter, .js-list-preview, .js-side-block, .js-list-detail, .recordsListPreview").height(currentHeight),window.frameElement&&this.updateParentFrame()},registerSizeEvent:function(){var thisInstance=this;new ResizeSensor($(".mainContainer"),(function(){thisInstance.updateParentFrame()}))},registerDetailEvent:function(){var moduleClassName=app.getModuleName()+"_Detail_Js",parent=!1;void 0===window[moduleClassName]&&(moduleClassName="Vtiger_Detail_Js"),void 0!==window[moduleClassName]&&("function"==typeof window[moduleClassName]&&(parent=new window[moduleClassName]),"object"===_typeof(window[moduleClassName])&&(parent=window[moduleClassName]),parent&&parent.registerEvents())},updateChatConfig:function(){window.parent.vuexStore&&window.parent.vuexStore.commit("Chat/setDetailPreview",{id:window.app.getRecordId(),module:window.app.getModuleName()})},registerEvents:function(){this.registerDetailEvent(),this.registerLinkEvent(),this.registerSizeEvent(),this.updateChatConfig()}});
//# sourceMappingURL=DetailPreview.min.js.map
