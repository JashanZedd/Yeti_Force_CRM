{"version":3,"file":"ListSearch.min.js","sources":["ListSearch.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'YetiForce_ListSearch_Js',\n\t{\n\t\tgetInstance: function(container, noEvents, reletedInstance, moduleName) {\n\t\t\tif (typeof moduleName === 'undefined') {\n\t\t\t\tmoduleName = app.getModuleName();\n\t\t\t}\n\t\t\tlet moduleClassName = module + '_ListSearch_Js',\n\t\t\t\tinstance;\n\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName](container, noEvents, reletedInstance);\n\t\t\t} else {\n\t\t\t\tinstance = new window['YetiForce_ListSearch_Js'](container, noEvents, reletedInstance);\n\t\t\t}\n\t\t\tinstance.moduleName = moduleName;\n\t\t\treturn instance;\n\t\t},\n\t\tregisterSearch: function(container, callBack) {\n\t\t\tcontainer.on(\"click\", \".js-change-order\", function(e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcallBack({ orderby: { [element.data(\"columnname\")]: element.data(\"nextsortorderval\") } });\n\t\t\t});\n\t\t\tcontainer.on(\"click\", \".js-listview_header\", function(e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tcallBack({ orderby: element.data(\"columnname\"), sortorder: element.data(\"nextsortorderval\")});\n\t\t\t});\n\t\t\tcontainer.on(\"click\", \".js-list-reload\", function(e, data) {\n\t\t\t\tcallBack(data);\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\tmoduleName: false,\n\t\tcontainer: false,\n\t\treletedInstance: false,\n\t\tviewName: false,\n\t\tinit: function(container, noEvents, reletedInstance) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('.bodyContents');\n\t\t\t}\n\t\t\tthis.setContainer(container);\n\t\t\tif (noEvents != true && this.getContainer().find('[data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.initialize();\n\t\t\t}\n\t\t\tthis.reletedInstance = reletedInstance;\n\t\t},\n\t\tsetContainer: function(container) {\n\t\t\tthis.container = container;\n\t\t},\n\t\tgetContainer: function() {\n\t\t\treturn this.container;\n\t\t},\n\t\tsetViewName: function(viewName) {\n\t\t\tthis.viewName = viewName;\n\t\t},\n\t\t/**\n\t\t * Function  to initialize the advance filter\n\t\t */\n\t\tinitialize: function() {\n\t\t\tthis.registerEvents();\n\t\t},\n\t\tgetAlphabetSearchField: function() {\n\t\t\treturn jQuery('#alphabetSearchKey').val();\n\t\t},\n\t\tgetAlphabetSearchValue: function() {\n\t\t\treturn jQuery('#alphabetValue').val();\n\t\t},\n\t\tregisterListSearch: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listViewContainer = this.getContainer();\n\t\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').on('click', function(e) {\n\t\t\t\tthisInstance.reloadList();\n\t\t\t});\n\t\t\tlistViewContainer.find('input.listSearchContributor').on('keypress', function(e) {\n\t\t\t\tif (e.keyCode == 13) {\n\t\t\t\t\tthisInstance.triggerListSearch();\n\t\t\t\t}\n\t\t\t});\n\t\t\tlistViewContainer.find('.removeSearchConditions').on('click', function() {\n\t\t\t\tthisInstance.reloadList({ search_params: [], search_key: '', search_value: '', operator: '' });\n\t\t\t});\n\t\t},\n\t\tregisterListViewSelect: function() {\n\t\t\tlet self = this,\n\t\t\t\tlistViewContainer = this.getContainer();\n\t\t\tlistViewContainer.find('.listViewEntriesTable .select2noactive').each((index, domElement) => {\n\t\t\t\tlet select = $(domElement);\n\t\t\t\tif (!select.data('select2')) {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(select, { placeholder: app.vtranslate('JS_SELECT_AN_OPTION') });\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (app.getMainParams('autoRefreshListOnChange') == '1') {\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable select, .searchInSubcategories').on('change', () => {\n\t\t\t\t\tthis.triggerListSearch();\n\t\t\t\t});\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable .picklistSearchField').on('apply.daterangepicker', () => {\n\t\t\t\t\tthis.triggerListSearch();\n\t\t\t\t});\n\t\t\t\tlistViewContainer.find('.listViewEntriesTable .dateField').on('DatePicker.onHide', function(e, y) {\n\t\t\t\t\tlet prevVal = $(this).data('prevVal'),\n\t\t\t\t\t\tvalue = $(this).val();\n\t\t\t\t\tif (prevVal != value) {\n\t\t\t\t\t\tself.triggerListSearch();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.event.off('Clockpicker.changed');\n\t\t\t\tapp.event.on('Clockpicker.changed', (e, inputEl) => {\n\t\t\t\t\tif (listViewContainer.find(inputEl).length) {\n\t\t\t\t\t\tself.triggerListSearch();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tresetPagination: function() {\n\t\t\t//To unmark the all the selected ids\n\t\t\tjQuery('#deSelectAllMsg').trigger('click');\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//To Set the page number as first page\n\t\t\tjQuery('#pageNumber').val('1');\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#totalPageCount').text('');\n\t\t\tjQuery('.pagination').data('totalCount', 0);\n\t\t},\n\t\ttriggerListSearch: function() {\n\t\t\tvar listInstance = this;\n\t\t\tvar listViewContainer = listInstance.getContainer();\n\t\t\tlistViewContainer.find('[data-trigger=\"listSearch\"]').trigger('click');\n\t\t},\n\t\tregisterDateListSearch: function(container) {\n\t\t\tApp.Fields.Date.registerRange(this.getContainer().find('.dateRangeField'));\n\t\t},\n\t\tregisterDateTimeListSearch: function(container) {\n\t\t\tApp.Fields.DateTime.register(this.getContainer());\n\t\t},\n\t\tregisterTimeListSearch: function() {\n\t\t\tapp.registerEventForClockPicker();\n\t\t},\n\t\tregisterAlphabetClick: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.getContainer()\n\t\t\t\t.find('.alphabetBtn')\n\t\t\t\t.on('click', function() {\n\t\t\t\t\tapp.showModalWindow($('.alphabetModal').html(), function(data) {\n\t\t\t\t\t\tthisInstance.registerEventForAlphabetSearch(data);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgetCurrentCvId: function() {\n\t\t\treturn jQuery('#customFilter')\n\t\t\t\t.find('option:selected')\n\t\t\t\t.data('id');\n\t\t},\n\t\tregisterEventForAlphabetSearch: function(modalContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tmodalContainer.find('.alphabetSearch').on('click', function(e) {\n\t\t\t\tvar alphabet = jQuery(e.currentTarget)\n\t\t\t\t\t.find('a')\n\t\t\t\t\t.text();\n\t\t\t\tvar cvId = thisInstance.getCurrentCvId();\n\t\t\t\tvar AlphabetSearchKey = thisInstance.getAlphabetSearchField();\n\t\t\t\tvar urlParams = {\n\t\t\t\t\tviewname: cvId,\n\t\t\t\t\tsearch_key: AlphabetSearchKey,\n\t\t\t\t\tsearch_value: alphabet,\n\t\t\t\t\toperator: 's',\n\t\t\t\t\tpage: 1\n\t\t\t\t};\n\t\t\t\tthisInstance.resetPagination();\n\t\t\t\tthisInstance.reloadList(urlParams);\n\t\t\t\tapp.hideModalWindow();\n\t\t\t});\n\t\t\tmodalContainer.find('.removeAlfabetCondition').on('click', function() {\n\t\t\t\tthisInstance.reloadList({ search_key: '', search_value: '', operator: '' });\n\t\t\t\tapp.hideModalWindow();\n\t\t\t});\n\t\t},\n\t\tupdatePaginationOnAlphabetChange: function(alphabet, AlphabetSearchKey) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = thisInstance.moduleName;\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Pagination';\n\t\t\tparams['page'] = 1;\n\t\t\tparams['mode'] = 'getPagination';\n\t\t\tparams['search_key'] = AlphabetSearchKey;\n\t\t\tparams['search_value'] = alphabet;\n\t\t\tparams['operator'] = 's';\n\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\t\tvar instance = thisInstance.getInstanceView();\n\t\t\t\tif (instance && jQuery.isFunction(instance.registerPageNavigationEvents)) {\n\t\t\t\t\tinstance.registerPageNavigationEvents();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetListSearchParams: function(urlSearchParams) {\n\t\t\tlet listViewPageDiv = this.getContainer();\n\t\t\tlet listViewTable = listViewPageDiv.find('.listViewEntriesTable');\n\t\t\tlet searchParams = [];\n\t\t\tlistViewTable.find('.listSearchContributor').each(function(index, domElement) {\n\t\t\t\tlet searchInfo = [];\n\t\t\t\tlet searchContributorElement = $(domElement);\n\t\t\t\tlet fieldInfo = searchContributorElement.data('fieldinfo');\n\t\t\t\tlet fieldName = searchContributorElement.attr('name');\n\t\t\t\tlet searchValue = searchContributorElement.val();\n\t\t\t\tif (typeof searchValue == 'object') {\n\t\t\t\t\tif (searchValue == null) {\n\t\t\t\t\t\tsearchValue = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsearchValue = searchValue.join('##');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsearchValue = searchValue.trim();\n\t\t\t\tif (searchValue.length <= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet searchOperator = 'a';\n\t\t\t\tif (fieldInfo.hasOwnProperty('searchOperator')) {\n\t\t\t\t\tsearchOperator = fieldInfo.searchOperator;\n\t\t\t\t} else if (\n\t\t\t\t\t$.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t'time',\n\t\t\t\t\t\t'userCreator',\n\t\t\t\t\t\t'owner',\n\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t'tree',\n\t\t\t\t\t\t'boolean',\n\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t'userRole',\n\t\t\t\t\t\t'companySelect',\n\t\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t\t'inventoryLimit'\n\t\t\t\t\t]) >= 0\n\t\t\t\t) {\n\t\t\t\t\tsearchOperator = 'e';\n\t\t\t\t} else if (fieldInfo.type == 'date' || fieldInfo.type == 'datetime') {\n\t\t\t\t\tsearchOperator = 'bw';\n\t\t\t\t} else if ($.inArray(fieldInfo.type, ['multipicklist', 'categoryMultipicklist', 'multiListFields', 'mailScannerFields', 'mailScannerActions']) != -1) {\n\t\t\t\t\tsearchOperator = 'c';\n\t\t\t\t}\n\t\t\t\tlet sourceFieldName = searchContributorElement.data('sourceFieldName');\n\t\t\t\tif (sourceFieldName) {\n\t\t\t\t\tsearchInfo.push(fieldName + ':' + searchContributorElement.data('moduleName') + ':' + sourceFieldName);\n\t\t\t\t} else {\n\t\t\t\t\tsearchInfo.push(fieldName);\n\t\t\t\t}\n\t\t\t\tsearchInfo.push(searchOperator);\n\t\t\t\tsearchInfo.push(searchValue);\n\t\t\t\tif (fieldInfo.type == 'tree' || fieldInfo.type == 'categoryMultipicklist') {\n\t\t\t\t\tlet searchInSubcategories = jQuery(\n\t\t\t\t\t\t'.listViewHeaders .searchInSubcategories[data-columnname=\"' + fieldName + '\"]'\n\t\t\t\t\t).prop('checked');\n\t\t\t\t\tsearchInfo.push(searchInSubcategories);\n\t\t\t\t}\n\t\t\t\tsearchParams.push(searchInfo);\n\t\t\t});\n\t\t\tif (urlSearchParams) {\n\t\t\t\tlet valueInSearch = null;\n\t\t\t\tlet url = app.getUrlVar('search_params');\n\t\t\t\tif (url != undefined && url.length) {\n\t\t\t\t\tlet lengthUrl = url.length;\n\t\t\t\t\tif (url.charAt(lengthUrl - 1) === '#') {\n\t\t\t\t\t\turl = url.substr(0, lengthUrl - 1);\n\t\t\t\t\t}\n\t\t\t\t\turl = JSON.parse(decodeURIComponent(url));\n\t\t\t\t\t$.each(url[0], function(index, value) {\n\t\t\t\t\t\tlet exist = false;\n\t\t\t\t\t\t$.each(searchParams, function(index, searchParam) {\n\t\t\t\t\t\t\tif (searchParam[0] == value[0]) {\n\t\t\t\t\t\t\t\texist = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (value[0].indexOf(':') === -1) {\n\t\t\t\t\t\t\tvalueInSearch = listViewTable.find('.listSearchContributor[name=\"' + value[0] + '\"]').val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet fieldRelation = value[0].split(':');\n\t\t\t\t\t\t\tvalueInSearch = listViewTable\n\t\t\t\t\t\t\t\t.find(\n\t\t\t\t\t\t\t\t\t'.listSearchContributor[name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[0] +\n\t\t\t\t\t\t\t\t\t\t'\"][data-module-name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[1] +\n\t\t\t\t\t\t\t\t\t\t'\"][data-source-field-name=\"' +\n\t\t\t\t\t\t\t\t\t\tfieldRelation[2] +\n\t\t\t\t\t\t\t\t\t\t'\"]'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.val();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (exist == false && valueInSearch != '' && valueInSearch !== null) {\n\t\t\t\t\t\t\tsearchParams.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn [searchParams];\n\t\t},\n\t\tgetInstanceByView: function() {\n\t\t\tvar viewName = this.viewName ? this.viewName : app.getViewName();\n\t\t\tvar instance = false;\n\t\t\tif (viewName === 'RecordsList') {\n\t\t\t\tinstance = this.reletedInstance;\n\t\t\t\tinstance.reloadFunctionName = 'loadRecordList';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t} else if (this.reletedInstance) {\n\t\t\t\tinstance = this.reletedInstance;\n\t\t\t\tinstance.reloadFunctionName = 'loadRelatedList';\n\t\t\t} else if (viewName === 'Detail') {\n\t\t\t\tinstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tinstance.reloadFunctionName = 'loadRelatedList';\n\t\t\t} else if (viewName == 'List') {\n\t\t\t\tinstance = new Vtiger_List_Js();\n\t\t\t\tinstance.reloadFunctionName = 'getListViewRecords';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t} else if (viewName == 'ListPreview') {\n\t\t\t\tinstance = window.pageController;\n\t\t\t\tinstance.reloadFunctionName = 'getListViewRecords';\n\t\t\t\tinstance.execute = ['updatePagination'];\n\t\t\t}\n\t\t\treturn instance;\n\t\t},\n\t\treloadList: function(params) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (params == undefined) {\n\t\t\t\tparams = { page: 1 };\n\t\t\t}\n\t\t\tvar instance = this.getInstanceByView();\n\t\t\tif (instance) {\n\t\t\t\tvar funcName = instance.reloadFunctionName;\n\t\t\t\tif (jQuery.isFunction(instance[funcName])) {\n\t\t\t\t\tinstance[funcName](params).done(function() {\n\t\t\t\t\t\tthisInstance.resetPagination();\n\t\t\t\t\t\tthisInstance.executeFunctions(instance);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\texecuteFunctions: function(instance) {\n\t\t\tif (instance.execute) {\n\t\t\t\tvar func = instance.execute;\n\t\t\t\tfor (var i in func) {\n\t\t\t\t\tvar funcName = func[i];\n\t\t\t\t\tif (jQuery.isFunction(instance[funcName])) {\n\t\t\t\t\t\tinstance[funcName]();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tregisterBasicEvents: function() {\n\t\t\tthis.registerListViewSelect();\n\t\t\tthis.registerDateListSearch();\n\t\t\tthis.registerDateTimeListSearch();\n\t\t\tthis.registerTimeListSearch();\n\t\t\tthis.registerAlphabetClick();\n\t\t\tthis.registerListSearch();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('select.select2')\n\t\t\t\t.each(function(i, obj) {\n\t\t\t\t\tif (!$(obj).data('select2')) {\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView($(obj));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function() {\n\t\t\tthis.registerBasicEvents();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","noEvents","reletedInstance","moduleName","app","getModuleName","moduleClassName","module","instance","window","callBack","on","e","element","$","currentTarget","orderby","data","sortorder","setContainer","this","getContainer","find","length","initialize","viewName","registerEvents","val","thisInstance","listViewContainer","reloadList","keyCode","triggerListSearch","search_params","search_key","search_value","operator","self","each","index","domElement","select","Fields","Picklist","showSelect2ElementView","placeholder","vtranslate","getMainParams","y","event","off","inputEl","trigger","text","Date","registerRange","DateTime","register","registerEventForClockPicker","showModalWindow","html","registerEventForAlphabetSearch","modalContainer","alphabet","urlParams","getCurrentCvId","getAlphabetSearchField","resetPagination","hideModalWindow","AlphabetSearchKey","params","getParentModuleName","request","done","getInstanceView","isFunction","registerPageNavigationEvents","urlSearchParams","listViewTable","searchParams","searchInfo","searchContributorElement","fieldInfo","fieldName","attr","searchValue","join","trim","searchOperator","hasOwnProperty","inArray","type","sourceFieldName","push","searchInSubcategories","prop","valueInSearch","url","getUrlVar","undefined","lengthUrl","charAt","substr","JSON","parse","decodeURIComponent","value","exist","searchParam","indexOf","fieldRelation","split","getViewName","reloadFunctionName","execute","Vtiger_Detail_Js","getInstance","Vtiger_List_Js","pageController","page","getInstanceByView","funcName","executeFunctions","func","i","registerListViewSelect","registerDateListSearch","registerDateTimeListSearch","registerTimeListSearch","registerAlphabetClick","registerListSearch","obj","registerBasicEvents"],"mappings":"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"}