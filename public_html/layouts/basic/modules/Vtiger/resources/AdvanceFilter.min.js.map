{"version":3,"file":"AdvanceFilter.min.js","sources":["AdvanceFilter.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\"Vtiger_AdvanceFilter_Js\", {\n\tgetInstance: function (container) {\n\t\tvar module = app.getModuleName();\n\t\tvar moduleClassName1 = module + \"_AdvanceFilterEx_Js\";\n\t\tvar moduleClassName2 = module + \"_AdvanceFilter_Js\";\n\t\tvar moduleClassName3 = \"Vtiger_AdvanceFilterEx_Js\";\n\t\tvar moduleClassName4 = \"Vtiger_AdvanceFilter_Js\";\n\t\tvar instance;\n\t\tif (typeof window[moduleClassName1] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName1](container);\n\t\t} else if (typeof window[moduleClassName2] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName2](container);\n\t\t} else if (typeof window[moduleClassName3] !== \"undefined\") {\n\t\t\tinstance = new window[moduleClassName3](container);\n\t\t} else {\n\t\t\tinstance = new window[moduleClassName4](container);\n\t\t}\n\t\treturn instance;\n\t}\n}, {\n\tfilterContainer: false,\n\t//Hold the conditions for a particular field type\n\tfieldTypeConditionMapping: false,\n\t//Hold the condition and their label translations\n\tconditonOperatorLabelMapping: false,\n\tdateConditionInfo: false,\n\tfieldModelInstance: false,\n\t//Holds fields type and conditions for which it needs validation\n\tvalidationSupportedFieldConditionMap: {\n\t\t'email': ['e', 'n']\n\t},\n\t//Hols field type for which there is validations always needed\n\tallConditionValidationNeededFieldList: ['double', 'integer', 'currency'],\n\t//used to eliminate mutiple times validation registrations\n\tvalidationForControlsRegistered: false,\n\tinit: function (container) {\n\t\tif (typeof container === \"undefined\") {\n\t\t\tcontainer = jQuery('.filterContainer');\n\t\t}\n\n\t\tif (container.is('.filterContainer')) {\n\t\t\tthis.setFilterContainer(container);\n\t\t} else {\n\t\t\tthis.setFilterContainer(jQuery('.filterContainer', container));\n\t\t}\n\t\tthis.initialize();\n\t},\n\tgetModuleName: function () {\n\t\treturn 'AdvanceFilter';\n\t},\n\t/**\n\t * Function  to initialize the advance filter\n\t */\n\tinitialize: function () {\n\t\tthis.registerEvents();\n\t\tthis.initializeOperationMappingDetails();\n\t\tthis.loadFieldSpecificUiForAll();\n\t},\n\t/**\n\t * Function which will save the field condition mapping condition label mapping\n\t */\n\tinitializeOperationMappingDetails: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tthis.fieldTypeConditionMapping = jQuery('input[name=\"advanceFilterOpsByFieldType\"]', filterContainer).data('value');\n\t\tthis.conditonOperatorLabelMapping = jQuery('input[name=\"advanceFilterOptions\"]', filterContainer).data('value');\n\t\tthis.dateConditionInfo = jQuery('[name=\"date_filters\"]').data('value');\n\t\treturn this;\n\t},\n\t/**\n\t * Function to get the container which holds all the filter elements\n\t * @return jQuery object\n\t */\n\tgetFilterContainer: function () {\n\t\treturn this.filterContainer;\n\t},\n\t/**\n\t * Function to set the filter container\n\t * @params : element - which represents the filter container\n\t * @return : current instance\n\t */\n\tsetFilterContainer: function (element) {\n\t\tthis.filterContainer = element;\n\t\treturn this;\n\t},\n\tgetDateSpecificConditionInfo: function () {\n\t\treturn this.dateConditionInfo;\n\t},\n\t/**\n\t * Function which will return set of condition for the given field type\n\t * @return array of conditions\n\t */\n\tgetConditionListFromType: function (fieldType) {\n\t\tvar fieldTypeConditions = this.fieldTypeConditionMapping[fieldType];\n\t\tif (fieldType == 'D' || fieldType == 'DT') {\n\t\t\tfieldTypeConditions = fieldTypeConditions.concat(this.getDateConditions(fieldType));\n\t\t}\n\t\treturn fieldTypeConditions;\n\t},\n\tgetDateConditions: function (fieldType) {\n\t\tif (fieldType != 'D' && fieldType != 'DT') {\n\t\t\treturn [];\n\t\t}\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tvar dateFilters = this.getDateSpecificConditionInfo();\n\t\treturn Object.keys(dateFilters);\n\t},\n\t/**\n\t * Function to get the condition label\n\t * @param : key - condition key\n\t * @reurn : label for the condition or key if it doest not contain in the condition label mapping\n\t */\n\tgetConditionLabel: function (key) {\n\t\tif (key in this.conditonOperatorLabelMapping) {\n\t\t\treturn this.conditonOperatorLabelMapping[key];\n\t\t}\n\t\tif (key in this.getDateSpecificConditionInfo()) {\n\t\t\treturn this.getDateSpecificConditionInfo()[key]['label'];\n\t\t}\n\t\treturn key;\n\t},\n\t/**\n\t * Function to check if the field selected is empty field\n\t * @params : select element which represents the field\n\t * @return : boolean true/false\n\t */\n\tisEmptyFieldSelected: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t//assumption that empty field will be having value none\n\t\tif (selectedOption.val() == 'none') {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Function to get the add condition elements\n\t * @returns : jQuery object which represents the add conditions elements\n\t */\n\tgetAddConditionElement: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\treturn jQuery('.addCondition button', filterContainer);\n\t},\n\t/**\n\t * Function to add new condition row\n\t * @params : condtionGroupElement - group where condtion need to be added\n\t * @return : current instance\n\t */\n\taddNewCondition: function (conditionGroupElement) {\n\t\tlet basicElement = $('.basic', conditionGroupElement);\n\t\tlet newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\tlet selectElement = newRowElement.find('select').addClass('select2');\n\t\tlet conditionList = $('.conditionList', conditionGroupElement);\n\t\tconditionList.append(newRowElement);\n\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement, {dropdownParent: conditionGroupElement});\n\t\treturn this;\n\t},\n\t/**\n\t * Function/Handler  which will triggered when user clicks on add condition\n\t */\n\taddConditionHandler: function (e) {\n\t\tvar element = jQuery(e.currentTarget);\n\t\tvar conditionGroup = element.closest('div.conditionGroup');\n\t\tthis.addNewCondition(conditionGroup);\n\t},\n\tgetFieldSpecificType: function (fieldSelected) {\n\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\tvar type = fieldInfo.type;\n\t\tif (type == 'reference') {\n\t\t\treturn 'V';\n\t\t}\n\t\treturn fieldSelected.data('fieldtype');\n\t},\n\t/**\n\t * Function to load condition list for the selected field\n\t * @params : fieldSelect - select element which will represents field list\n\t * @return : select element which will represent the condition element\n\t */\n\tloadConditions: function (fieldSelect) {\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tvar group = row.find('[name=\"column_condition\"]');\n\t\tvar conditionSelected = conditionSelectElement.val();\n\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\tvar fieldName = fieldSelected.data('field-name');\n\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t//for none in field name\n\t\tif (typeof conditionList === \"undefined\") {\n\t\t\tconditionList = {};\n\t\t\tconditionList['none'] = 'None';\n\t\t}\n\t\tvar options = '';\n\t\tfor (var key in conditionList) {\n\t\t\tif (jQuery.inArray(fieldInfo.type, ['rangeTime', 'image']) != -1 && jQuery.inArray(conditionList[key], ['y', 'ny']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(fieldInfo.type, ['userCreator', 'owner', 'picklist', 'modules', 'tree', 'inventoryLimit', 'languages', 'currencyList', 'fileLocationType']) != -1 && jQuery.inArray(conditionList[key], ['s', 'ew', 'c', 'k']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (conditionList[key] === 'om' && jQuery.inArray(fieldInfo.type, ['owner', 'sharedOwner', 'userCreator']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['wr', 'nwr']) != -1 && jQuery.inArray(fieldInfo.type, ['owner']) == -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['s', 'ew']) != -1 && jQuery.inArray(fieldInfo.type, ['taxes', 'multipicklist', 'categoryMultipicklist', 'sharedOwner']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (jQuery.inArray(conditionList[key], ['bw', 'm', 'h']) != -1 && jQuery.inArray(fieldInfo.type, ['time']) != -1) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (conditionList[key] === 'd' && group.val() !== 'and') {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t}\n\t\t}\n\t\tconditionSelectElement.empty().html(options).trigger('change');\n\t\treturn conditionSelectElement;\n\t},\n\t/**\n\t * Functiont to get the field specific ui for the selected field\n\t * @prarms : fieldSelectElement - select element which will represents field list\n\t * @return : jquery object which represents the ui for the field\n\t */\n\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\tlet fieldModel = this.fieldModelInstance,\n\t\t\thtml;\n\t\tif (fieldModel.get('comparatorElementVal') === 'd') {\n\t\t\thtml = '<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"' + fieldModel.getName() + '\" value=\"0\" ';\n\t\t\tif (fieldModel.getValue() === 1 || fieldModel.getValue() === '1') {\n\t\t\t\thtml += 'checked';\n\t\t\t}\n\t\t\thtml += ' >' + app.vtranslate('JS_IGNORE_EMPTY_VALUES') + '</label></div>';\n\t\t\treturn $(html);\n\t\t} else if (fieldModel.getType().toLowerCase() === \"boolean\") {\n\t\t\tlet selectedValue = fieldSelectElement.closest('.js-conditions-row').find('[data-value=\"value\"]').val();\n\t\t\thtml = '<select class=\"select2\" name=\"' + fieldModel.getName() + '\">';\n\t\t\thtml += '<option value=\"0\"';\n\t\t\tif (selectedValue === '0') {\n\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t}\n\t\t\thtml += '>' + app.vtranslate('JS_IS_DISABLED') + '</option>';\n\n\t\t\thtml += '<option value=\"1\"';\n\t\t\tif (selectedValue === '1') {\n\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t}\n\t\t\thtml += '>' + app.vtranslate('JS_IS_ENABLED') + '</option>';\n\t\t\thtml += '</select>';\n\t\t\treturn $(html);\n\t\t} else {\n\t\t\treturn $(fieldModel.getUiTypeSpecificHtml());\n\t\t}\n\t},\n\t/**\n\t * Function which will load the field specific ui for a selected field\n\t * @prarms : fieldSelect - select element which will represents field list\n\t * @return : current instance\n\t */\n\tloadFieldSpecificUi: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar fieldUiHolder = row.find('.fieldUiHolder');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tvar fieldInfo = selectedOption.data('fieldinfo');\n\n\t\tvar fieldType = 'string';\n\t\tif (typeof fieldInfo !== \"undefined\") {\n\t\t\tfieldType = fieldInfo.type;\n\t\t} else {\n\t\t\tfieldInfo = {};\n\t\t}\n\n\t\tvar comparatorElementVal = fieldInfo.comparatorElementVal = conditionSelectElement.val();\n\t\tif (fieldType == 'date' || fieldType == 'datetime') {\n\t\t\tfieldInfo.dateSpecificConditions = this.getDateSpecificConditionInfo();\n\t\t}\n\t\tvar moduleName = this.getModuleName();\n\t\tvar fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\tthis.fieldModelInstance = fieldModel;\n\t\tvar fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\n\t\t//remove validation since we dont need validations for all eleements\n\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\tvar fieldName = fieldModel.getName();\n\n\t\tif ($.inArray(fieldModel.getType(), ['multipicklist', 'sharedOwner', 'multiReferenceValue', 'taxes', 'categoryMultipicklist']) > -1) {\n\t\t\tfieldName = fieldName + \"[]\";\n\t\t} else if (($.inArray(fieldModel.getType(), ['userCreator', 'picklist', 'owner', 'languages', 'modules', 'inventoryLimit', 'currencyList', 'fileLocationType']) > -1) &&\n\t\t\tfieldSpecificUi.is('select') && (comparatorElementVal == 'e' || comparatorElementVal == 'n')) {\n\t\t\tfieldName = fieldName + \"[]\";\n\t\t}\n\n\t\tif (fieldSpecificUi.find('.input-group-addon').length > 0) {\n\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\tfieldSpecificUi.find('input[type=\"text\"]').css('width', '100%');\n\t\t\tfieldSpecificUi.find('input[type=\"text\"]').addClass('form-control');\n\t\t} else {\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').addClass('form-control');\n\t\t}\n\n\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-value', 'value').removeAttr('data-validation-engine');\n\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-value', 'value').removeAttr('data-validation-engine');\n\n\t\tif (fieldModel.getType() == 'currency') {\n\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').attr('data-decimal-separator', fieldInfo.decimal_separator).attr('data-group-separator', fieldInfo.group_separator);\n\t\t\tfieldSpecificUi.find('[name=\"' + fieldName + '\"]').attr('data-decimal-separator', fieldInfo.decimal_separator).attr('data-group-separator', fieldInfo.group_separator);\n\t\t}\n\n\t\tfieldUiHolder.html(fieldSpecificUi);\n\n\t\tif (fieldSpecificUi.is('select')) {\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi, {dropdownParent: row});\n\t\t} else if (fieldSpecificUi.has('input.dateField').length > 0) {\n\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t} else if (fieldSpecificUi.has('input.dateRangeField').length > 0) {\n\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, {ranges: false});\n\t\t} else if (fieldSpecificUi.has('input.clockPicker').length > 0) {\n\t\t\tapp.registerEventForClockPicker(fieldSpecificUi);\n\t\t}\n\t\tthis.addValidationToFieldIfNeeded(fieldSelect);\n\n\t\t// Is Empty, today, tomorrow, yesterday conditions does not need any field input value - hide the UI\n\t\t// re-enable if condition element is chosen.\n\t\tvar specialConditions = [\"y\", \"today\", \"tomorrow\", \"yesterday\", \"smallerthannow\", \"greaterthannow\", \"ny\", \"om\", \"wr\", \"nwr\"];\n\t\tif (specialConditions.indexOf(conditionSelectElement.val()) != -1) {\n\t\t\tfieldUiHolder.hide();\n\t\t} else {\n\t\t\tfieldUiHolder.show();\n\t\t}\n\n\t\treturn this;\n\t},\n\t/**\n\t * Function to load field specific ui for all the select elements - this is used on load\n\t * to show field specific ui for all the fields\n\t */\n\tloadFieldSpecificUiForAll: function () {\n\t\tvar conditionsContainer = jQuery('.conditionList');\n\t\tvar fieldSelectElement = jQuery('select[name=\"columnname\"]', conditionsContainer);\n\t\tjQuery.each(fieldSelectElement, function (i, elem) {\n\t\t\tvar currentElement = jQuery(elem);\n\t\t\tif (currentElement.val() != 'none') {\n\t\t\t\tcurrentElement.trigger('change', {'_intialize': true});\n\t\t\t}\n\t\t});\n\t\treturn this;\n\t},\n\t/**\n\t * Function to add the validation if required\n\t * @prarms : selectFieldElement - select element which will represents field list\n\t */\n\taddValidationToFieldIfNeeded: function (selectFieldElement) {\n\t\tvar selectedOption = selectFieldElement.find('option:selected');\n\t\tvar row = selectFieldElement.closest('div.js-conditions-row');\n\t\tvar fieldSpecificElement = row.find('[data-value=\"value\"]');\n\t\tvar validator = selectedOption.attr('data-validator');\n\n\t\tif (this.isFieldSupportsValidation(selectFieldElement)) {\n\t\t\t//data attribute will not be present while attaching validation engine events . so we are\n\t\t\t//depending on the fallback option which is class\n\t\t\tfieldSpecificElement.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t.attr('data-validation-engine', 'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t.attr('data-fieldinfo', JSON.stringify(selectedOption.data('fieldinfo')));\n\t\t\tif (typeof validator !== \"undefined\") {\n\t\t\t\tfieldSpecificElement.attr('data-validator', validator);\n\t\t\t}\n\t\t} else {\n\t\t\tfieldSpecificElement.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t.removeAttr('data-validation-engine')\n\t\t\t\t.removeAttr('data-fieldinfo');\n\t\t}\n\t\treturn this;\n\t},\n\t/**\n\t * Check if field supports validation\n\t * @prarms : selectFieldElement - select element which will represents field list\n\t * @return - boolen true/false\n\t */\n\tisFieldSupportsValidation: function (fieldSelect) {\n\t\tvar selectedOption = fieldSelect.find('option:selected');\n\n\t\tvar fieldModel = this.fieldModelInstance;\n\t\tvar type = fieldModel.getType();\n\n\t\tif (jQuery.inArray(type, this.allConditionValidationNeededFieldList) >= 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\tvar selectedCondition = conditionSelectElement.find('option:selected');\n\n\t\tvar conditionValue = conditionSelectElement.val();\n\n\t\tif (type in this.validationSupportedFieldConditionMap) {\n\t\t\tif (jQuery.inArray(conditionValue, this.validationSupportedFieldConditionMap[type]) >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\t/**\n\t * Function to retrieve the values of the filter\n\t * @return : object\n\t */\n\tgetValues: function () {\n\t\tconst thisInstance = this;\n\t\tlet fieldList = ['columnname', 'comparator', 'value', 'column_condition'],\n\t\t\tfilterContainer = this.getFilterContainer(),\n\t\t\tconditionGroups = $('.conditionGroup', filterContainer),\n\t\t\tvalues = {},\n\t\t\tcolumnIndex = 0;\n\t\t$('.conditionGroup', filterContainer).each(function (index, domElement) {\n\t\t\tlet groupElement = $(domElement);\n\t\t\tvalues[index + 1] = {};\n\t\t\tvalues[index + 1]['columns'] = {};\n\t\t\t$('.conditionList .js-conditions-row', groupElement).each(function (i, conditionDomElement) {\n\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t//To not send empty fields to server\n\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo'),\n\t\t\t\t\tfieldType = fieldDataInfo.type,\n\t\t\t\t\trowValues = {},\n\t\t\t\t\tkey,\n\t\t\t\t\tfield;\n\t\t\t\tif (fieldType === 'owner' || fieldType === 'userCreator') {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\t\tlet newValuesArr = valueSelectElement.val();\n\t\t\t\t\t\t\tif (!newValuesArr) {\n\t\t\t\t\t\t\t\trowValues[field] = '';\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if ($.inArray(fieldType, ['picklist', 'multipicklist', 'modules', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1) {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value' && valueSelectElement.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== \"undefined\") {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && ($.inArray(fieldType, ['picklist', 'multipicklist', 'modules', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1)) {\n\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\trowValues[field] = valueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (rowElement.is(\":last-child\")) {\n\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t}\n\t\t\t\tvalues[index + 1]['columns'][columnIndex] = rowValues;\n\t\t\t\tcolumnIndex++;\n\t\t\t});\n\t\t\tif (groupElement.find('div.groupCondition').length > 0) {\n\t\t\t\tvalues[index + 1]['condition'] = conditionGroups.find('div.groupCondition [name=\"condition\"]').val();\n\t\t\t}\n\t\t});\n\t\treturn values;\n\n\t},\n\t/**\n\t * Event handle which will be triggred on deletion of a condition row\n\t */\n\tdeleteConditionHandler: function (e) {\n\t\tvar element = jQuery(e.currentTarget);\n\t\tvar row = element.closest('.js-conditions-row');\n\t\trow.remove();\n\t},\n\t/**\n\t * Event handler which is invoked on add condition\n\t */\n\tregisterAddCondition: function () {\n\t\tvar thisInstance = this;\n\t\tthis.getAddConditionElement().on('click', function (e) {\n\t\t\tthisInstance.addConditionHandler(e);\n\t\t});\n\t},\n\t/**\n\t * Function which will register field change event\n\t */\n\tregisterFieldChange: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tvar thisInstance = this;\n\t\tfilterContainer.on('change', 'select[name=\"columnname\"]', function (e, data) {\n\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\tif (typeof data === \"undefined\" || data._intialize != true) {\n\t\t\t\tvar row = currentElement.closest('div.js-conditions-row');\n\t\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\t\tconditionSelectElement.empty();\n\t\t\t}\n\t\t\tthisInstance.loadConditions(currentElement);\n\t\t\tthisInstance.loadFieldSpecificUi(currentElement);\n\t\t});\n\t},\n\t/**\n\t * Function which will register condition change\n\t */\n\tregisterConditionChange: function () {\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tvar thisInstance = this;\n\t\tfilterContainer.on('change', 'select[name=\"comparator\"]', function (e) {\n\t\t\tvar comparatorSelectElement = jQuery(e.currentTarget);\n\t\t\tvar row = comparatorSelectElement.closest('div.js-conditions-row');\n\t\t\tvar fieldSelectElement = row.find('select[name=\"columnname\"]');\n\t\t\tvar selectedOption = fieldSelectElement.find('option:selected');\n\t\t\t//To handle the validation depending on condtion\n\t\t\tthisInstance.loadFieldSpecificUi(fieldSelectElement);\n\t\t\tthisInstance.addValidationToFieldIfNeeded(fieldSelectElement);\n\t\t});\n\t},\n\t/**\n\t * Function to regisgter delete condition event\n\t */\n\tregisterDeleteCondition: function () {\n\t\tvar thisInstance = this;\n\t\tvar filterContainer = this.getFilterContainer();\n\t\tfilterContainer.on('click', '.deleteCondition', function (e) {\n\t\t\tthisInstance.deleteConditionHandler(e);\n\t\t});\n\t},\n\t/**\n\t * Function which will regiter all events for this page\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerAddCondition();\n\t\tthis.registerFieldChange();\n\t\tthis.registerDeleteCondition();\n\t\tthis.registerConditionChange();\n\t}\n});\n\nVtiger_Field_Js('AdvanceFilter_Field_Js', {}, {\n\tgetUiTypeSpecificHtml: function () {\n\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\treturn uiTypeModel.getUi();\n\t},\n\tgetModuleName: function () {\n\t\tvar currentModule = app.getModuleName();\n\n\t\tvar type = this.getType();\n\t\tif ($.inArray(type, ['picklist', 'userCreator', 'multipicklist', 'owner', 'userCreator', 'modules', 'date', 'datetime', 'sharedOwner', 'multiReferenceValue', 'inventoryLimit', 'languages', 'currencyList', 'taxes', 'fileLocationType', 'categoryMultipicklist']) > -1) {\n\t\t\tcurrentModule = 'AdvanceFilter';\n\t\t}\n\t\treturn currentModule;\n\t}\n});\n\nVtiger_Picklist_Field_Js('AdvanceFilter_Picklist_Field_Js', {}, {\n\tgetUi: function () {\n\t\tvar html = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\tvar pickListValues = this.getPickListValues();\n\t\tvar selectedOption = app.htmlDecode(this.getValue());\n\t\tvar selectedOptionsArray = selectedOption.split(',');\n\t\tfor (var option in pickListValues) {\n\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\tif (jQuery.inArray(option, selectedOptionsArray) != -1) {\n\t\t\t\thtml += ' selected ';\n\t\t\t}\n\t\t\thtml += '>' + pickListValues[option] + '</option>';\n\t\t}\n\t\thtml += '</select>';\n\t\tvar selectContainer = jQuery(html);\n\t\tthis.addValidationToElement(selectContainer);\n\t\treturn selectContainer;\n\t}\n});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Modules_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Inventorylimit_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Filelocationtype_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Multipicklist_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Categorymultipicklist_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Languages_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Currencylist_Field_Js', {}, {});\n\nAdvanceFilter_Multipicklist_Field_Js('AdvanceFilter_Taxes_Field_Js', {}, {});\n\nVtiger_Owner_Field_Js('AdvanceFilter_Owner_Field_Js', {}, {\n\tgetUi: function () {\n\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\thtml = '',\n\t\t\tselectContainer;\n\t\tif ((comparatorSelectedOptionVal === 'e' || comparatorSelectedOptionVal === 'n') || (this.getName() === 'shownerid' && $.inArray(comparatorSelectedOptionVal, ['c', 'k']) != -1)) {\n\t\t\thtml = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\tlet pickListValues = this.getPickListValues(),\n\t\t\t\tselectedOption = app.htmlDecode(this.getValue()),\n\t\t\t\toptGroup;\n\t\t\tfor (optGroup in pickListValues) {\n\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">';\n\t\t\t\tlet optionGroupValues = pickListValues[optGroup],\n\t\t\t\t\toption;\n\t\t\t\tfor (option in optionGroupValues) {\n\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\tif ($.inArray(option, selectedOption.split(',')) != -1) {\n\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t}\n\t\t\t\thtml += '</optgroup>';\n\t\t\t}\n\t\t\thtml += '</select>';\n\t\t\tselectContainer = $(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t} else {\n\t\t\tlet tagsArray = [];\n\t\t\t$.each(this.getPickListValues(), function (groups, blocks) {\n\t\t\t\t$.each(blocks, function (i, e) {\n\t\t\t\t\ttagsArray.push($.trim(e));\n\t\t\t\t});\n\t\t\t});\n\t\t\thtml = '<input data-tags=\"' + tagsArray + '\" type=\"hidden\" class=\"row select2\" name=\"' + this.getName() + '\">';\n\t\t\tselectContainer = $(html).val(this.getValue());\n\t\t\tselectContainer.data('tags', tagsArray);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n});\n\nVtiger_Multireferencevalue_Field_Js('AdvanceFilter_Multireferencevalue_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Sharedowner_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Usercreator_Field_Js', {}, {});\nVtiger_Date_Field_Js('AdvanceFilter_Date_Field_Js', {}, {\n\t/**\n\t * Function to get the ui\n\t * @return - input text field\n\t */\n\tgetUi: function () {\n\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\thtml = '';\n\t\tif (comparatorSelectedOptionVal === 'bw' || comparatorSelectedOptionVal === 'custom') {\n\t\t\thtml = '<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' + this.getName() + '\" data-date-format=\"' + this.getDateFormat() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + this.getValue() + '\"></div>';\n\t\t\tlet element = $(html),\n\t\t\t\tdateFieldUi = element.find('.dateRangeField');\n\t\t\tif (dateFieldUi.val().indexOf(',') !== -1) {\n\t\t\t\tlet valueArray = this.getValue().split(','),\n\t\t\t\t\tstartDateTime = valueArray[0],\n\t\t\t\t\tendDateTime = valueArray[1];\n\t\t\t\tif (startDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\tlet dateTime = startDateTime.split(' ');\n\t\t\t\t\tstartDateTime = dateTime[0];\n\t\t\t\t}\n\t\t\t\tif (endDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\tlet dateTimeValue = endDateTime.split(' ');\n\t\t\t\t\tendDateTime = dateTimeValue[0];\n\t\t\t\t}\n\t\t\t\tdateFieldUi.val(startDateTime + ',' + endDateTime);\n\t\t\t} else {\n\t\t\t\t// while changing to between/custom from equal/notequal/... we'll only have one value\n\t\t\t\tlet value = this.getValue().split(' '),\n\t\t\t\t\tstartDate = value[0],\n\t\t\t\t\tendDate = value[0];\n\t\t\t\tif (startDate !== '' && endDate !== '') {\n\t\t\t\t\tdateFieldUi.val(startDate + ',' + endDate);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.addValidationToElement(element);\n\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\tif (comparatorSelectedOptionVal === 'today' || comparatorSelectedOptionVal === 'tomorrow' || comparatorSelectedOptionVal === 'yesterday') {\n\t\t\t\thtml = '<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + '\">';\n\t\t\t} else {\n\t\t\t\thtml = '<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + ',' + endValue + '\">';\n\t\t\t}\n\t\t\treturn $(html);\n\t\t} else {\n\t\t\tlet fieldUi = this._super(),\n\t\t\t\tdateTimeFieldValue = fieldUi.find('.dateField').val(),\n\t\t\t\tdateValue = dateTimeFieldValue.split(' ');\n\t\t\tif (dateValue[1] === '00:00:00') {\n\t\t\t\tdateTimeFieldValue = dateValue[0];\n\t\t\t} else if (comparatorSelectedOptionVal === 'e' || comparatorSelectedOptionVal === 'n' ||\n\t\t\t\tcomparatorSelectedOptionVal === 'b' || comparatorSelectedOptionVal === 'a') {\n\t\t\t\tlet dateTimeArray = dateTimeFieldValue.split(' ');\n\t\t\t\tdateTimeFieldValue = dateTimeArray[0];\n\t\t\t}\n\t\t\tfieldUi.find('.dateField').val(dateTimeFieldValue);\n\t\t\treturn fieldUi;\n\t\t}\n\t}\n});\n\n\nAdvanceFilter_Date_Field_Js('AdvanceFilter_Datetime_Field_Js', {}, {});\n"],"names":["jQuery","Class","getInstance","container","module","app","getModuleName","moduleClassName1","moduleClassName2","instance","filterContainer","fieldTypeConditionMapping","conditonOperatorLabelMapping","dateConditionInfo","fieldModelInstance","validationSupportedFieldConditionMap","allConditionValidationNeededFieldList","validationForControlsRegistered","init","is","setFilterContainer","initialize","registerEvents","initializeOperationMappingDetails","loadFieldSpecificUiForAll","getFilterContainer","data","element","getDateSpecificConditionInfo","getConditionListFromType","fieldType","fieldTypeConditions","concat","getDateConditions","dateFilters","keys","getConditionLabel","key","isEmptyFieldSelected","fieldSelect","find","val","getAddConditionElement","addNewCondition","conditionGroupElement","$","newRowElement","basicElement","clone","selectElement","addClass","conditionList","append","App","Fields","Picklist","showSelect2ElementView","dropdownParent","addConditionHandler","e","currentTarget","conditionGroup","closest","getFieldSpecificType","fieldSelected","type","fieldInfo","loadConditions","conditionSelectElement","row","group","conditionSelected","fieldSpecificType","fieldName","inArray","hasOwnProperty","conditionLabel","conditionValue","options","empty","html","trigger","getFieldSpecificUi","fieldSelectElement","fieldModel","get","getName","getValue","vtranslate","getType","toLowerCase","getUiTypeSpecificHtml","loadFieldSpecificUi","fieldUiHolder","selectedOption","comparatorElementVal","dateSpecificConditions","Vtiger_Field_Js","moduleName","fieldSpecificUi","length","css","filter","attr","removeAttr","decimal_separator","group_separator","has","Date","register","registerRange","ranges","registerEventForClockPicker","addValidationToFieldIfNeeded","indexOf","show","hide","conditionsContainer","each","i","elem","currentElement","selectFieldElement","fieldSpecificElement","validator","isFieldSupportsValidation","JSON","stringify","removeClass","selectedCondition","getValues","fieldList","conditionGroups","values","columnIndex","index","domElement","groupElement","conditionDomElement","rowElement","valueSelectElement","thisInstance","field","fieldDataInfo","rowValues","newValuesArr","join","prop","valuesArr","split","push","pickListValues","value","deleteConditionHandler","remove","registerAddCondition","on","registerFieldChange","_intialize","registerConditionChange","comparatorSelectElement","registerDeleteCondition","getUiTypeModel","getUi","currentModule","Vtiger_Picklist_Field_Js","getPickListValues","htmlDecode","selectedOptionsArray","option","addValidationToElement","selectContainer","AdvanceFilter_Picklist_Field_Js","Vtiger_Multipicklist_Field_Js","AdvanceFilter_Multipicklist_Field_Js","Vtiger_Owner_Field_Js","comparatorSelectedOptionVal","optGroup","optionGroupValues","groups","blocks","tagsArray","trim","Vtiger_Multireferencevalue_Field_Js","AdvanceFilter_Owner_Field_Js","Vtiger_Date_Field_Js","getDateFormat","dateFieldUi","startDateTime","valueArray","endDateTime","dateTime","dateTimeValue","startDate","endDate","endValue","startValue","_super","dateTimeFieldValue","fieldUi","dateValue","dateTimeArray","AdvanceFilter_Date_Field_Js"],"mappings":"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"}