{"version":3,"file":"AdvanceFilter.min.js","sources":["AdvanceFilter.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_AdvanceFilter_Js',\n\t{\n\t\tgetInstance: function(container) {\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar moduleClassName1 = module + '_AdvanceFilterEx_Js';\n\t\t\tvar moduleClassName2 = module + '_AdvanceFilter_Js';\n\t\t\tvar moduleClassName3 = 'Vtiger_AdvanceFilterEx_Js';\n\t\t\tvar moduleClassName4 = 'Vtiger_AdvanceFilter_Js';\n\t\t\tvar instance;\n\t\t\tif (typeof window[moduleClassName1] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName1](container);\n\t\t\t} else if (typeof window[moduleClassName2] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName2](container);\n\t\t\t} else if (typeof window[moduleClassName3] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName3](container);\n\t\t\t} else {\n\t\t\t\tinstance = new window[moduleClassName4](container);\n\t\t\t}\n\t\t\treturn instance;\n\t\t}\n\t},\n\t{\n\t\tfilterContainer: false,\n\t\t//Hold the conditions for a particular field type\n\t\tfieldTypeConditionMapping: false,\n\t\t//Hold the condition and their label translations\n\t\tconditonOperatorLabelMapping: false,\n\t\tdateConditionInfo: false,\n\t\tfieldModelInstance: false,\n\t\t//Holds fields type and conditions for which it needs validation\n\t\tvalidationSupportedFieldConditionMap: {\n\t\t\temail: ['e', 'n']\n\t\t},\n\t\t//Hols field type for which there is validations always needed\n\t\tallConditionValidationNeededFieldList: ['double', 'integer', 'currency'],\n\t\t//used to eliminate mutiple times validation registrations\n\t\tvalidationForControlsRegistered: false,\n\t\tinit: function(container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('.filterContainer');\n\t\t\t}\n\n\t\t\tif (container.is('.filterContainer')) {\n\t\t\t\tthis.setFilterContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setFilterContainer(jQuery('.filterContainer', container));\n\t\t\t}\n\t\t\tthis.initialize();\n\t\t},\n\t\tgetModuleName: function() {\n\t\t\treturn 'AdvanceFilter';\n\t\t},\n\t\t/**\n\t\t * Function  to initialize the advance filter\n\t\t */\n\t\tinitialize: function() {\n\t\t\tthis.registerEvents();\n\t\t\tthis.initializeOperationMappingDetails();\n\t\t\tthis.loadFieldSpecificUiForAll();\n\t\t},\n\t\t/**\n\t\t * Function which will save the field condition mapping condition label mapping\n\t\t */\n\t\tinitializeOperationMappingDetails: function() {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tthis.fieldTypeConditionMapping = jQuery('input[name=\"advanceFilterOpsByFieldType\"]', filterContainer).data(\n\t\t\t\t'value'\n\t\t\t);\n\t\t\tthis.conditonOperatorLabelMapping = jQuery('input[name=\"advanceFilterOptions\"]', filterContainer).data(\n\t\t\t\t'value'\n\t\t\t);\n\t\t\tthis.dateConditionInfo = jQuery('[name=\"date_filters\"]').data('value');\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the filter elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetFilterContainer: function() {\n\t\t\treturn this.filterContainer;\n\t\t},\n\t\t/**\n\t\t * Function to set the filter container\n\t\t * @params : element - which represents the filter container\n\t\t * @return : current instance\n\t\t */\n\t\tsetFilterContainer: function(element) {\n\t\t\tthis.filterContainer = element;\n\t\t\treturn this;\n\t\t},\n\t\tgetDateSpecificConditionInfo: function() {\n\t\t\treturn this.dateConditionInfo;\n\t\t},\n\t\t/**\n\t\t * Function which will return set of condition for the given field type\n\t\t * @return array of conditions\n\t\t */\n\t\tgetConditionListFromType: function(fieldType) {\n\t\t\tvar fieldTypeConditions = this.fieldTypeConditionMapping[fieldType];\n\t\t\tif (fieldType == 'D' || fieldType == 'DT') {\n\t\t\t\tfieldTypeConditions = fieldTypeConditions.concat(this.getDateConditions(fieldType));\n\t\t\t}\n\t\t\treturn fieldTypeConditions;\n\t\t},\n\t\tgetDateConditions: function(fieldType) {\n\t\t\tif (fieldType != 'D' && fieldType != 'DT') {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tvar dateFilters = this.getDateSpecificConditionInfo();\n\t\t\treturn Object.keys(dateFilters);\n\t\t},\n\t\t/**\n\t\t * Function to get the condition label\n\t\t * @param : key - condition key\n\t\t * @reurn : label for the condition or key if it doest not contain in the condition label mapping\n\t\t */\n\t\tgetConditionLabel: function(key) {\n\t\t\tif (key in this.conditonOperatorLabelMapping) {\n\t\t\t\treturn this.conditonOperatorLabelMapping[key];\n\t\t\t}\n\t\t\tif (key in this.getDateSpecificConditionInfo()) {\n\t\t\t\treturn this.getDateSpecificConditionInfo()[key]['label'];\n\t\t\t}\n\t\t\treturn key;\n\t\t},\n\t\t/**\n\t\t * Function to check if the field selected is empty field\n\t\t * @params : select element which represents the field\n\t\t * @return : boolean true/false\n\t\t */\n\t\tisEmptyFieldSelected: function(fieldSelect) {\n\t\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t\t//assumption that empty field will be having value none\n\t\t\tif (selectedOption.val() == 'none') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Function to get the add condition elements\n\t\t * @returns : jQuery object which represents the add conditions elements\n\t\t */\n\t\tgetAddConditionElement: function() {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\treturn jQuery('.addCondition button', filterContainer);\n\t\t},\n\t\t/**\n\t\t * Function to add new condition row\n\t\t * @params : condtionGroupElement - group where condtion need to be added\n\t\t * @return : current instance\n\t\t */\n\t\taddNewCondition: function(conditionGroupElement) {\n\t\t\tlet basicElement = $('.basic', conditionGroupElement);\n\t\t\tlet newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\t\tlet selectElement = newRowElement.find('select').addClass('select2');\n\t\t\tlet conditionList = $('.conditionList', conditionGroupElement);\n\t\t\tconditionList.append(newRowElement);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement, { dropdownParent: conditionGroupElement });\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function/Handler  which will triggered when user clicks on add condition\n\t\t */\n\t\taddConditionHandler: function(e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar conditionGroup = element.closest('div.conditionGroup');\n\t\t\tthis.addNewCondition(conditionGroup);\n\t\t},\n\t\tgetFieldSpecificType: function(fieldSelected) {\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tvar type = fieldInfo.type;\n\t\t\tif (type == 'reference') {\n\t\t\t\treturn 'V';\n\t\t\t}\n\t\t\treturn fieldSelected.data('fieldtype');\n\t\t},\n\t\t/**\n\t\t * Function to load condition list for the selected field\n\t\t * @params : fieldSelect - select element which will represents field list\n\t\t * @return : select element which will represent the condition element\n\t\t */\n\t\tloadConditions: function(fieldSelect) {\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tvar group = row.find('[name=\"column_condition\"]');\n\t\t\tvar conditionSelected = conditionSelectElement.val();\n\t\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\t//for none in field name\n\t\t\tif (typeof conditionList === 'undefined') {\n\t\t\t\tconditionList = {};\n\t\t\t\tconditionList['none'] = 'None';\n\t\t\t}\n\t\t\tvar options = '';\n\t\t\tfor (var key in conditionList) {\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['rangeTime', 'image']) != -1 &&\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['y', 'ny']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'userCreator',\n\t\t\t\t\t\t'owner',\n\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t'tree',\n\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t'fileLocationType'\n\t\t\t\t\t]) != -1 &&\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['s', 'ew', 'c', 'k']) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tconditionList[key] === 'om' &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['owner', 'sharedOwner', 'userCreator']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['wr', 'nwr']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['owner']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['s', 'ew']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t'categoryMultipicklist',\n\t\t\t\t\t\t'sharedOwner'\n\t\t\t\t\t]) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['bw', 'm', 'h']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['time']) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (conditionList[key] === 'd' && group.val() !== 'and') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t}\n\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tconditionSelectElement\n\t\t\t\t.empty()\n\t\t\t\t.html(options)\n\t\t\t\t.trigger('change');\n\t\t\treturn conditionSelectElement;\n\t\t},\n\t\t/**\n\t\t * Functiont to get the field specific ui for the selected field\n\t\t * @prarms : fieldSelectElement - select element which will represents field list\n\t\t * @return : jquery object which represents the ui for the field\n\t\t */\n\t\tgetFieldSpecificUi: function(fieldSelectElement) {\n\t\t\tlet fieldModel = this.fieldModelInstance,\n\t\t\t\thtml;\n\t\t\tif (fieldModel.get('comparatorElementVal') === 'd') {\n\t\t\t\thtml =\n\t\t\t\t\t'<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"' +\n\t\t\t\t\tfieldModel.getName() +\n\t\t\t\t\t'\" value=\"0\" ';\n\t\t\t\tif (fieldModel.getValue() === 1 || fieldModel.getValue() === '1') {\n\t\t\t\t\thtml += 'checked';\n\t\t\t\t}\n\t\t\t\thtml += ' >' + app.vtranslate('JS_IGNORE_EMPTY_VALUES') + '</label></div>';\n\t\t\t\treturn $(html);\n\t\t\t} else if (\n\t\t\t\tfieldModel.getType().toLowerCase() === 'boolean' ||\n\t\t\t\tfieldSelectElement.find('option:selected').data('fieldtype') === 'C'\n\t\t\t) {\n\t\t\t\tlet selectedValue = fieldSelectElement\n\t\t\t\t\t.closest('.js-conditions-row')\n\t\t\t\t\t.find('[data-value=\"value\"]')\n\t\t\t\t\t.val();\n\t\t\t\thtml = '<select class=\"select2\" name=\"' + fieldModel.getName() + '\">';\n\t\t\t\thtml += '<option value=\"0\"';\n\t\t\t\tif (selectedValue === '0') {\n\t\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + app.vtranslate('JS_IS_DISABLED') + '</option>';\n\n\t\t\t\thtml += '<option value=\"1\"';\n\t\t\t\tif (selectedValue === '1') {\n\t\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + app.vtranslate('JS_IS_ENABLED') + '</option>';\n\t\t\t\thtml += '</select>';\n\t\t\t\treturn $(html);\n\t\t\t} else {\n\t\t\t\treturn $(fieldModel.getUiTypeSpecificHtml());\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will load the field specific ui for a selected field\n\t\t * @prarms : fieldSelect - select element which will represents field list\n\t\t * @return : current instance\n\t\t */\n\t\tloadFieldSpecificUi: function(fieldSelect) {\n\t\t\tconst selectedOption = fieldSelect.find('option:selected');\n\t\t\tconst row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tconst fieldUiHolder = row.find('.fieldUiHolder');\n\t\t\tconst conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tlet fieldInfo = selectedOption.data('fieldinfo');\n\t\t\tconst valueType = fieldUiHolder.find(`[name=\"${fieldInfo.name}\"]`).data('valuetype');\n\t\t\tlet fieldType = 'string';\n\t\t\tif (typeof fieldInfo !== 'undefined') {\n\t\t\t\tfieldType = fieldInfo.type;\n\t\t\t} else {\n\t\t\t\tfieldInfo = {};\n\t\t\t}\n\n\t\t\tvar comparatorElementVal = (fieldInfo.comparatorElementVal = conditionSelectElement.val());\n\t\t\tif (fieldType == 'date' || fieldType == 'datetime') {\n\t\t\t\tfieldInfo.dateSpecificConditions = this.getDateSpecificConditionInfo();\n\t\t\t}\n\t\t\tvar moduleName = this.getModuleName();\n\t\t\tvar fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\t\tthis.fieldModelInstance = fieldModel;\n\t\t\tvar fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\n\t\t\t//remove validation since we dont need validations for all eleements\n\t\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\t\tvar fieldName = fieldModel.getName();\n\n\t\t\tif (\n\t\t\t\t$.inArray(fieldModel.getType(), [\n\t\t\t\t\t'multipicklist',\n\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t'taxes',\n\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t]) > -1\n\t\t\t) {\n\t\t\t\tfieldName = fieldName + '[]';\n\t\t\t} else if (\n\t\t\t\t$.inArray(fieldModel.getType(), [\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'picklist',\n\t\t\t\t\t'owner',\n\t\t\t\t\t'languages',\n\t\t\t\t\t'modules',\n\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t'currencyList',\n\t\t\t\t\t'fileLocationType'\n\t\t\t\t]) > -1 &&\n\t\t\t\tfieldSpecificUi.is('select') &&\n\t\t\t\t(comparatorElementVal == 'e' || comparatorElementVal == 'n')\n\t\t\t) {\n\t\t\t\tfieldName = fieldName + '[]';\n\t\t\t}\n\n\t\t\tif (fieldSpecificUi.find('.input-group-addon').length > 0) {\n\t\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\t\tfieldSpecificUi.find('input[type=\"text\"]').css('width', '100%');\n\t\t\t\tfieldSpecificUi.find('input[type=\"text\"]').addClass('form-control');\n\t\t\t} else {\n\t\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').addClass('form-control');\n\t\t\t}\n\n\t\t\tfieldSpecificUi\n\t\t\t\t.filter('[name=\"' + fieldName + '\"]')\n\t\t\t\t.attr('data-value', 'value')\n\t\t\t\t.removeAttr('data-validation-engine');\n\t\t\tfieldSpecificUi\n\t\t\t\t.find('[name=\"' + fieldName + '\"]')\n\t\t\t\t.attr('data-value', 'value')\n\t\t\t\t.removeAttr('data-validation-engine');\n\n\t\t\tif (fieldModel.getType() == 'currency') {\n\t\t\t\tfieldSpecificUi\n\t\t\t\t\t.filter('[name=\"' + fieldName + '\"]')\n\t\t\t\t\t.attr('data-decimal-separator', fieldInfo.decimal_separator)\n\t\t\t\t\t.attr('data-group-separator', fieldInfo.group_separator);\n\t\t\t\tfieldSpecificUi\n\t\t\t\t\t.find('[name=\"' + fieldName + '\"]')\n\t\t\t\t\t.attr('data-decimal-separator', fieldInfo.decimal_separator)\n\t\t\t\t\t.attr('data-group-separator', fieldInfo.group_separator);\n\t\t\t}\n\t\t\tif (valueType) {\n\t\t\t\tthis.fieldModelInstance.data.workflow_valuetype = valueType;\n\t\t\t}\n\t\t\tfieldUiHolder.html(fieldSpecificUi);\n\n\t\t\tif (fieldSpecificUi.is('select')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi, { dropdownParent: row });\n\t\t\t} else if (fieldSpecificUi.has('input.dateField').length > 0) {\n\t\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t\t} else if (fieldSpecificUi.has('input.dateRangeField').length > 0) {\n\t\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, { ranges: false });\n\t\t\t} else if (fieldSpecificUi.has('input.clockPicker').length > 0) {\n\t\t\t\tapp.registerEventForClockPicker(fieldSpecificUi);\n\t\t\t}\n\t\t\tthis.addValidationToFieldIfNeeded(fieldSelect);\n\n\t\t\t// Is Empty, today, tomorrow, yesterday conditions does not need any field input value - hide the UI\n\t\t\t// re-enable if condition element is chosen.\n\t\t\tvar specialConditions = [\n\t\t\t\t'y',\n\t\t\t\t'today',\n\t\t\t\t'tomorrow',\n\t\t\t\t'yesterday',\n\t\t\t\t'smallerthannow',\n\t\t\t\t'greaterthannow',\n\t\t\t\t'ny',\n\t\t\t\t'om',\n\t\t\t\t'wr',\n\t\t\t\t'nwr'\n\t\t\t];\n\t\t\tif (specialConditions.indexOf(conditionSelectElement.val()) != -1) {\n\t\t\t\tfieldUiHolder.hide();\n\t\t\t} else {\n\t\t\t\tfieldUiHolder.show();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to load field specific ui for all the select elements - this is used on load\n\t\t * to show field specific ui for all the fields\n\t\t */\n\t\tloadFieldSpecificUiForAll: function() {\n\t\t\tvar conditionsContainer = jQuery('.conditionList');\n\t\t\tvar fieldSelectElement = jQuery('select[name=\"columnname\"]', conditionsContainer);\n\t\t\tjQuery.each(fieldSelectElement, function(i, elem) {\n\t\t\t\tvar currentElement = jQuery(elem);\n\t\t\t\tif (currentElement.val() != 'none') {\n\t\t\t\t\tcurrentElement.trigger('change', { _intialize: true });\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to add the validation if required\n\t\t * @prarms : selectFieldElement - select element which will represents field list\n\t\t */\n\t\taddValidationToFieldIfNeeded: function(selectFieldElement) {\n\t\t\tvar selectedOption = selectFieldElement.find('option:selected');\n\t\t\tvar row = selectFieldElement.closest('div.js-conditions-row');\n\t\t\tvar fieldSpecificElement = row.find('[data-value=\"value\"]');\n\t\t\tvar validator = selectedOption.attr('data-validator');\n\n\t\t\tif (this.isFieldSupportsValidation(selectFieldElement)) {\n\t\t\t\t//data attribute will not be present while attaching validation engine events . so we are\n\t\t\t\t//depending on the fallback option which is class\n\t\t\t\tfieldSpecificElement\n\t\t\t\t\t.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.attr('data-validation-engine', 'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.attr('data-fieldinfo', JSON.stringify(selectedOption.data('fieldinfo')));\n\t\t\t\tif (typeof validator !== 'undefined') {\n\t\t\t\t\tfieldSpecificElement.attr('data-validator', validator);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfieldSpecificElement\n\t\t\t\t\t.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.removeAttr('data-validation-engine')\n\t\t\t\t\t.removeAttr('data-fieldinfo');\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Check if field supports validation\n\t\t * @prarms : selectFieldElement - select element which will represents field list\n\t\t * @return - boolen true/false\n\t\t */\n\t\tisFieldSupportsValidation: function(fieldSelect) {\n\t\t\tvar fieldModel = this.fieldModelInstance;\n\t\t\tvar type = fieldModel.getType();\n\n\t\t\tif (jQuery.inArray(type, this.allConditionValidationNeededFieldList) >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\n\t\t\tvar conditionValue = conditionSelectElement.val();\n\n\t\t\tif (type in this.validationSupportedFieldConditionMap) {\n\t\t\t\tif (jQuery.inArray(conditionValue, this.validationSupportedFieldConditionMap[type]) >= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Function to retrieve the values of the filter\n\t\t * @return : object\n\t\t */\n\t\tgetValues: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet fieldList = ['columnname', 'comparator', 'value', 'column_condition'],\n\t\t\t\tfilterContainer = this.getFilterContainer(),\n\t\t\t\tconditionGroups = $('.conditionGroup', filterContainer),\n\t\t\t\tvalues = {},\n\t\t\t\tcolumnIndex = 0;\n\t\t\t$('.conditionGroup', filterContainer).each(function(index, domElement) {\n\t\t\t\tlet groupElement = $(domElement);\n\t\t\t\tvalues[index + 1] = {};\n\t\t\t\tvalues[index + 1]['columns'] = {};\n\t\t\t\t$('.conditionList .js-conditions-row', groupElement).each(function(i, conditionDomElement) {\n\t\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t\t//To not send empty fields to server\n\t\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tlet fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo'),\n\t\t\t\t\t\tfieldType = fieldDataInfo.type,\n\t\t\t\t\t\trowValues = {},\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tfield;\n\t\t\t\t\tif (fieldType === 'owner' || fieldType === 'userCreator') {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\t\t\tlet newValuesArr = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (!newValuesArr) {\n\t\t\t\t\t\t\t\t\trowValues[field] = '';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\trowValues[field] =\n\t\t\t\t\t\t\t\t\tvalueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked')\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t$.inArray(fieldType, [\n\t\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t\t\t]) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tfield === 'value' &&\n\t\t\t\t\t\t\t\tvalueSelectElement.is('select') &&\n\t\t\t\t\t\t\t\t$.inArray(fieldType, [\n\t\t\t\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t\t\t\t\t]) > -1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\t\trowValues[field] =\n\t\t\t\t\t\t\t\t\tvalueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked')\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowElement.is(':last-child')) {\n\t\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t\t}\n\t\t\t\t\tvalues[index + 1]['columns'][columnIndex] = rowValues;\n\t\t\t\t\tcolumnIndex++;\n\t\t\t\t});\n\t\t\t\tif (groupElement.find('div.groupCondition').length > 0) {\n\t\t\t\t\tvalues[index + 1]['condition'] = conditionGroups\n\t\t\t\t\t\t.find('div.groupCondition [name=\"condition\"]')\n\t\t\t\t\t\t.val();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn values;\n\t\t},\n\t\t/**\n\t\t * Event handle which will be triggred on deletion of a condition row\n\t\t */\n\t\tdeleteConditionHandler: function(e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar row = element.closest('.js-conditions-row');\n\t\t\trow.remove();\n\t\t},\n\t\t/**\n\t\t * Event handler which is invoked on add condition\n\t\t */\n\t\tregisterAddCondition: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.getAddConditionElement().on('click', function(e) {\n\t\t\t\tthisInstance.addConditionHandler(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register field change event\n\t\t */\n\t\tregisterFieldChange: function() {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tfilterContainer.on('change', 'select[name=\"columnname\"]', function(e, data) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tif (typeof data === 'undefined' || data._intialize != true) {\n\t\t\t\t\tvar row = currentElement.closest('div.js-conditions-row');\n\t\t\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\t\t\tconditionSelectElement.empty();\n\t\t\t\t}\n\t\t\t\tthisInstance.loadConditions(currentElement);\n\t\t\t\tthisInstance.loadFieldSpecificUi(currentElement);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register condition change\n\t\t */\n\t\tregisterConditionChange: function() {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tfilterContainer.on('change', 'select[name=\"comparator\"]', function(e) {\n\t\t\t\tvar comparatorSelectElement = jQuery(e.currentTarget);\n\t\t\t\tvar row = comparatorSelectElement.closest('div.js-conditions-row');\n\t\t\t\tvar fieldSelectElement = row.find('select[name=\"columnname\"]');\n\t\t\t\t//To handle the validation depending on condtion\n\t\t\t\tthisInstance.loadFieldSpecificUi(fieldSelectElement);\n\t\t\t\tthisInstance.addValidationToFieldIfNeeded(fieldSelectElement);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to regisgter delete condition event\n\t\t */\n\t\tregisterDeleteCondition: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tfilterContainer.on('click', '.js-condition-delete', function(e) {\n\t\t\t\tthisInstance.deleteConditionHandler(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function() {\n\t\t\tthis.registerAddCondition();\n\t\t\tthis.registerFieldChange();\n\t\t\tthis.registerDeleteCondition();\n\t\t\tthis.registerConditionChange();\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'AdvanceFilter_Field_Js',\n\t{},\n\t{\n\t\tgetUiTypeSpecificHtml: function() {\n\t\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\t\treturn uiTypeModel.getUi();\n\t\t},\n\t\tgetModuleName: function() {\n\t\t\tvar currentModule = app.getModuleName();\n\n\t\t\tvar type = this.getType();\n\t\t\tif (\n\t\t\t\t$.inArray(type, [\n\t\t\t\t\t'picklist',\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'multipicklist',\n\t\t\t\t\t'owner',\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'modules',\n\t\t\t\t\t'date',\n\t\t\t\t\t'datetime',\n\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t'languages',\n\t\t\t\t\t'currencyList',\n\t\t\t\t\t'taxes',\n\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t]) > -1\n\t\t\t) {\n\t\t\t\tcurrentModule = 'AdvanceFilter';\n\t\t\t}\n\t\t\treturn currentModule;\n\t\t}\n\t}\n);\n\nVtiger_Picklist_Field_Js(\n\t'AdvanceFilter_Picklist_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function() {\n\t\t\tvar html = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\tvar pickListValues = this.getPickListValues();\n\t\t\tvar selectedOption = app.htmlDecode(this.getValue());\n\t\t\tvar selectedOptionsArray = selectedOption.split(',');\n\t\t\tfor (var option in pickListValues) {\n\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\tif (jQuery.inArray(option, selectedOptionsArray) != -1) {\n\t\t\t\t\thtml += ' selected ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + pickListValues[option] + '</option>';\n\t\t\t}\n\t\t\thtml += '</select>';\n\t\t\tvar selectContainer = jQuery(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n);\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Modules_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Inventorylimit_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Filelocationtype_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Multipicklist_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Categorymultipicklist_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Languages_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Currencylist_Field_Js', {}, {});\n\nAdvanceFilter_Multipicklist_Field_Js('AdvanceFilter_Taxes_Field_Js', {}, {});\n\nVtiger_Owner_Field_Js(\n\t'AdvanceFilter_Owner_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function() {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\thtml = '',\n\t\t\t\tselectContainer;\n\t\t\tif (\n\t\t\t\tcomparatorSelectedOptionVal === 'e' ||\n\t\t\t\tcomparatorSelectedOptionVal === 'n' ||\n\t\t\t\t(this.getName() === 'shownerid' && $.inArray(comparatorSelectedOptionVal, ['c', 'k']) != -1)\n\t\t\t) {\n\t\t\t\thtml = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\t\tlet pickListValues = this.getPickListValues(),\n\t\t\t\t\tselectedOption = app.htmlDecode(this.getValue()),\n\t\t\t\t\toptGroup;\n\t\t\t\tfor (optGroup in pickListValues) {\n\t\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">';\n\t\t\t\t\tlet optionGroupValues = pickListValues[optGroup],\n\t\t\t\t\t\toption;\n\t\t\t\t\tfor (option in optionGroupValues) {\n\t\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\t\tif ($.inArray(option, selectedOption.split(',')) != -1) {\n\t\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '</optgroup>';\n\t\t\t\t}\n\t\t\t\thtml += '</select>';\n\t\t\t\tselectContainer = $(html);\n\t\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\t\treturn selectContainer;\n\t\t\t} else {\n\t\t\t\tlet tagsArray = [];\n\t\t\t\t$.each(this.getPickListValues(), function(groups, blocks) {\n\t\t\t\t\t$.each(blocks, function(i, e) {\n\t\t\t\t\t\ttagsArray.push($.trim(e));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\thtml =\n\t\t\t\t\t'<input data-tags=\"' +\n\t\t\t\t\ttagsArray +\n\t\t\t\t\t'\" type=\"hidden\" class=\"row select2\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\">';\n\t\t\t\tselectContainer = $(html).val(this.getValue());\n\t\t\t\tselectContainer.data('tags', tagsArray);\n\t\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\t\treturn selectContainer;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Multireferencevalue_Field_Js('AdvanceFilter_Multireferencevalue_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Sharedowner_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Usercreator_Field_Js', {}, {});\nVtiger_Date_Field_Js(\n\t'AdvanceFilter_Date_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function() {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\t\thtml = '';\n\t\t\tif (comparatorSelectedOptionVal === 'bw' || comparatorSelectedOptionVal === 'custom') {\n\t\t\t\thtml =\n\t\t\t\t\t'<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\"></div>';\n\t\t\t\tlet element = $(html),\n\t\t\t\t\tdateFieldUi = element.find('.dateRangeField');\n\t\t\t\tif (dateFieldUi.val().indexOf(',') !== -1) {\n\t\t\t\t\tlet valueArray = this.getValue().split(','),\n\t\t\t\t\t\tstartDateTime = valueArray[0],\n\t\t\t\t\t\tendDateTime = valueArray[1];\n\t\t\t\t\tif (startDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\t\tlet dateTime = startDateTime.split(' ');\n\t\t\t\t\t\tstartDateTime = dateTime[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (endDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\t\tlet dateTimeValue = endDateTime.split(' ');\n\t\t\t\t\t\tendDateTime = dateTimeValue[0];\n\t\t\t\t\t}\n\t\t\t\t\tdateFieldUi.val(startDateTime + ',' + endDateTime);\n\t\t\t\t} else {\n\t\t\t\t\t// while changing to between/custom from equal/notequal/... we'll only have one value\n\t\t\t\t\tlet value = this.getValue().split(' '),\n\t\t\t\t\t\tstartDate = value[0],\n\t\t\t\t\t\tendDate = value[0];\n\t\t\t\t\tif (startDate !== '' && endDate !== '') {\n\t\t\t\t\t\tdateFieldUi.val(startDate + ',' + endDate);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\t\tif (\n\t\t\t\t\tcomparatorSelectedOptionVal === 'today' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'tomorrow' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'yesterday'\n\t\t\t\t) {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + '\">';\n\t\t\t\t} else {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tstartValue +\n\t\t\t\t\t\t',' +\n\t\t\t\t\t\tendValue +\n\t\t\t\t\t\t'\">';\n\t\t\t\t}\n\t\t\t\treturn $(html);\n\t\t\t} else {\n\t\t\t\tlet fieldUi = this._super(),\n\t\t\t\t\tdateTimeFieldValue = fieldUi.find('.dateField').val(),\n\t\t\t\t\tdateValue = dateTimeFieldValue.split(' ');\n\t\t\t\tif (dateValue[1] === '00:00:00') {\n\t\t\t\t\tdateTimeFieldValue = dateValue[0];\n\t\t\t\t} else if (\n\t\t\t\t\tcomparatorSelectedOptionVal === 'e' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'n' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'b' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'a'\n\t\t\t\t) {\n\t\t\t\t\tlet dateTimeArray = dateTimeFieldValue.split(' ');\n\t\t\t\t\tdateTimeFieldValue = dateTimeArray[0];\n\t\t\t\t}\n\t\t\t\tfieldUi.find('.dateField').val(dateTimeFieldValue);\n\t\t\t\treturn fieldUi;\n\t\t\t}\n\t\t}\n\t}\n);\n\nAdvanceFilter_Date_Field_Js('AdvanceFilter_Datetime_Field_Js', {}, {});\n"],"names":["jQuery","Class","container","module","app","getModuleName","moduleClassName1","moduleClassName2","moduleClassName3","moduleClassName4","instance","window","is","setFilterContainer","initialize","registerEvents","initializeOperationMappingDetails","loadFieldSpecificUiForAll","filterContainer","getFilterContainer","fieldTypeConditionMapping","data","conditonOperatorLabelMapping","dateConditionInfo","element","fieldType","fieldTypeConditions","concat","getDateConditions","dateFilters","getDateSpecificConditionInfo","Object","keys","key","fieldSelect","selectedOption","find","val","conditionGroupElement","basicElement","$","newRowElement","clone","selectElement","addClass","conditionList","append","Fields","Picklist","showSelect2ElementView","dropdownParent","e","currentTarget","conditionGroup","closest","addNewCondition","fieldSelected","fieldInfo","type","row","conditionSelectElement","group","conditionSelected","fieldSpecificType","getFieldSpecificType","getConditionListFromType","options","inArray","hasOwnProperty","conditionValue","conditionLabel","getConditionLabel","empty","html","trigger","fieldSelectElement","fieldModel","fieldModelInstance","get","getName","getValue","vtranslate","getType","toLowerCase","selectedValue","getUiTypeSpecificHtml","fieldUiHolder","valueType","name","comparatorElementVal","dateSpecificConditions","moduleName","Vtiger_Field_Js","getInstance","fieldSpecificUi","getFieldSpecificUi","fieldName","length","css","filter","attr","removeAttr","decimal_separator","group_separator","workflow_valuetype","has","Date","register","registerRange","ranges","registerEventForClockPicker","addValidationToFieldIfNeeded","specialConditions","indexOf","hide","show","conditionsContainer","each","i","elem","currentElement","_intialize","selectFieldElement","fieldSpecificElement","validator","isFieldSupportsValidation","JSON","stringify","removeClass","allConditionValidationNeededFieldList","validationSupportedFieldConditionMap","thisInstance","fieldList","conditionGroups","values","columnIndex","index","domElement","groupElement","conditionDomElement","rowElement","valueSelectElement","isEmptyFieldSelected","fieldDataInfo","rowValues","field","newValuesArr","join","prop","pickListValues","valuesArr","split","push","value","remove","getAddConditionElement","on","addConditionHandler","loadConditions","loadFieldSpecificUi","comparatorSelectElement","deleteConditionHandler","registerAddCondition","registerFieldChange","registerDeleteCondition","registerConditionChange","uiTypeModel","getUiTypeModel","getUi","currentModule","Vtiger_Picklist_Field_Js","getPickListValues","htmlDecode","selectedOptionsArray","option","selectContainer","addValidationToElement","AdvanceFilter_Picklist_Field_Js","Vtiger_Multipicklist_Field_Js","AdvanceFilter_Multipicklist_Field_Js","Vtiger_Owner_Field_Js","comparatorSelectedOptionVal","optGroup","optionGroupValues","tagsArray","groups","blocks","trim","Vtiger_Multireferencevalue_Field_Js","AdvanceFilter_Owner_Field_Js","Vtiger_Date_Field_Js","getDateFormat","dateFieldUi","valueArray","startDateTime","endDateTime","dateTime","dateTimeValue","startDate","endDate","startValue","endValue","fieldUi","_super","dateTimeFieldValue","dateValue","dateTimeArray","AdvanceFilter_Date_Field_Js"],"mappings":"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"}