{"version":3,"file":"AdvanceFilter.min.js","sources":["AdvanceFilter.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_AdvanceFilter_Js',\n\t{\n\t\tgetInstance: function(container) {\n\t\t\tvar module = app.getModuleName();\n\t\t\tvar moduleClassName1 = module + '_AdvanceFilterEx_Js';\n\t\t\tvar moduleClassName2 = module + '_AdvanceFilter_Js';\n\t\t\tvar moduleClassName3 = 'Vtiger_AdvanceFilterEx_Js';\n\t\t\tvar moduleClassName4 = 'Vtiger_AdvanceFilter_Js';\n\t\t\tvar instance;\n\t\t\tif (typeof window[moduleClassName1] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName1](container);\n\t\t\t} else if (typeof window[moduleClassName2] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName2](container);\n\t\t\t} else if (typeof window[moduleClassName3] !== 'undefined') {\n\t\t\t\tinstance = new window[moduleClassName3](container);\n\t\t\t} else {\n\t\t\t\tinstance = new window[moduleClassName4](container);\n\t\t\t}\n\t\t\treturn instance;\n\t\t}\n\t},\n\t{\n\t\tfilterContainer: false,\n\t\t//Hold the conditions for a particular field type\n\t\tfieldTypeConditionMapping: false,\n\t\t//Hold the condition and their label translations\n\t\tconditonOperatorLabelMapping: false,\n\t\tdateConditionInfo: false,\n\t\tfieldModelInstance: false,\n\t\t//Holds fields type and conditions for which it needs validation\n\t\tvalidationSupportedFieldConditionMap: {\n\t\t\temail: ['e', 'n']\n\t\t},\n\t\t//Hols field type for which there is validations always needed\n\t\tallConditionValidationNeededFieldList: ['double', 'integer', 'currency'],\n\t\t//used to eliminate mutiple times validation registrations\n\t\tvalidationForControlsRegistered: false,\n\t\tinit: function(container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('.filterContainer');\n\t\t\t}\n\n\t\t\tif (container.is('.filterContainer')) {\n\t\t\t\tthis.setFilterContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setFilterContainer(jQuery('.filterContainer', container));\n\t\t\t}\n\t\t\tthis.initialize();\n\t\t},\n\t\tgetModuleName: function() {\n\t\t\treturn 'AdvanceFilter';\n\t\t},\n\t\t/**\n\t\t * Function  to initialize the advance filter\n\t\t */\n\t\tinitialize: function() {\n\t\t\tthis.registerEvents();\n\t\t\tthis.initializeOperationMappingDetails();\n\t\t\tthis.loadFieldSpecificUiForAll();\n\t\t},\n\t\t/**\n\t\t * Function which will save the field condition mapping condition label mapping\n\t\t */\n\t\tinitializeOperationMappingDetails: function() {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tthis.fieldTypeConditionMapping = jQuery('input[name=\"advanceFilterOpsByFieldType\"]', filterContainer).data(\n\t\t\t\t'value'\n\t\t\t);\n\t\t\tthis.conditonOperatorLabelMapping = jQuery('input[name=\"advanceFilterOptions\"]', filterContainer).data(\n\t\t\t\t'value'\n\t\t\t);\n\t\t\tthis.dateConditionInfo = jQuery('[name=\"date_filters\"]').data('value');\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the filter elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetFilterContainer: function() {\n\t\t\treturn this.filterContainer;\n\t\t},\n\t\t/**\n\t\t * Function to set the filter container\n\t\t * @params : element - which represents the filter container\n\t\t * @return : current instance\n\t\t */\n\t\tsetFilterContainer: function(element) {\n\t\t\tthis.filterContainer = element;\n\t\t\treturn this;\n\t\t},\n\t\tgetDateSpecificConditionInfo: function() {\n\t\t\treturn this.dateConditionInfo;\n\t\t},\n\t\t/**\n\t\t * Function which will return set of condition for the given field type\n\t\t * @return array of conditions\n\t\t */\n\t\tgetConditionListFromType: function(fieldType) {\n\t\t\tvar fieldTypeConditions = this.fieldTypeConditionMapping[fieldType];\n\t\t\tif (fieldType == 'D' || fieldType == 'DT') {\n\t\t\t\tfieldTypeConditions = fieldTypeConditions.concat(this.getDateConditions(fieldType));\n\t\t\t}\n\t\t\treturn fieldTypeConditions;\n\t\t},\n\t\tgetDateConditions: function(fieldType) {\n\t\t\tif (fieldType != 'D' && fieldType != 'DT') {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tvar dateFilters = this.getDateSpecificConditionInfo();\n\t\t\treturn Object.keys(dateFilters);\n\t\t},\n\t\t/**\n\t\t * Function to get the condition label\n\t\t * @param : key - condition key\n\t\t * @reurn : label for the condition or key if it doest not contain in the condition label mapping\n\t\t */\n\t\tgetConditionLabel: function(key) {\n\t\t\tif (key in this.conditonOperatorLabelMapping) {\n\t\t\t\treturn this.conditonOperatorLabelMapping[key];\n\t\t\t}\n\t\t\tif (key in this.getDateSpecificConditionInfo()) {\n\t\t\t\treturn this.getDateSpecificConditionInfo()[key]['label'];\n\t\t\t}\n\t\t\treturn key;\n\t\t},\n\t\t/**\n\t\t * Function to check if the field selected is empty field\n\t\t * @params : select element which represents the field\n\t\t * @return : boolean true/false\n\t\t */\n\t\tisEmptyFieldSelected: function(fieldSelect) {\n\t\t\tvar selectedOption = fieldSelect.find('option:selected');\n\t\t\t//assumption that empty field will be having value none\n\t\t\tif (selectedOption.val() == 'none') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Function to get the add condition elements\n\t\t * @returns : jQuery object which represents the add conditions elements\n\t\t */\n\t\tgetAddConditionElement: function() {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\treturn jQuery('.addCondition button', filterContainer);\n\t\t},\n\t\t/**\n\t\t * Function to add new condition row\n\t\t * @params : condtionGroupElement - group where condtion need to be added\n\t\t * @return : current instance\n\t\t */\n\t\taddNewCondition: function(conditionGroupElement) {\n\t\t\tlet basicElement = $('.basic', conditionGroupElement);\n\t\t\tlet newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\t\tlet selectElement = newRowElement.find('select').addClass('select2');\n\t\t\tlet conditionList = $('.conditionList', conditionGroupElement);\n\t\t\tconditionList.append(newRowElement);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement, { dropdownParent: conditionGroupElement });\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function/Handler  which will triggered when user clicks on add condition\n\t\t */\n\t\taddConditionHandler: function(e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar conditionGroup = element.closest('div.conditionGroup');\n\t\t\tthis.addNewCondition(conditionGroup);\n\t\t},\n\t\tgetFieldSpecificType: function(fieldSelected) {\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tvar type = fieldInfo.type;\n\t\t\tif (type == 'reference') {\n\t\t\t\treturn 'V';\n\t\t\t}\n\t\t\treturn fieldSelected.data('fieldtype');\n\t\t},\n\t\t/**\n\t\t * Function to load condition list for the selected field\n\t\t * @params : fieldSelect - select element which will represents field list\n\t\t * @return : select element which will represent the condition element\n\t\t */\n\t\tloadConditions: function(fieldSelect) {\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tvar group = row.find('[name=\"column_condition\"]');\n\t\t\tvar conditionSelected = conditionSelectElement.val();\n\t\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\t//for none in field name\n\t\t\tif (typeof conditionList === 'undefined') {\n\t\t\t\tconditionList = {};\n\t\t\t\tconditionList['none'] = 'None';\n\t\t\t}\n\t\t\tvar options = '';\n\t\t\tfor (var key in conditionList) {\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['rangeTime', 'image']) != -1 &&\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['y', 'ny']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'userCreator',\n\t\t\t\t\t\t'owner',\n\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t'tree',\n\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t'fileLocationType'\n\t\t\t\t\t]) != -1 &&\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['s', 'ew', 'c', 'k']) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tconditionList[key] === 'om' &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['owner', 'sharedOwner', 'userCreator']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['wr', 'nwr']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['owner']) == -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['s', 'ew']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, [\n\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t'categoryMultipicklist',\n\t\t\t\t\t\t'sharedOwner'\n\t\t\t\t\t]) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tjQuery.inArray(conditionList[key], ['bw', 'm', 'h']) != -1 &&\n\t\t\t\t\tjQuery.inArray(fieldInfo.type, ['time']) != -1\n\t\t\t\t) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (conditionList[key] === 'd' && group.val() !== 'and') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t}\n\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t}\n\t\t\t}\n\t\t\tconditionSelectElement\n\t\t\t\t.empty()\n\t\t\t\t.html(options)\n\t\t\t\t.trigger('change');\n\t\t\treturn conditionSelectElement;\n\t\t},\n\t\t/**\n\t\t * Functiont to get the field specific ui for the selected field\n\t\t * @prarms : fieldSelectElement - select element which will represents field list\n\t\t * @return : jquery object which represents the ui for the field\n\t\t */\n\t\tgetFieldSpecificUi: function(fieldSelectElement) {\n\t\t\tlet fieldModel = this.fieldModelInstance,\n\t\t\t\thtml;\n\t\t\tif (fieldModel.get('comparatorElementVal') === 'd') {\n\t\t\t\thtml =\n\t\t\t\t\t'<div class=\"checkbox\"><label><input type=\"checkbox\" name=\"' +\n\t\t\t\t\tfieldModel.getName() +\n\t\t\t\t\t'\" value=\"0\" ';\n\t\t\t\tif (fieldModel.getValue() === 1 || fieldModel.getValue() === '1') {\n\t\t\t\t\thtml += 'checked';\n\t\t\t\t}\n\t\t\t\thtml += ' >' + app.vtranslate('JS_IGNORE_EMPTY_VALUES') + '</label></div>';\n\t\t\t\treturn $(html);\n\t\t\t} else if (\n\t\t\t\tfieldModel.getType().toLowerCase() === 'boolean' ||\n\t\t\t\tfieldSelectElement.find('option:selected').data('fieldtype') === 'C'\n\t\t\t) {\n\t\t\t\tlet selectedValue = fieldSelectElement\n\t\t\t\t\t.closest('.js-conditions-row')\n\t\t\t\t\t.find('[data-value=\"value\"]')\n\t\t\t\t\t.val();\n\t\t\t\thtml = '<select class=\"select2\" name=\"' + fieldModel.getName() + '\">';\n\t\t\t\thtml += '<option value=\"0\"';\n\t\t\t\tif (selectedValue === '0') {\n\t\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + app.vtranslate('JS_IS_DISABLED') + '</option>';\n\n\t\t\t\thtml += '<option value=\"1\"';\n\t\t\t\tif (selectedValue === '1') {\n\t\t\t\t\thtml += ' selected=\"selected\" ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + app.vtranslate('JS_IS_ENABLED') + '</option>';\n\t\t\t\thtml += '</select>';\n\t\t\t\treturn $(html);\n\t\t\t} else {\n\t\t\t\treturn $(fieldModel.getUiTypeSpecificHtml());\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will load the field specific ui for a selected field\n\t\t * @prarms : fieldSelect - select element which will represents field list\n\t\t * @return : current instance\n\t\t */\n\t\tloadFieldSpecificUi: function(fieldSelect) {\n\t\t\tconst selectedOption = fieldSelect.find('option:selected');\n\t\t\tconst row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tconst fieldUiHolder = row.find('.fieldUiHolder');\n\t\t\tconst conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tlet fieldInfo = selectedOption.data('fieldinfo');\n\t\t\tconst valueType = fieldUiHolder.find(`[name=\"${fieldInfo.name}\"]`).data('valuetype');\n\t\t\tlet fieldType = 'string';\n\t\t\tif (typeof fieldInfo !== 'undefined') {\n\t\t\t\tfieldType = fieldInfo.type;\n\t\t\t} else {\n\t\t\t\tfieldInfo = {};\n\t\t\t}\n\n\t\t\tvar comparatorElementVal = (fieldInfo.comparatorElementVal = conditionSelectElement.val());\n\t\t\tif (fieldType == 'date' || fieldType == 'datetime') {\n\t\t\t\tfieldInfo.dateSpecificConditions = this.getDateSpecificConditionInfo();\n\t\t\t}\n\t\t\tvar moduleName = this.getModuleName();\n\t\t\tvar fieldModel = Vtiger_Field_Js.getInstance(fieldInfo, moduleName);\n\t\t\tthis.fieldModelInstance = fieldModel;\n\t\t\tvar fieldSpecificUi = this.getFieldSpecificUi(fieldSelect);\n\n\t\t\t//remove validation since we dont need validations for all eleements\n\t\t\t// Both filter and find is used since we dont know whether the element is enclosed in some conainer like currency\n\t\t\tvar fieldName = fieldModel.getName();\n\n\t\t\tif (\n\t\t\t\t$.inArray(fieldModel.getType(), [\n\t\t\t\t\t'multipicklist',\n\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t'taxes',\n\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t]) > -1\n\t\t\t) {\n\t\t\t\tfieldName = fieldName + '[]';\n\t\t\t} else if (\n\t\t\t\t$.inArray(fieldModel.getType(), [\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'picklist',\n\t\t\t\t\t'owner',\n\t\t\t\t\t'languages',\n\t\t\t\t\t'modules',\n\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t'currencyList',\n\t\t\t\t\t'fileLocationType'\n\t\t\t\t]) > -1 &&\n\t\t\t\tfieldSpecificUi.is('select') &&\n\t\t\t\t(comparatorElementVal == 'e' || comparatorElementVal == 'n')\n\t\t\t) {\n\t\t\t\tfieldName = fieldName + '[]';\n\t\t\t}\n\n\t\t\tif (fieldSpecificUi.find('.input-group-addon').length > 0) {\n\t\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\t\tfieldSpecificUi.find('.input-group').addClass('row');\n\t\t\t\tfieldSpecificUi.find('input[type=\"text\"]').css('width', '100%');\n\t\t\t\tfieldSpecificUi.find('input[type=\"text\"]').addClass('form-control');\n\t\t\t} else {\n\t\t\t\tfieldSpecificUi.filter('[name=\"' + fieldName + '\"]').addClass('form-control');\n\t\t\t}\n\n\t\t\tfieldSpecificUi\n\t\t\t\t.filter('[name=\"' + fieldName + '\"]')\n\t\t\t\t.attr('data-value', 'value')\n\t\t\t\t.removeAttr('data-validation-engine');\n\t\t\tfieldSpecificUi\n\t\t\t\t.find('[name=\"' + fieldName + '\"]')\n\t\t\t\t.attr('data-value', 'value')\n\t\t\t\t.removeAttr('data-validation-engine');\n\n\t\t\tif (fieldModel.getType() == 'currency') {\n\t\t\t\tfieldSpecificUi\n\t\t\t\t\t.filter('[name=\"' + fieldName + '\"]')\n\t\t\t\t\t.attr('data-decimal-separator', fieldInfo.decimal_separator)\n\t\t\t\t\t.attr('data-group-separator', fieldInfo.group_separator);\n\t\t\t\tfieldSpecificUi\n\t\t\t\t\t.find('[name=\"' + fieldName + '\"]')\n\t\t\t\t\t.attr('data-decimal-separator', fieldInfo.decimal_separator)\n\t\t\t\t\t.attr('data-group-separator', fieldInfo.group_separator);\n\t\t\t}\n\t\t\tif (valueType) {\n\t\t\t\tthis.fieldModelInstance.data.workflow_valuetype = valueType;\n\t\t\t}\n\t\t\tfieldUiHolder.html(fieldSpecificUi);\n\n\t\t\tif (fieldSpecificUi.is('select')) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(fieldSpecificUi, { dropdownParent: row });\n\t\t\t} else if (fieldSpecificUi.has('input.dateField').length > 0) {\n\t\t\t\tApp.Fields.Date.register(fieldSpecificUi);\n\t\t\t} else if (fieldSpecificUi.has('input.dateRangeField').length > 0) {\n\t\t\t\tApp.Fields.Date.registerRange(fieldSpecificUi, { ranges: false });\n\t\t\t} else if (fieldSpecificUi.has('input.clockPicker').length > 0) {\n\t\t\t\tapp.registerEventForClockPicker(fieldSpecificUi);\n\t\t\t}\n\t\t\tthis.addValidationToFieldIfNeeded(fieldSelect);\n\n\t\t\t// Is Empty, today, tomorrow, yesterday conditions does not need any field input value - hide the UI\n\t\t\t// re-enable if condition element is chosen.\n\t\t\tvar specialConditions = [\n\t\t\t\t'y',\n\t\t\t\t'today',\n\t\t\t\t'tomorrow',\n\t\t\t\t'yesterday',\n\t\t\t\t'smallerthannow',\n\t\t\t\t'greaterthannow',\n\t\t\t\t'ny',\n\t\t\t\t'om',\n\t\t\t\t'wr',\n\t\t\t\t'nwr'\n\t\t\t];\n\t\t\tif (specialConditions.indexOf(conditionSelectElement.val()) != -1) {\n\t\t\t\tfieldUiHolder.hide();\n\t\t\t} else {\n\t\t\t\tfieldUiHolder.show();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to load field specific ui for all the select elements - this is used on load\n\t\t * to show field specific ui for all the fields\n\t\t */\n\t\tloadFieldSpecificUiForAll: function() {\n\t\t\tvar conditionsContainer = jQuery('.conditionList');\n\t\t\tvar fieldSelectElement = jQuery('select[name=\"columnname\"]', conditionsContainer);\n\t\t\tjQuery.each(fieldSelectElement, function(i, elem) {\n\t\t\t\tvar currentElement = jQuery(elem);\n\t\t\t\tif (currentElement.val() != 'none') {\n\t\t\t\t\tcurrentElement.trigger('change', { _intialize: true });\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to add the validation if required\n\t\t * @prarms : selectFieldElement - select element which will represents field list\n\t\t */\n\t\taddValidationToFieldIfNeeded: function(selectFieldElement) {\n\t\t\tvar selectedOption = selectFieldElement.find('option:selected');\n\t\t\tvar row = selectFieldElement.closest('div.js-conditions-row');\n\t\t\tvar fieldSpecificElement = row.find('[data-value=\"value\"]');\n\t\t\tvar validator = selectedOption.attr('data-validator');\n\n\t\t\tif (this.isFieldSupportsValidation(selectFieldElement)) {\n\t\t\t\t//data attribute will not be present while attaching validation engine events . so we are\n\t\t\t\t//depending on the fallback option which is class\n\t\t\t\tfieldSpecificElement\n\t\t\t\t\t.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.attr('data-validation-engine', 'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.attr('data-fieldinfo', JSON.stringify(selectedOption.data('fieldinfo')));\n\t\t\t\tif (typeof validator !== 'undefined') {\n\t\t\t\t\tfieldSpecificElement.attr('data-validator', validator);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfieldSpecificElement\n\t\t\t\t\t.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]')\n\t\t\t\t\t.removeAttr('data-validation-engine')\n\t\t\t\t\t.removeAttr('data-fieldinfo');\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Check if field supports validation\n\t\t * @prarms : selectFieldElement - select element which will represents field list\n\t\t * @return - boolen true/false\n\t\t */\n\t\tisFieldSupportsValidation: function(fieldSelect) {\n\t\t\tvar fieldModel = this.fieldModelInstance;\n\t\t\tvar type = fieldModel.getType();\n\n\t\t\tif (jQuery.inArray(type, this.allConditionValidationNeededFieldList) >= 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\n\t\t\tvar conditionValue = conditionSelectElement.val();\n\n\t\t\tif (type in this.validationSupportedFieldConditionMap) {\n\t\t\t\tif (jQuery.inArray(conditionValue, this.validationSupportedFieldConditionMap[type]) >= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Function to retrieve the values of the filter\n\t\t * @return : object\n\t\t */\n\t\tgetValues: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet fieldList = ['columnname', 'comparator', 'value', 'column_condition'],\n\t\t\t\tfilterContainer = this.getFilterContainer(),\n\t\t\t\tconditionGroups = $('.conditionGroup', filterContainer),\n\t\t\t\tvalues = {},\n\t\t\t\tcolumnIndex = 0;\n\t\t\t$('.conditionGroup', filterContainer).each(function(index, domElement) {\n\t\t\t\tlet groupElement = $(domElement);\n\t\t\t\tvalues[index + 1] = {};\n\t\t\t\tvalues[index + 1]['columns'] = {};\n\t\t\t\t$('.conditionList .js-conditions-row', groupElement).each(function(i, conditionDomElement) {\n\t\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t\t//To not send empty fields to server\n\t\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tlet fieldDataInfo = fieldSelectElement.find('option:selected').data('fieldinfo'),\n\t\t\t\t\t\tfieldType = fieldDataInfo.type,\n\t\t\t\t\t\trowValues = {},\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tfield;\n\t\t\t\t\tif (fieldType === 'owner' || fieldType === 'userCreator') {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('select')) {\n\t\t\t\t\t\t\t\tlet newValuesArr = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (!newValuesArr) {\n\t\t\t\t\t\t\t\t\trowValues[field] = '';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\trowValues[field] =\n\t\t\t\t\t\t\t\t\tvalueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked')\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t$.inArray(fieldType, [\n\t\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t\t\t]) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.attr('type') === 'checkbox') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.prop('checked') ? 1 : valueSelectElement.val();\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tfield === 'value' &&\n\t\t\t\t\t\t\t\tvalueSelectElement.is('select') &&\n\t\t\t\t\t\t\t\t$.inArray(fieldType, [\n\t\t\t\t\t\t\t\t\t'picklist',\n\t\t\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t\t\t'modules',\n\t\t\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t\t\t\t\t'languages',\n\t\t\t\t\t\t\t\t\t'currencyList',\n\t\t\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t\t\t\t\t]) > -1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\t\trowValues[field] =\n\t\t\t\t\t\t\t\t\tvalueSelectElement.attr('type') === 'checkbox' && valueSelectElement.prop('checked')\n\t\t\t\t\t\t\t\t\t\t? 1\n\t\t\t\t\t\t\t\t\t\t: valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowElement.is(':last-child')) {\n\t\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t\t}\n\t\t\t\t\tvalues[index + 1]['columns'][columnIndex] = rowValues;\n\t\t\t\t\tcolumnIndex++;\n\t\t\t\t});\n\t\t\t\tif (groupElement.find('div.groupCondition').length > 0) {\n\t\t\t\t\tvalues[index + 1]['condition'] = conditionGroups\n\t\t\t\t\t\t.find('div.groupCondition [name=\"condition\"]')\n\t\t\t\t\t\t.val();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn values;\n\t\t},\n\t\t/**\n\t\t * Event handle which will be triggred on deletion of a condition row\n\t\t */\n\t\tdeleteConditionHandler: function(e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar row = element.closest('.js-conditions-row');\n\t\t\trow.remove();\n\t\t},\n\t\t/**\n\t\t * Event handler which is invoked on add condition\n\t\t */\n\t\tregisterAddCondition: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.getAddConditionElement().on('click', function(e) {\n\t\t\t\tthisInstance.addConditionHandler(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register field change event\n\t\t */\n\t\tregisterFieldChange: function() {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tfilterContainer.on('change', 'select[name=\"columnname\"]', function(e, data) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tif (typeof data === 'undefined' || data._intialize != true) {\n\t\t\t\t\tvar row = currentElement.closest('div.js-conditions-row');\n\t\t\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\t\t\tconditionSelectElement.empty();\n\t\t\t\t}\n\t\t\t\tthisInstance.loadConditions(currentElement);\n\t\t\t\tthisInstance.loadFieldSpecificUi(currentElement);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will register condition change\n\t\t */\n\t\tregisterConditionChange: function() {\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tvar thisInstance = this;\n\t\t\tfilterContainer.on('change', 'select[name=\"comparator\"]', function(e) {\n\t\t\t\tvar comparatorSelectElement = jQuery(e.currentTarget);\n\t\t\t\tvar row = comparatorSelectElement.closest('div.js-conditions-row');\n\t\t\t\tvar fieldSelectElement = row.find('select[name=\"columnname\"]');\n\t\t\t\t//To handle the validation depending on condtion\n\t\t\t\tthisInstance.loadFieldSpecificUi(fieldSelectElement);\n\t\t\t\tthisInstance.addValidationToFieldIfNeeded(fieldSelectElement);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to regisgter delete condition event\n\t\t */\n\t\tregisterDeleteCondition: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar filterContainer = this.getFilterContainer();\n\t\t\tfilterContainer.on('click', '.js-condition-delete', function(e) {\n\t\t\t\tthisInstance.deleteConditionHandler(e);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function() {\n\t\t\tthis.registerAddCondition();\n\t\t\tthis.registerFieldChange();\n\t\t\tthis.registerDeleteCondition();\n\t\t\tthis.registerConditionChange();\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'AdvanceFilter_Field_Js',\n\t{},\n\t{\n\t\tgetUiTypeSpecificHtml: function() {\n\t\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\t\treturn uiTypeModel.getUi();\n\t\t},\n\t\tgetModuleName: function() {\n\t\t\tvar currentModule = app.getModuleName();\n\n\t\t\tvar type = this.getType();\n\t\t\tif (\n\t\t\t\t$.inArray(type, [\n\t\t\t\t\t'picklist',\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'multipicklist',\n\t\t\t\t\t'owner',\n\t\t\t\t\t'userCreator',\n\t\t\t\t\t'modules',\n\t\t\t\t\t'date',\n\t\t\t\t\t'datetime',\n\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t'multiReferenceValue',\n\t\t\t\t\t'inventoryLimit',\n\t\t\t\t\t'languages',\n\t\t\t\t\t'currencyList',\n\t\t\t\t\t'taxes',\n\t\t\t\t\t'fileLocationType',\n\t\t\t\t\t'categoryMultipicklist'\n\t\t\t\t]) > -1\n\t\t\t) {\n\t\t\t\tcurrentModule = 'AdvanceFilter';\n\t\t\t}\n\t\t\treturn currentModule;\n\t\t}\n\t}\n);\n\nVtiger_Picklist_Field_Js(\n\t'AdvanceFilter_Picklist_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function() {\n\t\t\tvar html = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\tvar pickListValues = this.getPickListValues();\n\t\t\tvar selectedOption = app.htmlDecode(this.getValue());\n\t\t\tvar selectedOptionsArray = selectedOption.split(',');\n\t\t\tfor (var option in pickListValues) {\n\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\tif (jQuery.inArray(option, selectedOptionsArray) != -1) {\n\t\t\t\t\thtml += ' selected ';\n\t\t\t\t}\n\t\t\t\thtml += '>' + pickListValues[option] + '</option>';\n\t\t\t}\n\t\t\thtml += '</select>';\n\t\t\tvar selectContainer = jQuery(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n);\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Modules_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Inventorylimit_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Filelocationtype_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Multipicklist_Field_Js', {}, {});\n\nVtiger_Multipicklist_Field_Js('AdvanceFilter_Categorymultipicklist_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Languages_Field_Js', {}, {});\n\nAdvanceFilter_Picklist_Field_Js('AdvanceFilter_Currencylist_Field_Js', {}, {});\n\nAdvanceFilter_Multipicklist_Field_Js('AdvanceFilter_Taxes_Field_Js', {}, {});\n\nVtiger_Owner_Field_Js(\n\t'AdvanceFilter_Owner_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function() {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\thtml = '',\n\t\t\t\tselectContainer;\n\t\t\tif (\n\t\t\t\tcomparatorSelectedOptionVal === 'e' ||\n\t\t\t\tcomparatorSelectedOptionVal === 'n' ||\n\t\t\t\t(this.getName() === 'shownerid' && $.inArray(comparatorSelectedOptionVal, ['c', 'k']) != -1)\n\t\t\t) {\n\t\t\t\thtml = '<select class=\"select2\" multiple name=\"' + this.getName() + '[]\">';\n\t\t\t\tlet pickListValues = this.getPickListValues(),\n\t\t\t\t\tselectedOption = app.htmlDecode(this.getValue()),\n\t\t\t\t\toptGroup;\n\t\t\t\tfor (optGroup in pickListValues) {\n\t\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">';\n\t\t\t\t\tlet optionGroupValues = pickListValues[optGroup],\n\t\t\t\t\t\toption;\n\t\t\t\t\tfor (option in optionGroupValues) {\n\t\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\t\tif ($.inArray(option, selectedOption.split(',')) != -1) {\n\t\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '</optgroup>';\n\t\t\t\t}\n\t\t\t\thtml += '</select>';\n\t\t\t\tselectContainer = $(html);\n\t\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\t\treturn selectContainer;\n\t\t\t} else {\n\t\t\t\tlet tagsArray = [];\n\t\t\t\t$.each(this.getPickListValues(), function(groups, blocks) {\n\t\t\t\t\t$.each(blocks, function(i, e) {\n\t\t\t\t\t\ttagsArray.push($.trim(e));\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\thtml =\n\t\t\t\t\t'<input data-tags=\"' +\n\t\t\t\t\ttagsArray +\n\t\t\t\t\t'\" type=\"hidden\" class=\"row select2\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\">';\n\t\t\t\tselectContainer = $(html).val(this.getValue());\n\t\t\t\tselectContainer.data('tags', tagsArray);\n\t\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\t\treturn selectContainer;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Multireferencevalue_Field_Js('AdvanceFilter_Multireferencevalue_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Sharedowner_Field_Js', {}, {});\n\nAdvanceFilter_Owner_Field_Js('AdvanceFilter_Usercreator_Field_Js', {}, {});\nVtiger_Date_Field_Js(\n\t'AdvanceFilter_Date_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function() {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\t\thtml = '';\n\t\t\tif (comparatorSelectedOptionVal === 'bw' || comparatorSelectedOptionVal === 'custom') {\n\t\t\t\thtml =\n\t\t\t\t\t'<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\"></div>';\n\t\t\t\tlet element = $(html),\n\t\t\t\t\tdateFieldUi = element.find('.dateRangeField');\n\t\t\t\tif (dateFieldUi.val().indexOf(',') !== -1) {\n\t\t\t\t\tlet valueArray = this.getValue().split(','),\n\t\t\t\t\t\tstartDateTime = valueArray[0],\n\t\t\t\t\t\tendDateTime = valueArray[1];\n\t\t\t\t\tif (startDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\t\tlet dateTime = startDateTime.split(' ');\n\t\t\t\t\t\tstartDateTime = dateTime[0];\n\t\t\t\t\t}\n\t\t\t\t\tif (endDateTime.indexOf(' ') !== -1) {\n\t\t\t\t\t\tlet dateTimeValue = endDateTime.split(' ');\n\t\t\t\t\t\tendDateTime = dateTimeValue[0];\n\t\t\t\t\t}\n\t\t\t\t\tdateFieldUi.val(startDateTime + ',' + endDateTime);\n\t\t\t\t} else {\n\t\t\t\t\t// while changing to between/custom from equal/notequal/... we'll only have one value\n\t\t\t\t\tlet value = this.getValue().split(' '),\n\t\t\t\t\t\tstartDate = value[0],\n\t\t\t\t\t\tendDate = value[0];\n\t\t\t\t\tif (startDate !== '' && endDate !== '') {\n\t\t\t\t\t\tdateFieldUi.val(startDate + ',' + endDate);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\t\tif (\n\t\t\t\t\tcomparatorSelectedOptionVal === 'today' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'tomorrow' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'yesterday'\n\t\t\t\t) {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' + this.getName() + '\" type=\"text\" ReadOnly=\"true\" value=\"' + startValue + '\">';\n\t\t\t\t} else {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tstartValue +\n\t\t\t\t\t\t',' +\n\t\t\t\t\t\tendValue +\n\t\t\t\t\t\t'\">';\n\t\t\t\t}\n\t\t\t\treturn $(html);\n\t\t\t} else {\n\t\t\t\tlet fieldUi = this._super(),\n\t\t\t\t\tdateTimeFieldValue = fieldUi.find('.dateField').val(),\n\t\t\t\t\tdateValue = dateTimeFieldValue.split(' ');\n\t\t\t\tif (dateValue[1] === '00:00:00') {\n\t\t\t\t\tdateTimeFieldValue = dateValue[0];\n\t\t\t\t} else if (\n\t\t\t\t\tcomparatorSelectedOptionVal === 'e' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'n' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'b' ||\n\t\t\t\t\tcomparatorSelectedOptionVal === 'a'\n\t\t\t\t) {\n\t\t\t\t\tlet dateTimeArray = dateTimeFieldValue.split(' ');\n\t\t\t\t\tdateTimeFieldValue = dateTimeArray[0];\n\t\t\t\t}\n\t\t\t\tfieldUi.find('.dateField').val(dateTimeFieldValue);\n\t\t\t\treturn fieldUi;\n\t\t\t}\n\t\t}\n\t}\n);\n\nAdvanceFilter_Date_Field_Js('AdvanceFilter_Datetime_Field_Js', {}, {});\n"],"names":["jQuery","Class","container","module","app","getModuleName","moduleClassName1","moduleClassName2","window","is","setFilterContainer","initialize","registerEvents","initializeOperationMappingDetails","loadFieldSpecificUiForAll","filterContainer","this","getFilterContainer","fieldTypeConditionMapping","data","conditonOperatorLabelMapping","dateConditionInfo","element","fieldType","fieldTypeConditions","concat","getDateConditions","dateFilters","getDateSpecificConditionInfo","Object","keys","key","fieldSelect","find","val","conditionGroupElement","newRowElement","$","clone","selectElement","addClass","append","Fields","Picklist","showSelect2ElementView","dropdownParent","e","conditionGroup","currentTarget","closest","addNewCondition","fieldSelected","type","row","conditionSelectElement","group","conditionSelected","fieldSpecificType","getFieldSpecificType","conditionList","getConditionListFromType","fieldInfo","options","inArray","hasOwnProperty","conditionValue","getConditionLabel","empty","html","trigger","fieldSelectElement","fieldModel","fieldModelInstance","get","getName","getValue","vtranslate","getType","toLowerCase","selectedValue","getUiTypeSpecificHtml","selectedOption","fieldUiHolder","valueType","name","comparatorElementVal","dateSpecificConditions","moduleName","Vtiger_Field_Js","getInstance","fieldSpecificUi","getFieldSpecificUi","fieldName","length","css","filter","attr","removeAttr","decimal_separator","group_separator","workflow_valuetype","has","Date","register","registerRange","ranges","registerEventForClockPicker","addValidationToFieldIfNeeded","indexOf","hide","show","conditionsContainer","each","i","elem","currentElement","_intialize","selectFieldElement","fieldSpecificElement","validator","isFieldSupportsValidation","JSON","stringify","removeClass","allConditionValidationNeededFieldList","validationSupportedFieldConditionMap","thisInstance","fieldList","conditionGroups","values","columnIndex","index","domElement","groupElement","conditionDomElement","rowElement","valueSelectElement","isEmptyFieldSelected","rowValues","field","newValuesArr","join","prop","pickListValues","valuesArr","split","push","value","remove","getAddConditionElement","on","addConditionHandler","loadConditions","loadFieldSpecificUi","deleteConditionHandler","registerAddCondition","registerFieldChange","registerDeleteCondition","registerConditionChange","getUiTypeModel","getUi","currentModule","Vtiger_Picklist_Field_Js","getPickListValues","selectedOptionsArray","htmlDecode","option","selectContainer","addValidationToElement","AdvanceFilter_Picklist_Field_Js","Vtiger_Multipicklist_Field_Js","AdvanceFilter_Multipicklist_Field_Js","Vtiger_Owner_Field_Js","comparatorSelectedOptionVal","optGroup","optionGroupValues","tagsArray","groups","blocks","trim","Vtiger_Multireferencevalue_Field_Js","AdvanceFilter_Owner_Field_Js","Vtiger_Date_Field_Js","getDateFormat","dateFieldUi","valueArray","startDateTime","endDateTime","dateTime","dateTimeValue","startDate","endDate","startValue","endValue","fieldUi","_super","dateTimeFieldValue","dateValue","dateTimeArray","AdvanceFilter_Date_Field_Js"],"mappings":"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"}