{"version":3,"file":"AdvanceFilterEx.min.js","sources":["AdvanceFilterEx.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_AdvanceFilter_Js(\n\t'Vtiger_AdvanceFilterEx_Js',\n\t{},\n\t{\n\t\tvalidationSupportedFieldConditionMap: {\n\t\t\temail: ['e', 'n'],\n\t\t\tdate: ['is'],\n\t\t\tdatetime: ['is']\n\t\t},\n\t\t//Hols field type for which there is validations always needed\n\t\tallConditionValidationNeededFieldList: ['double', 'integer'],\n\t\t// comparators which do not have any field Specific UI.\n\t\tcomparatorsWithNoValueBoxMap: ['has changed', 'not has changed', 'is empty', 'is not empty'],\n\t\tinit: function (container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('#advanceFilterContainer');\n\t\t\t}\n\n\t\t\tif (container.is('#advanceFilterContainer')) {\n\t\t\t\tthis.setFilterContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setFilterContainer(jQuery('#advanceFilterContainer', container));\n\t\t\t}\n\t\t\tthis.initialize();\n\t\t},\n\t\tgetFieldSpecificType: function (fieldSelected) {\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tvar type = fieldInfo.type;\n\t\t\treturn type;\n\t\t},\n\t\tgetModuleName: function () {\n\t\t\treturn 'AdvanceFilterEx';\n\t\t},\n\t\t/**\n\t\t * Function to add new condition row\n\t\t * @params : condtionGroupElement - group where condtion need to be added\n\t\t * @return : current instance\n\t\t */\n\t\taddNewCondition: function (conditionGroupElement) {\n\t\t\tvar basicElement = jQuery('.basic', conditionGroupElement);\n\t\t\tvar newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\t\tjQuery('select', newRowElement).addClass('select2');\n\t\t\tvar conditionList = jQuery('.conditionList', conditionGroupElement);\n\t\t\tconditionList.append(newRowElement);\n\n\t\t\t//change in to chosen elements\n\t\t\tApp.Fields.Picklist.changeSelectElementView(newRowElement);\n\t\t\tnewRowElement\n\t\t\t\t.find('[name=\"columnname\"]')\n\t\t\t\t.find('optgroup:first option:first')\n\t\t\t\t.attr('selected', 'selected')\n\t\t\t\t.trigger('change');\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to load condition list for the selected field\n\t\t * (overrrided to remove \"has changed\" condition for related record fields in workflows)\n\t\t * @params : fieldSelect - select element which will represents field list\n\t\t * @return : select element which will represent the condition element\n\t\t */\n\t\tloadConditions: function (fieldSelect) {\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tvar conditionSelected = conditionSelectElement.val();\n\t\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\t\tvar fieldLabel = fieldSelected.val();\n\t\t\tvar match = fieldLabel.match(/\\((\\w+)\\) (\\w+)/);\n\t\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\t\t//for none in field name\n\t\t\tif (typeof conditionList === 'undefined') {\n\t\t\t\tconditionList = {};\n\t\t\t\tconditionList['none'] = 'None';\n\t\t\t}\n\n\t\t\tvar options = '';\n\t\t\tfor (var key in conditionList) {\n\t\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\t\tif (match != null) {\n\t\t\t\t\t\tif (conditionValue != 'has changed') {\n\t\t\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconditionSelectElement.empty().html(options).trigger('change');\n\t\t\treturn conditionSelectElement;\n\t\t},\n\t\t/**\n\t\t * Function to retrieve the values of the filter\n\t\t * @return : object\n\t\t */\n\t\tgetValues: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\tfilterContainer = this.getFilterContainer();\n\n\t\t\tlet fieldList = ['columnname', 'comparator', 'value', 'valuetype', 'column_condition'],\n\t\t\t\tvalues = {},\n\t\t\t\tcolumnIndex = 0,\n\t\t\t\tconditionGroups = $('.conditionGroup', filterContainer);\n\t\t\tconditionGroups.each(function (index, domElement) {\n\t\t\t\tlet groupElement = $(domElement),\n\t\t\t\t\tconditions = $('.conditionList .js-conditions-row', groupElement),\n\t\t\t\t\titerationValues = {};\n\t\t\t\tif (conditions.length <= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tconditions.each(function (i, conditionDomElement) {\n\t\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tlet fieldType = fieldSelectElement.find('option:selected').data('fieldinfo').type,\n\t\t\t\t\t\trowValues = {},\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tfield;\n\t\t\t\t\tif ($.inArray(fieldType, ['picklist', 'multipicklist', 'multiReferenceValue']) > -1) {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && fieldType === 'picklist') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tfield === 'value' &&\n\t\t\t\t\t\t\t\tvalueSelectElement.is('select') &&\n\t\t\t\t\t\t\t\t$.inArray(fieldType, ['multipicklist', 'multiReferenceValue']) > -1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t$('[name=\"valuetype\"]', rowElement).val() === 'false' ||\n\t\t\t\t\t\t$('[name=\"valuetype\"]', rowElement).length === 0\n\t\t\t\t\t) {\n\t\t\t\t\t\trowValues['valuetype'] = 'rawtext';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\trowValues['groupid'] = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowValues['groupid'] = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowElement.is(':last-child')) {\n\t\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t\t}\n\t\t\t\t\titerationValues[columnIndex] = rowValues;\n\t\t\t\t\tcolumnIndex++;\n\t\t\t\t});\n\n\t\t\t\tif (!$.isEmptyObject(iterationValues)) {\n\t\t\t\t\tvalues[index + 1] = {};\n\t\t\t\t\tvalues[index + 1]['columns'] = iterationValues;\n\t\t\t\t}\n\t\t\t\tif (groupElement.find('div.groupCondition').length > 0 && !$.isEmptyObject(values[index + 1])) {\n\t\t\t\t\tvalues[index + 1]['condition'] = conditionGroups.find('div.groupCondition [name=\"condition\"]').val();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn values;\n\t\t},\n\t\t/**\n\t\t * Functiont to get the field specific ui for the selected field\n\t\t * @prarms : fieldSelectElement - select element which will represents field list\n\t\t * @return : jquery object which represents the ui for the field\n\t\t */\n\t\tgetFieldSpecificUi: function (fieldSelectElement) {\n\t\t\tvar fieldSelected = fieldSelectElement.find('option:selected');\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tif (jQuery.inArray(fieldInfo.comparatorElementVal, this.comparatorsWithNoValueBoxMap) != -1) {\n\t\t\t\treturn jQuery('');\n\t\t\t} else {\n\t\t\t\treturn this._super(fieldSelectElement);\n\t\t\t}\n\t\t},\n\t\tgetPopUp: function (container) {\n\t\t\tconst thisInstance = this;\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = thisInstance.getFilterContainer();\n\t\t\t}\n\t\t\tcontainer.on('click', '.getPopupUi', function (e) {\n\t\t\t\tlet fieldValueElement = jQuery(e.currentTarget),\n\t\t\t\t\tfieldValue = fieldValueElement.val(),\n\t\t\t\t\tfieldUiHolder = fieldValueElement.closest('.fieldUiHolder'),\n\t\t\t\t\tvalueType = fieldUiHolder.find('[name=\"valuetype\"]').val(),\n\t\t\t\t\tconditionsContainer = fieldValueElement.closest('.js-conditions-container'),\n\t\t\t\t\tclonedPopupUi = conditionsContainer\n\t\t\t\t\t\t.find('.popupUi')\n\t\t\t\t\t\t.clone(true, true)\n\t\t\t\t\t\t.removeClass('popupUi')\n\t\t\t\t\t\t.addClass('clonedPopupUi'),\n\t\t\t\t\tvalue = '';\n\t\t\t\tclonedPopupUi.find('select').addClass('select2');\n\t\t\t\tclonedPopupUi.find('.fieldValue').val(fieldValue);\n\t\t\t\tif (valueType === '') {\n\t\t\t\t\tvalueType = 'rawtext';\n\t\t\t\t}\n\t\t\t\tif (fieldValueElement.hasClass('date')) {\n\t\t\t\t\tclonedPopupUi.find('.textType').find('option[value=\"rawtext\"]').attr('data-ui', 'input');\n\t\t\t\t\tlet dataFormat = fieldValueElement.data('date-format');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend(\n\t\t\t\t\t\t\t'<input type=\"text\" class=\"dateField fieldValue col-md-4\" value=\"' +\n\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\t\t\t\tdataFormat +\n\t\t\t\t\t\t\t\t'\" data-input=\"true\" >'\n\t\t\t\t\t\t);\n\t\t\t\t} else if (fieldValueElement.hasClass('time')) {\n\t\t\t\t\tclonedPopupUi.find('.textType').find('option[value=\"rawtext\"]').attr('data-ui', 'input');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend(\n\t\t\t\t\t\t\t'<input type=\"text\" class=\"clockPicker fieldValue col-md-4 form-control\" value=\"' +\n\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t'\" data-input=\"true\" >'\n\t\t\t\t\t\t);\n\t\t\t\t} else if (fieldValueElement.hasClass('boolean')) {\n\t\t\t\t\tclonedPopupUi.find('.textType').find('option[value=\"rawtext\"]').attr('data-ui', 'input');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend('<input type=\"checkbox\" class=\"fieldValue col-md-4\" value=\"' + value + '\" data-input=\"true\" >');\n\n\t\t\t\t\tif (value == 'true:boolean' || value === '') {\n\t\t\t\t\t\tclonedPopupUi.find('.fieldValueContainer input').attr('checked', 'checked');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclonedPopupUi.find('.fieldValueContainer input').removeAttr('checked');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet callBackFunction = function (data) {\n\t\t\t\t\tdata.find('.clonedPopupUi').removeClass('d-none');\n\t\t\t\t\tlet moduleNameElement = fieldValueElement.closest('.js-conditions-row').find('[name=\"modulename\"]');\n\t\t\t\t\tif (moduleNameElement.length > 0) {\n\t\t\t\t\t\tvar moduleName = moduleNameElement.val();\n\t\t\t\t\t\tdata.find('.useFieldElement').addClass('d-none');\n\t\t\t\t\t\tdata.find('[name=\"' + moduleName + '\"]').removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(data);\n\t\t\t\t\tApp.Fields.Date.register(data);\n\t\t\t\t\tapp.registerEventForClockPicker(data);\n\t\t\t\t\tthisInstance.postShowModalAction(data, valueType);\n\t\t\t\t\tthisInstance.registerChangeFieldEvent(data);\n\t\t\t\t\tthisInstance.registerSelectOptionEvent(data);\n\t\t\t\t\tthisInstance.registerPopUpSaveEvent(data, fieldUiHolder);\n\t\t\t\t\tthisInstance.registerRemoveModalEvent(data);\n\t\t\t\t\tdata.find('.fieldValue').filter(':visible').trigger('focus');\n\t\t\t\t\tdata\n\t\t\t\t\t\t.find('[data-close-modal=\"modal\"]')\n\t\t\t\t\t\t.off('click')\n\t\t\t\t\t\t.on('click', function () {\n\t\t\t\t\t\t\t$(this).closest('.modal').removeClass('in').css('display', 'none');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tconditionsContainer.find('.clonedPopUp').html(clonedPopupUi);\n\t\t\t\t$('.clonedPopupUi').on('shown.bs.modal', function () {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction($('.clonedPopupUi', conditionsContainer));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.clonedPopUp', conditionsContainer).find('.clonedPopupUi').modal();\n\t\t\t});\n\t\t},\n\t\tpostShowModalAction: function (data, valueType) {\n\t\t\tif (valueType == 'fieldname') {\n\t\t\t\tjQuery('.useFieldContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.textType', data).val(valueType).trigger('change');\n\t\t\t} else if (valueType == 'expression') {\n\t\t\t\tjQuery('.useFieldContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.useFunctionContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.textType', data).val(valueType).trigger('change');\n\t\t\t}\n\t\t\tjQuery('#' + valueType + '_help', data).removeClass('d-none');\n\t\t\tvar uiType = jQuery('.textType', data).find('option:selected').data('ui');\n\t\t\tjQuery('.fieldValue', data).hide();\n\t\t\tjQuery('[data-' + uiType + ']', data).show();\n\t\t},\n\t\tregisterChangeFieldEvent: function (data) {\n\t\t\tjQuery('.textType', data).on('change', function (e) {\n\t\t\t\tvar valueType = jQuery(e.currentTarget).val();\n\t\t\t\tvar useFieldContainer = jQuery('.useFieldContainer', data);\n\t\t\t\tvar useFunctionContainer = jQuery('.useFunctionContainer', data);\n\t\t\t\tvar uiType = jQuery(e.currentTarget).find('option:selected').data('ui');\n\t\t\t\tjQuery('.fieldValue', data).hide();\n\t\t\t\tjQuery('[data-' + uiType + ']', data).show();\n\t\t\t\tif (valueType == 'fieldname') {\n\t\t\t\t\tuseFieldContainer.removeClass('d-none');\n\t\t\t\t\tuseFunctionContainer.addClass('d-none');\n\t\t\t\t} else if (valueType == 'expression') {\n\t\t\t\t\tuseFieldContainer.removeClass('d-none');\n\t\t\t\t\tuseFunctionContainer.removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tuseFieldContainer.addClass('d-none');\n\t\t\t\t\tuseFunctionContainer.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tjQuery('.helpmessagebox', data).addClass('d-none');\n\t\t\t\tjQuery('#' + valueType + '_help', data).removeClass('d-none');\n\t\t\t\tdata.find('.fieldValue').val('');\n\t\t\t});\n\t\t},\n\t\tregisterSelectOptionEvent: function (data) {\n\t\t\t$('.useField,.useFunction', data).on('change', function (e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet newValue = currentElement.val();\n\t\t\t\tlet oldValue = data.find('.fieldValue').filter(':visible').val();\n\t\t\t\tif (currentElement.hasClass('useField')) {\n\t\t\t\t\tif (oldValue != '') {\n\t\t\t\t\t\tvar concatenatedValue = oldValue + ' ' + newValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconcatenatedValue = newValue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconcatenatedValue = oldValue + newValue;\n\t\t\t\t}\n\t\t\t\tdata.find('.fieldValue').val(concatenatedValue);\n\t\t\t\tcurrentElement.val('').trigger('change.select2');\n\t\t\t});\n\t\t},\n\t\tregisterPopUpSaveEvent: function (data, fieldUiHolder) {\n\t\t\tjQuery('[name=\"saveButton\"]', data).on('click', function (e) {\n\t\t\t\tvar valueType = jQuery('.textType', data).val();\n\n\t\t\t\tfieldUiHolder.find('[name=\"valuetype\"]').val(valueType);\n\t\t\t\tvar fieldValueElement = fieldUiHolder.find('.getPopupUi');\n\t\t\t\tif (valueType != 'rawtext') {\n\t\t\t\t\tfieldValueElement.removeAttr('data-validation-engine');\n\t\t\t\t\tfieldValueElement.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]');\n\t\t\t\t} else {\n\t\t\t\t\tfieldValueElement.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]');\n\t\t\t\t\tfieldValueElement.attr(\n\t\t\t\t\t\t'data-validation-engine',\n\t\t\t\t\t\t'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tvar fieldType = data.find('.fieldValue').filter(':visible').attr('type');\n\t\t\t\tvar fieldValue = data.find('.fieldValue').filter(':visible').val();\n\t\t\t\t//For checkbox field type, handling fieldValue\n\t\t\t\tif (fieldType == 'checkbox') {\n\t\t\t\t\tif (data.find('.fieldValue').filter(':visible').is(':checked')) {\n\t\t\t\t\t\tfieldValue = 'true:boolean';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfieldValue = 'false:boolean';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfieldValueElement.val(fieldValue);\n\t\t\t\tdata.modal('hide');\n\t\t\t\tfieldValueElement.validationEngine('hide');\n\t\t\t});\n\t\t},\n\t\tregisterRemoveModalEvent: function (data) {\n\t\t\tdata.on('click', '.closeModal', function (e) {\n\t\t\t\tdata.modal('hide');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.getPopUp();\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'AdvanceFilterEx_Field_Js',\n\t{},\n\t{\n\t\tgetUiTypeSpecificHtml: function () {\n\t\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\t\treturn uiTypeModel.getUi();\n\t\t},\n\t\tgetModuleName: function () {\n\t\t\tvar currentModule = app.getModuleName();\n\t\t\treturn currentModule;\n\t\t},\n\t\t/**\n\t\t * Funtion to get the ui for the field  - generally this will be extend by the child classes to\n\t\t * give ui type specific ui\n\t\t * return <String or Jquery> it can return either plain html or jquery object\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\"  /><input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\thtml = jQuery(html);\n\t\t\thtml.filter('.getPopupUi').val(app.htmlDecode(this.getValue()));\n\t\t\treturn this.addValidationToElement(html);\n\t\t}\n\t}\n);\n\nVtiger_Date_Field_Js(\n\t'AdvanceFilterEx_Date_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the user date format\n\t\t */\n\t\tgetDateFormat: function () {\n\t\t\treturn this.get('date-format');\n\t\t},\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\t\thtml,\n\t\t\t\telement;\n\t\t\tif (comparatorSelectedOptionVal.length > 0) {\n\t\t\t\tif (comparatorSelectedOptionVal === 'between' || comparatorSelectedOptionVal === 'custom') {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t\t'\"></div>';\n\t\t\t\t\telement = $(html);\n\t\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t\t} else if (this._specialDateComparator(comparatorSelectedOptionVal)) {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" type=\"text\" value=\"' +\n\t\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t\t'\" data-validation-engine=\"' +\n\t\t\t\t\t\t'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]\"' +\n\t\t\t\t\t\t' data-validator=\"[{\"name\":\"PositiveNumber\"}]\">' +\n\t\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t\t'\" />';\n\t\t\t\t\treturn jQuery(html);\n\t\t\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\"  type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tstartValue +\n\t\t\t\t\t\t',' +\n\t\t\t\t\t\tendValue +\n\t\t\t\t\t\t'\">';\n\t\t\t\t\treturn $(html);\n\t\t\t\t} else if (comparatorSelectedOptionVal === 'is today') {\n\t\t\t\t\t//show nothing\n\t\t\t\t} else {\n\t\t\t\t\treturn this._super();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thtml =\n\t\t\t\t\t'<input type=\"text\" class=\"getPopupUi date form-control\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\"  data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\"  value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" />' +\n\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = $(html);\n\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t}\n\t\t},\n\t\t_specialDateComparator: function (comp) {\n\t\t\tlet specialComparators = [\n\t\t\t\t\t'less than days ago',\n\t\t\t\t\t'more than days ago',\n\t\t\t\t\t'in less than',\n\t\t\t\t\t'in more than',\n\t\t\t\t\t'days ago',\n\t\t\t\t\t'days later'\n\t\t\t\t],\n\t\t\t\tindex;\n\t\t\tfor (index in specialComparators) {\n\t\t\t\tif (comp == specialComparators[index]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n);\n\nVtiger_Date_Field_Js(\n\t'AdvanceFilterEx_Datetime_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the user date format\n\t\t */\n\t\tgetDateFormat: function () {\n\t\t\treturn this.get('date-format');\n\t\t},\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\thtml,\n\t\t\t\telement;\n\t\t\tif (this._specialDateTimeComparator(comparatorSelectedOptionVal)) {\n\t\t\t\thtml =\n\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\" type=\"text\" value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" data-validator=\"[{name:PositiveNumber}]\"><input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = jQuery(html);\n\t\t\t} else {\n\t\t\t\thtml =\n\t\t\t\t\t'<input type=\"text\" class=\"getPopupUi date form-control\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\"  data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\"  value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" />' +\n\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = jQuery(html);\n\t\t\t}\n\t\t\treturn element;\n\t\t},\n\t\t_specialDateTimeComparator: function (comp) {\n\t\t\tlet specialComparators = [\n\t\t\t\t\t'less than hours before',\n\t\t\t\t\t'less than hours later',\n\t\t\t\t\t'more than hours later',\n\t\t\t\t\t'more than hours before'\n\t\t\t\t],\n\t\t\t\tindex;\n\t\t\tfor (index in specialComparators) {\n\t\t\t\tif (comp == specialComparators[index]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n);\n\nVtiger_Currency_Field_Js(\n\t'AdvanceFilterEx_Currency_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi marginLeftZero form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\"  />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Time_Field_Js(\n\t'AdvanceFilterEx_Time_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi time form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\"  value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Percentage_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input percentage field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Text_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Boolean_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function () {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control boolean\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Owner_Field_Js(\n\t'AdvanceFilterEx_Owner_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function () {\n\t\t\tvar html = '<select class=\"select2\" name=\"' + this.getName() + '\">';\n\t\t\tvar pickListValues = this.getPickListValues();\n\t\t\tvar selectedOption = this.getValue();\n\t\t\tfor (var optGroup in pickListValues) {\n\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">';\n\t\t\t\tvar optionGroupValues = pickListValues[optGroup];\n\t\t\t\tfor (var option in optionGroupValues) {\n\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\tif (option == selectedOption) {\n\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t}\n\t\t\t\thtml += '</optgroup>';\n\t\t\t}\n\n\t\t\thtml += '</select>';\n\t\t\tvar selectContainer = jQuery(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n);\n\nVtiger_Picklist_Field_Js('AdvanceFilterEx_Picklist_Field_Js', {}, {});\n"],"names":["Vtiger_AdvanceFilter_Js","validationSupportedFieldConditionMap","email","date","datetime","allConditionValidationNeededFieldList","comparatorsWithNoValueBoxMap","init","container","jQuery","is","setFilterContainer","initialize","getFieldSpecificType","fieldSelected","data","type","fieldInfo","getModuleName","addNewCondition","conditionGroupElement","basicElement","newRowElement","find","clone","addClass","append","App","Fields","Picklist","changeSelectElementView","attr","trigger","loadConditions","fieldSelect","row","closest","conditionSelectElement","conditionSelected","val","fieldLabel","match","fieldSpecificType","conditionList","getConditionListFromType","options","key","hasOwnProperty","conditionLabel","getConditionLabel","conditionValue","empty","html","getValues","filterContainer","getFilterContainer","fieldList","values","columnIndex","conditionGroups","$","each","index","domElement","groupElement","conditions","iterationValues","length","i","conditionDomElement","fieldSelectElement","rowElement","valueSelectElement","thisInstance","isEmptyFieldSelected","field","fieldType","rowValues","inArray","pickListValues","valuesArr","split","newValuesArr","push","join","value","isEmptyObject","getFieldSpecificUi","comparatorElementVal","_super","getPopUp","on","e","fieldValueElement","currentTarget","fieldValue","fieldUiHolder","valueType","conditionsContainer","clonedPopupUi","removeClass","hasClass","prepend","dataFormat","removeAttr","moduleNameElement","moduleName","Date","register","app","registerEventForClockPicker","postShowModalAction","registerChangeFieldEvent","registerSelectOptionEvent","registerPopUpSaveEvent","registerRemoveModalEvent","filter","off","css","callBackFunction","modal","uiType","hide","show","useFieldContainer","useFunctionContainer","newValue","currentElement","oldValue","concatenatedValue","validationEngine","registerEvents","Vtiger_Field_Js","getUiTypeSpecificHtml","uiTypeModel","getUiTypeModel","getUi","getName","get","htmlDecode","getValue","addValidationToElement","Vtiger_Date_Field_Js","getDateFormat","element","comparatorSelectedOptionVal","dateSpecificConditions","_specialDateComparator","endValue","startValue","comp","specialComparators","_specialDateTimeComparator","Vtiger_Currency_Field_Js","Vtiger_Time_Field_Js","Vtiger_Owner_Field_Js","getPickListValues","selectedOption","optGroup","option","optionGroupValues","selectContainer","Vtiger_Picklist_Field_Js"],"mappings":"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"}