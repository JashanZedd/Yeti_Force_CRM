{"version":3,"file":"AdvanceFilterEx.min.js","sources":["AdvanceFilterEx.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_AdvanceFilter_Js(\n\t'Vtiger_AdvanceFilterEx_Js',\n\t{},\n\t{\n\t\tvalidationSupportedFieldConditionMap: {\n\t\t\temail: ['e', 'n'],\n\t\t\tdate: ['is'],\n\t\t\tdatetime: ['is']\n\t\t},\n\t\t//Hols field type for which there is validations always needed\n\t\tallConditionValidationNeededFieldList: ['double', 'integer'],\n\t\t// comparators which do not have any field Specific UI.\n\t\tcomparatorsWithNoValueBoxMap: ['has changed', 'is empty', 'is not empty', 'is added'],\n\t\tinit: function(container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('#advanceFilterContainer');\n\t\t\t}\n\n\t\t\tif (container.is('#advanceFilterContainer')) {\n\t\t\t\tthis.setFilterContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setFilterContainer(jQuery('#advanceFilterContainer', container));\n\t\t\t}\n\t\t\tthis.initialize();\n\t\t},\n\t\tgetFieldSpecificType: function(fieldSelected) {\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tvar type = fieldInfo.type;\n\t\t\treturn type;\n\t\t},\n\t\tgetModuleName: function() {\n\t\t\treturn 'AdvanceFilterEx';\n\t\t},\n\t\t/**\n\t\t * Function to add new condition row\n\t\t * @params : condtionGroupElement - group where condtion need to be added\n\t\t * @return : current instance\n\t\t */\n\t\taddNewCondition: function(conditionGroupElement) {\n\t\t\tvar basicElement = jQuery('.basic', conditionGroupElement);\n\t\t\tvar newRowElement = basicElement.find('.js-conditions-row').clone(true, true);\n\t\t\tjQuery('select', newRowElement).addClass('select2');\n\t\t\tvar conditionList = jQuery('.conditionList', conditionGroupElement);\n\t\t\tconditionList.append(newRowElement);\n\n\t\t\t//change in to chosen elements\n\t\t\tApp.Fields.Picklist.changeSelectElementView(newRowElement);\n\t\t\tnewRowElement\n\t\t\t\t.find('[name=\"columnname\"]')\n\t\t\t\t.find('optgroup:first option:first')\n\t\t\t\t.attr('selected', 'selected')\n\t\t\t\t.trigger('change');\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function to load condition list for the selected field\n\t\t * (overrrided to remove \"has changed\" condition for related record fields in workflows)\n\t\t * @params : fieldSelect - select element which will represents field list\n\t\t * @return : select element which will represent the condition element\n\t\t */\n\t\tloadConditions: function(fieldSelect) {\n\t\t\tvar row = fieldSelect.closest('div.js-conditions-row');\n\t\t\tvar conditionSelectElement = row.find('select[name=\"comparator\"]');\n\t\t\tvar conditionSelected = conditionSelectElement.val();\n\t\t\tvar fieldSelected = fieldSelect.find('option:selected');\n\t\t\tvar fieldLabel = fieldSelected.val();\n\t\t\tvar match = fieldLabel.match(/\\((\\w+)\\) (\\w+)/);\n\t\t\tvar fieldSpecificType = this.getFieldSpecificType(fieldSelected);\n\t\t\tvar conditionList = this.getConditionListFromType(fieldSpecificType);\n\t\t\t//for none in field name\n\t\t\tif (typeof conditionList === 'undefined') {\n\t\t\t\tconditionList = {};\n\t\t\t\tconditionList['none'] = 'None';\n\t\t\t}\n\n\t\t\tvar options = '';\n\t\t\tfor (var key in conditionList) {\n\t\t\t\t//IE Browser consider the prototype properties also, it should consider has own properties only.\n\t\t\t\tif (conditionList.hasOwnProperty(key)) {\n\t\t\t\t\tvar conditionValue = conditionList[key];\n\t\t\t\t\tvar conditionLabel = this.getConditionLabel(conditionValue);\n\t\t\t\t\tif (match != null) {\n\t\t\t\t\t\tif (conditionValue != 'has changed') {\n\t\t\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions += '<option value=\"' + conditionValue + '\"';\n\t\t\t\t\t\tif (conditionValue == conditionSelected) {\n\t\t\t\t\t\t\toptions += ' selected=\"selected\" ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\toptions += '>' + conditionLabel + '</option>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconditionSelectElement\n\t\t\t\t.empty()\n\t\t\t\t.html(options)\n\t\t\t\t.trigger('change');\n\t\t\treturn conditionSelectElement;\n\t\t},\n\t\t/**\n\t\t * Function to retrieve the values of the filter\n\t\t * @return : object\n\t\t */\n\t\tgetValues: function() {\n\t\t\tconst thisInstance = this,\n\t\t\t\tfilterContainer = this.getFilterContainer();\n\n\t\t\tlet fieldList = ['columnname', 'comparator', 'value', 'valuetype', 'column_condition'],\n\t\t\t\tvalues = {},\n\t\t\t\tcolumnIndex = 0,\n\t\t\t\tconditionGroups = $('.conditionGroup', filterContainer);\n\t\t\tconditionGroups.each(function(index, domElement) {\n\t\t\t\tlet groupElement = $(domElement),\n\t\t\t\t\tconditions = $('.conditionList .js-conditions-row', groupElement),\n\t\t\t\t\titerationValues = {};\n\t\t\t\tif (conditions.length <= 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tconditions.each(function(i, conditionDomElement) {\n\t\t\t\t\tlet rowElement = $(conditionDomElement),\n\t\t\t\t\t\tfieldSelectElement = $('[name=\"columnname\"]', rowElement),\n\t\t\t\t\t\tvalueSelectElement = $('[data-value=\"value\"]', rowElement);\n\t\t\t\t\tif (thisInstance.isEmptyFieldSelected(fieldSelectElement)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tlet fieldType = fieldSelectElement.find('option:selected').data('fieldinfo').type,\n\t\t\t\t\t\trowValues = {},\n\t\t\t\t\t\tkey,\n\t\t\t\t\t\tfield;\n\t\t\t\t\tif ($.inArray(fieldType, ['picklist', 'multipicklist', 'multiReferenceValue']) > -1) {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value' && valueSelectElement.is('input')) {\n\t\t\t\t\t\t\t\tlet pickListValues = valueSelectElement.data('picklistvalues'),\n\t\t\t\t\t\t\t\t\tvaluesArr = valueSelectElement.val().split(','),\n\t\t\t\t\t\t\t\t\tnewValuesArr = [];\n\t\t\t\t\t\t\t\tfor (i = 0; i < valuesArr.length; i++) {\n\t\t\t\t\t\t\t\t\tif (typeof pickListValues[valuesArr[i]] !== 'undefined') {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(pickListValues[valuesArr[i]]);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnewValuesArr.push(valuesArr[i]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trowValues[field] = newValuesArr.join(',');\n\t\t\t\t\t\t\t} else if (field === 'value' && valueSelectElement.is('select') && fieldType === 'picklist') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\tfield === 'value' &&\n\t\t\t\t\t\t\t\tvalueSelectElement.is('select') &&\n\t\t\t\t\t\t\t\t$.inArray(fieldType, ['multipicklist', 'multiReferenceValue']) > -1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tlet value = valueSelectElement.val();\n\t\t\t\t\t\t\t\tif (value == null) {\n\t\t\t\t\t\t\t\t\trowValues[field] = value;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\trowValues[field] = value.join(',');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (key in fieldList) {\n\t\t\t\t\t\t\tfield = fieldList[key];\n\t\t\t\t\t\t\tif (field === 'value') {\n\t\t\t\t\t\t\t\trowValues[field] = valueSelectElement.val();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trowValues[field] = $('[name=\"' + field + '\"]', rowElement).val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t$('[name=\"valuetype\"]', rowElement).val() === 'false' ||\n\t\t\t\t\t\t$('[name=\"valuetype\"]', rowElement).length === 0\n\t\t\t\t\t) {\n\t\t\t\t\t\trowValues['valuetype'] = 'rawtext';\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\trowValues['groupid'] = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\trowValues['groupid'] = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowElement.is(':last-child')) {\n\t\t\t\t\t\trowValues['column_condition'] = '';\n\t\t\t\t\t}\n\t\t\t\t\titerationValues[columnIndex] = rowValues;\n\t\t\t\t\tcolumnIndex++;\n\t\t\t\t});\n\n\t\t\t\tif (!$.isEmptyObject(iterationValues)) {\n\t\t\t\t\tvalues[index + 1] = {};\n\t\t\t\t\tvalues[index + 1]['columns'] = iterationValues;\n\t\t\t\t}\n\t\t\t\tif (groupElement.find('div.groupCondition').length > 0 && !$.isEmptyObject(values[index + 1])) {\n\t\t\t\t\tvalues[index + 1]['condition'] = conditionGroups.find('div.groupCondition [name=\"condition\"]').val();\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn values;\n\t\t},\n\t\t/**\n\t\t * Functiont to get the field specific ui for the selected field\n\t\t * @prarms : fieldSelectElement - select element which will represents field list\n\t\t * @return : jquery object which represents the ui for the field\n\t\t */\n\t\tgetFieldSpecificUi: function(fieldSelectElement) {\n\t\t\tvar fieldSelected = fieldSelectElement.find('option:selected');\n\t\t\tvar fieldInfo = fieldSelected.data('fieldinfo');\n\t\t\tif (jQuery.inArray(fieldInfo.comparatorElementVal, this.comparatorsWithNoValueBoxMap) != -1) {\n\t\t\t\treturn jQuery('');\n\t\t\t} else {\n\t\t\t\treturn this._super(fieldSelectElement);\n\t\t\t}\n\t\t},\n\t\tgetPopUp: function(container) {\n\t\t\tconst thisInstance = this;\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = thisInstance.getFilterContainer();\n\t\t\t}\n\t\t\tcontainer.on('click', '.getPopupUi', function(e) {\n\t\t\t\tlet fieldValueElement = jQuery(e.currentTarget),\n\t\t\t\t\tfieldValue = fieldValueElement.val(),\n\t\t\t\t\tfieldUiHolder = fieldValueElement.closest('.fieldUiHolder'),\n\t\t\t\t\tvalueType = fieldUiHolder.find('[name=\"valuetype\"]').val(),\n\t\t\t\t\tconditionsContainer = fieldValueElement.closest('.js-conditions-container'),\n\t\t\t\t\tclonedPopupUi = conditionsContainer\n\t\t\t\t\t\t.find('.popupUi')\n\t\t\t\t\t\t.clone(true, true)\n\t\t\t\t\t\t.removeClass('popupUi')\n\t\t\t\t\t\t.addClass('clonedPopupUi'),\n\t\t\t\t\tvalue = '';\n\t\t\t\tclonedPopupUi.find('select').addClass('select2');\n\t\t\t\tclonedPopupUi.find('.fieldValue').val(fieldValue);\n\t\t\t\tif (valueType === '') {\n\t\t\t\t\tvalueType = 'rawtext';\n\t\t\t\t}\n\t\t\t\tif (fieldValueElement.hasClass('date')) {\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.textType')\n\t\t\t\t\t\t.find('option[value=\"rawtext\"]')\n\t\t\t\t\t\t.attr('data-ui', 'input');\n\t\t\t\t\tlet dataFormat = fieldValueElement.data('date-format');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend(\n\t\t\t\t\t\t\t'<input type=\"text\" class=\"dateField fieldValue col-md-4\" value=\"' +\n\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\t\t\t\tdataFormat +\n\t\t\t\t\t\t\t\t'\" data-input=\"true\" >'\n\t\t\t\t\t\t);\n\t\t\t\t} else if (fieldValueElement.hasClass('time')) {\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.textType')\n\t\t\t\t\t\t.find('option[value=\"rawtext\"]')\n\t\t\t\t\t\t.attr('data-ui', 'input');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend(\n\t\t\t\t\t\t\t'<input type=\"text\" class=\"clockPicker fieldValue col-md-4 form-control\" value=\"' +\n\t\t\t\t\t\t\t\tvalue +\n\t\t\t\t\t\t\t\t'\" data-input=\"true\" >'\n\t\t\t\t\t\t);\n\t\t\t\t} else if (fieldValueElement.hasClass('boolean')) {\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.textType')\n\t\t\t\t\t\t.find('option[value=\"rawtext\"]')\n\t\t\t\t\t\t.attr('data-ui', 'input');\n\t\t\t\t\tif (valueType === 'rawtext') {\n\t\t\t\t\t\tvalue = fieldValueElement.val();\n\t\t\t\t\t}\n\t\t\t\t\tclonedPopupUi\n\t\t\t\t\t\t.find('.fieldValueContainer')\n\t\t\t\t\t\t.prepend('<input type=\"checkbox\" class=\"fieldValue col-md-4\" value=\"' + value + '\" data-input=\"true\" >');\n\n\t\t\t\t\tif (value == 'true:boolean' || value === '') {\n\t\t\t\t\t\tclonedPopupUi.find('.fieldValueContainer input').attr('checked', 'checked');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclonedPopupUi.find('.fieldValueContainer input').removeAttr('checked');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet callBackFunction = function(data) {\n\t\t\t\t\tdata.find('.clonedPopupUi').removeClass('d-none');\n\t\t\t\t\tlet moduleNameElement = fieldValueElement.closest('.js-conditions-row').find('[name=\"modulename\"]');\n\t\t\t\t\tif (moduleNameElement.length > 0) {\n\t\t\t\t\t\tvar moduleName = moduleNameElement.val();\n\t\t\t\t\t\tdata.find('.useFieldElement').addClass('d-none');\n\t\t\t\t\t\tdata.find('[name=\"' + moduleName + '\"]').removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(data);\n\t\t\t\t\tApp.Fields.Date.register(data);\n\t\t\t\t\tapp.registerEventForClockPicker(data);\n\t\t\t\t\tthisInstance.postShowModalAction(data, valueType);\n\t\t\t\t\tthisInstance.registerChangeFieldEvent(data);\n\t\t\t\t\tthisInstance.registerSelectOptionEvent(data);\n\t\t\t\t\tthisInstance.registerPopUpSaveEvent(data, fieldUiHolder);\n\t\t\t\t\tthisInstance.registerRemoveModalEvent(data);\n\t\t\t\t\tdata\n\t\t\t\t\t\t.find('.fieldValue')\n\t\t\t\t\t\t.filter(':visible')\n\t\t\t\t\t\t.trigger('focus');\n\t\t\t\t\tdata\n\t\t\t\t\t\t.find('[data-close-modal=\"modal\"]')\n\t\t\t\t\t\t.off('click')\n\t\t\t\t\t\t.on('click', function() {\n\t\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t\t.closest('.modal')\n\t\t\t\t\t\t\t\t.removeClass('in')\n\t\t\t\t\t\t\t\t.css('display', 'none');\n\t\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tconditionsContainer.find('.clonedPopUp').html(clonedPopupUi);\n\t\t\t\t$('.clonedPopupUi').on('shown.bs.modal', function() {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction($('.clonedPopupUi', conditionsContainer));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.clonedPopUp', conditionsContainer)\n\t\t\t\t\t.find('.clonedPopupUi')\n\t\t\t\t\t.modal();\n\t\t\t});\n\t\t},\n\t\tpostShowModalAction: function(data, valueType) {\n\t\t\tif (valueType == 'fieldname') {\n\t\t\t\tjQuery('.useFieldContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.textType', data)\n\t\t\t\t\t.val(valueType)\n\t\t\t\t\t.trigger('change');\n\t\t\t} else if (valueType == 'expression') {\n\t\t\t\tjQuery('.useFieldContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.useFunctionContainer', data).removeClass('d-none');\n\t\t\t\tjQuery('.textType', data)\n\t\t\t\t\t.val(valueType)\n\t\t\t\t\t.trigger('change');\n\t\t\t}\n\t\t\tjQuery('#' + valueType + '_help', data).removeClass('d-none');\n\t\t\tvar uiType = jQuery('.textType', data)\n\t\t\t\t.find('option:selected')\n\t\t\t\t.data('ui');\n\t\t\tjQuery('.fieldValue', data).hide();\n\t\t\tjQuery('[data-' + uiType + ']', data).show();\n\t\t},\n\t\tregisterChangeFieldEvent: function(data) {\n\t\t\tjQuery('.textType', data).on('change', function(e) {\n\t\t\t\tvar valueType = jQuery(e.currentTarget).val();\n\t\t\t\tvar useFieldContainer = jQuery('.useFieldContainer', data);\n\t\t\t\tvar useFunctionContainer = jQuery('.useFunctionContainer', data);\n\t\t\t\tvar uiType = jQuery(e.currentTarget)\n\t\t\t\t\t.find('option:selected')\n\t\t\t\t\t.data('ui');\n\t\t\t\tjQuery('.fieldValue', data).hide();\n\t\t\t\tjQuery('[data-' + uiType + ']', data).show();\n\t\t\t\tif (valueType == 'fieldname') {\n\t\t\t\t\tuseFieldContainer.removeClass('d-none');\n\t\t\t\t\tuseFunctionContainer.addClass('d-none');\n\t\t\t\t} else if (valueType == 'expression') {\n\t\t\t\t\tuseFieldContainer.removeClass('d-none');\n\t\t\t\t\tuseFunctionContainer.removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tuseFieldContainer.addClass('d-none');\n\t\t\t\t\tuseFunctionContainer.addClass('d-none');\n\t\t\t\t}\n\t\t\t\tjQuery('.helpmessagebox', data).addClass('d-none');\n\t\t\t\tjQuery('#' + valueType + '_help', data).removeClass('d-none');\n\t\t\t\tdata.find('.fieldValue').val('');\n\t\t\t});\n\t\t},\n\t\tregisterSelectOptionEvent: function(data) {\n\t\t\t$('.useField,.useFunction', data).on('change', function(e) {\n\t\t\t\tlet currentElement = jQuery(e.currentTarget);\n\t\t\t\tlet newValue = currentElement.val();\n\t\t\t\tlet oldValue = data\n\t\t\t\t\t.find('.fieldValue')\n\t\t\t\t\t.filter(':visible')\n\t\t\t\t\t.val();\n\t\t\t\tif (currentElement.hasClass('useField')) {\n\t\t\t\t\tif (oldValue != '') {\n\t\t\t\t\t\tvar concatenatedValue = oldValue + ' ' + newValue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconcatenatedValue = newValue;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconcatenatedValue = oldValue + newValue;\n\t\t\t\t}\n\t\t\t\tdata.find('.fieldValue').val(concatenatedValue);\n\t\t\t\tcurrentElement.val('').trigger('change.select2');\n\t\t\t});\n\t\t},\n\t\tregisterPopUpSaveEvent: function(data, fieldUiHolder) {\n\t\t\tjQuery('[name=\"saveButton\"]', data).on('click', function(e) {\n\t\t\t\tvar valueType = jQuery('.textType', data).val();\n\n\t\t\t\tfieldUiHolder.find('[name=\"valuetype\"]').val(valueType);\n\t\t\t\tvar fieldValueElement = fieldUiHolder.find('.getPopupUi');\n\t\t\t\tif (valueType != 'rawtext') {\n\t\t\t\t\tfieldValueElement.removeAttr('data-validation-engine');\n\t\t\t\t\tfieldValueElement.removeClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]');\n\t\t\t\t} else {\n\t\t\t\t\tfieldValueElement.addClass('validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]');\n\t\t\t\t\tfieldValueElement.attr(\n\t\t\t\t\t\t'data-validation-engine',\n\t\t\t\t\t\t'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tvar fieldType = data\n\t\t\t\t\t.find('.fieldValue')\n\t\t\t\t\t.filter(':visible')\n\t\t\t\t\t.attr('type');\n\t\t\t\tvar fieldValue = data\n\t\t\t\t\t.find('.fieldValue')\n\t\t\t\t\t.filter(':visible')\n\t\t\t\t\t.val();\n\t\t\t\t//For checkbox field type, handling fieldValue\n\t\t\t\tif (fieldType == 'checkbox') {\n\t\t\t\t\tif (\n\t\t\t\t\t\tdata\n\t\t\t\t\t\t\t.find('.fieldValue')\n\t\t\t\t\t\t\t.filter(':visible')\n\t\t\t\t\t\t\t.is(':checked')\n\t\t\t\t\t) {\n\t\t\t\t\t\tfieldValue = 'true:boolean';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfieldValue = 'false:boolean';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfieldValueElement.val(fieldValue);\n\t\t\t\tdata.modal('hide');\n\t\t\t\tfieldValueElement.validationEngine('hide');\n\t\t\t});\n\t\t},\n\t\tregisterRemoveModalEvent: function(data) {\n\t\t\tdata.on('click', '.closeModal', function(e) {\n\t\t\t\tdata.modal('hide');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will regiter all events for this page\n\t\t */\n\t\tregisterEvents: function() {\n\t\t\tthis._super();\n\t\t\tthis.getPopUp();\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'AdvanceFilterEx_Field_Js',\n\t{},\n\t{\n\t\tgetUiTypeSpecificHtml: function() {\n\t\t\tvar uiTypeModel = this.getUiTypeModel();\n\t\t\treturn uiTypeModel.getUi();\n\t\t},\n\t\tgetModuleName: function() {\n\t\t\tvar currentModule = app.getModuleName();\n\t\t\treturn currentModule;\n\t\t},\n\t\t/**\n\t\t * Funtion to get the ui for the field  - generally this will be extend by the child classes to\n\t\t * give ui type specific ui\n\t\t * return <String or Jquery> it can return either plain html or jquery object\n\t\t */\n\t\tgetUi: function() {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\"  /><input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\thtml = jQuery(html);\n\t\t\thtml.filter('.getPopupUi').val(app.htmlDecode(this.getValue()));\n\t\t\treturn this.addValidationToElement(html);\n\t\t}\n\t}\n);\n\nVtiger_Date_Field_Js(\n\t'AdvanceFilterEx_Date_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the user date format\n\t\t */\n\t\tgetDateFormat: function() {\n\t\t\treturn this.get('date-format');\n\t\t},\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function() {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\tdateSpecificConditions = this.get('dateSpecificConditions'),\n\t\t\t\thtml,\n\t\t\t\telement;\n\t\t\tif (comparatorSelectedOptionVal.length > 0) {\n\t\t\t\tif (comparatorSelectedOptionVal === 'between' || comparatorSelectedOptionVal === 'custom') {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<div class=\"date\"><input class=\"dateRangeField form-control\" data-calendar-type=\"range\" name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" data-date-format=\"' +\n\t\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t\t'\" type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t\t'\"></div>';\n\t\t\t\t\telement = $(html);\n\t\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t\t} else if (this._specialDateComparator(comparatorSelectedOptionVal)) {\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\" type=\"text\" value=\"' +\n\t\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t\t'\" data-validation-engine=\"' +\n\t\t\t\t\t\t'validate[funcCall[Vtiger_Base_Validator_Js.invokeValidation]]\"' +\n\t\t\t\t\t\t' data-validator=\"[{\"name\":\"PositiveNumber\"}]\">' +\n\t\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t\t'\" />';\n\t\t\t\t\treturn jQuery(html);\n\t\t\t\t} else if (comparatorSelectedOptionVal in dateSpecificConditions) {\n\t\t\t\t\tlet startValue = dateSpecificConditions[comparatorSelectedOptionVal]['startdate'],\n\t\t\t\t\t\tendValue = dateSpecificConditions[comparatorSelectedOptionVal]['enddate'];\n\t\t\t\t\thtml =\n\t\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\t\tthis.getName() +\n\t\t\t\t\t\t'\"  type=\"text\" ReadOnly=\"true\" value=\"' +\n\t\t\t\t\t\tstartValue +\n\t\t\t\t\t\t',' +\n\t\t\t\t\t\tendValue +\n\t\t\t\t\t\t'\">';\n\t\t\t\t\treturn $(html);\n\t\t\t\t} else if (comparatorSelectedOptionVal === 'is today') {\n\t\t\t\t\t//show nothing\n\t\t\t\t} else {\n\t\t\t\t\treturn this._super();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thtml =\n\t\t\t\t\t'<input type=\"text\" class=\"getPopupUi date form-control\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\"  data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\"  value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" />' +\n\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = $(html);\n\t\t\t\treturn this.addValidationToElement(element);\n\t\t\t}\n\t\t},\n\t\t_specialDateComparator: function(comp) {\n\t\t\tlet specialComparators = [\n\t\t\t\t\t'less than days ago',\n\t\t\t\t\t'more than days ago',\n\t\t\t\t\t'in less than',\n\t\t\t\t\t'in more than',\n\t\t\t\t\t'days ago',\n\t\t\t\t\t'days later'\n\t\t\t\t],\n\t\t\t\tindex;\n\t\t\tfor (index in specialComparators) {\n\t\t\t\tif (comp == specialComparators[index]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n);\n\nVtiger_Date_Field_Js(\n\t'AdvanceFilterEx_Datetime_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the user date format\n\t\t */\n\t\tgetDateFormat: function() {\n\t\t\treturn this.get('date-format');\n\t\t},\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function() {\n\t\t\tlet comparatorSelectedOptionVal = this.get('comparatorElementVal'),\n\t\t\t\thtml,\n\t\t\t\telement;\n\t\t\tif (this._specialDateTimeComparator(comparatorSelectedOptionVal)) {\n\t\t\t\thtml =\n\t\t\t\t\t'<input name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\" type=\"text\" value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" data-validator=\"[{name:PositiveNumber}]\"><input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = jQuery(html);\n\t\t\t} else {\n\t\t\t\thtml =\n\t\t\t\t\t'<input type=\"text\" class=\"getPopupUi date form-control\" name=\"' +\n\t\t\t\t\tthis.getName() +\n\t\t\t\t\t'\"  data-date-format=\"' +\n\t\t\t\t\tthis.getDateFormat() +\n\t\t\t\t\t'\"  value=\"' +\n\t\t\t\t\tthis.getValue() +\n\t\t\t\t\t'\" />' +\n\t\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t\t'\" />';\n\t\t\t\telement = jQuery(html);\n\t\t\t}\n\t\t\treturn element;\n\t\t},\n\t\t_specialDateTimeComparator: function(comp) {\n\t\t\tlet specialComparators = [\n\t\t\t\t\t'less than hours before',\n\t\t\t\t\t'less than hours later',\n\t\t\t\t\t'more than hours later',\n\t\t\t\t\t'more than hours before'\n\t\t\t\t],\n\t\t\t\tindex;\n\t\t\tfor (index in specialComparators) {\n\t\t\t\tif (comp == specialComparators[index]) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n);\n\nVtiger_Currency_Field_Js(\n\t'AdvanceFilterEx_Currency_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function() {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi marginLeftZero form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\"  />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Time_Field_Js(\n\t'AdvanceFilterEx_Time_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function() {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi time form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\"  value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Percentage_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input percentage field\n\t\t */\n\t\tgetUi: function() {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Text_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function() {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Field_Js(\n\t'Vtiger_Boolean_Field_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to get the ui\n\t\t * @return - input text field\n\t\t */\n\t\tgetUi: function() {\n\t\t\tvar html =\n\t\t\t\t'<input type=\"text\" class=\"getPopupUi form-control boolean\" name=\"' +\n\t\t\t\tthis.getName() +\n\t\t\t\t'\" value=\"' +\n\t\t\t\tthis.getValue() +\n\t\t\t\t'\" />' +\n\t\t\t\t'<input type=\"hidden\" name=\"valuetype\" value=\"' +\n\t\t\t\tthis.get('workflow_valuetype') +\n\t\t\t\t'\" />';\n\t\t\tvar element = jQuery(html);\n\t\t\treturn this.addValidationToElement(element);\n\t\t}\n\t}\n);\n\nVtiger_Owner_Field_Js(\n\t'AdvanceFilterEx_Owner_Field_Js',\n\t{},\n\t{\n\t\tgetUi: function() {\n\t\t\tvar html = '<select class=\"select2\" name=\"' + this.getName() + '\">';\n\t\t\tvar pickListValues = this.getPickListValues();\n\t\t\tvar selectedOption = this.getValue();\n\t\t\tfor (var optGroup in pickListValues) {\n\t\t\t\thtml += '<optgroup label=\"' + optGroup + '\">';\n\t\t\t\tvar optionGroupValues = pickListValues[optGroup];\n\t\t\t\tfor (var option in optionGroupValues) {\n\t\t\t\t\thtml += '<option value=\"' + option + '\" ';\n\t\t\t\t\tif (option == selectedOption) {\n\t\t\t\t\t\thtml += ' selected ';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '>' + optionGroupValues[option] + '</option>';\n\t\t\t\t}\n\t\t\t\thtml += '</optgroup>';\n\t\t\t}\n\n\t\t\thtml += '</select>';\n\t\t\tvar selectContainer = jQuery(html);\n\t\t\tthis.addValidationToElement(selectContainer);\n\t\t\treturn selectContainer;\n\t\t}\n\t}\n);\n\nVtiger_Picklist_Field_Js('AdvanceFilterEx_Picklist_Field_Js', {}, {});\n"],"names":["Vtiger_AdvanceFilter_Js","container","jQuery","is","setFilterContainer","initialize","fieldSelected","fieldInfo","data","type","conditionGroupElement","basicElement","newRowElement","find","clone","addClass","conditionList","append","Fields","Picklist","changeSelectElementView","attr","trigger","fieldSelect","row","closest","conditionSelectElement","conditionSelected","val","fieldLabel","match","fieldSpecificType","getFieldSpecificType","getConditionListFromType","options","key","hasOwnProperty","conditionValue","conditionLabel","getConditionLabel","empty","html","thisInstance","filterContainer","getFilterContainer","fieldList","values","columnIndex","conditionGroups","$","each","index","domElement","groupElement","conditions","iterationValues","length","i","conditionDomElement","rowElement","fieldSelectElement","valueSelectElement","isEmptyFieldSelected","fieldType","rowValues","field","inArray","pickListValues","valuesArr","split","newValuesArr","push","join","value","isEmptyObject","comparatorElementVal","comparatorsWithNoValueBoxMap","_super","on","e","fieldValueElement","currentTarget","fieldValue","fieldUiHolder","valueType","conditionsContainer","clonedPopupUi","removeClass","hasClass","dataFormat","prepend","removeAttr","callBackFunction","moduleNameElement","moduleName","Date","register","registerEventForClockPicker","postShowModalAction","registerChangeFieldEvent","registerSelectOptionEvent","registerPopUpSaveEvent","registerRemoveModalEvent","filter","off","css","modal","uiType","hide","show","useFieldContainer","useFunctionContainer","currentElement","newValue","oldValue","concatenatedValue","validationEngine","getPopUp","Vtiger_Field_Js","uiTypeModel","getUiTypeModel","getUi","currentModule","app","getModuleName","getName","get","htmlDecode","getValue","addValidationToElement","Vtiger_Date_Field_Js","comparatorSelectedOptionVal","dateSpecificConditions","element","getDateFormat","_specialDateComparator","startValue","endValue","comp","specialComparators","_specialDateTimeComparator","Vtiger_Currency_Field_Js","Vtiger_Time_Field_Js","Vtiger_Owner_Field_Js","getPickListValues","selectedOption","optGroup","optionGroupValues","option","selectContainer","Vtiger_Picklist_Field_Js"],"mappings":"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"}