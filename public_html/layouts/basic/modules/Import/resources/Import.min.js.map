{"version":3,"file":"Import.min.js","sources":["Import.js"],"sourcesContent":["/*+**********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n ************************************************************************************/\n'use strict';\n\nif (typeof ImportJs === 'undefined') {\n\t/*\n\t * Namespaced javascript class for Import\n\t */\n\tvar ImportJs = {\n\t\ttoogleMergeConfiguration: function () {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tvar duplicateMergeConfiguration = jQuery('#duplicates_merge_configuration');\n\t\t\tif (mergeChecked) {\n\t\t\t\tduplicateMergeConfiguration.show();\n\t\t\t} else {\n\t\t\t\tduplicateMergeConfiguration.hide();\n\t\t\t}\n\t\t},\n\t\tcheckFileType: function () {\n\t\t\tvar filePath = jQuery('#import_file').val();\n\t\t\tif (filePath != '') {\n\t\t\t\tvar fileExtension = filePath.split('.').pop();\n\t\t\t\tjQuery('.js-type').val(fileExtension);\n\t\t\t\tImportJs.handleFileTypeChange();\n\t\t\t}\n\t\t},\n\t\thandleFileTypeChange: function () {\n\t\t\tvar fileType = jQuery('.js-type').val();\n\t\t\tvar delimiterContainer = jQuery('.js-delimiter-container');\n\t\t\tvar hasHeaderContainer = jQuery('.js-has-header-container');\n\t\t\tvar xmlTpl = jQuery('.js-xml-tpl');\n\t\t\tvar extension = jQuery('.js-zip-extension');\n\n\t\t\tswitch (fileType) {\n\t\t\t\tcase 'xml':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\txmlTpl.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'zip':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\textension.removeClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdelimiterContainer.removeClass('d-none');\n\t\t\t\t\thasHeaderContainer.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\txmlTpl.addClass('d-none');\n\t\t\t}\n\t\t},\n\t\tuploadAndParse: function () {\n\t\t\tif (!ImportJs.validateFilePath()) return false;\n\t\t\tif (!ImportJs.validateMergeCriteria()) return false;\n\t\t\treturn true;\n\t\t},\n\t\tregisterImportClickEvent() {\n\t\t\t$('#importButton')\n\t\t\t\t.removeAttr('disabled')\n\t\t\t\t.on('click', function (e) {\n\t\t\t\t\treturn ImportJs.sanitizeAndSubmit();\n\t\t\t\t});\n\t\t},\n\t\tvalidateFilePath: function () {\n\t\t\tvar importFile = jQuery('#import_file');\n\t\t\tvar filePath = importFile.val();\n\t\t\tif (jQuery.trim(filePath) == '') {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_IMPORT_FILE_CAN_NOT_BE_EMPTY');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\timportFile.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFilter('import_file', 'csv|vcf|xml|zip|ics|ical')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFileSize('import_file')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFilter: function (elementId, allowedExtensions) {\n\t\t\tvar obj = jQuery('#' + elementId);\n\t\t\tif (obj) {\n\t\t\t\tvar filePath = obj.val();\n\t\t\t\tvar fileParts = filePath.toLowerCase().split('.');\n\t\t\t\tvar fileType = fileParts[fileParts.length - 1];\n\t\t\t\tvar validExtensions = allowedExtensions.toLowerCase().split('|');\n\t\t\t\tif (validExtensions.indexOf(fileType) < 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_SELECT_FILE_EXTENSION') + '\\n' + validExtensions;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\tobj.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFileSize: function (elementId) {\n\t\t\tvar element = jQuery('#' + elementId);\n\t\t\tvar importMaxUploadSize = element.closest('td').data('importUploadSize');\n\t\t\tvar importMaxUploadSizeInMb = element.closest('td').data('importUploadSizeMb');\n\t\t\tvar uploadedFileSize = element.get(0).files[0].size;\n\t\t\tif (uploadedFileSize > importMaxUploadSize) {\n\t\t\t\tvar errorMessage =\n\t\t\t\t\tapp.vtranslate('JS_UPLOADED_FILE_SIZE_EXCEEDS') +\n\t\t\t\t\t' ' +\n\t\t\t\t\timportMaxUploadSizeInMb +\n\t\t\t\t\t' MB.' +\n\t\t\t\t\tapp.vtranslate('JS_PLEASE_SPLIT_FILE_AND_IMPORT_AGAIN');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tvalidateMergeCriteria: function () {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tif (mergeChecked) {\n\t\t\t\tvar selectedOptions = jQuery('#selected_merge_fields option');\n\t\t\t\tif (selectedOptions.length == 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_PLEASE_SELECT_ONE_FIELD_FOR_MERGE');\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tImportJs.convertOptionsToJSONArray('#selected_merge_fields', '#merge_fields');\n\t\t\treturn true;\n\t\t},\n\t\tconvertOptionsToJSONArray: function (objName, targetObjName) {\n\t\t\tlet obj = jQuery(objName);\n\t\t\tlet arr = [];\n\t\t\tif (typeof obj !== 'undefined' && obj[0] != '') {\n\t\t\t\tfor (let i = 0; i < obj[0].length; ++i) {\n\t\t\t\t\tif (obj[0].options[i].selected) {\n\t\t\t\t\t\tarr.push(obj[0].options[i].value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (targetObjName !== 'undefined') {\n\t\t\t\tlet targetObj = $(targetObjName);\n\t\t\t\tif (typeof targetObj !== 'undefined') targetObj.val(JSON.stringify(arr));\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\tcopySelectedOptions: function (source, destination) {\n\t\t\tlet srcObj = jQuery(source);\n\t\t\tlet destObj = jQuery(destination);\n\n\t\t\tif (typeof srcObj === 'undefined' || typeof destObj === 'undefined') return;\n\n\t\t\tfor (let i = 0; i < srcObj[0].length; i++) {\n\t\t\t\tif (srcObj[0].options[i].selected == true) {\n\t\t\t\t\tlet rowFound = false;\n\t\t\t\t\tlet existingObj = null;\n\t\t\t\t\tfor (let j = 0; j < destObj[0].length; j++) {\n\t\t\t\t\t\tif (destObj[0].options[j].value == srcObj[0].options[i].value) {\n\t\t\t\t\t\t\trowFound = true;\n\t\t\t\t\t\t\texistingObj = destObj[0].options[j];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowFound != true) {\n\t\t\t\t\t\tlet opt = $('<option selected>');\n\t\t\t\t\t\topt.attr('value', srcObj[0].options[i].value);\n\t\t\t\t\t\topt.text(srcObj[0].options[i].text);\n\t\t\t\t\t\tjQuery(destObj[0]).append(opt);\n\t\t\t\t\t\tsrcObj[0].options[i].selected = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (existingObj != null) {\n\t\t\t\t\t\t\texistingObj.selected = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsrcObj.trigger('change');\n\t\t\tdestObj.trigger('change');\n\t\t},\n\t\tremoveSelectedOptions: function (objName) {\n\t\t\tvar obj = jQuery(objName);\n\t\t\tif (!obj.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = obj[0].options.length - 1; i >= 0; i--) {\n\t\t\t\tif (obj[0].options[i].selected == true) {\n\t\t\t\t\tobj[0].options[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsanitizeAndSubmit: function () {\n\t\t\tif (!ImportJs.sanitizeFieldMapping()) return false;\n\t\t\tif (!ImportJs.validateCustomMap()) return false;\n\t\t\treturn true;\n\t\t},\n\t\tsanitizeFieldMapping: function () {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar mappedFields = {};\n\t\t\tvar inventoryMappedFields = {};\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar mappedDefaultValues = {};\n\t\t\tfor (var i = 0; i < fieldsList.length; ++i) {\n\t\t\t\tvar fieldElement = jQuery(fieldsList.get(i));\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar selectElement = jQuery('select', fieldElement);\n\t\t\t\tvar selectedFieldElement = selectElement.find('option:selected');\n\t\t\t\tvar selectedFieldName = selectedFieldElement.val();\n\t\t\t\tvar selectedFieldDefaultValueElement = jQuery('#' + selectedFieldName + '_defaultvalue', fieldElement);\n\t\t\t\tvar defaultValue = '';\n\t\t\t\tif (selectedFieldDefaultValueElement.attr('type') == 'checkbox') {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.is(':checked');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.val();\n\t\t\t\t}\n\t\t\t\tif (selectedFieldName != '') {\n\t\t\t\t\tvar stopImmediately;\n\t\t\t\t\tif (selectElement.hasClass('inventory')) {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(\n\t\t\t\t\t\t\tselectedFieldName,\n\t\t\t\t\t\t\tinventoryMappedFields,\n\t\t\t\t\t\t\tselectedFieldElement\n\t\t\t\t\t\t);\n\t\t\t\t\t\tinventoryMappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(selectedFieldName, mappedFields, selectedFieldElement);\n\t\t\t\t\t\tmappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (stopImmediately) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (defaultValue != '') {\n\t\t\t\t\t\tmappedDefaultValues[selectedFieldName] = defaultValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar mandatoryFields = JSON.parse(jQuery('#mandatory_fields').val());\n\t\t\tvar missingMandatoryFields = [];\n\t\t\tfor (var mandatoryFieldName in mandatoryFields) {\n\t\t\t\tif (mandatoryFieldName in mappedFields) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tmissingMandatoryFields.push('\"' + mandatoryFields[mandatoryFieldName] + '\"');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (missingMandatoryFields.length > 0) {\n\t\t\t\terrorMessage = app.vtranslate('JS_MAP_MANDATORY_FIELDS') + missingMandatoryFields.join(',');\n\t\t\t\tparams = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tjQuery('#field_mapping').val(JSON.stringify(mappedFields));\n\t\t\tjQuery('#inventory_field_mapping').val(JSON.stringify(inventoryMappedFields));\n\t\t\tjQuery('#default_values').val(JSON.stringify(mappedDefaultValues));\n\t\t\treturn true;\n\t\t},\n\t\tcheckIfMappedFieldExist: function (selectedFieldName, mappedFields, selectedFieldElement) {\n\t\t\tif (selectedFieldName in mappedFields) {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_FIELD_MAPPED_MORE_THAN_ONCE') + ' ' + selectedFieldElement.data('label');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tvalidateCustomMap: function () {\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar saveMap = jQuery('#save_map').is(':checked');\n\t\t\tif (saveMap) {\n\t\t\t\tvar mapName = jQuery('#save_map_as').val();\n\t\t\t\tif (jQuery.trim(mapName) == '') {\n\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_CAN_NOT_BE_EMPTY');\n\t\t\t\t\tparams = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar mapOptions = jQuery('#saved_maps option');\n\t\t\t\tfor (var i = 0; i < mapOptions.length; ++i) {\n\t\t\t\t\tvar mapOption = jQuery(mapOptions.get(i));\n\t\t\t\t\tif (mapOption.html() == mapName) {\n\t\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_ALREADY_EXISTS');\n\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tloadSavedMap: function () {\n\t\t\tvar selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\tvar mapId = selectedMapElement.attr('id');\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar deleteMapContainer = jQuery('#delete_map_container');\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tjQuery('[name=mapped_fields]', fieldElement).val('');\n\t\t\t});\n\t\t\tif (mapId == -1) {\n\t\t\t\tdeleteMapContainer.hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdeleteMapContainer.show();\n\t\t\tvar mappingString = selectedMapElement.val();\n\t\t\tif (mappingString == '') return;\n\t\t\tvar mappingPairs = mappingString.split('&');\n\t\t\tvar mapping = {};\n\t\t\tfor (var i = 0; i < mappingPairs.length; ++i) {\n\t\t\t\tvar mappingPair = mappingPairs[i].split('=');\n\t\t\t\tvar header = mappingPair[0];\n\t\t\t\theader = header.replace(/\\/eq\\//g, '=');\n\t\t\t\theader = header.replace(/\\/amp\\//g, '&');\n\t\t\t\tmapping[\"'\" + header + \"'\"] = mappingPair[1];\n\t\t\t}\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFields = jQuery('[name=mapped_fields]', fieldElement);\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar headerNameElement = jQuery('[name=header_name]', fieldElement).get(0);\n\t\t\t\tvar headerName = jQuery(headerNameElement).html();\n\t\t\t\tif (\"'\" + headerName + \"'\" in mapping) {\n\t\t\t\t\tmappedFields.val(mapping[\"'\" + headerName + \"'\"]);\n\t\t\t\t} else if (rowId in mapping) {\n\t\t\t\t\tmappedFields.val($rowId);\n\t\t\t\t}\n\t\t\t\tmappedFields.trigger('change');\n\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t});\n\t\t},\n\t\tdeleteMap: function (module) {\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttext: app.vtranslate('LBL_DELETE_CONFIRMATION'),\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tlet selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\t\t\tlet mapId = selectedMapElement.attr('id');\n\t\t\t\t\tlet status = jQuery('#status');\n\t\t\t\t\tstatus.show();\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: module,\n\t\t\t\t\t\tview: 'Import',\n\t\t\t\t\t\tmode: 'deleteMap',\n\t\t\t\t\t\tmapid: mapId\n\t\t\t\t\t})\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tlet mapContainer = $('#savedMapsContainer').html(data);\n\t\t\t\t\t\t\tstatus.hide();\n\t\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(mapContainer.find('select'));\n\t\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(jQuery('#saved_maps'));\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadDefaultValueWidget: function (rowIdentifierId) {\n\t\t\tvar affectedRow = jQuery('#' + rowIdentifierId);\n\t\t\tif (typeof affectedRow === 'undefined' || affectedRow == null) return;\n\t\t\tvar selectedFieldElement = jQuery('[name=mapped_fields]', affectedRow).get(0);\n\t\t\tvar selectedFieldName = jQuery(selectedFieldElement).val();\n\t\t\tvar defaultValueContainer = jQuery(jQuery('[name=default_value_container]', affectedRow).get(0));\n\t\t\tvar allDefaultValuesContainer = jQuery('#defaultValuesElementsContainer');\n\t\t\tif (defaultValueContainer.children.length > 0) {\n\t\t\t\tvar copyOfDefaultValueWidget = jQuery(':first', defaultValueContainer).detach();\n\t\t\t\tcopyOfDefaultValueWidget.appendTo(allDefaultValuesContainer);\n\t\t\t}\n\t\t\tvar selectedFieldDefValueContainer = jQuery(\n\t\t\t\t'#' + selectedFieldName + '_defaultvalue_container',\n\t\t\t\tallDefaultValuesContainer\n\t\t\t);\n\t\t\tvar defaultValueWidget = selectedFieldDefValueContainer.detach();\n\t\t\tdefaultValueWidget.appendTo(defaultValueContainer);\n\t\t},\n\t\tloadDefaultValueWidgetForMappedFields: function () {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFieldName = jQuery('[name=mapped_fields]', fieldElement).val();\n\t\t\t\tif (mappedFieldName != '') {\n\t\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsubmitAction: function () {\n\t\t\tvar form = jQuery('[name=\"importAdvanced\"]');\n\t\t\tform.on('submit', function () {\n\t\t\t\t$.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\topenListInModal: function () {\n\t\t\t$('.js-open-list-in-modal').on('click', function () {\n\t\t\t\tlet element = $(this),\n\t\t\t\t\tmoduleName = element.data('module-name'),\n\t\t\t\t\ttype = '',\n\t\t\t\t\tforUser = element.data('for-user'),\n\t\t\t\t\tforModule = element.data('for-module');\n\t\t\t\tif ($(this).attr('data-type') !== '') {\n\t\t\t\t\ttype = '&type=' + element.data('type');\n\t\t\t\t}\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=' +\n\t\t\t\t\t\tmoduleName +\n\t\t\t\t\t\t'&view=List&mode=getImportDetails' +\n\t\t\t\t\t\ttype +\n\t\t\t\t\t\t'&start=1&foruser=' +\n\t\t\t\t\t\tforUser +\n\t\t\t\t\t\t'&forModule=' +\n\t\t\t\t\t\tforModule,\n\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\tlet container = data.find('.listViewEntriesDiv'),\n\t\t\t\t\t\t\tcontainerH = container.height(),\n\t\t\t\t\t\t\tcontainerOffsetTop = container.offset().top,\n\t\t\t\t\t\t\tfooterH = $('.js-footer').height(),\n\t\t\t\t\t\t\twindowH = $(window).height();\n\t\t\t\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\t\t\t\tif (containerH + containerOffsetTop + footerH > windowH) {\n\t\t\t\t\t\t\t\tcontainer.height(windowH - (containerOffsetTop + footerH));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNewScrollbarTopBottomRight(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t};\n\n\tjQuery(document).ready(function () {\n\t\tImportJs.toogleMergeConfiguration();\n\t\tImportJs.openListInModal();\n\t\tImportJs.submitAction();\n\t\tImportJs.loadDefaultValueWidgetForMappedFields();\n\t\tImportJs.registerImportClickEvent();\n\t\tApp.Fields.Date.register(jQuery('.contentsDiv'));\n\t});\n}\n"],"names":["ImportJs","toogleMergeConfiguration","jQuery","is","duplicateMergeConfiguration","mergeChecked","show","hide","checkFileType","val","filePath","fileExtension","split","pop","handleFileTypeChange","delimiterContainer","hasHeaderContainer","xmlTpl","extension","fileType","addClass","removeClass","uploadAndParse","validateFilePath","validateMergeCriteria","registerImportClickEvent","$","removeAttr","on","sanitizeAndSubmit","importFile","trim","errorMessage","app","vtranslate","Vtiger_Helper_Js","showMessage","text","type","focus","uploadFilter","uploadFileSize","elementId","allowedExtensions","obj","fileParts","toLowerCase","length","validExtensions","indexOf","importMaxUploadSize","element","closest","data","importMaxUploadSizeInMb","uploadedFileSize","get","files","size","selectedOptions","convertOptionsToJSONArray","objName","targetObjName","arr","i","options","selected","push","value","targetObj","JSON","stringify","copySelectedOptions","source","destination","srcObj","destObj","existingObj","j","rowFound","opt","attr","append","trigger","removeSelectedOptions","sanitizeFieldMapping","validateCustomMap","fieldsList","mappedFields","inventoryMappedFields","params","mappedDefaultValues","rowId","fieldElement","selectElement","selectedFieldElement","find","selectedFieldName","selectedFieldDefaultValueElement","defaultValue","hasClass","stopImmediately","checkIfMappedFieldExist","parse","missingMandatoryFields","mandatoryFieldName","mandatoryFields","join","saveMap","mapName","mapOptions","mapOption","html","loadSavedMap","mapId","selectedMapElement","deleteMapContainer","each","mappingString","mapping","mappingPairs","mappingPair","header","replace","headerNameElement","headerName","$rowId","loadDefaultValueWidget","deleteMap","module","showConfirmModal","confirmedCallback","status","AppConnector","request","view","mode","mapid","done","App","Fields","Picklist","showSelect2ElementView","mapContainer","changeSelectElementView","fail","error","console","rowIdentifierId","affectedRow","defaultValueContainer","allDefaultValuesContainer","children","copyOfDefaultValueWidget","detach","appendTo","selectedFieldDefValueContainer","defaultValueWidget","loadDefaultValueWidgetForMappedFields","mappedFieldName","submitAction","form","progressIndicator","message","position","blockInfo","enabled","openListInModal","moduleName","forUser","forModule","showModalWindow","containerH","container","height","containerOffsetTop","offset","top","footerH","windowH","window","Quasar","plugins","Platform","desktop","showNewScrollbarTopBottomRight","document","ready","Date","register"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFACA,YAAY,CAEZ,GAAwB,WAAW,EAA/B,OAAOA,QAAwB,CAAE;AAErC;AACA,IACC,IAAY,QAAA,CAAG,CACdC,wBAAwB,CAAE,SAAY,wBAAA,EAAA,CAAA,IACrB,YAAA,CAAGC,MAAM,CAAC,aAAa,CAAC,CAACC,EAAE,CAAC,UAAU,CAAC,CACnDC,2BAA2B,CAAGF,MAAM,CAAC,iCAAiC,CAAC,CACvEG,YAAY,CACfD,2BAA2B,CAACE,IAAI,EAAE,CAElCF,2BAA2B,CAACG,IAAI,GAElC,CAAC,CACDC,aAAa,CAAE,SAAA,aAAA,EAAY,CAC1B,YAAY,CAAGN,MAAM,CAAC,cAAc,CAAC,CAACO,GAAG,EAAE,CAC3C,GAAgB,EAAE,EAAdC,QAAc,CAAE,CACnB,IAAIC,aAAa,CAAGD,QAAQ,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,EAAE,CAC7CX,MAAM,CAAC,UAAU,CAAC,CAACO,GAAG,CAACE,aAAa,CAAC,CACrCX,QAAQ,CAACc,oBAAoB,GAC9B,CACD,CAAC,CACDA,oBAAoB,CAAE,SAAY,oBAAA,EAAA,CAAA,YACrB,CAAGZ,MAAM,CAAC,UAAU,CAAC,CAACO,GAAG,EAAE,CACnCM,kBAAkB,CAAGb,MAAM,CAAC,yBAAyB,CAAC,CACtDc,kBAAkB,CAAGd,MAAM,CAAC,0BAA0B,CAAC,CACvDe,MAAM,CAAGf,MAAM,CAAC,aAAa,CAAC,CAC9BgB,SAAS,CAAGhB,MAAM,CAAC,mBAAmB,CAAC,CAGrC,KAAK,GADHiB,QAAQ,EAEdJ,kBAAkB,CAACK,QAAQ,CAAC,QAAQ,CAAC,CACrCJ,kBAAkB,CAACI,QAAQ,CAAC,QAAQ,CAAC,CACrCH,MAAM,CAACI,WAAW,CAAC,QAAQ,CAAC,CAC5BH,SAAS,CAACE,QAAQ,CAAC,QAAQ,CAAC,EAExB,KAAK,GAPHD,QAAQ,EAQdJ,kBAAkB,CAACK,QAAQ,CAAC,QAAQ,CAAC,CACrCJ,kBAAkB,CAACI,QAAQ,CAAC,QAAQ,CAAC,CACrCF,SAAS,CAACG,WAAW,CAAC,QAAQ,CAAC,GAG/BN,kBAAkB,CAACM,WAAW,CAAC,QAAQ,CAAC,CACxCL,kBAAkB,CAACK,WAAW,CAAC,QAAQ,CAAC,CACxCH,SAAS,CAACE,QAAQ,CAAC,QAAQ,CAAC,CAC5BH,MAAM,CAACG,QAAQ,CAAC,QAAQ,CAAC,EAE5B,CAAC,CACDE,cAAc,CAAE,SAAA,cAAA,EAAY,CACtBtB,OAAAA,CAAAA,CAAAA,QAAQ,CAACuB,gBAAgB,EAAE,EAC3BvB,CAAAA,CAAAA,QAAQ,CAACwB,qBAAqB,EAEpC,CAAC,CACDC,wBAAwB,CAAG,SAAA,wBAAA,EAAA,CAC1BC,CAAC,CAAC,eAAe,CAAC,CAChBC,UAAU,CAAC,UAAU,CAAC,CACtBC,EAAE,CAAC,OAAO,CAAE,UAAa,CACzB,eAAe,CAACC,iBAAiB,EAClC,CAAC,EACH,CAAC,CACDN,gBAAgB,CAAE,2BAAY,CACzBO,IAAAA,UAAU,CAAG5B,MAAM,CAAC,cAAc,CAAC,CACnCQ,QAAQ,CAAGoB,UAAU,CAACrB,GAAG,EAAE,CAC/B,GAA6B,EAAE,EAA3BP,MAAM,CAAC6B,IAAI,CAACrB,QAAQ,CAAO,CAAE,CAC5BsB,IAAAA,YAAY,CAAGC,GAAG,CAACC,UAAU,CAAC,iCAAiC,CAAC,CAOpE,OAFAC,gBAAgB,CAACC,WAAW,CAJf,CACZC,IAAI,CAAEL,YAAY,CAClBM,IAAI,CAAE,OACP,CAAC,CACmC,CACpCR,UAAU,CAACS,KAAK,EAAE,GAEnB,CAAC,OAAA,CAAA,CACIvC,QAAQ,CAACwC,YAAY,CAAC,aAAa,CAAE,0BAA0B,CAAC,EAGhExC,CAAAA,CAAAA,QAAQ,CAACyC,cAAc,CAAC,aAAa,CAI3C,CAAC,CACDD,YAAY,CAAE,SAAA,YAAA,CAAUE,SAAS,CAAEC,iBAAiB,CAAE,CACrD,IAAIC,GAAG,CAAG1C,MAAM,CAAC,GAAG,CAAGwC,SAAS,CAAC,CACjC,GAAIE,GAAG,CAAE,CACJlC,IAAAA,QAAQ,CAAGkC,GAAG,CAACnC,GAAG,EAAE,CACpBoC,SAAS,CAAGnC,QAAQ,CAACoC,WAAW,EAAE,CAAClC,KAAK,CAAC,GAAG,CAAC,CAC7CO,QAAQ,CAAG0B,SAAS,CAACA,SAAS,CAACE,MAAM,CAAG,CAAC,CAAC,CAC1CC,eAAe,CAAGL,iBAAiB,CAACG,WAAW,EAAE,CAAClC,KAAK,CAAC,GAAG,CAAC,CAChE,GAAwC,CAAC,CAArCoC,eAAe,CAACC,OAAO,CAAC9B,QAAQ,CAAK,CAAE,CAAA,gBAC1B,CAAGc,GAAG,CAACC,UAAU,CAAC,0BAA0B,CAAC,CAAG,IAAI,CAAGc,eAAe,CAOtF,OAFAb,gBAAgB,CAACC,WAAW,CAJf,CACZC,IAAI,CAAEL,YAAY,CAClBM,IAAI,CAAE,OACP,CAAC,CACmC,CACpCM,GAAG,CAACL,KAAK,EAAE,CAEZ,CAAA,CAAA,CACD,CACA,OACD,CAAA,CAAA,CAAC,CACDE,cAAc,CAAE,SAAUC,cAAAA,CAAAA,SAAS,CAAE,CAAA,WACzB,CAAGxC,MAAM,CAAC,GAAG,CAAGwC,SAAS,CAAC,CACjCQ,mBAAmB,CAAGC,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,kBAAkB,CAAC,CACpEC,uBAAuB,CAAGH,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,oBAAoB,CAAC,CAC1EE,gBAAgB,CAAGJ,OAAO,CAACK,GAAG,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CACnD,GAAIH,gBAAgB,CAAGL,mBAAmB,CAAE,CAAA,IAC3B,YAAA,CACfjB,GAAG,CAACC,UAAU,CAAC,+BAA+B,CAAC,CAC/C,GAAG,CACHoB,uBAAuB,CACvB,MAAM,CACNrB,GAAG,CAACC,UAAU,CAAC,uCAAuC,CAAC,CAMxD,OADgB,gBAAA,CAACE,WAAW,CAJf,CACZC,IAAI,CAAEL,YAAY,CAClBM,IAAI,CAAE,OACP,CAAC,CACmC,GAErC,CACA,OAAA,CAAA,CACD,CAAC,CACDd,qBAAqB,CAAE,SAAA,qBAAA,EAAY,CAClC,gBAAgB,CAAGtB,MAAM,CAAC,aAAa,CAAC,CAACC,EAAE,CAAC,UAAU,CAAC,CACvD,GAAIE,YAAY,CAAE,CACjB,IAAIsD,eAAe,CAAGzD,MAAM,CAAC,+BAA+B,CAAC,CAC7D,GAA8B,CAAC,EAA3ByD,eAAe,CAACZ,MAAW,CAAE,CAC5Bf,IAAAA,YAAY,CAAGC,GAAG,CAACC,UAAU,CAAC,sCAAsC,CAAC,CAMzE,OADAC,gBAAgB,CAACC,WAAW,CAJf,CACZC,IAAI,CAAEL,YAAY,CAClBM,IAAI,CAAE,OACP,CAAC,CACmC,CAErC,CAAA,CAAA,CACD,CAEA,eADQ,CAACsB,yBAAyB,CAAC,wBAAwB,CAAE,eAAe,CAAC,GAE9E,CAAC,CACDA,yBAAyB,CAAE,SAAA,yBAAA,CAAUC,OAAO,CAAEC,aAAa,CAAE,CAAA,IACrD,GAAA,CAAG5D,MAAM,CAAC2D,OAAO,CAAC,CACrBE,GAAG,CAAG,EAAE,CACZ,GAAmB,WAAW,EAA1B,OAA0B,GAAA,EAAc,EAAE,EAAZnB,GAAG,CAAC,CAAC,CAAO,CAC7C,IAAK,IAAIoB,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGpB,GAAG,CAAC,CAAC,CAAC,CAACG,MAAM,CAAE,EAAEiB,CAAC,CACjCpB,GAAG,CAAC,CAAC,CAAC,CAACqB,OAAO,CAACD,CAAC,CAAC,CAACE,QAAQ,EAC7BH,GAAG,CAACI,IAAI,CAACvB,GAAG,CAAC,CAAC,CAAC,CAACqB,OAAO,CAACD,CAAC,CAAC,CAACI,KAAK,CAAC,CAIpC,GAAsB,WAAW,GAA7BN,aAA6B,CAAE,CAClC,IAAa,SAAA,CAAGpC,CAAC,CAACoC,aAAa,CAAC,CACP,WAAW,EAAhC,OAAgC,SAAA,EAAEO,SAAS,CAAC5D,GAAG,CAAC6D,IAAI,CAACC,SAAS,CAACR,GAAG,CAAC,EACxE,CACA,OACD,GAAA,CAAC,CACDS,mBAAmB,CAAE,SAAUC,mBAAAA,CAAAA,MAAM,CAAEC,WAAW,CAAE,CAC/CC,IAAAA,MAAM,CAAGzE,MAAM,CAACuE,MAAM,CAAC,CACvBG,OAAO,CAAG1E,MAAM,CAACwE,WAAW,CAAC,CAEjC,GAAsB,WAAW,EAA7B,aAA6B,EAAuB,WAAW,EAA9B,cAA8B,CAEnE,CAAA,IAAK,IAAIV,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGW,MAAM,CAAC,CAAC,CAAC,CAAC5B,MAAM,CAAEiB,CAAC,EAAE,CACxC,GAAI,CAAAW,CAAAA,EAAAA,MAAM,CAAC,CAAC,CAAC,CAACV,OAAO,CAACD,CAAC,CAAC,CAACE,QAAgB,CAAE,CAG1C,QAFY,QAAA,CAAA,CAAA,CAAQ,CAChBW,WAAW,CAAG,IAAI,CACbC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,OAAO,CAAC,CAAC,CAAC,CAAC7B,MAAM,CAAE+B,CAAC,EAAE,CACzC,GAAIF,OAAO,CAAC,CAAC,CAAC,CAACX,OAAO,CAACa,CAAC,CAAC,CAACV,KAAK,EAAIO,MAAM,CAAC,CAAC,CAAC,CAACV,OAAO,CAACD,CAAC,CAAC,CAACI,KAAK,CAAE,CAC9DW,QAAQ,CAAO,CAAA,CAAA,CACfF,WAAW,CAAGD,OAAO,CAAC,CAAC,CAAC,CAACX,OAAO,CAACa,CAAC,CAAC,CACnC,KACD,CAGD,GAAI,CAAAC,CAAAA,EAAAA,QAAgB,CAAE,CACrB,IAAO,GAAA,CAAGrD,CAAC,CAAC,mBAAmB,CAAC,CAChCsD,GAAG,CAACC,IAAI,CAAC,OAAO,CAAEN,MAAM,CAAC,CAAC,CAAC,CAACV,OAAO,CAACD,CAAC,CAAC,CAACI,KAAK,CAAC,CAC7CY,GAAG,CAAC3C,IAAI,CAACsC,MAAM,CAAC,CAAC,CAAC,CAACV,OAAO,CAACD,CAAC,CAAC,CAAC3B,IAAI,CAAC,CACnCnC,MAAM,CAAC0E,OAAO,CAAC,CAAC,CAAC,CAAC,CAACM,MAAM,CAACF,GAAG,CAAC,CAC9BL,MAAM,CAAC,CAAC,CAAC,CAACV,OAAO,CAACD,CAAC,CAAC,CAACE,QAAQ,CAAA,CAAA,EAC9B,CAAC,KACmB,IAAI,EAAnBW,WAAmB,GACtBA,WAAW,CAACX,QAAQ,CAAA,CAAA,CAAO,EAG9B,CAEDS,MAAM,CAACQ,OAAO,CAAC,QAAQ,CAAC,CACxBP,OAAO,CAACO,OAAO,CAAC,QAAQ,EAAC,CAC1B,CAAC,CACDC,qBAAqB,CAAE,+BAAUvB,OAAO,CAAE,CACzC,OAAO,CAAG3D,MAAM,CAAC2D,OAAO,CAAC,CACzB,GAAKjB,GAAG,CAACG,MAAM,CAGf,IAAK,IAAIiB,CAAC,CAAGpB,GAAG,CAAC,CAAC,CAAC,CAACqB,OAAO,CAAClB,MAAM,CAAG,CAAC,CAAO,CAAC,EAANiB,CAAM,CAAEA,CAAC,EAAE,CAC9C,CAAA,CAAA,EAAApB,GAAG,CAAC,CAAC,CAAC,CAACqB,OAAO,CAACD,CAAC,CAAC,CAACE,QAAgB,GACrCtB,GAAG,CAAC,CAAC,CAAC,CAACqB,OAAO,CAACD,CAAC,CAAC,CAAG,IAAI,EAG3B,CAAC,CACDnC,iBAAiB,CAAE,SAAY,iBAAA,EAAA,CAAA,OAAA,CAAA,CACzB7B,QAAQ,CAACqF,oBAAoB,EAAE,EAAA,CAAA,CAC/BrF,QAAQ,CAACsF,iBAAiB,EAEhC,CAAC,CACDD,oBAAoB,CAAE,SAAY,oBAAA,EAAA,CAOjC,QAHgB,YAAA,CAHZE,UAAU,CAAGrF,MAAM,CAAC,kBAAkB,CAAC,CACvCsF,YAAY,CAAG,EAAE,CACjBC,qBAAqB,CAAG,EAAE,CAE1BC,MAAM,CAAG,EAAE,CACXC,mBAAmB,CAAG,EAAE,CACnB3B,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGuB,UAAU,CAACxC,MAAM,CAAE,EAAEiB,CAAC,CAAE,KAC3B,YAAA,CAAG9D,MAAM,CAACqF,UAAU,CAAC/B,GAAG,CAACQ,CAAC,CAAC,CAAC,CACxC4B,KAAK,CAAG1F,MAAM,CAAC,oBAAoB,CAAE2F,YAAY,CAAC,CAACrC,GAAG,CAAC,CAAC,CAAC,CAACY,KAAK,CAC/D0B,aAAa,CAAG5F,MAAM,CAAC,QAAQ,CAAE2F,YAAY,CAAC,CAC9CE,oBAAoB,CAAGD,aAAa,CAACE,IAAI,CAAC,iBAAiB,CAAC,CAC5DC,iBAAiB,CAAGF,oBAAoB,CAACtF,GAAG,EAAE,CAC9CyF,gCAAgC,CAAGhG,MAAM,CAAC,GAAG,CAAG+F,iBAAiB,CAAG,eAAe,CAAEJ,YAAY,CAAC,CAClGM,YAAY,CAAG,EAAE,CAMrB,GAJCA,YAAY,CADwC,UAAU,EAA3DD,gCAAgC,CAACjB,IAAI,CAAC,MAAM,CAAe,CAC/CiB,gCAAgC,CAAC/F,EAAE,CAAC,UAAU,CAAC,CAE/C+F,gCAAgC,CAACzF,GAAG,EAAE,CAE7B,EAAE,EAAvBwF,iBAAuB,CAAE,CAC5B,IAAmB,eAAA,CAYnB,GAXIH,aAAa,CAACM,QAAQ,CAAC,WAAW,CAAC,EACtCC,eAAe,CAAGrG,QAAQ,CAACsG,uBAAuB,CACjDL,iBAAiB,CACjBR,qBAAqB,CACrBM,oBAAoB,CACpB,CACDN,qBAAqB,CAACQ,iBAAiB,CAAC,CAAGL,KAAK,CAAG,CAAC,GAEpDS,eAAe,CAAGrG,QAAQ,CAACsG,uBAAuB,CAACL,iBAAiB,CAAET,YAAY,CAAEO,oBAAoB,CAAC,CACzGP,YAAY,CAACS,iBAAiB,CAAC,CAAGL,KAAK,CAAG,CAAC,CAExCS,CAAAA,eAAe,CAClB,OAAA,CAAA,CAAA,CAEmB,EAAE,EAAlBF,YAAkB,GACrBR,mBAAmB,CAACM,iBAAiB,CAAC,CAAGE,YAAY,EAEvD,CACD,CAAC,IAEkB,eAAA,CAAG7B,IAAI,CAACiC,KAAK,CAACrG,MAAM,CAAC,mBAAmB,CAAC,CAACO,GAAG,EAAE,CAAC,CAC/D+F,sBAAsB,CAAG,EAAE,CAC/B,IAAK,IAAIC,kBAAkB,IAAmB,eAAA,CAC7C,GAAIA,kBAAkB,IAAgB,YAAA,CACrC,SAAS,2BAEa,CAACtC,IAAI,CAAC,IAAG,CAAGuC,eAAe,CAACD,kBAAkB,CAAC,CAAG,IAAG,CAAC,CAE7E,QACoC,CAAjCD,sBAAsB,CAACzD,MAAU,EACpCf,YAAY,CAAGC,GAAG,CAACC,UAAU,CAAC,yBAAyB,CAAC,CAAGsE,sBAAsB,CAACG,IAAI,CAAC,GAAG,CAAC,CAC3FjB,MAAM,CAAG,CACRrD,IAAI,CAAEL,YAAY,CAClBM,IAAI,CAAE,OACP,CAAC,CACDH,gBAAgB,CAACC,WAAW,CAACsD,MAAM,CAAC,MAGrCxF,MAAM,CAAC,gBAAgB,CAAC,CAACO,GAAG,CAAC6D,IAAI,CAACC,SAAS,CAACiB,YAAY,CAAC,CAAC,CAC1DtF,MAAM,CAAC,0BAA0B,CAAC,CAACO,GAAG,CAAC6D,IAAI,CAACC,SAAS,CAACkB,qBAAqB,CAAC,CAAC,CAC7EvF,MAAM,CAAC,iBAAiB,CAAC,CAACO,GAAG,CAAC6D,IAAI,CAACC,SAAS,CAACoB,mBAAmB,CAAC,CAAC,IAEnE,CAAC,CACDW,uBAAuB,CAAE,iCAAUL,iBAAiB,CAAET,YAAY,CAAEO,oBAAoB,CAAE,CACzF,GAAIE,iBAAiB,IAAgB,YAAA,CAAE,CAClCjE,IAAAA,YAAY,CAAGC,GAAG,CAACC,UAAU,CAAC,gCAAgC,CAAC,CAAG,GAAG,CAAG6D,oBAAoB,CAAC1C,IAAI,CAAC,OAAO,CAAC,CAM9G,OADgB,gBAAA,CAACjB,WAAW,CAJf,CACZC,IAAI,CAAEL,YAAY,CAClBM,IAAI,CAAE,OACP,CAAC,CACmC,CAAA,CAAA,CAErC,CACA,OAAA,CAAA,CACD,CAAC,CACDgD,iBAAiB,CAAE,SAAA,iBAAA,EAAY,KACd,YAAA,CACZI,MAAM,CAAG,EAAE,CACXkB,OAAO,CAAG1G,MAAM,CAAC,WAAW,CAAC,CAACC,EAAE,CAAC,UAAU,CAAC,CAChD,GAAIyG,OAAO,CAAE,CACZ,WAAW,CAAG1G,MAAM,CAAC,cAAc,CAAC,CAACO,GAAG,EAAE,CAC1C,GAA4B,EAAE,EAA1BP,MAAM,CAAC6B,IAAI,CAAC8E,OAAO,CAAO,CAO7B,OANY,YAAA,CAAG5E,GAAG,CAACC,UAAU,CAAC,8BAA8B,CAAC,CAC7DwD,MAAM,CAAG,CACRrD,IAAI,CAAEL,YAAY,CAClBM,IAAI,CAAE,OACP,CAAC,CACDH,gBAAgB,CAACC,WAAW,CAACsD,MAAM,CAAC,CAIrC,CAAA,CAAA,CAAA,IAAA,aACc,CAFVoB,UAAU,CAAG5G,MAAM,CAAC,oBAAoB,CAAC,CACpC8D,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG8C,UAAU,CAAC/D,MAAM,CAAE,EAAEiB,CAAC,CAEzC,GADI+C,SAAS,CAAG7G,MAAM,CAAC4G,UAAU,CAACtD,GAAG,CAACQ,CAAC,CAAC,CAAC,CACrC+C,SAAS,CAACC,IAAI,EAAE,EAAIH,OAAO,CAO9B,mBANY,CAAG5E,GAAG,CAACC,UAAU,CAAC,4BAA4B,CAAC,CAC3DwD,MAAM,CAAG,CACRrD,IAAI,CAAEL,YAAY,CAClBM,IAAI,CAAE,OACP,CAAC,CACDH,gBAAgB,CAACC,WAAW,CAACsD,MAAM,CAAC,CAAA,CAAA,CAIvC,CACA,OACD,CAAA,CAAA,CAAC,CACDuB,YAAY,CAAE,SAAY,YAAA,EAAA,CAAA,IACH,kBAAA,CAAG/G,MAAM,CAAC,6BAA6B,CAAC,CAC1DgH,KAAK,CAAGC,kBAAkB,CAAClC,IAAI,CAAC,IAAI,CAAC,CACrCM,UAAU,CAAGrF,MAAM,CAAC,kBAAkB,CAAC,CACvCkH,kBAAkB,CAAGlH,MAAM,CAAC,uBAAuB,CAAC,CAKxD,GAJAqF,UAAU,CAAC8B,IAAI,CAAC,SAAUrD,CAAC,CAAEb,OAAO,CAAE,CACrC,gBAAgB,CAAGjD,MAAM,CAACiD,OAAO,CAAC,CAClCjD,MAAM,CAAC,sBAAsB,CAAE2F,YAAY,CAAC,CAACpF,GAAG,CAAC,EAAE,EACpD,CAAC,CAAC,CACW,CAAC,CAAC,EAAXyG,KAAW,CAEd,OADAE,KAAAA,kBAAkB,CAAC7G,IAAI,EAAE,CAG1B6G,kBAAkB,CAAC9G,IAAI,EAAE,CACzB,IAAiB,aAAA,CAAG6G,kBAAkB,CAAC1G,GAAG,EAAE,CAC5C,GAAqB,EAAE,EAAnB6G,aAAmB,CAAA,CAGvB,QAFgB,YAAA,CAAGA,aAAa,CAAC1G,KAAK,CAAC,GAAG,CAAC,CACvC2G,OAAO,CAAG,EAAE,CACPvD,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGwD,YAAY,CAACzE,MAAM,CAAE,EAAEiB,CAAC,CAAE,CACzCyD,IAAAA,WAAW,CAAGD,YAAY,CAACxD,CAAC,CAAC,CAACpD,KAAK,CAAC,GAAG,CAAC,CACxC8G,MAAM,CAAGD,WAAW,CAAC,CAAC,CAAC,CAC3BC,MAAM,CAAGA,MAAM,CAACC,OAAO,CAAC,SAAS,CAAE,GAAG,CAAC,CACvCD,MAAM,CAAGA,MAAM,CAACC,OAAO,CAAC,UAAU,CAAE,GAAG,CAAC,CACxCJ,OAAO,CAAC,GAAG,CAAGG,MAAM,CAAG,GAAG,CAAC,CAAGD,WAAW,CAAC,CAAC,EAC5C,CACAlC,UAAU,CAAC8B,IAAI,CAAC,SAAUrD,CAAC,CAAEb,OAAO,CAAE,CAAA,IACrB,YAAA,CAAGjD,MAAM,CAACiD,OAAO,CAAC,CAC9BqC,YAAY,CAAGtF,MAAM,CAAC,sBAAsB,CAAE2F,YAAY,CAAC,CAC3DD,KAAK,CAAG1F,MAAM,CAAC,oBAAoB,CAAE2F,YAAY,CAAC,CAACrC,GAAG,CAAC,CAAC,CAAC,CAACY,KAAK,CAC/DwD,iBAAiB,CAAG1H,MAAM,CAAC,oBAAoB,CAAE2F,YAAY,CAAC,CAACrC,GAAG,CAAC,CAAC,CAAC,CACrEqE,UAAU,CAAG3H,MAAM,CAAC0H,iBAAiB,CAAC,CAACZ,IAAI,EAAE,CAC7C,GAAG,CAAGa,UAAU,CAAG,GAAG,UAAW,CACpCrC,YAAY,CAAC/E,GAAG,CAAC8G,OAAO,CAAC,GAAG,CAAGM,UAAU,CAAG,GAAG,CAAC,CAAC,CACvCjC,KAAK,IAAW,OAAA,EAC1BJ,YAAY,CAAC/E,GAAG,CAACqH,MAAM,CAAC,CAEzBtC,YAAY,CAACL,OAAO,CAAC,QAAQ,CAAC,CAC9BnF,QAAQ,CAAC+H,sBAAsB,CAAClC,YAAY,CAACZ,IAAI,CAAC,IAAI,CAAC,EACxD,CAAC,EAAC,CACH,CAAC,CACD+C,SAAS,CAAE,SAAUC,SAAAA,CAAAA,MAAM,CAAE,CAC5BhG,GAAG,CAACiG,gBAAgB,CAAC,CACpB7F,IAAI,CAAEJ,GAAG,CAACC,UAAU,CAAC,yBAAyB,CAAC,CAC/CiG,iBAAiB,CAAE,SAAM,iBAAA,EAAA,CAAA,IACF,kBAAA,CAAGjI,MAAM,CAAC,6BAA6B,CAAC,CAC1DgH,KAAK,CAAGC,kBAAkB,CAAClC,IAAI,CAAC,IAAI,CAAC,CACrCmD,MAAM,CAAGlI,MAAM,CAAC,SAAS,CAAC,CAC9BkI,MAAM,CAAC9H,IAAI,EAAE,CACb+H,YAAY,CAACC,OAAO,CAAC,CACpBL,MAAM,CAAEA,MAAM,CACdM,IAAI,CAAE,QAAQ,CACdC,IAAI,CAAE,WAAW,CACjBC,KAAK,CAAEvB,KACR,CAAC,CAAC,CACAwB,IAAI,CAAC,SAAUrF,IAAI,CAAE,CACrB,IAAgB,YAAA,CAAG3B,CAAC,CAAC,qBAAqB,CAAC,CAACsF,IAAI,CAAC3D,IAAI,CAAC,CACtD+E,MAAM,CAAC7H,IAAI,EAAE,CACboI,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,sBAAsB,CAACC,YAAY,CAAC/C,IAAI,CAAC,QAAQ,CAAC,CAAC,CACvE2C,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACG,uBAAuB,CAAC9I,MAAM,CAAC,aAAa,CAAC,EAClE,CAAC,CAAC,CACD+I,IAAI,CAAC,SAAUC,KAAK,CAAO,CAC3BC,OAAO,CAACD,KAAK,CAACA,KAAK,EACpB,CAAC,EACH,CACD,CAAC,EACF,CAAC,CACDnB,sBAAsB,CAAE,SAAUqB,sBAAAA,CAAAA,eAAe,CAAE,CAClD,IAAe,WAAA,CAAGlJ,MAAM,CAAC,GAAG,CAAGkJ,eAAe,CAAC,CAC/C,GAA2B,WAAW,EAAlC,OAAOC,WAA2B,EAAmB,IAAI,EAAnBA,WAAmB,CAAA,CAAA,wBACrC,CAAGnJ,MAAM,CAAC,sBAAsB,CAAEmJ,WAAW,CAAC,CAAC7F,GAAG,CAAC,CAAC,CAAC,CACzEyC,iBAAiB,CAAG/F,MAAM,CAAC6F,oBAAoB,CAAC,CAACtF,GAAG,EAAE,CACtD6I,qBAAqB,CAAGpJ,MAAM,CAACA,MAAM,CAAC,gCAAgC,CAAEmJ,WAAW,CAAC,CAAC7F,GAAG,CAAC,CAAC,CAAC,CAAC,CAC5F+F,yBAAyB,CAAGrJ,MAAM,CAAC,iCAAiC,CAAC,CACzE,GAA4C,CAAC,CAAzCoJ,qBAAqB,CAACE,QAAQ,CAACzG,MAAU,CAAE,CAC9C,IAAI0G,wBAAwB,CAAGvJ,MAAM,CAAC,QAAQ,CAAEoJ,qBAAqB,CAAC,CAACI,MAAM,EAAE,CAC/ED,wBAAwB,CAACE,QAAQ,CAACJ,yBAAyB,EAC5D,CAAC,IACGK,8BAA8B,CAAG1J,MAAM,CAC1C,GAAG,CAAG+F,iBAAiB,CAAG,yBAAyB,CACnDsD,yBAAyB,CACzB,CACGM,kBAAkB,CAAGD,8BAA8B,CAACF,MAAM,EAAE,CAChEG,kBAAkB,CAACF,QAAQ,CAACL,qBAAqB,EAAC,CACnD,CAAC,CACDQ,qCAAqC,CAAE,gDAAY,CAClD,IAAc,UAAA,CAAG5J,MAAM,CAAC,kBAAkB,CAAC,CAC3CqF,UAAU,CAAC8B,IAAI,CAAC,SAAUrD,CAAC,CAAEb,OAAO,CAAE,CAAA,gBACrB,CAAGjD,MAAM,CAACiD,OAAO,CAAC,CAC9B4G,eAAe,CAAG7J,MAAM,CAAC,sBAAsB,CAAE2F,YAAY,CAAC,CAACpF,GAAG,EAAE,CACjD,EAAE,EAArBsJ,eAAqB,EACxB/J,QAAQ,CAAC+H,sBAAsB,CAAClC,YAAY,CAACZ,IAAI,CAAC,IAAI,CAAC,EAEzD,CAAC,EACF,CAAC,CACD+E,YAAY,CAAE,SAAA,YAAA,EAAY,CACzB,IAAIC,IAAI,CAAG/J,MAAM,CAAC,2BAAyB,CAAC,CAC5C+J,IAAI,CAACrI,EAAE,CAAC,QAAQ,CAAE,UAAY,CAC7BF,CAAC,CAACwI,iBAAiB,CAAC,CACnBC,OAAO,CAAElI,GAAG,CAACC,UAAU,CAAC,qBAAqB,CAAC,CAC9CkI,QAAQ,CAAE,MAAM,CAChBC,SAAS,CAAE,CACVC,OAAO,CAAA,CAAA,CACR,CACD,CAAC,EACF,CAAC,EACF,CAAC,CACDC,eAAe,CAAE,SAAA,eAAA,EAAY,CAC5B7I,CAAC,CAAC,wBAAwB,CAAC,CAACE,EAAE,CAAC,OAAO,CAAE,UAAY,CACnD,IAAW,OAAA,CAAGF,CAAC,CAAC,IAAI,CAAC,CACpB8I,UAAU,CAAGrH,OAAO,CAACE,IAAI,CAAC,aAAa,CAAC,CACxCf,IAAI,CAAG,EAAE,CACTmI,OAAO,CAAGtH,OAAO,CAACE,IAAI,CAAC,UAAU,CAAC,CAClCqH,SAAS,CAAGvH,OAAO,CAACE,IAAI,CAAC,YAAY,CAAC,CACL,EAAE,GAAhC3B,CAAC,CAAC,IAAI,CAAC,CAACuD,IAAI,CAAC,WAAW,CAAQ,GACnC3C,IAAI,CAAG,QAAQ,CAAGa,OAAO,CAACE,IAAI,CAAC,MAAM,CAAC,EAEvCpB,GAAG,CAAC0I,eAAe,CAClB,IAAI,CACJ,mBAAmB,CAClBH,UAAU,CACV,kCAAkC,CAClClI,IAAI,CACJ,mBAAmB,CACnBmI,OAAO,CACP,aAAa,CACbC,SAAS,CACV,SAAUrH,IAAI,CAAE,CACf,aAAa,CAAGA,IAAI,CAAC2C,IAAI,CAAC,qBAAqB,CAAC,CAC/C4E,UAAU,CAAGC,SAAS,CAACC,MAAM,EAAE,CAC/BC,kBAAkB,CAAGF,SAAS,CAACG,MAAM,EAAE,CAACC,GAAG,CAC3CC,OAAO,CAAGxJ,CAAC,CAAC,YAAY,CAAC,CAACoJ,MAAM,EAAE,CAClCK,OAAO,CAAGzJ,CAAC,CAAC0J,MAAM,CAAC,CAACN,MAAM,EAAE,CACzBO,MAAM,CAACC,OAAO,CAACC,QAAQ,CAACpL,EAAE,CAACqL,OAAO,GACjCZ,UAAU,CAAGG,kBAAkB,CAAGG,OAAO,CAAGC,OAAO,EACtDN,SAAS,CAACC,MAAM,CAACK,OAAO,EAAIJ,kBAAkB,CAAGG,OAAO,CAAC,CAAC,CAE3DjJ,GAAG,CAACwJ,8BAA8B,CAACZ,SAAS,CAAC,EAE/C,CAAC,EAEH,CAAC,EACF,CACD,CAAC,CAED3K,MAAM,CAACwL,QAAQ,CAAC,CAACC,KAAK,CAAC,UAAY,CAClC3L,QAAQ,CAACC,wBAAwB,EAAE,CACnCD,QAAQ,CAACuK,eAAe,EAAE,CAC1BvK,QAAQ,CAACgK,YAAY,EAAE,CACvBhK,QAAQ,CAAC8J,qCAAqC,EAAE,CAChD9J,QAAQ,CAACyB,wBAAwB,EAAE,CACnCkH,GAAG,CAACC,MAAM,CAACgD,IAAI,CAACC,QAAQ,CAAC3L,MAAM,CAAC,cAAc,CAAC,EAChD,CAAC,EACF;;"}