{"version":3,"file":"Import.min.js","sources":["Import.js"],"sourcesContent":["/*+**********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n ************************************************************************************/\n'use strict';\n\nif (typeof ImportJs === 'undefined') {\n\t/*\n\t * Namespaced javascript class for Import\n\t */\n\tvar ImportJs = {\n\t\ttoogleMergeConfiguration: function() {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tvar duplicateMergeConfiguration = jQuery('#duplicates_merge_configuration');\n\t\t\tif (mergeChecked) {\n\t\t\t\tduplicateMergeConfiguration.show();\n\t\t\t} else {\n\t\t\t\tduplicateMergeConfiguration.hide();\n\t\t\t}\n\t\t},\n\t\tcheckFileType: function() {\n\t\t\tvar filePath = jQuery('#import_file').val();\n\t\t\tif (filePath != '') {\n\t\t\t\tvar fileExtension = filePath.split('.').pop();\n\t\t\t\tjQuery('#type').val(fileExtension);\n\t\t\t\tImportJs.handleFileTypeChange();\n\t\t\t}\n\t\t},\n\t\thandleFileTypeChange: function() {\n\t\t\tvar fileType = jQuery('.js-type').val();\n\t\t\tvar delimiterContainer = jQuery('.js-delimiter-container');\n\t\t\tvar hasHeaderContainer = jQuery('.js-has-header-container');\n\t\t\tvar xmlTpl = jQuery('.js-xml-tpl');\n\t\t\tvar extension = jQuery('.js-zip-extension');\n\n\t\t\tswitch (fileType) {\n\t\t\t\tcase 'xml':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\txmlTpl.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'zip':\n\t\t\t\t\tdelimiterContainer.addClass('d-none');\n\t\t\t\t\thasHeaderContainer.addClass('d-none');\n\t\t\t\t\textension.removeClass('d-none');\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdelimiterContainer.removeClass('d-none');\n\t\t\t\t\thasHeaderContainer.removeClass('d-none');\n\t\t\t\t\textension.addClass('d-none');\n\t\t\t\t\txmlTpl.addClass('d-none');\n\t\t\t}\n\t\t},\n\t\tuploadAndParse: function() {\n\t\t\tif (!ImportJs.validateFilePath()) return false;\n\t\t\tif (!ImportJs.validateMergeCriteria()) return false;\n\t\t\treturn true;\n\t\t},\n\t\tregisterImportClickEvent() {\n\t\t\t$('#importButton')\n\t\t\t\t.removeAttr('disabled')\n\t\t\t\t.on('click', function(e) {\n\t\t\t\t\treturn ImportJs.sanitizeAndSubmit();\n\t\t\t\t});\n\t\t},\n\t\tvalidateFilePath: function() {\n\t\t\tvar importFile = jQuery('#import_file');\n\t\t\tvar filePath = importFile.val();\n\t\t\tif (jQuery.trim(filePath) == '') {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_IMPORT_FILE_CAN_NOT_BE_EMPTY');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\timportFile.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFilter('import_file', 'csv|vcf|xml|zip|ics|ical')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!ImportJs.uploadFileSize('import_file')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFilter: function(elementId, allowedExtensions) {\n\t\t\tvar obj = jQuery('#' + elementId);\n\t\t\tif (obj) {\n\t\t\t\tvar filePath = obj.val();\n\t\t\t\tvar fileParts = filePath.toLowerCase().split('.');\n\t\t\t\tvar fileType = fileParts[fileParts.length - 1];\n\t\t\t\tvar validExtensions = allowedExtensions.toLowerCase().split('|');\n\t\t\t\tif (validExtensions.indexOf(fileType) < 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_SELECT_FILE_EXTENSION') + '\\n' + validExtensions;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\tobj.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tuploadFileSize: function(elementId) {\n\t\t\tvar element = jQuery('#' + elementId);\n\t\t\tvar importMaxUploadSize = element.closest('td').data('importUploadSize');\n\t\t\tvar importMaxUploadSizeInMb = element.closest('td').data('importUploadSizeMb');\n\t\t\tvar uploadedFileSize = element.get(0).files[0].size;\n\t\t\tif (uploadedFileSize > importMaxUploadSize) {\n\t\t\t\tvar errorMessage =\n\t\t\t\t\tapp.vtranslate('JS_UPLOADED_FILE_SIZE_EXCEEDS') +\n\t\t\t\t\t' ' +\n\t\t\t\t\timportMaxUploadSizeInMb +\n\t\t\t\t\t' MB.' +\n\t\t\t\t\tapp.vtranslate('JS_PLEASE_SPLIT_FILE_AND_IMPORT_AGAIN');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tvalidateMergeCriteria: function() {\n\t\t\tvar mergeChecked = jQuery('#auto_merge').is(':checked');\n\t\t\tif (mergeChecked) {\n\t\t\t\tvar selectedOptions = jQuery('#selected_merge_fields option');\n\t\t\t\tif (selectedOptions.length == 0) {\n\t\t\t\t\tvar errorMessage = app.vtranslate('JS_PLEASE_SELECT_ONE_FIELD_FOR_MERGE');\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tImportJs.convertOptionsToJSONArray('#selected_merge_fields', '#merge_fields');\n\t\t\treturn true;\n\t\t},\n\t\tconvertOptionsToJSONArray: function(objName, targetObjName) {\n\t\t\tvar obj = jQuery(objName);\n\t\t\tvar arr = [];\n\t\t\tif (typeof obj !== 'undefined' && obj[0] != '') {\n\t\t\t\tfor (var i = 0; i < obj[0].length; ++i) {\n\t\t\t\t\tarr.push(obj[0].options[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (targetObjName !== 'undefined') {\n\t\t\t\tvar targetObj = $(targetObjName);\n\t\t\t\tif (typeof targetObj !== 'undefined') targetObj.val(JSON.stringify(arr));\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\tcopySelectedOptions: function(source, destination) {\n\t\t\tvar srcObj = jQuery(source);\n\t\t\tvar destObj = jQuery(destination);\n\n\t\t\tif (typeof srcObj === 'undefined' || typeof destObj === 'undefined') return;\n\n\t\t\tfor (var i = 0; i < srcObj[0].length; i++) {\n\t\t\t\tif (srcObj[0].options[i].selected == true) {\n\t\t\t\t\tvar rowFound = false;\n\t\t\t\t\tvar existingObj = null;\n\t\t\t\t\tfor (var j = 0; j < destObj[0].length; j++) {\n\t\t\t\t\t\tif (destObj[0].options[j].value == srcObj[0].options[i].value) {\n\t\t\t\t\t\t\trowFound = true;\n\t\t\t\t\t\t\texistingObj = destObj[0].options[j];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (rowFound != true) {\n\t\t\t\t\t\tvar opt = $('<option selected>');\n\t\t\t\t\t\topt.attr('value', srcObj[0].options[i].value);\n\t\t\t\t\t\topt.text(srcObj[0].options[i].text);\n\t\t\t\t\t\tjQuery(destObj[0]).append(opt);\n\t\t\t\t\t\tsrcObj[0].options[i].selected = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (existingObj != null) existingObj.selected = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremoveSelectedOptions: function(objName) {\n\t\t\tvar obj = jQuery(objName);\n\t\t\tif (!obj.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = obj[0].options.length - 1; i >= 0; i--) {\n\t\t\t\tif (obj[0].options[i].selected == true) {\n\t\t\t\t\tobj[0].options[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsanitizeAndSubmit: function() {\n\t\t\tif (!ImportJs.sanitizeFieldMapping()) return false;\n\t\t\tif (!ImportJs.validateCustomMap()) return false;\n\t\t\treturn true;\n\t\t},\n\t\tsanitizeFieldMapping: function() {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar mappedFields = {};\n\t\t\tvar inventoryMappedFields = {};\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar mappedDefaultValues = {};\n\t\t\tfor (var i = 0; i < fieldsList.length; ++i) {\n\t\t\t\tvar fieldElement = jQuery(fieldsList.get(i));\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar selectElement = jQuery('select', fieldElement);\n\t\t\t\tvar selectedFieldElement = selectElement.find('option:selected');\n\t\t\t\tvar selectedFieldName = selectedFieldElement.val();\n\t\t\t\tvar selectedFieldDefaultValueElement = jQuery('#' + selectedFieldName + '_defaultvalue', fieldElement);\n\t\t\t\tvar defaultValue = '';\n\t\t\t\tif (selectedFieldDefaultValueElement.attr('type') == 'checkbox') {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.is(':checked');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValue = selectedFieldDefaultValueElement.val();\n\t\t\t\t}\n\t\t\t\tif (selectedFieldName != '') {\n\t\t\t\t\tvar stopImmediately;\n\t\t\t\t\tif (selectElement.hasClass('inventory')) {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(\n\t\t\t\t\t\t\tselectedFieldName,\n\t\t\t\t\t\t\tinventoryMappedFields,\n\t\t\t\t\t\t\tselectedFieldElement\n\t\t\t\t\t\t);\n\t\t\t\t\t\tinventoryMappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstopImmediately = ImportJs.checkIfMappedFieldExist(selectedFieldName, mappedFields, selectedFieldElement);\n\t\t\t\t\t\tmappedFields[selectedFieldName] = rowId - 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (stopImmediately) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (defaultValue != '') {\n\t\t\t\t\t\tmappedDefaultValues[selectedFieldName] = defaultValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar mandatoryFields = JSON.parse(jQuery('#mandatory_fields').val());\n\t\t\tvar missingMandatoryFields = [];\n\t\t\tfor (var mandatoryFieldName in mandatoryFields) {\n\t\t\t\tif (mandatoryFieldName in mappedFields) {\n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\tmissingMandatoryFields.push('\"' + mandatoryFields[mandatoryFieldName] + '\"');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (missingMandatoryFields.length > 0) {\n\t\t\t\terrorMessage = app.vtranslate('JS_MAP_MANDATORY_FIELDS') + missingMandatoryFields.join(',');\n\t\t\t\tparams = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tjQuery('#field_mapping').val(JSON.stringify(mappedFields));\n\t\t\tjQuery('#inventory_field_mapping').val(JSON.stringify(inventoryMappedFields));\n\t\t\tjQuery('#default_values').val(JSON.stringify(mappedDefaultValues));\n\t\t\treturn true;\n\t\t},\n\t\tcheckIfMappedFieldExist: function(selectedFieldName, mappedFields, selectedFieldElement) {\n\t\t\tif (selectedFieldName in mappedFields) {\n\t\t\t\tvar errorMessage = app.vtranslate('JS_FIELD_MAPPED_MORE_THAN_ONCE') + ' ' + selectedFieldElement.data('label');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tvalidateCustomMap: function() {\n\t\t\tvar errorMessage;\n\t\t\tvar params = {};\n\t\t\tvar saveMap = jQuery('#save_map').is(':checked');\n\t\t\tif (saveMap) {\n\t\t\t\tvar mapName = jQuery('#save_map_as').val();\n\t\t\t\tif (jQuery.trim(mapName) == '') {\n\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_CAN_NOT_BE_EMPTY');\n\t\t\t\t\tparams = {\n\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar mapOptions = jQuery('#saved_maps option');\n\t\t\t\tfor (var i = 0; i < mapOptions.length; ++i) {\n\t\t\t\t\tvar mapOption = jQuery(mapOptions.get(i));\n\t\t\t\t\tif (mapOption.html() == mapName) {\n\t\t\t\t\t\terrorMessage = app.vtranslate('JS_MAP_NAME_ALREADY_EXISTS');\n\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\ttext: errorMessage,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tloadSavedMap: function() {\n\t\t\tvar selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\tvar mapId = selectedMapElement.attr('id');\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tvar deleteMapContainer = jQuery('#delete_map_container');\n\t\t\tfieldsList.each(function(i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tjQuery('[name=mapped_fields]', fieldElement).val('');\n\t\t\t});\n\t\t\tif (mapId == -1) {\n\t\t\t\tdeleteMapContainer.hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdeleteMapContainer.show();\n\t\t\tvar mappingString = selectedMapElement.val();\n\t\t\tif (mappingString == '') return;\n\t\t\tvar mappingPairs = mappingString.split('&');\n\t\t\tvar mapping = {};\n\t\t\tfor (var i = 0; i < mappingPairs.length; ++i) {\n\t\t\t\tvar mappingPair = mappingPairs[i].split('=');\n\t\t\t\tvar header = mappingPair[0];\n\t\t\t\theader = header.replace(/\\/eq\\//g, '=');\n\t\t\t\theader = header.replace(/\\/amp\\//g, '&');\n\t\t\t\tmapping[\"'\" + header + \"'\"] = mappingPair[1];\n\t\t\t}\n\t\t\tfieldsList.each(function(i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFields = jQuery('[name=mapped_fields]', fieldElement);\n\t\t\t\tvar rowId = jQuery('[name=row_counter]', fieldElement).get(0).value;\n\t\t\t\tvar headerNameElement = jQuery('[name=header_name]', fieldElement).get(0);\n\t\t\t\tvar headerName = jQuery(headerNameElement).html();\n\t\t\t\tif (\"'\" + headerName + \"'\" in mapping) {\n\t\t\t\t\tmappedFields.val(mapping[\"'\" + headerName + \"'\"]);\n\t\t\t\t} else if (rowId in mapping) {\n\t\t\t\t\tmappedFields.val($rowId);\n\t\t\t\t}\n\t\t\t\tmappedFields.trigger('change');\n\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t});\n\t\t},\n\t\tdeleteMap: function(module) {\n\t\t\tlet callback = function() {\n\t\t\t\tvar selectedMapElement = jQuery('#saved_maps option:selected');\n\t\t\t\tvar mapId = selectedMapElement.attr('id');\n\t\t\t\tvar status = jQuery('#status');\n\t\t\t\tstatus.show();\n\t\t\t\tvar postData = {\n\t\t\t\t\tmodule: module,\n\t\t\t\t\tview: 'Import',\n\t\t\t\t\tmode: 'deleteMap',\n\t\t\t\t\tmapid: mapId\n\t\t\t\t};\n\n\t\t\t\tAppConnector.request(postData)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tjQuery('#savedMapsContainer').html(data);\n\t\t\t\t\t\tstatus.hide();\n\t\t\t\t\t\tvar parent = jQuery('#saved_maps');\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(parent);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t});\n\t\t\t};\n\t\t\tapp.showConfirmModal(app.vtranslate('LBL_DELETE_CONFIRMATION'), callback);\n\t\t},\n\t\tloadDefaultValueWidget: function(rowIdentifierId) {\n\t\t\tvar affectedRow = jQuery('#' + rowIdentifierId);\n\t\t\tif (typeof affectedRow === 'undefined' || affectedRow == null) return;\n\t\t\tvar selectedFieldElement = jQuery('[name=mapped_fields]', affectedRow).get(0);\n\t\t\tvar selectedFieldName = jQuery(selectedFieldElement).val();\n\t\t\tvar defaultValueContainer = jQuery(jQuery('[name=default_value_container]', affectedRow).get(0));\n\t\t\tvar allDefaultValuesContainer = jQuery('#defaultValuesElementsContainer');\n\t\t\tif (defaultValueContainer.children.length > 0) {\n\t\t\t\tvar copyOfDefaultValueWidget = jQuery(':first', defaultValueContainer).detach();\n\t\t\t\tcopyOfDefaultValueWidget.appendTo(allDefaultValuesContainer);\n\t\t\t}\n\t\t\tvar selectedFieldDefValueContainer = jQuery(\n\t\t\t\t'#' + selectedFieldName + '_defaultvalue_container',\n\t\t\t\tallDefaultValuesContainer\n\t\t\t);\n\t\t\tvar defaultValueWidget = selectedFieldDefValueContainer.detach();\n\t\t\tdefaultValueWidget.appendTo(defaultValueContainer);\n\t\t},\n\t\tloadDefaultValueWidgetForMappedFields: function() {\n\t\t\tvar fieldsList = jQuery('.fieldIdentifier');\n\t\t\tfieldsList.each(function(i, element) {\n\t\t\t\tvar fieldElement = jQuery(element);\n\t\t\t\tvar mappedFieldName = jQuery('[name=mapped_fields]', fieldElement).val();\n\t\t\t\tif (mappedFieldName != '') {\n\t\t\t\t\tImportJs.loadDefaultValueWidget(fieldElement.attr('id'));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsubmitAction: function() {\n\t\t\tvar form = jQuery('[name=\"importAdvanced\"]');\n\t\t\tform.on('submit', function() {\n\t\t\t\t$.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\topenListInModal: function() {\n\t\t\t$('.js-open-list-in-modal').on('click', function() {\n\t\t\t\tlet element = $(this),\n\t\t\t\t\tmoduleName = element.data('module-name'),\n\t\t\t\t\ttype = '',\n\t\t\t\t\tforUser = element.data('for-user'),\n\t\t\t\t\tforModule = element.data('for-module');\n\t\t\t\tif ($(this).attr('data-type') !== '') {\n\t\t\t\t\ttype = '&type=' + element.data('type');\n\t\t\t\t}\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=' +\n\t\t\t\t\t\tmoduleName +\n\t\t\t\t\t\t'&view=List&mode=getImportDetails' +\n\t\t\t\t\t\ttype +\n\t\t\t\t\t\t'&start=1&foruser=' +\n\t\t\t\t\t\tforUser +\n\t\t\t\t\t\t'&forModule=' +\n\t\t\t\t\t\tforModule,\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tlet container = data.find('.listViewEntriesDiv'),\n\t\t\t\t\t\t\tcontainerH = container.height(),\n\t\t\t\t\t\t\tcontainerOffsetTop = container.offset().top,\n\t\t\t\t\t\t\tfooterH = $('.js-footer').height(),\n\t\t\t\t\t\t\twindowH = $(window).height();\n\t\t\t\t\t\tif (Quasar.plugins.Platform.is.desktop) {\n\t\t\t\t\t\t\tif (containerH + containerOffsetTop + footerH > windowH) {\n\t\t\t\t\t\t\t\tcontainer.height(windowH - (containerOffsetTop + footerH));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.showNewScrollbarTopBottomRight(container);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t};\n\n\tjQuery(document).ready(function() {\n\t\tImportJs.toogleMergeConfiguration();\n\t\tImportJs.openListInModal();\n\t\tImportJs.submitAction();\n\t\tImportJs.loadDefaultValueWidgetForMappedFields();\n\t\tImportJs.registerImportClickEvent();\n\t\tApp.Fields.Date.register(jQuery('.contentsDiv'));\n\t});\n}\n"],"names":["ImportJs","mergeChecked","jQuery","is","duplicateMergeConfiguration","show","hide","filePath","val","fileExtension","split","pop","handleFileTypeChange","fileType","delimiterContainer","hasHeaderContainer","xmlTpl","extension","addClass","removeClass","validateFilePath","validateMergeCriteria","removeAttr","on","e","sanitizeAndSubmit","importFile","trim","errorMessage","app","vtranslate","params","showMessage","focus","uploadFilter","uploadFileSize","elementId","allowedExtensions","obj","fileParts","toLowerCase","length","validExtensions","indexOf","element","importMaxUploadSize","closest","data","importMaxUploadSizeInMb","uploadedFileSize","get","files","size","selectedOptions","convertOptionsToJSONArray","objName","targetObjName","arr","i","push","options","value","targetObj","$","JSON","stringify","source","destination","srcObj","destObj","selected","rowFound","existingObj","j","opt","attr","text","append","sanitizeFieldMapping","validateCustomMap","fieldsList","mappedFields","inventoryMappedFields","mappedDefaultValues","fieldElement","rowId","selectElement","selectedFieldElement","find","selectedFieldName","selectedFieldDefaultValueElement","defaultValue","stopImmediately","hasClass","checkIfMappedFieldExist","mandatoryFields","parse","missingMandatoryFields","mandatoryFieldName","join","saveMap","mapName","mapOptions","mapOption","html","selectedMapElement","mapId","deleteMapContainer","each","mappingString","mappingPairs","mapping","mappingPair","header","replace","headerNameElement","headerName","$rowId","trigger","loadDefaultValueWidget","module","callback","status","postData","request","done","parent","Fields","Picklist","changeSelectElementView","fail","error","err","showConfirmModal","rowIdentifierId","affectedRow","defaultValueContainer","allDefaultValuesContainer","children","copyOfDefaultValueWidget","detach","appendTo","selectedFieldDefValueContainer","defaultValueWidget","mappedFieldName","form","progressIndicator","moduleName","type","forUser","forModule","showModalWindow","container","containerH","height","containerOffsetTop","offset","top","footerH","windowH","window","Quasar","plugins","Platform","desktop","showNewScrollbarTopBottomRight","document","ready","toogleMergeConfiguration","openListInModal","submitAction","loadDefaultValueWidgetForMappedFields","registerImportClickEvent","Date","register"],"mappings":"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"}