{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_RelatedList_Js(\"Products_RelatedList_Js\", {}, {\n\tregisterEditListPrice: function () {\n\t\tlet thisInstance = this;\n\t\tlet element = this.content.find('.js-edit-listprice');\n\t\telement.validationEngine(app.validationEngineOptions);\n\t\telement.on('change', function (e) {\n\t\t\te.stopPropagation();\n\t\t\tlet element = $(this);\n\t\t\telement.formatNumber();\n\t\t\tif (!element.validationEngine('validate')) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\trecord: element.closest('.js-list__row').data('id'),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'addListPrice',\n\t\t\t\t\tsrc_record: thisInstance.parentRecordId,\n\t\t\t\t\trelated_module: thisInstance.moduleName,\n\t\t\t\t\tprice: element.val()\n\t\t\t\t}).done(function (responseData) {\n\t\t\t\t\tif (responseData.result) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({text: app.vtranslate('JS_SAVE_NOTIFY_OK'), type: 'success'});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterEditQtyProducts: function () {\n\t\tlet thisInstance = this;\n\t\tlet element = this.content.find('.js-edit-qtyinstock');\n\t\telement.validationEngine(app.validationEngineOptions);\n\t\telement.on('change', function (e) {\n\t\t\te.stopPropagation();\n\t\t\tlet element = $(this);\n\t\t\telement.formatNumber();\n\t\t\tif (!element.validationEngine('validate')) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\trecord: element.closest('.js-list__row').data('id'),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'setQtyProducts',\n\t\t\t\t\tsrc_record: thisInstance.parentRecordId,\n\t\t\t\t\trelated_module: thisInstance.moduleName,\n\t\t\t\t\tqty: element.val()\n\t\t\t\t}).done(function (responseData) {\n\t\t\t\t\tif (responseData.result) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({text: app.vtranslate('JS_SAVE_NOTIFY_OK'), type: 'success'});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterPostLoadEvents: function () {\n\t\tthis._super();\n\t\tthis.registerEditListPrice();\n\t\tthis.registerEditQtyProducts();\n\t},\n});\n"],"names":["Vtiger_RelatedList_Js","thisInstance","this","element","content","find","validationEngine","app","validationEngineOptions","on","e","stopPropagation","$","formatNumber","request","parentModuleName","closest","data","parentRecordId","moduleName","val","done","responseData","result","showPnotify","text","vtranslate","type","_super","registerEditListPrice","registerEditQtyProducts"],"mappings":"aAGAA,sBAAsB,0BAA2B,GAAI,uBAC7B,eAClBC,aAAeC,KACfC,QAAUD,KAAKE,QAAQC,KAAK,8BACxBC,iBAAiBC,IAAIC,iCACrBC,GAAG,UAAU,SAAUC,KAC5BC,sBACER,QAAUS,EAAEV,cACRW,eACHV,QAAQG,iBAAiB,0BAChBQ,QAAQ,QACZb,aAAac,wBACbZ,QAAQa,QAAQ,iBAAiBC,KAAK,aACtC,oBACF,0BACMhB,aAAaiB,8BACTjB,aAAakB,iBACtBhB,QAAQiB,QACbC,MAAK,SAAUC,cACbA,aAAaC,yBACCC,YAAY,CAACC,KAAMlB,IAAImB,WAAW,qBAAsBC,KAAM,2CAM3D,eACpB1B,aAAeC,KACfC,QAAUD,KAAKE,QAAQC,KAAK,+BACxBC,iBAAiBC,IAAIC,iCACrBC,GAAG,UAAU,SAAUC,KAC5BC,sBACER,QAAUS,EAAEV,cACRW,eACHV,QAAQG,iBAAiB,0BAChBQ,QAAQ,QACZb,aAAac,wBACbZ,QAAQa,QAAQ,iBAAiBC,KAAK,aACtC,oBACF,4BACMhB,aAAaiB,8BACTjB,aAAakB,eACxBhB,QAAQiB,QACXC,MAAK,SAAUC,cACbA,aAAaC,yBACCC,YAAY,CAACC,KAAMlB,IAAImB,WAAW,qBAAsBC,KAAM,0CAM5D,gBAClBC,cACAC,6BACAC"}