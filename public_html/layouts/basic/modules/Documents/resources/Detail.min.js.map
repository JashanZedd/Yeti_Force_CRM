{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_Detail_Js(\"Documents_Detail_Js\", {\n\n\t//It stores the CheckFileIntegrity response data\n\tcheckFileIntegrityResponseCache: {},\n\n\t/*\n\t * function to trigger CheckFileIntegrity action\n\t * @param: CheckFileIntegrity url.\n\t */\n\tcheckFileIntegrity: function (checkFileIntegrityUrl) {\n\t\tDocuments_Detail_Js.getFileIntegrityResponse(checkFileIntegrityUrl).done(function (data) {\n\t\t\tDocuments_Detail_Js.displayCheckFileIntegrityResponse(data);\n\t\t});\n\t},\n\n\t/*\n\t * function to get the CheckFileIntegrity response data\n\t */\n\tgetFileIntegrityResponse: function (params) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t//Check in the cache\n\t\tif (!(jQuery.isEmptyObject(Documents_Detail_Js.checkFileIntegrityResponseCache))) {\n\t\t\taDeferred.resolve(Documents_Detail_Js.checkFileIntegrityResponseCache);\n\t\t} else {\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t//store it in the cache, so that we dont do multiple request\n\t\t\t\tDocuments_Detail_Js.checkFileIntegrityResponseCache = data;\n\t\t\t\taDeferred.resolve(Documents_Detail_Js.checkFileIntegrityResponseCache);\n\t\t\t});\n\t\t}\n\t\treturn aDeferred.promise();\n\t},\n\n\t/*\n\t * function to display the CheckFileIntegrity message\n\t */\n\tdisplayCheckFileIntegrityResponse: function (data) {\n\t\tvar result = data['result'];\n\t\tvar success = result['success'];\n\t\tvar message = result['message'];\n\t\tvar params = {};\n\t\tif (success) {\n\t\t\tparams = {\n\t\t\t\ttext: message,\n\t\t\t\ttype: 'success'\n\t\t\t};\n\t\t} else {\n\t\t\tparams = {\n\t\t\t\ttext: message,\n\t\t\t\ttype: 'error'\n\t\t\t};\n\t\t}\n\t\tDocuments_Detail_Js.showNotify(params);\n\t\twindow.location.href = result['url'];\n\t},\n\n\t//This will show the messages of CheckFileIntegrity using pnotify\n\tshowNotify: function (customParams) {\n\t\tvar params = {\n\t\t\ttitle: app.vtranslate('JS_CHECK_FILE_INTEGRITY'),\n\t\t\ttext: customParams.text,\n\t\t\ttype: customParams.type,\n\t\t\tdelay: '2000'\n\t\t};\n\t\tVtiger_Helper_Js.showPnotify(params);\n\t},\n}, {});\n"],"names":["Vtiger_Detail_Js","checkFileIntegrityUrl","getFileIntegrityResponse","done","data","displayCheckFileIntegrityResponse","params","aDeferred","jQuery","Deferred","isEmptyObject","Documents_Detail_Js","checkFileIntegrityResponseCache","resolve","request","promise","result","success","message","showNotify","location","href","customParams","app","vtranslate","text","type","showPnotify"],"mappings":";;AAAA;;;;;;;;AAQA;AAEAA,iBAAiB,qBAAjB,EAAwC;;;kCAGN,EAHM;;;;;;qBASnB,4BAAUC,qBAAV,EAAiC;sBAChCC,wBAApB,CAA6CD,qBAA7C,EAAoEE,IAApE,CAAyE,UAAUC,IAAV,EAAgB;uBACpEC,iCAApB,CAAsDD,IAAtD;GADD;EAVsC;;;;;2BAkBb,kCAAUE,MAAV,EAAkB;MACvCC,YAAYC,OAAOC,QAAP,EAAhB;;;MAGI,CAAED,OAAOE,aAAP,CAAqBC,oBAAoBC,+BAAzC,CAAN,EAAkF;aACvEC,OAAV,CAAkBF,oBAAoBC,+BAAtC;GADD,MAEO;gBACOE,OAAb,CAAqBR,MAArB,EAA6BH,IAA7B,CAAkC,UAAUC,IAAV,EAAgB;;wBAE7BQ,+BAApB,GAAsDR,IAAtD;cACUS,OAAV,CAAkBF,oBAAoBC,+BAAtC;IAHD;;SAMML,UAAUQ,OAAV,EAAP;EA/BsC;;;;;oCAqCJ,2CAAUX,IAAV,EAAgB;MAC9CY,SAASZ,KAAK,QAAL,CAAb;MACIa,UAAUD,OAAO,SAAP,CAAd;MACIE,UAAUF,OAAO,SAAP,CAAd;MACIV,SAAS,EAAb;MACIW,OAAJ,EAAa;YACH;UACFC,OADE;UAEF;IAFP;GADD,MAKO;YACG;UACFA,OADE;UAEF;IAFP;;sBAKmBC,UAApB,CAA+Bb,MAA/B;SACOc,QAAP,CAAgBC,IAAhB,GAAuBL,OAAO,KAAP,CAAvB;EAtDsC;;;aA0D3B,oBAAUM,YAAV,EAAwB;MAC/BhB,SAAS;UACLiB,IAAIC,UAAJ,CAAe,yBAAf,CADK;SAENF,aAAaG,IAFP;SAGNH,aAAaI,IAHP;UAIL;GAJR;mBAMiBC,WAAjB,CAA6BrB,MAA7B;;CAjEF,EAmEG,EAnEH"}