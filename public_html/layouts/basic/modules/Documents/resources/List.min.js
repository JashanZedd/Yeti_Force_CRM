"use strict";Vtiger_List_Js("Documents_List_Js",{massMove:function(url){var listInstance=Vtiger_List_Js.getInstance();if(1!=listInstance.checkListRecordSelected()){var postData={selected_ids:listInstance.readSelectedIds(!0),excluded_ids:listInstance.readExcludedIds(!0),viewname:listInstance.getCurrentCvId()},searchValue=listInstance.getAlphabetSearchValue();searchValue.length>0&&(postData.search_key=listInstance.getAlphabetSearchField(),postData.search_value=searchValue,postData.operator="s");var params={url:url,data:postData},progressIndicatorElement=jQuery.progressIndicator();AppConnector.request(params).done((function(data){progressIndicatorElement.progressIndicator({mode:"hide"});app.showModalWindow(data,(function(data){listInstance.moveDocuments().done((function(data){if(data){var result=data.result;if(result.success){app.hideModalWindow(),Vtiger_Helper_Js.showPnotify({title:app.vtranslate("JS_MOVE_DOCUMENTS"),text:result.message,delay:"2000",type:"success"});var urlParams=listInstance.getDefaultParams();listInstance.getListViewRecords(urlParams)}else Vtiger_Helper_Js.showPnotify({title:app.vtranslate("JS_OPERATION_DENIED"),text:result.message,delay:"2000",type:"error"})}}))}))}))}else listInstance.noRecordSelectedAlert()}},{moveDocuments:function(){var aDeferred=jQuery.Deferred();return jQuery("#moveDocuments").on("submit",(function(e){var formData=jQuery(e.currentTarget).serializeFormData();AppConnector.request(formData).done((function(data){aDeferred.resolve(data)})).fail((function(textStatus,errorThrown){aDeferred.reject(textStatus,errorThrown)})),e.preventDefault()})),aDeferred.promise()},registerDeleteFilterClickEvent:function(){var thisInstance=this,listViewFilterBlock=this.getFilterBlock();0!=listViewFilterBlock&&listViewFilterBlock.on("mouseup",".js-filter-delete",(function(event){event.stopPropagation(),thisInstance.getFilterSelectElement().data("select2").close();var liElement=jQuery(event.currentTarget).closest(".select2-results__option"),message=app.vtranslate("JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE");if(liElement.hasClass("folderOption")){if(liElement.find(".js-filter-delete").hasClass("dull"))return void Vtiger_Helper_Js.showPnotify(app.vtranslate("JS_FOLDER_IS_NOT_EMPTY"));Vtiger_Helper_Js.showConfirmationBox({message:message}).done((function(e){var currentOptionElement=thisInstance.getSelectOptionFromChosenOption(liElement),folderId=currentOptionElement.data("folderid"),params={module:app.getModuleName(),mode:"delete",action:"Folder",folderid:folderId};AppConnector.request(params).done((function(data){data.success&&(currentOptionElement.remove(),thisInstance.getFilterSelectElement().trigger("change"))}))}))}else Vtiger_Helper_Js.showConfirmationBox({message:message}).done((function(e){var currentOptionElement=thisInstance.getSelectOptionFromChosenOption(liElement);AppConnector.requestForm(currentOptionElement.data("deleteurl"))}))}))}});
//# sourceMappingURL=List.min.js.map
