{"version":3,"file":"CalendarView.min.js","sources":["CalendarView.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\n/**\n *  Class representing a standard calendar.\n * @extends Calendar_Js\n */\nwindow.Calendar_Calendar_Js = class extends Calendar_Js {\n\tsetCalendarModuleOptions() {\n\t\tlet self = this,\n\t\t\toptions = {\n\t\t\t\tselect: function(start, end) {\n\t\t\t\t\tself.selectDays(start, end);\n\t\t\t\t\tself.getCalendarView().fullCalendar('unselect');\n\t\t\t\t},\n\t\t\t\teventClick: function(calEvent, jsEvent, view) {\n\t\t\t\t\tjsEvent.preventDefault();\n\t\t\t\t\tconst link = new URL($(this)[0].href);\n\t\t\t\t\tif (self.createView) {\n\t\t\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst callbackFunction = data => {\n\t\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t};\n\t\t\t\t\t\tapp.showModalWindow({\n\t\t\t\t\t\t\turl: `index.php?module=${\n\t\t\t\t\t\t\t\tthis.module\n\t\t\t\t\t\t\t}&view=ActivityStateModal&record=${link.searchParams.get('record')}`,\n\t\t\t\t\t\t\tcb: callbackFunction\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.location.assign(\n\t\t\t\t\t\t\t`index.php?module=${this.module}&view=Detail&record=${link.searchParams.get('record')}`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\treturn options;\n\t}\n\n\tgetValuesFromSelect2(element, data, text) {\n\t\tif (element.hasClass('select2-hidden-accessible')) {\n\t\t\tvar types = element.select2('data');\n\t\t\tfor (var i = 0; i < types.length; i++) {\n\t\t\t\tif (text) {\n\t\t\t\t\tdata.push(types[i].text);\n\t\t\t\t} else {\n\t\t\t\t\tdata.push(types[i].id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn data;\n\t}\n\n\tgetDefaultParams() {\n\t\tlet parentParams = super.getDefaultParams(),\n\t\t\tusers = app.moduleCacheGet('calendar-groups') || [],\n\t\t\tfilters = [];\n\t\t$('.calendarFilters .filterField').each(function() {\n\t\t\tlet element = $(this),\n\t\t\t\tname,\n\t\t\t\tvalue;\n\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\tname = element.val();\n\t\t\t\tvalue = element.prop('checked') ? 1 : 0;\n\t\t\t} else {\n\t\t\t\tname = element.attr('name');\n\t\t\t\tvalue = element.val();\n\t\t\t}\n\t\t\tfilters.push({ name: name, value: value });\n\t\t});\n\t\tlet params = {\n\t\t\ttime: app.getMainParams('showType'),\n\t\t\tfilters: filters\n\t\t};\n\t\tif (users.length) {\n\t\t\tparams.user = parentParams.user.concat(users);\n\t\t\tparams.emptyFilters = false;\n\t\t}\n\t\tparams = Object.assign(parentParams, params);\n\t\treturn params;\n\t}\n\n\tselectDays(startDate, endDate) {\n\t\tvar thisInstance = this;\n\t\tvar start_hour = app.getMainParams('startHour');\n\t\tvar end_hour = app.getMainParams('endHour');\n\t\tif (endDate.hasTime() == false) {\n\t\t\tendDate.add(-1, 'days');\n\t\t}\n\t\tstartDate = startDate.format();\n\t\tendDate = endDate.format();\n\t\tvar view = thisInstance.getCalendarView().fullCalendar('getView');\n\t\tif (start_hour == '') {\n\t\t\tstart_hour = '00';\n\t\t}\n\t\tif (end_hour == '') {\n\t\t\tend_hour = '00';\n\t\t}\n\t\tthis.getCalendarCreateView().done(function(data) {\n\t\t\tif (data.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (view.name != 'agendaDay' && view.name != 'agendaWeek') {\n\t\t\t\tstartDate = startDate + 'T' + start_hour + ':00';\n\t\t\t\tendDate = endDate + 'T' + start_hour + ':00';\n\t\t\t\tif (startDate == endDate) {\n\t\t\t\t\tlet activityType = data.find('[name=\"activitytype\"]').val();\n\t\t\t\t\tlet activityDurations = JSON.parse(data.find('[name=\"defaultOtherEventDuration\"]').val());\n\t\t\t\t\tlet minutes = 0;\n\t\t\t\t\tfor (let i in activityDurations) {\n\t\t\t\t\t\tif (activityDurations[i].activitytype === activityType) {\n\t\t\t\t\t\t\tminutes = parseInt(activityDurations[i].duration);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tendDate = moment(endDate)\n\t\t\t\t\t\t.add(minutes, 'minutes')\n\t\t\t\t\t\t.toISOString();\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar dateFormat = data\n\t\t\t\t.find('[name=\"date_start\"]')\n\t\t\t\t.data('dateFormat')\n\t\t\t\t.toUpperCase();\n\t\t\tvar timeFormat = data.find('[name=\"time_start\"]').data('format');\n\t\t\tif (timeFormat == 24) {\n\t\t\t\tvar defaultTimeFormat = 'HH:mm';\n\t\t\t} else {\n\t\t\t\tdefaultTimeFormat = 'hh:mm A';\n\t\t\t}\n\t\t\tvar startDateString = moment(startDate).format(dateFormat);\n\t\t\tvar startTimeString = moment(startDate).format(defaultTimeFormat);\n\t\t\tvar endDateString = moment(endDate).format(dateFormat);\n\t\t\tvar endTimeString = moment(endDate).format(defaultTimeFormat);\n\n\t\t\tdata.find('[name=\"date_start\"]').val(startDateString);\n\t\t\tdata.find('[name=\"due_date\"]').val(endDateString);\n\t\t\tdata.find('[name=\"time_start\"]').val(startTimeString);\n\t\t\tdata.find('[name=\"time_end\"]').val(endTimeString);\n\n\t\t\tvar headerInstance = new Vtiger_Header_Js();\n\t\t\theaderInstance.handleQuickCreateData(data, {\n\t\t\t\tcallbackFunction: function(data) {\n\t\t\t\t\tthisInstance.addCalendarEvent(data.result);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tisNewEventToDisplay(eventObject) {\n\t\tif (super.isNewEventToDisplay(eventObject)) {\n\t\t\tlet taskstatus = $.inArray(eventObject.activitystatus.value, [\n\t\t\t\t'PLL_POSTPONED',\n\t\t\t\t'PLL_CANCELLED',\n\t\t\t\t'PLL_COMPLETED'\n\t\t\t]);\n\t\t\tvar state = $('.fc-toolbar .js-switch--label-on')\n\t\t\t\t.last()\n\t\t\t\t.hasClass('active');\n\t\t\tif ((state === true && taskstatus >= 0) || (state != true && taskstatus == -1)) {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tgetCalendarCreateView() {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tif (this.calendarCreateView !== false) {\n\t\t\taDeferred.resolve(this.calendarCreateView.clone(true, true));\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tthis.loadCalendarCreateView()\n\t\t\t.done(function(data) {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tthisInstance.calendarCreateView = data;\n\t\t\t\taDeferred.resolve(data.clone(true, true));\n\t\t\t})\n\t\t\t.fail(function(error) {\n\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\n\tloadCalendarCreateView() {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar url = `index.php?module=${this.module}&view=QuickCreateAjax`;\n\t\tvar headerInstance = Vtiger_Header_Js.getInstance();\n\t\theaderInstance\n\t\t\t.getQuickCreateForm(url, this.module)\n\t\t\t.done(function(data) {\n\t\t\t\taDeferred.resolve(jQuery(data));\n\t\t\t})\n\t\t\t.fail(function() {\n\t\t\t\taDeferred.reject();\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\n\tswitchTpl(on, off, state) {\n\t\treturn `<div class=\"btn-group btn-group-toggle js-switch c-calendar-switch\" data-toggle=\"buttons\">\n\t\t\t\t\t<label class=\"btn btn-outline-primary c-calendar-switch__button js-switch--label-on ${state ? '' : 'active'}\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"options\" data-on-text=\"${on}\" autocomplete=\"off\" ${state ? '' : 'checked'}>\n\t\t\t\t\t\t${on}\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class=\"btn btn-outline-primary c-calendar-switch__button ${state ? 'active' : ''}\">\n\t\t\t\t\t\t<input type=\"radio\" name=\"options\" data-off-text=\"${off}\" autocomplete=\"off\" ${state ? 'checked' : ''}>\n\t\t\t\t\t\t${off}\n\t\t\t\t\t</label>\n\t\t\t\t</div>`;\n\t}\n\n\tregisterSwitchEvents() {\n\t\tconst calendarview = this.getCalendarView();\n\t\tlet switchHistory,\n\t\t\tswitchAllDays,\n\t\t\tswitchContainer = $(`<div class=\"js-calendar-switch-container\"></div>`).insertAfter(\n\t\t\t\tcalendarview.find('.fc-center')\n\t\t\t);\n\t\tif (app.getMainParams('showType') == 'current' && app.moduleCacheGet('defaultShowType') != 'history') {\n\t\t\tswitchHistory = false;\n\t\t} else {\n\t\t\tswitchHistory = true;\n\t\t}\n\t\t$(this.switchTpl(app.vtranslate('JS_TO_REALIZE'), app.vtranslate('JS_HISTORY'), switchHistory))\n\t\t\t.prependTo(switchContainer)\n\t\t\t.on('change', 'input', e => {\n\t\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\t\tapp.setMainParams('showType', 'current');\n\t\t\t\t\tapp.moduleCacheSet('defaultShowType', 'current');\n\t\t\t\t} else if (typeof currentTarget.data('off-text') !== 'undefined') {\n\t\t\t\t\tapp.setMainParams('showType', 'history');\n\t\t\t\t\tapp.moduleCacheSet('defaultShowType', 'history');\n\t\t\t\t}\n\t\t\t\tthis.loadCalendarData();\n\t\t\t});\n\t\tif (app.getMainParams('switchingDays') === 'workDays' && app.moduleCacheGet('defaultSwitchingDays') !== 'all') {\n\t\t\tswitchAllDays = false;\n\t\t} else {\n\t\t\tswitchAllDays = true;\n\t\t}\n\t\tif (app.getMainParams('hiddenDays', true) !== false) {\n\t\t\t$(this.switchTpl(app.vtranslate('JS_WORK_DAYS'), app.vtranslate('JS_ALL'), switchAllDays))\n\t\t\t\t.prependTo(switchContainer)\n\t\t\t\t.on('change', 'input', e => {\n\t\t\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\t\t\tlet hiddenDays = [];\n\t\t\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\t\t\tapp.setMainParams('switchingDays', 'workDays');\n\t\t\t\t\t\tapp.moduleCacheSet('defaultSwitchingDays', 'workDays');\n\t\t\t\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t\t\t\t} else if (typeof currentTarget.data('off-text') !== 'undefined') {\n\t\t\t\t\t\tapp.setMainParams('switchingDays', 'all');\n\t\t\t\t\t\tapp.moduleCacheSet('defaultSwitchingDays', 'all');\n\t\t\t\t\t}\n\t\t\t\t\tcalendarview.fullCalendar('option', 'hiddenDays', hiddenDays);\n\t\t\t\t\tthis.registerSwitchEvents();\n\t\t\t\t\tthis.loadCalendarData();\n\t\t\t\t});\n\t\t}\n\t}\n\n\tregisterCacheSettings() {\n\t\tvar thisInstance = this;\n\t\tvar calendar = thisInstance.getCalendarView();\n\t\tif (app.moduleCacheGet('defaultSwitchingDays') == 'all') {\n\t\t\tapp.setMainParams('switchingDays', 'all');\n\t\t} else {\n\t\t\tapp.setMainParams('switchingDays', 'workDays');\n\t\t}\n\t\tif (app.moduleCacheGet('defaultShowType') == 'history') {\n\t\t\tapp.setMainParams('showType', 'history');\n\t\t} else {\n\t\t\tapp.setMainParams('showType', 'current');\n\t\t}\n\t\t$('.siteBarRight .filterField').each(function(index) {\n\t\t\tvar name = $(this).attr('id');\n\t\t\tvar value = app.moduleCacheGet(name);\n\t\t\tvar element = $('#' + name);\n\t\t\tif (element.length > 0 && value != null) {\n\t\t\t\tif (element.attr('type') == 'checkbox') {\n\t\t\t\t\telement.prop('checked', value);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcalendar.find('.fc-toolbar .fc-button').on('click', function(e) {\n\t\t\tlet view;\n\t\t\tlet element = $(e.currentTarget);\n\t\t\tview = calendar.fullCalendar('getView');\n\t\t\tif (element.hasClass('fc-' + view.name + '-button')) {\n\t\t\t\tapp.moduleCacheSet('defaultView', view.name);\n\t\t\t} else if (\n\t\t\t\telement.hasClass('fc-prev-button') ||\n\t\t\t\telement.hasClass('fc-next-button') ||\n\t\t\t\telement.hasClass('fc-today-button')\n\t\t\t) {\n\t\t\t\tapp.moduleCacheSet('start', view.start.format());\n\t\t\t\tapp.moduleCacheSet('end', view.end.format());\n\t\t\t}\n\t\t});\n\t\tvar keys = app.moduleCacheKeys();\n\t\tif (keys.length > 0) {\n\t\t\tvar alert = $('#moduleCacheAlert');\n\t\t\t$('.bodyContents').on('Vtiger.Widget.Load.undefined', function(e, data) {\n\t\t\t\talert.removeClass('d-none');\n\t\t\t});\n\t\t\talert.find('.cacheClear').on('click', function(e) {\n\t\t\t\tapp.moduleCacheClear();\n\t\t\t\talert.addClass('d-none');\n\t\t\t\tlocation.reload();\n\t\t\t});\n\t\t}\n\t}\n\n\tregisterEvents() {\n\t\tsuper.registerEvents();\n\t\tthis.registerCacheSettings();\n\t\tthis.registerSwitchEvents();\n\t}\n};\n"],"names":["window","Calendar_Calendar_Js","self","this","start","end","selectDays","getCalendarView","fullCalendar","calEvent","jsEvent","view","preventDefault","link","URL","$","href","createView","progressInstance","jQuery","progressIndicator","enabled","showModalWindow","module","searchParams","get","mode","location","assign","element","data","text","hasClass","types","select2","i","length","push","id","parentParams","users","app","moduleCacheGet","filters","each","name","value","attr","val","prop","params","getMainParams","user","concat","emptyFilters","Object","startDate","endDate","thisInstance","start_hour","end_hour","hasTime","add","format","getCalendarCreateView","done","activityType","find","activityDurations","JSON","parse","minutes","activitytype","parseInt","duration","moment","toISOString","dateFormat","toUpperCase","defaultTimeFormat","startDateString","startTimeString","endDateString","endTimeString","Vtiger_Header_Js","handleQuickCreateData","addCalendarEvent","result","eventObject","taskstatus","inArray","activitystatus","state","last","aDeferred","Deferred","calendarCreateView","resolve","clone","promise","loadCalendarCreateView","fail","error","url","getInstance","getQuickCreateForm","reject","on","off","calendarview","switchHistory","switchAllDays","switchContainer","insertAfter","switchTpl","vtranslate","prependTo","currentTarget","e","setMainParams","moduleCacheSet","loadCalendarData","hiddenDays","registerSwitchEvents","calendar","index","moduleCacheKeys","alert","removeClass","moduleCacheClear","addClass","reload","registerCacheSettings","Calendar_Js"],"mappings":"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"}