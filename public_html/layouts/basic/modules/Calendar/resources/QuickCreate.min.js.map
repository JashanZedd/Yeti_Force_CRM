{"version":3,"file":"QuickCreate.min.js","sources":["QuickCreate.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/**\n *  Class representing a modal calendar.\n * @extends Calendar_CalendarExtended_Js\n */\nwindow.Calendar_CalendarModal_Js = class extends Calendar_CalendarExtended_Js {\n\n\tconstructor(container, readonly) {\n\t\tsuper(container, readonly);\n\t\tthis.isSwitchAllDays = false;\n\t\tthis.sidebarName = 'add' //available: add, status, edit\n\t\tthis.eventCreate = true;\n\t\tthis.module = 'Calendar';\n\t\tthis.renderCalendar();\n\t\tthis.registerEvents();\n\t}\n\n\t/**\n\t * Function sets calendar moduls's options\n\t * Overwrites Calendar_Calendar_Js\n\t */\n\tsetCalendarModuleOptions() {\n\t\treturn {hiddenDays: app.getMainParams('hiddenDays', true)};\n\t}\n\n\t/**\n\t * Function registers calendar events\n\t * Overwrites Calendar_CalendarExtended_Js\n\t */\n\tregisterEvents() {\n\t\tthis.registerSwitchEvents();\n\t\tthis.registerUsersChange();\n\t\tthis.registerAutofillTime();\n\t\tthis.registerPopoverButtonsClickEvent();\n\t}\n\n\t/**\n\t * Function registers calendar switch event\n\t * Overwrites Calendar_CalendarExtended_Js\n\t */\n\tregisterSwitchEvents() {\n\t\tif (app.getMainParams('hiddenDays', true) !== false) {\n\t\t\tlet calendarview = this.getCalendarView(),\n\t\t\t\tswitchContainer = $(`<div class=\"js-calendar-switch-container\"></div>`).insertAfter(calendarview.find('.fc-center'));\n\t\t\t$(this.switchTpl(app.vtranslate('JS_WORK_DAYS'), app.vtranslate('JS_ALL'), this.isSwitchAllDays))\n\t\t\t\t.prependTo(switchContainer)\n\t\t\t\t.on('change', 'input', (e) => {\n\t\t\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\t\t\tlet hiddenDays = [];\n\t\t\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t\t\t\t\tthis.isSwitchAllDays = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isSwitchAllDays = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getCalendarView().fullCalendar('option', 'hiddenDays', hiddenDays);\n\t\t\t\t\tif (this.getCalendarView().fullCalendar('getView').type === 'year') {\n\t\t\t\t\t\tthis.registerViewRenderEvents(this.getCalendarView().fullCalendar('getView'));\n\t\t\t\t\t}\n\t\t\t\t\tthis.registerSwitchEvents();\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Function registers select's user change event\n\t * Overwrites Calendar_CalendarExtended_Js\n\t */\n\tregisterUsersChange() {\n\t\tthis.container.find('.assigned_user_id').on('change', () => {\n\t\t\tthis.getCalendarView().fullCalendar('getCalendar').view.options.loadView();\n\t\t});\n\t}\n\n\t/**\n\t * Function return user's id\n\t * Overwrites Calendar_CalendarExtended_Js\n\t * @returns {int}\n\t */\n\tgetSelectedUsersCalendar() {\n\t\treturn this.container.find('.assigned_user_id').val();\n\t}\n\n\t/**\n\t * Function invokes by fullcalendar, sets selected days in form\n\t * Overwrites Calendar_CalendarExtended_Js\n\t * @param startDate\n\t * @param endDate\n\t */\n\tselectDays(startDate, endDate) {\n\t\tif (this.sidebarName === 'status') {\n\t\t\tthis.sidebarName = 'add';\n\t\t\tthis.getCalendarCreateView().done(() => {\n\t\t\t\tthis.selectDays(startDate, endDate)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tlet startHour = app.getMainParams('startHour'),\n\t\t\tendHour = app.getMainParams('endHour'),\n\t\t\tview = this.getCalendarView().fullCalendar('getView');\n\t\tif (endDate.hasTime() == false) {\n\t\t\tendDate.add(-1, 'days');\n\t\t}\n\t\tstartDate = startDate.format();\n\t\tendDate = endDate.format();\n\t\tif (startHour == '') {\n\t\t\tstartHour = '00';\n\t\t}\n\t\tif (endHour == '') {\n\t\t\tendHour = '00';\n\t\t}\n\t\tif (view.name != 'agendaDay' && view.name != 'agendaWeek') {\n\t\t\tstartDate = startDate + 'T' + startHour + ':00';\n\t\t\tendDate = endDate + 'T' + endHour + ':00';\n\t\t\tif (startDate == endDate) {\n\t\t\t\tlet activityType = this.container.find('[name=\"activitytype\"]').val();\n\t\t\t\tlet activityDurations = JSON.parse(this.container.find('[name=\"defaultOtherEventDuration\"]').val());\n\t\t\t\tlet minutes = 0;\n\t\t\t\tfor (let i in activityDurations) {\n\t\t\t\t\tif (activityDurations[i].activitytype === activityType) {\n\t\t\t\t\t\tminutes = parseInt(activityDurations[i].duration);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tendDate = moment(endDate).add(minutes, 'minutes').toISOString();\n\t\t\t}\n\t\t}\n\t\tlet dateFormat = this.container.find('[name=\"date_start\"]').data('dateFormat').toUpperCase(),\n\t\t\ttimeFormat = this.container.find('[name=\"time_start\"]').data('format'),\n\t\t\tdefaultTimeFormat = '';\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t} else {\n\t\t\tdefaultTimeFormat = 'hh:mm A';\n\t\t}\n\t\tthis.container.find('[name=\"date_start\"]').val(moment(startDate).format(dateFormat));\n\t\tthis.container.find('[name=\"due_date\"]').val(moment(endDate).format(dateFormat));\n\t\tif (this.container.find('.js-autofill').prop('checked') === true) {\n\t\t\tlet calendarEditInstance = new Calendar_Edit_Js();\n\t\t\tcalendarEditInstance.getFreeTime(this.container);\n\t\t} else {\n\t\t\tthis.container.find('[name=\"time_start\"]').val(moment(startDate).format(defaultTimeFormat));\n\t\t\tthis.container.find('[name=\"time_end\"]').val(moment(endDate).format(defaultTimeFormat));\n\t\t}\n\t}\n\n\t/** @inheritdoc */\n\tregisterEditForm(sideBar) {\n\t\tlet editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(sideBar.find('[name=\"module\"]').val()),\n\t\t\theaderInstance = new Vtiger_Header_Js(),\n\t\t\tparams = [];\n\t\tlet rightFormCreate = sideBar.find('form[name=\"QuickCreate\"]');\n\t\teditViewInstance.registerBasicEvents(rightFormCreate);\n\t\trightFormCreate.validationEngine(app.validationEngineOptions);\n\t\theaderInstance.registerHelpInfo(rightFormCreate);\n\t\tApp.Fields.Picklist.showSelect2ElementView(sideBar.find('select'));\n\t\tsideBar.find('.js-summary-close-edit').on('click', () => {\n\t\t\tthis.getCalendarCreateView();\n\t\t});\n\t\theaderInstance.registerQuickCreatePostLoadEvents(rightFormCreate, params);\n\t\tnew App.Fields.Text.Editor(sideBar.find('.js-editor'), {height: '5em', toolbar: 'Min'});\n\t}\n\n\t/** @inheritdoc */\n\tupdateSidebar(sidebar, data) {\n\t\tconst modalTitleContainer = $('.js-modal-title__container'),\n\t\t\tmodalTitles = modalTitleContainer.find('[class*=\"js-modal-title\"]');\n\t\tdata = $(data);\n\n\t\tmodalTitles.addClass('d-none')\n\t\tif(data.hasClass('js-edit-form')) {\n\t\t\tlet title = data.find('.js-sidebar-title ').data('title')\n\t\t\tmodalTitles.filter(`.js-modal-title--${title}`).removeClass('d-none')\n\t\t\tthis.sidebarName = title\n\t\t} else if(data.hasClass('js-activity-state')) {\n\t\t\tmodalTitles.filter('.js-modal-title--status').removeClass('d-none')\n\t\t\tthis.sidebarName = 'status'\n\t\t}\n\t\tsidebar.find('.js-qc-form').html(data);\n\t}\n}\n\njQuery.Class(\"Calendar_QuickCreate_Js\", {}, {\n\tcontainer: false,\n\tgetContainer() {\n\t\treturn this.container;\n\t},\n\tsetContainer: function (container) {\n\t\tthis.container = container;\n\t},\n\tregisterExtendCalendar: function () {\n\t\tnew Calendar_CalendarModal_Js($('.js-modal-container'), true);\n\t\tlet container = this.getContainer();\n\t\tcontainer.find('.js-activity-buttons button').on('click', function (e) {\n\t\t\tlet form = container.find('form');\n\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\tif (1 === currentTarget.data('type')) {\n\t\t\t\tform.append('<input type=hidden name=\"activitystatus\" value=\"' + currentTarget.data('state') + '\">');\n\t\t\t\tform.submit();\n\t\t\t} else {\n\t\t\t\tcontainer.find('.js-activity-buttons').remove();\n\t\t\t\tform.find('[name=\"record\"]').val('');\n\t\t\t\tform.append('<input type=hidden name=\"postponed\" value=\"true\">');\n\t\t\t\tform.append('<input type=hidden name=\"followup\" value=\"' + currentTarget.data('id') + '\">');\n\t\t\t}\n\t\t});\n\t},\n\tregisterStandardCalendar: function () {\n\t\tconst thisInstance = this;\n\t\tlet container = this.getContainer();\n\t\tlet data = container.find('form')\n\t\tlet user = data.find('[name=\"assigned_user_id\"]');\n\t\tlet dateStartEl = data.find('[name=\"date_start\"]');\n\t\tlet dateEnd = data.find('[name=\"due_date\"]');\n\t\tuser.on('change', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar data = element.closest('form');\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdateStartEl.on('change', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar data = element.closest('form');\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdata.find('ul li a').on('click', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar data = element.closest('form');\n\t\t\tdata.find('.addedNearCalendarEvent').remove();\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdata.on('click', '.nextDayBtn', function () {\n\t\t\tvar dateStartEl = data.find('[name=\"date_start\"]')\n\t\t\tvar startDay = dateStartEl.val();\n\t\t\tvar dateStartFormat = dateStartEl.data('date-format');\n\t\t\tstartDay = moment(Vtiger_Helper_Js.convertToDateString(startDay, dateStartFormat, '+7', ' ')).format(dateStartFormat.toUpperCase());\n\t\t\tdateStartEl.val(startDay);\n\t\t\tdateEnd.val(startDay);\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdata.on('click', '.previousDayBtn', function () {\n\t\t\tvar dateStartEl = data.find('[name=\"date_start\"]')\n\t\t\tvar startDay = dateStartEl.val();\n\t\t\tvar dateStartFormat = dateStartEl.data('date-format');\n\t\t\tstartDay = moment(Vtiger_Helper_Js.convertToDateString(startDay, dateStartFormat, '-7', ' ')).format(dateStartFormat.toUpperCase());\n\t\t\tdateStartEl.val(startDay);\n\t\t\tdateEnd.val(startDay);\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdata.on('click', '.dateBtn', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tdateStartEl.val(element.data('date'));\n\t\t\tdata.find('[name=\"due_date\"]').val(element.data('date'));\n\t\t\tdata.find('[name=\"date_start\"]').trigger('change');\n\t\t});\n\t\tthisInstance.getNearCalendarEvent(data);\n\t},\n\tgetNearCalendarEvent: function (container) {\n\t\tlet dateStartVal = container.find('[name=\"date_start\"]').val();\n\t\tif (typeof dateStartVal === \"undefined\" || dateStartVal === '') {\n\t\t\treturn;\n\t\t}\n\t\tlet params = {\n\t\t\tmodule: 'Calendar',\n\t\t\tview: 'QuickCreateEvents',\n\t\t\tcurrentDate: dateStartVal,\n\t\t\tuser: container.find('[name=\"assigned_user_id\"]').val(),\n\t\t}\n\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true,\n\t\t\t\telementToBlock: container.find('.eventsTable')\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (events) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tcontainer.find('.eventsTable').remove();\n\t\t\tcontainer.append(events);\n\t\t\tVtiger_Header_Js.getInstance().registerHelpInfo(container);\n\t\t});\n\t},\n\tregisterEvents: function (container) {\n\t\tlet calendarType = container.closest('.js-modal-container').find('.js-calendar-type').val();\n\t\tthis.setContainer(container);\n\t\tif (calendarType === 'Extended') {\n\t\t\tthis.registerExtendCalendar();\n\t\t} else {\n\t\t\tthis.registerStandardCalendar();\n\t\t}\n\t}\n});\n"],"names":["window","Calendar_CalendarModal_Js","container","readonly","isSwitchAllDays","sidebarName","eventCreate","module","renderCalendar","registerEvents","hiddenDays","app","getMainParams","registerSwitchEvents","registerUsersChange","registerAutofillTime","registerPopoverButtonsClickEvent","calendarview","this","getCalendarView","switchContainer","$","insertAfter","find","switchTpl","vtranslate","prependTo","on","e","currentTarget","data","fullCalendar","_this2","type","registerViewRenderEvents","view","options","loadView","val","startDate","endDate","getCalendarCreateView","done","selectDays","startHour","endHour","hasTime","add","format","name","activityType","activityDurations","JSON","parse","minutes","i","activitytype","parseInt","duration","moment","toISOString","dateFormat","toUpperCase","defaultTimeFormat","prop","Calendar_Edit_Js","getFreeTime","sideBar","editViewInstance","Vtiger_Edit_Js","getInstanceByModuleName","headerInstance","Vtiger_Header_Js","rightFormCreate","registerBasicEvents","validationEngine","validationEngineOptions","registerHelpInfo","Fields","Picklist","showSelect2ElementView","registerQuickCreatePostLoadEvents","App","Text","Editor","height","toolbar","sidebar","modalTitles","addClass","hasClass","title","filter","removeClass","html","Calendar_CalendarExtended_Js","jQuery","Class","getContainer","form","append","submit","remove","thisInstance","user","dateStartEl","dateEnd","closest","getNearCalendarEvent","startDay","dateStartFormat","Vtiger_Helper_Js","convertToDateString","element","trigger","dateStartVal","params","progressIndicatorElement","progressIndicator","request","events","mode","getInstance","calendarType","setContainer","registerExtendCalendar","registerStandardCalendar"],"mappings":"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"}