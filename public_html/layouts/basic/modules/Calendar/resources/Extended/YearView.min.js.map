{"version":3,"file":"YearView.min.js","sources":["YearView.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\nvar FC = $.fullCalendar, // a reference to FullCalendar's root namespace\n\tView = FC.View; // the class that all views must inherit from\n\n/**\n * Creates fullcalendar's View year subclass\n */\nFC.views.year = View.extend({\n\tcalendarView: false,\n\trenderHtml: function(year) {\n\t\tlet col2Breakpoint = 'col-xxl-2';\n\t\tif ($('#switchingDays').val() === 'all') {\n\t\t\tcol2Breakpoint = 'col-xxxl-2';\n\t\t}\n\t\treturn `\n\t\t\t<div class=\"h-100 fc-year\">\n\t\t\t\t<div class=\"fc-year__container row no-gutters\">\n\t\t\t\t\t<div class=\"fc-january fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-01-01\"></div>\n\t\t\t\t\t<div class=\"fc-february fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-02-01\"></div>\n\t\t\t\t\t<div class=\"fc-march fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-03-01\"></div>\n\t\t\t\t\t<div class=\"fc-april fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-04-01\"></div>\n\t\t\t\t\t<div class=\"fc-may fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-05-01\"></div>\n\t\t\t\t\t<div class=\"fc-june fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-06-01\"></div>\n\t\t\t\t\t<div class=\"fc-july fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-07-01\"></div>\n\t\t\t\t\t<div class=\"fc-august fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-08-01\"></div>\n\t\t\t\t\t<div class=\"fc-september fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-09-01\"></div>\n\t\t\t\t\t<div class=\"fc-october fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-10-01\"></div>\n\t\t\t\t\t<div class=\"fc-november fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-11-01\"></div>\n\t\t\t\t\t<div class=\"fc-december fc-year__month col-sm-6 col-lg-4 col-xl-3 ${col2Breakpoint}\" data-date=\"${year}-12-01\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t},\n\tloadMonthData: function(calendar, events) {\n\t\tconst thisInstance = this;\n\t\tlet height = calendar.find('.fc-bg :first').height() - calendar.find('.fc-day-number').height() - 10,\n\t\t\twidth = calendar.find('.fc-day-number').width() / 2 - 10,\n\t\t\ti;\n\t\tfor (i in events.result) {\n\t\t\tevents.result[i]['width'] = width;\n\t\t\tevents.result[i]['height'] = height;\n\t\t}\n\t\tcalendar.fullCalendar('addEventSource', events.result);\n\t\tcalendar.find('.js-show-day').on('click', function() {\n\t\t\tlet date = moment($(this).data('date')).format(CONFIG.dateFormat.toUpperCase());\n\t\t\tthisInstance.getCalendarView().fullCalendar('changeView', 'agendaDay', date);\n\t\t\t$('.js-sub-record .active').click();\n\t\t});\n\t\tcalendar.find('.fc-center').on('click', function() {\n\t\t\tlet date = moment(\n\t\t\t\t$(this)\n\t\t\t\t\t.closest('[data-date]')\n\t\t\t\t\t.data('date')\n\t\t\t).format(CONFIG.dateFormat.toUpperCase());\n\t\t\tthisInstance.getCalendarView().fullCalendar('changeView', 'month', date);\n\t\t\t$('.js-sub-record .active').click();\n\t\t});\n\t},\n\tappendWeekButton() {\n\t\t$('.fc-row.fc-week.fc-widget-content').each(function() {\n\t\t\tlet date = $(this)\n\t\t\t\t.find('.fc-day-top')\n\t\t\t\t.first()\n\t\t\t\t.data('date');\n\t\t\tlet actualWeek = moment(date).format('WW');\n\t\t\t$(this).prepend(\n\t\t\t\t`<div class=\"js-show-week js-popover-tooltip fc-year__show-week-btn\" data-toggle=\"popover\" data-date=\"${date}\" data-content=\"${app.vtranslate(\n\t\t\t\t\t'JS_WEEK'\n\t\t\t\t)} ${actualWeek}\" role=\"tooltip\" data-js=\"click | popover\">${actualWeek}</div>`\n\t\t\t);\n\t\t});\n\t\tthis.getCalendarView()\n\t\t\t.find('.js-show-week')\n\t\t\t.on('click', e => {\n\t\t\t\t$(e.currentTarget).popover('hide');\n\t\t\t\tlet date = moment($(e.currentTarget).data('date')).format(CONFIG.dateFormat.toUpperCase());\n\t\t\t\tthis.getCalendarView().fullCalendar('changeView', 'agendaWeek', date);\n\t\t\t\t$('.js-sub-record .active').click();\n\t\t\t});\n\t},\n\trender: function() {\n\t\tconst self = this;\n\t\tlet calendar = self.getCalendarView().fullCalendar('getCalendar'),\n\t\t\tdate = calendar.getDate().year(),\n\t\t\tyearView = this.el.html(this.renderHtml(date)),\n\t\t\tuser = this.getSelectedUsersCalendar(),\n\t\t\tprogressInstance = $.progressIndicator({ blockInfo: { enabled: true } }),\n\t\t\tcvid = this.getCurrentCvId();\n\t\tif (user.length === 0) {\n\t\t\tuser = [app.getMainParams('userId')];\n\t\t}\n\t\tlet dateFormat = CONFIG.dateFormat.toUpperCase();\n\t\tthis.clearFilterButton(user, cvid);\n\t\tlet options = {\n\t\t\tmodule: this.module,\n\t\t\taction: 'Calendar',\n\t\t\tmode: 'getEventsYear',\n\t\t\tstart: moment(date + '-01-01').format(dateFormat),\n\t\t\tend: moment(date + '-12-31').format(dateFormat),\n\t\t\tuser: user,\n\t\t\tyearView: true,\n\t\t\ttime: app.getMainParams('showType'),\n\t\t\tcvid: cvid,\n\t\t\thistoryUrl: `index.php?module=${this.module}&view=CalendarExtended&history=true&viewType=${\n\t\t\t\tcalendar.view.type\n\t\t\t}&start=${moment(date + '-01-01').format(dateFormat)}&end=${moment(date + '-12-31').format(\n\t\t\t\tdateFormat\n\t\t\t)}&user=${user}&time=${app.getMainParams('showType')}&cvid=${cvid}&hiddenDays=${\n\t\t\t\tcalendar.view.options.hiddenDays\n\t\t\t}`\n\t\t};\n\t\tlet connectorMethod = window['AppConnector']['request'];\n\t\tif (this.browserHistory && window.calendarLoaded) {\n\t\t\tconnectorMethod = window['AppConnector']['requestPjax'];\n\t\t}\n\t\tif (this.browserHistoryConfig && Object.keys(this.browserHistoryConfig).length && window.calendarLoaded) {\n\t\t\toptions = Object.assign(options, {\n\t\t\t\tstart: moment(this.browserHistoryConfig.start).format(dateFormat),\n\t\t\t\tend: moment(this.browserHistoryConfig.end).format(dateFormat),\n\t\t\t\tuser: this.browserHistoryConfig.user,\n\t\t\t\ttime: this.browserHistoryConfig.time,\n\t\t\t\tcvid: this.browserHistoryConfig.cvid\n\t\t\t});\n\t\t\tconnectorMethod = window['AppConnector']['request'];\n\t\t\tapp.setMainParams('showType', this.browserHistoryConfig.time);\n\t\t\tapp.setMainParams('usersId', this.browserHistoryConfig.user);\n\t\t}\n\t\tconnectorMethod(options).done(function(events) {\n\t\t\tyearView.find('.fc-year__month').each(function(i) {\n\t\t\t\tlet calendarInstance = new Calendar_Calendar_Js(self.container, self.readonly);\n\t\t\t\tlet basicOptions = calendarInstance.setCalendarMinimalOptions(),\n\t\t\t\t\tmonthOptions = {\n\t\t\t\t\t\tdefaultView: 'month',\n\t\t\t\t\t\ttitleFormat: 'MMMM',\n\t\t\t\t\t\theader: { center: 'title', left: false, right: false },\n\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\tselect: function(start, end) {\n\t\t\t\t\t\t\tself.selectDays(start, end);\n\t\t\t\t\t\t},\n\t\t\t\t\t\thiddenDays: calendar.view.options.hiddenDays,\n\t\t\t\t\t\tshowNonCurrentDates: false,\n\t\t\t\t\t\tdefaultDate: moment(calendar.getDate().year() + '-' + (i + 1), 'YYYY-MM-DD'),\n\t\t\t\t\t\teventRender: function(event, element) {\n\t\t\t\t\t\t\tif (event.rendering === 'background') {\n\t\t\t\t\t\t\t\telement.append(\n\t\t\t\t\t\t\t\t\t`<span class=\"js-popover-tooltip\" data-content=\"${event.title}\" data-toggle=\"popover\"><span class=\"${event.icon}\"></span></span>`\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tevent.countShow = '99+';\n\t\t\t\t\t\t\tif (event.count < 100) {\n\t\t\t\t\t\t\t\tevent.countShow = event.count;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telement = `<div class=\"js-show-day cell-calendar u-cursor-pointer d-flex\" data-date=\"${event.date}\" data-js=\"click\">\n\t\t\t\t\t\t\t<a class=\"u-z-index-100 fc-year__show-day-btn mx-auto\" href=\"#\" data-date=\"${event.date}\" title=\"${event.count}\">\n\t\t\t\t\t\t\t\t  <span class=\"fc-year__show-day-btn__container\">\n\t\t\t\t\t\t\t\t\t<span class=\"fas fa-calendar fa-lg\"></span>\n\t\t\t\t\t\t\t\t\t<span class=\"fc-year__show-day-btn__text fa-inverse u-font-weight-700\">${event.countShow}</span>\n\t\t\t\t\t\t\t\t  </span>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\treturn element;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\tself.loadMonthData($(this).fullCalendar($.extend(basicOptions, monthOptions)), events);\n\t\t\t});\n\t\t\tif (app.getMainParams('weekCount') === '1') {\n\t\t\t\tself.appendWeekButton();\n\t\t\t}\n\t\t\tlet yearViewContainer = self.container.find('.fc-view-container').first();\n\t\t\tyearViewContainer\n\t\t\t\t.height($(window).height() - yearViewContainer.offset().top - $('.js-footer').height())\n\t\t\t\t.addClass('u-overflow-y-auto u-overflow-x-hidden');\n\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t});\n\t\tthis.registerTodayButtonYearChange(calendar);\n\t\tthis.registerViewRenderEvents(calendar.view);\n\t\twindow.calendarLoaded = true;\n\t},\n\n\t/**\n\t * Function extends today button functionality for year view\n\t * @param {jQuery} calendar\n\t */\n\tregisterTodayButtonYearChange(calendar) {\n\t\tif (calendar.currentDate.format('YYYY') === moment().format('YYYY')) {\n\t\t\tcalendar.el.find('.fc-today-button').addClass('fc-state-disabled');\n\t\t} else {\n\t\t\tcalendar.el.find('.fc-today-button').removeClass('fc-state-disabled');\n\t\t}\n\t}\n});\n"],"names":["FC","$","fullCalendar","View","views","year","extend","col2Breakpoint","val","calendar","events","thisInstance","height","find","width","i","result","on","date","moment","data","format","CONFIG","dateFormat","toUpperCase","getCalendarView","click","closest","each","first","actualWeek","prepend","app","vtranslate","e","currentTarget","popover","self","getDate","yearView","el","html","renderHtml","user","getSelectedUsersCalendar","progressInstance","progressIndicator","blockInfo","enabled","cvid","getCurrentCvId","length","getMainParams","clearFilterButton","options","module","view","type","hiddenDays","connectorMethod","window","browserHistory","calendarLoaded","browserHistoryConfig","Object","keys","assign","start","end","time","setMainParams","done","calendarInstance","Calendar_Calendar_Js","container","readonly","basicOptions","setCalendarMinimalOptions","monthOptions","center","left","right","selectDays","event","element","rendering","append","title","icon","countShow","count","loadMonthData","appendWeekButton","yearViewContainer","offset","top","addClass","mode","registerTodayButtonYearChange","registerViewRenderEvents","currentDate","removeClass"],"mappings":"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"}