{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_List_Js(\"OSSMailView_List_Js\", {\n\tbindMails: function (url) {\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\tif (validationResult != true) {\n\t\t\tapp.showConfirmModal(app.vtranslate('JS_BIND_CONFIRM')).done(function (data) {\n\t\t\t\tif (!data) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {};\n\t\t\tparams.data = {module: 'OSSMailView', action: 'BindMails'};\n\t\t\t$.extend(params.data, Vtiger_List_Js.getSelectedRecordsParams());\n\t\t\tparams.async = false;\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: data.result,\n\t\t\t\t\tdelay: '4000',\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t}\n\t},\n\ttriggerChangeTypeForm: function () {\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar selectedIds = listInstance.readSelectedIds(true);\n\t\t$(\"#ChangeType\").on('submit', function (event) {\n\t\t\tvar mail_type = jQuery('#mail_type').val();\n\t\t\tvar save_params = {};\n\t\t\tsave_params.data = {module: 'OSSMailView', action: 'ChangeType', data: selectedIds, mail_type: mail_type};\n\t\t\tsave_params.async = false;\n\t\t\tAppConnector.request(save_params).done(\n\t\t\t\tfunction (data) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t}\n\t\t\t);\n\t\t\tevent.preventDefault();\n\t\t});\n\t},\n\ttriggerChangeType: function (url) {\n\t\tvar thisInstance = this;\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\tif (validationResult != true) {\n\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\tvar actionParams = {\n\t\t\t\t\"type\": \"POST\",\n\t\t\t\t\"url\": url,\n\t\t\t\t\"dataType\": \"html\",\n\t\t\t\t\"data\": {}\n\t\t\t};\n\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tthisInstance.triggerChangeTypeForm();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t}\n\t},\n}, {});\n"],"names":["Vtiger_List_Js","url","listInstance","getInstance","checkListRecordSelected","showConfirmModal","app","vtranslate","done","data","params","module","action","extend","getSelectedRecordsParams","async","request","showPnotify","result","noRecordSelectedAlert","selectedIds","readSelectedIds","on","event","mail_type","jQuery","val","save_params","clearList","getListViewRecords","hideModalWindow","preventDefault","thisInstance","this","getRelatedModulesContainer","actionParams","showModalWindow","triggerChangeTypeForm"],"mappings":"aAGAA,eAAe,sBAAuB,WAC1B,SAAUC,SAChBC,aAAeF,eAAeG,iBAEV,GADDD,aAAaE,0BACN,KACzBC,iBAAiBC,IAAIC,WAAW,oBAAoBC,MAAK,SAAUC,UACjEA,YACG,SAGLC,OAAS,MACC,CAACC,OAAQ,cAAeC,OAAQ,gBAC5CC,OAAOH,OAAOD,KAAMT,eAAec,mCAC9BC,OAAQ,eACFC,QAAQN,QAAQF,MAAK,SAAUC,uBAC1BQ,YAAY,MACtBR,KAAKS,aACJ,YACD,iCAIKC,+CAGQ,eAClBjB,aAAeF,eAAeG,cAC9BiB,YAAclB,aAAamB,iBAAgB,KAC7C,eAAeC,GAAG,UAAU,SAAUC,WACnCC,UAAYC,OAAO,cAAcC,MACjCC,YAAc,eACNlB,KAAO,CAACE,OAAQ,cAAeC,OAAQ,aAAcH,KAAMW,YAAaI,UAAWA,uBACnFT,OAAQ,eACPC,QAAQW,aAAanB,MACjC,SAAUC,UACLC,OAAS,OACLJ,IAAIC,WAAW,mBAChBE,KAAKS,YACL,yBAEUD,YAAYP,uBACdkB,yBACFC,yBACTC,2BAGAC,uCAGW,SAAU9B,SACxB+B,aAAeC,KACf/B,aAAeF,eAAeG,iBAEV,GADDD,aAAaE,0BACN,cAChB8B,4BAA6B,MACtCC,aAAe,MACV,WACDlC,aACK,YACJ,iBAEIe,QAAQmB,cAAc3B,MAAK,SAAUC,MAC7CA,UACC2B,gBAAgB3B,MAAM,SAAUA,mBACtB4B,gDAKHlB,0BAGb"}