{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_List_Js(\n\t'OSSMailView_List_Js',\n\t{\n\t\tbindMails: function (_url) {\n\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\tlet validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_BIND_CONFIRM'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tparams.data = { module: 'OSSMailView', action: 'BindMails' };\n\t\t\t\t\t\t$.extend(params.data, Vtiger_List_Js.getSelectedRecordsParams());\n\t\t\t\t\t\tparams.async = false;\n\t\t\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t\t\tlet message = typeof data === 'string' ? JSON.parse(data).result : data.result;\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\tdelay: '4000',\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerChangeTypeForm: function () {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar selectedIds = listInstance.readSelectedIds(true);\n\t\t\t$('#ChangeType').on('submit', function (event) {\n\t\t\t\tvar mail_type = jQuery('#mail_type').val();\n\t\t\t\tvar save_params = {};\n\t\t\t\tsave_params.data = {\n\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\taction: 'ChangeType',\n\t\t\t\t\tdata: selectedIds,\n\t\t\t\t\tmail_type: mail_type\n\t\t\t\t};\n\t\t\t\tsave_params.async = false;\n\t\t\t\tAppConnector.request(save_params).done(function (data) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t\t},\n\t\ttriggerChangeType: function (url) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\t\tvar actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: url,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\t\tthisInstance.triggerChangeTypeForm();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t}\n\t},\n\t{}\n);\n"],"names":["Vtiger_List_Js","bindMails","listInstance","getInstance","validationResult","checkListRecordSelected","noRecordSelectedAlert","app","showConfirmModal","text","vtranslate","confirmedCallback","params","data","module","action","$","extend","getSelectedRecordsParams","async","AppConnector","request","done","message","JSON","parse","result","showNotify","delay","type","triggerChangeTypeForm","selectedIds","readSelectedIds","on","event","mail_type","jQuery","val","save_params","title","clearList","getListViewRecords","hideModalWindow","preventDefault","triggerChangeType","url","thisInstance","getRelatedModulesContainer","dataType","showModalWindow"],"mappings":"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"}