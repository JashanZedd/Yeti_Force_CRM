{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_List_Js(\n\t'OSSMailView_List_Js',\n\t{\n\t\tbindMails: function (_url) {\n\t\t\tlet listInstance = Vtiger_List_Js.getInstance();\n\t\t\tlet validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_BIND_CONFIRM'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tparams.data = { module: 'OSSMailView', action: 'BindMails' };\n\t\t\t\t\t\t$.extend(params.data, Vtiger_List_Js.getSelectedRecordsParams());\n\t\t\t\t\t\tparams.async = false;\n\t\t\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t\t\tlet message = typeof data === 'string' ? JSON.parse(data).result : data.result;\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\tdelay: '4000',\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\ttriggerChangeTypeForm: function () {\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar selectedIds = listInstance.readSelectedIds(true);\n\t\t\t$('#ChangeType').on('submit', function (event) {\n\t\t\t\tvar mail_type = jQuery('#mail_type').val();\n\t\t\t\tvar save_params = {};\n\t\t\t\tsave_params.data = {\n\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\taction: 'ChangeType',\n\t\t\t\t\tdata: selectedIds,\n\t\t\t\t\tmail_type: mail_type\n\t\t\t\t};\n\t\t\t\tsave_params.async = false;\n\t\t\t\tAppConnector.request(save_params).done(function (data) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tapp.showNotify(params);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t\tevent.preventDefault();\n\t\t\t});\n\t\t},\n\t\ttriggerChangeType: function (url) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\t\tvar actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: url,\n\t\t\t\t\tdataType: 'html',\n\t\t\t\t\tdata: {}\n\t\t\t\t};\n\t\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\t\tthisInstance.triggerChangeTypeForm();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t\t}\n\t\t}\n\t},\n\t{}\n);\n"],"names":["Vtiger_List_Js","bindMails","getInstance","validationResult","listInstance","checkListRecordSelected","noRecordSelectedAlert","app","showConfirmModal","text","vtranslate","confirmedCallback","params","data","module","action","$","extend","getSelectedRecordsParams","async","AppConnector","request","done","JSON","parse","result","showNotify","message","delay","type","triggerChangeTypeForm","selectedIds","readSelectedIds","on","event","jQuery","val","save_params","mail_type","title","clearList","getListViewRecords","hideModalWindow","preventDefault","triggerChangeType","url","thisInstance","getRelatedModulesContainer","dataType","showModalWindow"],"mappings":"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"}