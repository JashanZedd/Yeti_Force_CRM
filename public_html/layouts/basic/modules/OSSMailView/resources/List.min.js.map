{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_List_Js(\"OSSMailView_List_Js\", {\n\tbindMails: function (url) {\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\tif (validationResult != true) {\n\t\t\tapp.showConfirmModal(app.vtranslate('JS_BIND_CONFIRM')).done(function (data) {\n\t\t\t\tif (!data) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {};\n\t\t\tparams.data = {module: 'OSSMailView', action: 'BindMails'};\n\t\t\t$.extend(params.data, Vtiger_List_Js.getSelectedRecordsParams());\n\t\t\tparams.async = false;\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: data.result,\n\t\t\t\t\tdelay: '4000',\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t}\n\t},\n\ttriggerChangeTypeForm: function () {\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar selectedIds = listInstance.readSelectedIds(true);\n\t\t$(\"#ChangeType\").on('submit', function (event) {\n\t\t\tvar mail_type = jQuery('#mail_type').val();\n\t\t\tvar save_params = {};\n\t\t\tsave_params.data = {module: 'OSSMailView', action: 'ChangeType', data: selectedIds, mail_type: mail_type};\n\t\t\tsave_params.async = false;\n\t\t\tAppConnector.request(save_params).done(\n\t\t\t\tfunction (data) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\tVtiger_List_Js.clearList();\n\t\t\t\t\tlistInstance.getListViewRecords();\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t}\n\t\t\t);\n\t\t\tevent.preventDefault();\n\t\t});\n\t},\n\ttriggerChangeType: function (url) {\n\t\tvar thisInstance = this;\n\t\tvar listInstance = Vtiger_List_Js.getInstance();\n\t\tvar validationResult = listInstance.checkListRecordSelected();\n\t\tif (validationResult != true) {\n\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\tvar actionParams = {\n\t\t\t\t\"type\": \"POST\",\n\t\t\t\t\"url\": url,\n\t\t\t\t\"dataType\": \"html\",\n\t\t\t\t\"data\": {}\n\t\t\t};\n\t\t\tAppConnector.request(actionParams).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\t\t\tthisInstance.triggerChangeTypeForm();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tlistInstance.noRecordSelectedAlert();\n\t\t}\n\t},\n}, {});\n"],"names":["Vtiger_List_Js","url","listInstance","getInstance","validationResult","checkListRecordSelected","showConfirmModal","app","vtranslate","done","data","params","module","action","extend","getSelectedRecordsParams","async","request","showPnotify","result","noRecordSelectedAlert","selectedIds","readSelectedIds","on","event","mail_type","jQuery","val","save_params","clearList","getListViewRecords","hideModalWindow","preventDefault","thisInstance","getRelatedModulesContainer","actionParams","showModalWindow","triggerChangeTypeForm"],"mappings":";;AAAA;AACA;AAEAA,eAAe,qBAAf,EAAsC;YAC1B,mBAAUC,GAAV,EAAe;MACrBC,eAAeF,eAAeG,WAAf,EAAnB;MACIC,mBAAmBF,aAAaG,uBAAb,EAAvB;MACID,oBAAoB,IAAxB,EAA8B;OACzBE,gBAAJ,CAAqBC,IAAIC,UAAJ,CAAe,iBAAf,CAArB,EAAwDC,IAAxD,CAA6D,UAAUC,IAAV,EAAgB;QACxE,CAACA,IAAL,EAAW;YACH,KAAP;;IAFF;OAKIC,SAAS,EAAb;UACOD,IAAP,GAAc,EAACE,QAAQ,aAAT,EAAwBC,QAAQ,WAAhC,EAAd;KACEC,MAAF,CAASH,OAAOD,IAAhB,EAAsBV,eAAee,wBAAf,EAAtB;UACOC,KAAP,GAAe,KAAf;gBACaC,OAAb,CAAqBN,MAArB,EAA6BF,IAA7B,CAAkC,UAAUC,IAAV,EAAgB;qBAChCQ,WAAjB,CAA6B;WACtBR,KAAKS,MADiB;YAErB,MAFqB;WAGtB;KAHP;IADD;GAVD,MAiBO;gBACOC,qBAAb;;EAtBmC;wBAyBd,iCAAY;MAC9BlB,eAAeF,eAAeG,WAAf,EAAnB;MACIkB,cAAcnB,aAAaoB,eAAb,CAA6B,IAA7B,CAAlB;IACE,aAAF,EAAiBC,EAAjB,CAAoB,QAApB,EAA8B,UAAUC,KAAV,EAAiB;OAC1CC,YAAYC,OAAO,YAAP,EAAqBC,GAArB,EAAhB;OACIC,cAAc,EAAlB;eACYlB,IAAZ,GAAmB,EAACE,QAAQ,aAAT,EAAwBC,QAAQ,YAAhC,EAA8CH,MAAMW,WAApD,EAAiEI,WAAWA,SAA5E,EAAnB;eACYT,KAAZ,GAAoB,KAApB;gBACaC,OAAb,CAAqBW,WAArB,EAAkCnB,IAAlC,CACC,UAAUC,IAAV,EAAgB;QACXC,SAAS;YACLJ,IAAIC,UAAJ,CAAe,YAAf,CADK;WAENE,KAAKS,MAFC;WAGN;KAHP;qBAKiBD,WAAjB,CAA6BP,MAA7B;mBACekB,SAAf;iBACaC,kBAAb;QACIC,eAAJ;IAVF;SAaMC,cAAN;GAlBD;EA5BoC;oBAiDlB,2BAAU/B,GAAV,EAAe;MAC7BgC,eAAe,IAAnB;MACI/B,eAAeF,eAAeG,WAAf,EAAnB;MACIC,mBAAmBF,aAAaG,uBAAb,EAAvB;MACID,oBAAoB,IAAxB,EAA8B;gBAChB8B,0BAAb,GAA0C,KAA1C;OACIC,eAAe;YACV,MADU;WAEXlC,GAFW;gBAGN,MAHM;YAIV;IAJT;gBAMagB,OAAb,CAAqBkB,YAArB,EAAmC1B,IAAnC,CAAwC,UAAUC,IAAV,EAAgB;QACnDA,IAAJ,EAAU;SACL0B,eAAJ,CAAoB1B,IAApB,EAA0B,UAAUA,IAAV,EAAgB;mBAC5B2B,qBAAb;MADD;;IAFF;GARD,MAeO;gBACOjB,qBAAb;;;CArEH,EAwEG,EAxEH"}