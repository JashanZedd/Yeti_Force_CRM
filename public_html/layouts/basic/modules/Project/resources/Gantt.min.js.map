{"version":3,"file":"Gantt.min.js","sources":["Gantt.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nclass Gantt {\n\n\t/**\n\t * Constructor\n\t *\n\t * @param {jQUery|HTMLElement|string} container\n\t * @param {object} projectData\n\t */\n\tconstructor(container, projectData) {\n\t\tthis.container = $(container);\n\t\tthis.registerLanguage();\n\t\tthis.registerTemplates();\n\t\tif (typeof projectData !== 'undefined') {\n\t\t\tthis.loadProject(projectData);\n\t\t}\n\t}\n\n\t/**\n\t * Register language translations globally (replace old ones)\n\t */\n\tregisterLanguage() {\n\t\tGanttMaster.messages.GANTT_ERROR_LOADING_DATA_TASK_REMOVED = app.vtranslate(\"JS_GANTT_ERROR_LOADING_DATA_TASK_REMOVED\", 'Project');\n\t\tGanttMaster.messages.INVALID_DATE_FORMAT = app.vtranslate(\"JS_INVALID_DATE_FORMAT\", 'Project');\n\t\tGanttMaster.messages.GANTT_SEMESTER_SHORT = app.vtranslate(\"JS_GANTT_SEMESTER_SHORT\", 'Project');\n\t\tGanttMaster.messages.GANTT_SEMESTER = app.vtranslate(\"JS_GANTT_SEMESTER\", 'Project');\n\t\tGanttMaster.messages.GANTT_QUARTER_SHORT = app.vtranslate(\"JS_GANTT_QUARTER_SHORT\", 'Project');\n\t\tGanttMaster.messages.GANTT_QUARTER = app.vtranslate(\"JS_GANTT_QUARTER\", 'Project');\n\t\tGanttMaster.messages.GANTT_WEEK = app.vtranslate(\"JS_GANTT_WEEK\", 'Project');\n\t\tGanttMaster.messages.GANTT_WEEK_SHORT = app.vtranslate(\"JS_GANTT_WEEK_SHORT\", 'Project');\n\t\tGantt_i18n.YES = app.vtranslate(\"JS_YES\", 'Project');\n\t\tGantt_i18n.NO = app.vtranslate(\"JS_NO\", 'Project');\n\t\tGantt_i18n.INVALID_DATA = app.vtranslate(\"JS_INVALID_DATA\", 'Project');\n\t\tGantt_i18n.ERROR_ON_FIELD = app.vtranslate(\"JS_ERROR_ON_FIELD\", 'Project');\n\t\tGantt_i18n.OUT_OF_BOUDARIES = app.vtranslate(\"JS_OUT_OF_BOUDARIES\", 'Project');\n\t\tGantt_i18n.ERR_FIELD_MAX_SIZE_EXCEEDED = app.vtranslate(\"JS_ERR_FIELD_MAX_SIZE_EXCEEDED\", 'Project');\n\t\tGantt_i18n.WEEK_SHORT = app.vtranslate(\"JS_WEEK_SHORT\", 'Project');\n\t\tGantt_i18n.PROCEED = app.vtranslate(\"JS_PROCEED\", 'Project');\n\t\tGantt_i18n.PREV = app.vtranslate(\"JS_PREV\", 'Project');\n\t\tGantt_i18n.NEXT = app.vtranslate(\"JS_NEXT\", 'Project');\n\t\tGantt_i18n.HINT_SKIP = app.vtranslate(\"JS_HINT_SKIP\", 'Project');\n\t\tDate.monthNames = App.Fields.Date.fullMonthsTranslated.map(month => month);\n\t\tDate.monthAbbreviations = App.Fields.Date.monthsTranslated.map(month => month);\n\t\tDate.dayAbbreviations = App.Fields.Date.daysTranslated.map(day => day);\n\t\tDate.dayNames = App.Fields.Date.fullDaysTranslated.map(day => day);\n\t\tDate.firstDayOfWeek = CONFIG.firstDayOfWeekNo;\n\t\tDate.defaultFormat = CONFIG.dateFormat;\n\t\tDate.today = app.vtranslate('JS_TODAY');\n\t\tNumber.decimalSeparator = CONFIG.currencyDecimalSeparator;\n\t\tNumber.groupingSeparator = CONFIG.currencyGroupingSeparator;\n\t\tNumber.currencyFormat = \"###,##0.00\";\n\t}\n\n\t/**\n\t * Register gantt templates globally\n\t *\n\t * @returns {string}\n\t */\n\tregisterTemplates() {\n\t\tconst self = this;\n\t\tthis.ganttTemplateFunctions = [];\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"GANTBUTTONS\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<div class=\"ganttButtonBar noprint\">\n\t\t\t\t<div class=\"buttons\">\n\t\t\t\t\t<button class=\"js-gantt__expand-all-btn button textual icon \" title=\"${app.vtranslate('JS_GANTT_EXPAND_ALL')}\"><span class=\"teamworkIcon\">6</span></button>\n\t\t\t\t\t<button class=\"js-gantt__collapse-all-btn button textual icon \" title=\"${app.vtranslate('JS_GANTT_COLLAPSE_ALL')}\"><span class=\"teamworkIcon\">5</span></button>\n\t\t\t\t\t<span class=\"ganttButtonSeparator\"></span>\n\t\t\t\t\t<button class=\"js-gantt__zoom-out-btn button textual icon \" title=\"${app.vtranslate('JS_GANTT_ZOOM_OUT')}\"><span class=\"teamworkIcon\">)</span></button>\n\t\t\t\t\t<button class=\"js-gantt__zoom-in-btn button textual icon \" title=\"${app.vtranslate('JS_GANTT_ZOOM_IN')}\"><span class=\"teamworkIcon\">(</span></button>\n\t\t\t\t\t<span class=\"ganttButtonSeparator\"></span>\n\t\t\t\t\t<button class=\"js-gantt__resize-0-btn button textual icon\" title=\"${app.vtranslate('JS_GANTT_RESIZE_0')}\"><span class=\"teamworkIcon\">F</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"js-gantt__resize-50-btn button textual icon\" title=\"${app.vtranslate('JS_GANTT_RESIZE_50')}\"><span class=\"teamworkIcon\">O</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button class=\"js-gantt__resize-100-btn button textual icon\" title=\"${app.vtranslate('JS_GANTT_RESIZE_100')}\"><span class=\"teamworkIcon\">R</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span class=\"ganttButtonSeparator\"></span>\n\t\t\t\t\t<button class=\"js-gantt__front-filter button textual icon\" title=\"${app.vtranslate('JS_GANTT_FILTER')}\"><span class=\"teamworkIcon\">f</span></button>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKSEDITHEAD\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<table class=\"gdfTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t\t<thead>\n\t\t\t\t<tr style=\"height:40px\">\n      \t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:80px\">${app.vtranslate(\"JS_NO.\", \"Project\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:300px\">${app.vtranslate(\"JS_NAME\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:60px\">${app.vtranslate(\"JS_PRIORITY\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:100px\">${app.vtranslate(\"JS_STATUS\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:70px\">${app.vtranslate(\"JS_DURATION_SHORT\", \"Project\")}</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:50px\">%</th>\n\t\t\t\t\t<th class=\"gdfColHeader gdfResizable\" style=\"width:200px\">${app.vtranslate(\"JS_ASSIGNED\", \"Project\")}</th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t</table>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKROW\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<tr id=\"tid_${obj.id}\" taskId=\"${obj.id}\" class=\"taskEditRow ${obj.isParent() ? 'isParent' : ''} ${obj.collapsed ? 'collapsed' : ''}\" level=\"${obj.level}\">\n\t   \t\t\t<td class=\"gdfCell text-center\">${obj.no}</td>\n\t\t\t\t<td class=\"gdfCell indentCell\" style=\"padding-left:${obj.level * 10 + 18}px;\" title=\"${obj.name}\" data-toggle=\"tooltip\">\n\t\t\t\t\t<div class=\"exp-controller\" align=\"center\"></div>\n\t\t\t\t\t${obj.type === 'project' ? '<span class=\"fas fa-briefcase\"></span>' : obj.type === 'milestone' ? '<i class=\"fas fa-folder\"></i>' : '<i class=\"fas fa-file\"></i>'}\n\t\t\t\t\t<input type=\"text\" name=\"name\" value=\"${obj.name}\" placeholder=\"name\" ${obj.canWrite ? 'canWrite' : 'disabled'}>\n\t\t\t\t</td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"priority\" class=\"text-center\" autocomplete=\"off\" value=\"${obj.priority_label ? obj.priority_label : ''}\"></td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"status\" class=\"text-center\" autocomplete=\"off\" value=\"${obj.status_label ? obj.status_label : ''}\"></td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"duration\" class=\"text-center\" autocomplete=\"off\" value=\"${obj.duration}\"></td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"progress\" class=\"validated text-center\" entrytype=\"PERCENTILE\" autocomplete=\"off\" value=\"${obj.progress ? obj.progress : ''}\" ${obj.progressByWorklog ? \"readOnly\" : \"\"}></td>\n\t\t\t\t<td class=\"gdfCell\"><input type=\"text\" name=\"assigned\" class=\"text-center\" autocomplete=\"off\" value=\"${obj.assigned_user_name}\"></td>\n\t\t\t</tr>`;\n\t\t\t}\n\t\t});\n\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKEMPTYROW\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<tr class=\"taskEditRow emptyRow\">\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t\t<td class=\"gdfCell\"></td>\n\t\t\t</tr>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKBAR\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<div class=\"taskBox taskBoxDiv\" taskId=\"${obj.id}\">\n\t\t\t\t<div class=\"layout ${obj.hasExternalDep ? 'extDep' : ''}\">\n\t\t\t\t\t<div class=\"taskProgress\"\n\t\t\t\t\t\t style=\"width:${obj.progress > 100 ? 100 : obj.progress}%; background-color:${obj.progress > 100 ? 'red' : 'rgb(153,255,51);'};\"></div>\n\t\t\t\t\t<div class=\"milestone ${obj.startIsMilestone ? 'active' : ''}\"></div>\n\t\t\t\t\t<div class=\"taskLabel\"></div>\n\t\t\t\t\t<div class=\"milestone end ${obj.endIsMilestone ? 'active' : ''}\"></div>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\t}\n\t\t});\n\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"CHANGE_STATUS\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<div class=\"taskStatusBox\">\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_ACTIVE\" title=\"Active\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_DONE\" title=\"Completed\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_FAILED\" title=\"Failed\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_SUSPENDED\" title=\"Suspended\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_WAITING\" title=\"Waiting\" style=\"display: none;\"></div>\n\t\t\t\t<div class=\"taskStatus cvcColorSquare\" status=\"STATUS_UNDEFINED\" title=\"Undefined\"></div>\n\t\t\t</div>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"ASSIGNMENT_ROW\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<tr taskId=\"${obj.task.id}\" assId=\"${obj.assig.id}\" class=\"assigEditRow\">\n\t\t\t\t<td><select name=\"resourceId\" class=\"formElements\" ${obj.assig.id.indexOf(\"tmp_\") == 0 ? \"\" : \"disabled\"}></select></td>\n\t\t\t\t<td><select type=\"select\" name=\"roleId\" class=\"formElements\"></select></td>\n\t\t\t\t<td><input type=\"text\" name=\"effort\" value=\"${getMillisInHoursMinutes(obj.assig.effort)}\" size=\"5\" class=\"formElements\"></td>\n\t\t\t\t<td align=\"center\"><span class=\"teamworkIcon delAssig del\" style=\"cursor: pointer\">d</span></td>\n\t\t\t</tr>`;\n\t\t\t}\n\t\t});\n\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"RESOURCE_ROW\",\n\t\t\trender(obj) {\n\t\t\t\treturn `<tr resId=\"${obj.id}\" class=\"resRow\">\n\t\t\t\t<td><input type=\"text\" name=\"name\" value=\"${obj.name}\" style=\"width:100%;\" class=\"formElements\"></td>\n\t\t\t\t<td align=\"center\"><span class=\"teamworkIcon delRes del\" style=\"cursor: pointer\">d</span></td>\n\t\t\t</tr>`;\n\t\t\t}\n\t\t});\n\t\t// must be declared but for now not needed\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASKEDITHEAD\",\n\t\t\trender(obj) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t});\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"TASK_EDITOR\",\n\t\t\trender(obj) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t});\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"RESOURCE_EDITOR\",\n\t\t\trender(obj) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t});\n\t\tthis.ganttTemplateFunctions.push({\n\t\t\ttype: \"RESOURCE_EDITOR\",\n\t\t\trender(obj) {\n\t\t\t\treturn \"\";\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Make tree from task array\n\t *\n\t * @param {Array} tasks\n\t * @param {Object} parent\n\t * @returns {Object}\n\t */\n\tmakeTree(tasks, parent = {id: 0}) {\n\t\tparent = {...parent};\n\t\tif (typeof parent.children === 'undefined') {\n\t\t\tparent.children = [];\n\t\t}\n\t\tfor (let child of tasks) {\n\t\t\tchild = {...child};\n\t\t\tif (typeof child.parent === 'undefined') {\n\t\t\t\tchild.parent = 0;\n\t\t\t}\n\t\t\tif (child.parent === parent.id) {\n\t\t\t\tchild = this.makeTree(tasks, child);\n\t\t\t\tparent.children.push(child);\n\t\t\t}\n\t\t}\n\t\treturn parent;\n\t}\n\n\t/**\n\t * Flatten tree to array\n\t *\n\t * @param {Object} tree\n\t * @param {Array} flat\n\t * @returns {Array}\n\t */\n\tflattenTree(tree, flat = []) {\n\t\tfor (let child of tree.children) {\n\t\t\tflat.push(child);\n\t\t\tflat = this.flattenTree(child, flat);\n\t\t}\n\t\treturn flat;\n\t}\n\n\t/**\n\t * Get branch that fulfill statuses\n\t *\n\t * @param {String} moduleName\n\t * @param {String[]} statuses\n\t * @param {Object} current\n\t * @returns {Object}\n\t */\n\tgetBranchesWithStatus(moduleName, statuses, current) {\n\t\tcurrent = {...current};\n\t\tlet children = [];\n\t\tcurrent.children = current.children.map(task => task);\n\t\tfor (let task of current.children) {\n\t\t\tchildren.push(this.getBranchesWithStatus(moduleName, statuses, task));\n\t\t}\n\t\tcurrent.children = children;\n\t\treturn current;\n\t}\n\n\t/**\n\t * Filter project data\n\t *\n\t * @param {Object} projectData\n\t * @returns {Object}\n\t */\n\tfilterProjectData(projectData) {\n\t\tlet newProjectData = Object.assign({}, projectData);\n\t\tlet tree = this.makeTree(newProjectData.tasks);\n\t\tfor (let moduleName in this.filter.status) {\n\t\t\tif (this.filter.status.hasOwnProperty(moduleName)) {\n\t\t\t\ttree = this.getBranchesWithStatus(moduleName, this.filter.status[moduleName], tree);\n\t\t\t}\n\t\t}\n\t\tnewProjectData.tasks = this.flattenTree(tree);\n\t\treturn newProjectData;\n\t}\n\n\t/**\n\t * Load project\n\t */\n\tloadProject(projectData) {\n\t\tthis.projectData = projectData;\n\t\tthis.allTasks = this.projectData.tasks;\n\t\tif (typeof this.allTasks === 'undefined') {\n\t\t\t$('.js-hide-filter').addClass('d-none');\n\t\t\t$('.js-show-add-record').removeClass('d-none');\n\t\t\treturn;\n\t\t}\n\t\tthis.statuses = this.projectData.statuses;\n\t\tthis.filter = {status: this.projectData.activeStatuses};\n\t\tthis.gantt = new GanttMaster(this.ganttTemplateFunctions);\n\t\tthis.gantt.resourceUrl = '/libraries/jquery-gantt-editor/res/';\n\t\tthis.gantt.init(this.container);\n\t\tif (this.allTasks.length > 0) {\n\t\t\tthis.gantt.loadProject($.extend(true, {}, this.filterProjectData(this.projectData)));\n\t\t\tthis.registerEvents();\n\t\t}\n\t}\n\n\t/**\n\t * Load project from ajax request\n\t * @param {object} params - request params such as module/action and projectId\n\t */\n\tloadProjectFromAjax(params) {\n\t\tconst progressInstance = jQuery.progressIndicator({blockInfo: {enabled: true}});\n\t\tAppConnector.request(params).done((response) => {\n\t\t\tthis.loadProject(response.result);\n\t\t\tprogressInstance.progressIndicator({mode: 'hide'});\n\t\t});\n\t}\n\n\t/**\n\t * Load new data to gantt\n\t *\n\t * @param {Object} data\n\t */\n\treloadData(data) {\n\t\tthis.gantt.loadProject(data);\n\t}\n\n\t/**\n\t * Save filter and reload data.\n\t *\n\t * @param {Object} filterOptions\n\t */\n\tsaveFilter(filterOptions) {\n\t\tthis.filter = filterOptions;\n\t\tthis.reloadData(this.filterProjectData(this.projectData));\n\t}\n\n\t/**\n\t * Get status from value (object with other props)\n\t * @param {String} value\n\t * @param {String} moduleName\n\t * @returns {Object}\n\t */\n\tgetStatusFromValue(value, moduleName) {\n\t\tfor (let status of this.statuses[moduleName]) {\n\t\t\tif (status.value === value) {\n\t\t\t\treturn Object.assign({}, status);\n\t\t\t}\n\t\t}\n\t\tapp.errorLog(`Status not found [${value}]`);\n\t}\n\n\t/**\n\t * Open modal with status filters\n\t */\n\tshowFiltersModal() {\n\t\tconst self = this;\n\t\tconst box = bootbox.dialog({\n\t\t\tshow: 'false',\n\t\t\tmessage: `<div class=\"js-gantt__filter-modal form\" data-js=\"container\">\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label>${app.vtranslate(\"JS_PROJECT_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-project\" multiple>\n\t\t\t\t\t\t${self.statuses.Project.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.Project.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t<label>${app.vtranslate(\"JS_MILESTONE_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-milestone\" multiple>\n\t\t\t\t\t\t${self.statuses.ProjectMilestone.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.ProjectMilestone.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t<label>${app.vtranslate(\"JS_TASK_STATUSES\", 'Project')}:</label>\n\t\t\t\t\t<select class=\"select2 form-control\" id=\"js-gantt__filter-task\" multiple>\n\t\t\t\t\t\t${self.statuses.ProjectTask.map((status) => {\n\t\t\t\treturn `<option value=\"${status.value}\" ${this.filter.status.ProjectTask.map(status => status.value).indexOf(status.value) >= 0 ? 'selected' : ''}>${status.label}</option>`;\n\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t</div>`,\n\t\t\ttitle: '<span class=\"fas fa-filter\"></span> ' + app.vtranslate('JS_FILTER_BY_STATUSES', 'Project'),\n\t\t\tbuttons: {\n\t\t\t\tsuccess: {\n\t\t\t\t\tlabel: '<span class=\"fas fa-check mr-1\"></span>' + app.vtranslate('JS_UPDATE_GANTT', 'Project'),\n\t\t\t\t\tclassName: \"btn-success\",\n\t\t\t\t\tcallback: function () {\n\t\t\t\t\t\tself.saveFilter({\n\t\t\t\t\t\t\tstatus: {\n\t\t\t\t\t\t\t\tProject: $('#js-gantt__filter-project', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'Project');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tProjectMilestone: $('#js-gantt__filter-milestone', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'ProjectMilestone');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tProjectTask: $('#js-gantt__filter-task', this).val().map((status) => {\n\t\t\t\t\t\t\t\t\treturn self.getStatusFromValue(status, 'ProjectTask');\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdanger: {\n\t\t\t\t\tlabel: '<span class=\"fas fa-times mr-1\"></span>' + app.vtranslate('JS_CANCEL'),\n\t\t\t\t\tclassName: \"btn-danger\",\n\t\t\t\t\tcallback: function () {\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tApp.Fields.Picklist.showSelect2ElementView($(box).find('.select2'));\n\t\tbox.show();\n\t}\n\n\t/**\n\t * Register events for gantt actions in current container\n\t */\n\tregisterEvents() {\n\t\tconst container = this.container;\n\t\tconst self = this;\n\t\tcontainer.find('.js-gantt__expand-all-btn', container).on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('expandAll.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__collapse-all-btn', container).on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('collapseAll.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__zoom-in-btn', container).on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('zoomPlus.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__zoom-out-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('zoomMinus.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__print-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('print.gantt');\n\t\t});\n\t\tcontainer.find('.js-gantt__show-critical-path-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tthis.gantt.gantt.showCriticalPath = !gantt.gantt.showCriticalPath;\n\t\t\tthis.gantt.redraw();\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__resize-0-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tthis.gantt.splitter.resize(.1);\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__resize-50-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tthis.gantt.splitter.resize(50);\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__resize-100-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tthis.gantt.splitter.resize(100);\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__fullscreen-btn').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tcontainer.trigger('fullScreen.gantt');\n\t\t}.bind(this));\n\t\tcontainer.find('.js-gantt__front-filter').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tself.showFiltersModal();\n\t\t});\n\t\tcontainer.find('[data-toggle=\"tooltip\"]').tooltip();\n\t}\n}\n"],"names":["container","projectData","$","registerLanguage","registerTemplates","loadProject","GanttMaster","messages","GANTT_ERROR_LOADING_DATA_TASK_REMOVED","app","vtranslate","INVALID_DATE_FORMAT","GANTT_SEMESTER_SHORT","GANTT_SEMESTER","GANTT_QUARTER_SHORT","GANTT_QUARTER","GANTT_WEEK","GANTT_WEEK_SHORT","Gantt_i18n","YES","NO","INVALID_DATA","ERROR_ON_FIELD","OUT_OF_BOUDARIES","ERR_FIELD_MAX_SIZE_EXCEEDED","WEEK_SHORT","PROCEED","PREV","NEXT","HINT_SKIP","Date","monthNames","App","Fields","fullMonthsTranslated","map","monthAbbreviations","monthsTranslated","dayAbbreviations","daysTranslated","dayNames","fullDaysTranslated","firstDayOfWeek","CONFIG","firstDayOfWeekNo","defaultFormat","dateFormat","today","Number","decimalSeparator","currencyDecimalSeparator","groupingSeparator","currencyGroupingSeparator","currencyFormat","ganttTemplateFunctions","push","type","render","obj","id","isParent","collapsed","level","no","name","canWrite","priority_label","status_label","duration","progress","progressByWorklog","assigned_user_name","hasExternalDep","startIsMilestone","endIsMilestone","task","assig","indexOf","getMillisInHoursMinutes","effort","tasks","parent","children","child","makeTree","tree","flat","flattenTree","moduleName","statuses","current","getBranchesWithStatus","Object","assign","newProjectData","filter","status","hasOwnProperty","allTasks","addClass","removeClass","activeStatuses","gantt","resourceUrl","init","length","extend","filterProjectData","registerEvents","params","progressInstance","jQuery","progressIndicator","blockInfo","enabled","AppConnector","request","done","response","result","mode","data","filterOptions","reloadData","value","errorLog","self","box","bootbox","dialog","show","message","Project","label","ProjectMilestone","ProjectTask","title","buttons","success","className","callback","saveFilter","val","getStatusFromValue","danger","Picklist","showSelect2ElementView","find","on","e","preventDefault","trigger","showCriticalPath","redraw","bind","splitter","resize","showFiltersModal","tooltip"],"mappings":"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"}