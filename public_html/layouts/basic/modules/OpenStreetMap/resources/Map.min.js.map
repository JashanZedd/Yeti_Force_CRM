{"version":3,"file":"Map.min.js","sources":["Map.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'OpenStreetMap_Map_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tmapInstance: false,\n\t\tselectedParams: false,\n\t\tlayerMarkers: false,\n\t\tmarkers: false,\n\t\tcacheMarkers: [],\n\t\tpolygonLayer: false,\n\t\trouteLayer: false,\n\t\trecordsIds: '',\n\t\tcacheLayerMarkers: {},\n\t\tindirectPointLayer: {},\n\t\tsetSelectedParams: function (params) {\n\t\t\tdelete params['view'];\n\t\t\tthis.selectedParams = params;\n\t\t},\n\t\tregisterMap: function (startCoordinate, startZoom) {\n\t\t\tlet attribution =\n\t\t\t\t'&copy; <a href=\"https://yetiforce.com/en/yetiforce/license\" rel=\"noreferrer noopener\">YetiForce Map powered by Open Street Map</a>';\n\t\t\tif (CONFIG.disableBranding) {\n\t\t\t\tattribution = '';\n\t\t\t}\n\t\t\tthis.mapInstance = L.map('mapid').setView(startCoordinate, startZoom);\n\t\t\tL.tileLayer($('.js-tile-layer-server').val(), {\n\t\t\t\tmaxZoom: 19,\n\t\t\t\tattribution: attribution\n\t\t\t}).addTo(this.mapInstance);\n\t\t\treturn this.mapInstance;\n\t\t},\n\t\tsetMarkers: function (data) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar markerArray = [];\n\t\t\tvar container = this.container;\n\t\t\tvar map = this.mapInstance;\n\t\t\tif (typeof data.coordinates !== 'undefined') {\n\t\t\t\tvar markers = L.markerClusterGroup({\n\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t});\n\t\t\t\tif (typeof this.layerMarkers !== 'boolean') {\n\t\t\t\t\tmap.removeLayer(this.layerMarkers);\n\t\t\t\t}\n\t\t\t\tvar records = [];\n\t\t\t\tdata.coordinates.forEach(function (e) {\n\t\t\t\t\tmarkerArray.push([e.lat, e.lon]);\n\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\tmarkers.addLayer(marker);\n\t\t\t\t\trecords.push(e.recordId);\n\t\t\t\t});\n\t\t\t\tthis.recordsIds = records;\n\t\t\t\tthis.markers = data.coordinates;\n\t\t\t\tthis.layerMarkers = markers;\n\t\t\t\tmap.addLayer(markers);\n\t\t\t}\n\t\t\tif (typeof this.polygonLayer !== 'boolean') {\n\t\t\t\tmap.removeLayer(this.polygonLayer);\n\t\t\t}\n\t\t\tif (typeof data.coordinatesCenter !== 'undefined') {\n\t\t\t\tif (typeof data.coordinatesCenter.error === 'undefined') {\n\t\t\t\t\tlet radius = container.find('.js-radius').val();\n\t\t\t\t\tmarkerArray.push([data.coordinatesCenter.lat, data.coordinatesCenter.lon]);\n\t\t\t\t\tlet marker = L.marker([data.coordinatesCenter.lat, data.coordinatesCenter.lon], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'search',\n\t\t\t\t\t\t\tmarkerColor: 'red',\n\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(this.getMarkerPopup(container.find('.js-search-address').val(), data.coordinatesCenter));\n\t\t\t\t\tmap.addLayer(marker);\n\t\t\t\t\tif ($.isNumeric(radius)) {\n\t\t\t\t\t\tradius = parseInt(radius) * 1000;\n\t\t\t\t\t\tlet circle = L.circle([data.coordinatesCenter.lat, data.coordinatesCenter.lon], radius, {\n\t\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\t\tfillColor: '#f03',\n\t\t\t\t\t\t\tfillOpacity: 0.05\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.polygonLayer = L.featureGroup([circle]);\n\t\t\t\t\t\tmap.addLayer(this.polygonLayer);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\ttext: data.coordinatesCenter.error,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof data.cache !== 'undefined') {\n\t\t\t\tObject.keys(data.cache).forEach((key) => {\n\t\t\t\t\tif (typeof thisInstance.cacheLayerMarkers[key] !== 'undefined') {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t}\n\t\t\t\t\tvar markersCache = L.markerClusterGroup({\n\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t});\n\t\t\t\t\tlet coordinates = data.cache[key];\n\t\t\t\t\tcoordinates.forEach((e) => {\n\t\t\t\t\t\tif (thisInstance.recordsIds.indexOf(e.recordId) === -1) {\n\t\t\t\t\t\t\tmarkerArray.push([e.lat, e.lon]);\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tmarkersCache.addLayer(marker);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.cacheMarkers[key] = coordinates;\n\t\t\t\t\tmap.addLayer(markersCache);\n\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = markersCache;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar legendContainer = this.container.find('.js-legend-container');\n\t\t\tif (typeof data.legend !== 'undefined') {\n\t\t\t\tlet html = '';\n\t\t\t\tdata.legend.forEach(function (e) {\n\t\t\t\t\thtml +=\n\t\t\t\t\t\t'<div class=\"float-left mt-2\"><span class=\"leegendIcon mt-1\" style=\"background:' +\n\t\t\t\t\t\te.color +\n\t\t\t\t\t\t'\"></span> ' +\n\t\t\t\t\t\te.value +\n\t\t\t\t\t\t'</div>';\n\t\t\t\t});\n\t\t\t\tlegendContainer.html(html);\n\t\t\t} else {\n\t\t\t\tlegendContainer.html('');\n\t\t\t}\n\t\t\tif (markerArray.length) map.fitBounds(markerArray);\n\t\t\tthis.container.find('.groupNeighbours').prop('checked', true);\n\t\t},\n\t\tshowCalculateBtn: function () {\n\t\t\tvar container = this.container;\n\t\t\tvar endAddress = container.find('.end').val();\n\t\t\tvar startAddress = container.find('.start').val();\n\t\t\tif (endAddress.length > 0 && startAddress.length > 0) {\n\t\t\t\tcontainer.find('.js-calculate-route').parent().removeClass('d-none');\n\t\t\t}\n\t\t},\n\t\tregisterCacheEvents: function (container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.find('.showRecordsFromCache').on('change', (e) => {\n\t\t\t\tconst currentTarget = $(e.currentTarget),\n\t\t\t\t\tmoduleName = currentTarget.data('module');\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\t\tcache: [moduleName]\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tthis.setMarkers(response.result);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.mapInstance.removeLayer(this.cacheLayerMarkers[moduleName]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('.copyToClipboard').on('click', function () {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'save',\n\t\t\t\t\trecordIds: JSON.stringify(thisInstance.recordsIds),\n\t\t\t\t\tsrcModule: app.getModuleName()\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tvar countRecords = container.find('.countRecords' + app.getModuleName());\n\t\t\t\t\tcountRecords.html(response.result);\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.js-delete-clip-board').removeClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.js-delete-clip-board').on('click', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'delete',\n\t\t\t\t\tsrcModule: moduleName\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tvar countRecords = container.find('.countRecords' + moduleName);\n\t\t\t\t\tcountRecords.html('');\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.showRecordsFromCache').prop('checked', false);\n\t\t\t\t\tcountRecords.closest('.cacheModuleContainer').find('.showRecordsFromCache').trigger('change');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.addAllRecords').on('click', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar moduleName = currentTarget.data('module');\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\tmode: 'addAllRecords',\n\t\t\t\t\tsrcModule: moduleName\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttext: app.vtranslate('JS_MESSAGE_DOWNLOADED_ADDRESS_DATA'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\tcontainer.find('.countRecords' + moduleName).html(response.result.count);\n\t\t\t\t\tvar moduleContainer = currentTarget.closest('.cacheModuleContainer');\n\t\t\t\t\tmoduleContainer.find('.showRecordsFromCache').prop('checked', true);\n\t\t\t\t\tmoduleContainer.find('.showRecordsFromCache').trigger('change');\n\t\t\t\t\tif (response.result.count != '0') moduleContainer.find('.js-delete-clip-board').removeClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetCacheParamsToRequest: function () {\n\t\t\tlet params = [];\n\t\t\tthis.container.find('.showRecordsFromCache').each(function () {\n\t\t\t\tvar currentObject = $(this);\n\t\t\t\tif (currentObject.is(':checked')) params.push(currentObject.data('module'));\n\t\t\t});\n\t\t\treturn params;\n\t\t},\n\t\tregisterSearchCompany: function () {\n\t\t\tconst searchValue = this.container.find('.js-search-company');\n\t\t\tconst searchModule = this.container.find('.searchModule');\n\t\t\t$.widget('custom.ivAutocomplete', $.ui.autocomplete, {\n\t\t\t\t_create: function () {\n\t\t\t\t\tthis._super();\n\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t},\n\t\t\t\t_renderMenu: function (ul, items) {\n\t\t\t\t\tlet that = this,\n\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t$.each(items, function (_index, item) {\n\t\t\t\t\t\tlet li;\n\t\t\t\t\t\tconsole.log(item.category != currentCategory, item);\n\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tli = that._renderItemData(ul, item);\n\t\t\t\t\t\tif (item.category) {\n\t\t\t\t\t\t\tli.attr('aria-label', item.category + ' : ' + item.label);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t_renderItemData: function (ul, item) {\n\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t},\n\t\t\t\t_renderItem: function (ul, item) {\n\t\t\t\t\treturn $('<li>').data('item.autocomplete', item).append($('<a></a>').html(item.label)).appendTo(ul);\n\t\t\t\t}\n\t\t\t});\n\t\t\tsearchValue.ivAutocomplete({\n\t\t\t\tdelay: '600',\n\t\t\t\tminLength: '3',\n\t\t\t\tsource: function (_request, response) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: searchModule.val(),\n\t\t\t\t\t\tcurrentModule: app.getModuleName(),\n\t\t\t\t\t\tsearchModule: searchModule.val(),\n\t\t\t\t\t\tview: 'BasicAjax',\n\t\t\t\t\t\tmode: 'showSearchResults',\n\t\t\t\t\t\tvalue: searchValue.val(),\n\t\t\t\t\t\thtml: false\n\t\t\t\t\t}).done(function (responseAjax) {\n\t\t\t\t\t\tresponseAjax = JSON.parse(responseAjax);\n\t\t\t\t\t\tlet responseDataList = responseAjax.result;\n\t\t\t\t\t\tif (responseDataList.length <= 0) {\n\t\t\t\t\t\t\tresponseDataList.push({\n\t\t\t\t\t\t\t\tlabel: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\t\t\t\t\ttype: 'no results',\n\t\t\t\t\t\t\t\tcategory: ''\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresponse(responseDataList);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tselect: (_event, ui) => {\n\t\t\t\t\tthis.recordsIds.push(ui.item.id);\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'ClipBoard',\n\t\t\t\t\t\tmode: 'addRecord',\n\t\t\t\t\t\trecord: ui.item.id,\n\t\t\t\t\t\tsrcModuleName: searchModule.val()\n\t\t\t\t\t}).done((response) => {\n\t\t\t\t\t\tif (response.result.length == 1) {\n\t\t\t\t\t\t\tlet marker = L.marker([response.result[0].lat, response.result[0].lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: response.result[0].color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(response.result[0].label);\n\t\t\t\t\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\t\t\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(response.result[0].lat, response.result[0].lon), 13);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\t\ttext: response.result,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSearchAddress: function () {\n\t\t\tconst searchValue = this.container.find('.js-search-address'),\n\t\t\t\tsearchBtn = this.container.find('.js-search-btn'),\n\t\t\t\toperator = this.container.find('.js-select-operator');\n\t\t\tif (operator.length && operator.val()) {\n\t\t\t\tsearchValue\n\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\tdelay: 600,\n\t\t\t\t\t\tminLength: 3,\n\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\taction: 'Fields',\n\t\t\t\t\t\t\t\tmode: 'findAddress',\n\t\t\t\t\t\t\t\ttype: operator.val(),\n\t\t\t\t\t\t\t\tvalue: request.term\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function (requestData) {\n\t\t\t\t\t\t\t\t\tif (requestData.result === false) {\n\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else if (requestData.result.length) {\n\t\t\t\t\t\t\t\t\t\tresponse(requestData.result);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (_textStatus, _errorThrown, jqXHR) {\n\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttext: jqXHR.responseJSON.error.message,\n\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tresponse([{ label: app.vtranslate('JS_NO_RESULTS_FOUND'), value: '' }]);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselect: (_event, ui) => {\n\t\t\t\t\t\t\tif (ui.item.coordinates) {\n\t\t\t\t\t\t\t\tlet marker = L.marker([ui.item.coordinates.lat, ui.item.coordinates.lon], {\n\t\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}).bindPopup(this.getMarkerPopup(ui.item.label, ui.item.coordinates));\n\t\t\t\t\t\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\t\t\t\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t\t\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(ui.item.coordinates.lat, ui.item.coordinates.lon), 10);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsearchValue.val(ui.item.label);\n\t\t\t\t\t\t\t\tsearchBtn.trigger('click');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.autocomplete('instance')._renderItem = function (ul, item) {\n\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t.append(`<div><span class=\"fi fi-${item.countryCode}\"></span> ${item.label}</div>`)\n\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.container.find('.js-search-address,.js-radius').on('keydown', (e) => {\n\t\t\t\tif (e.code === 'Enter') {\n\t\t\t\t\tsearchBtn.trigger('click');\n\t\t\t\t}\n\t\t\t});\n\t\t\tsearchBtn.on('click', () => {\n\t\t\t\tconst progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: this.container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tsearchValue: this.container.find('.js-search-address').val(),\n\t\t\t\t\tcache: this.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tconst radiusValue = this.container.find('.js-radius').val();\n\t\t\t\tif (radiusValue !== '' && parseInt(radiusValue)) {\n\t\t\t\t\tparams['radius'] = parseInt(radiusValue);\n\t\t\t\t}\n\t\t\t\tAppConnector.request($.extend(this.selectedParams, params)).done((response) => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthis.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterMyLocation: function () {\n\t\t\tconst locationBtn = this.container.find('.js-my-location-btn');\n\t\t\tif (!navigator.geolocation) {\n\t\t\t\tlocationBtn.addClass('d-none');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tnavigator.permissions.query({ name: 'geolocation' }).then((response) => {\n\t\t\t\tif (response.state === 'denied') {\n\t\t\t\t\tlocationBtn.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t\tlocationBtn.on('click', () => {\n\t\t\t\tnavigator.geolocation.getCurrentPosition((position) => {\n\t\t\t\t\tlet marker = L.marker([position.coords.latitude, position.coords.longitude], {\n\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\tmarkerColor: 'cadetblue',\n\t\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t\t})\n\t\t\t\t\t}).bindPopup(\n\t\t\t\t\t\tthis.getMarkerPopup(locationBtn.data('label'), {\n\t\t\t\t\t\t\tlat: position.coords.latitude,\n\t\t\t\t\t\t\tlon: position.coords.longitude\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\tthis.layerMarkers.addLayer(marker);\n\t\t\t\t\tthis.mapInstance.addLayer(this.layerMarkers);\n\t\t\t\t\tthis.mapInstance.setView(new L.LatLng(position.coords.latitude, position.coords.longitude), 10);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterBasicModal: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar map = thisInstance.mapInstance;\n\t\t\tvar layer, description;\n\t\t\tapp.registerBlockAnimationEvent(container);\n\t\t\tthisInstance.registerCacheEvents(container);\n\t\t\tcontainer.find('.groupBy').on('click', function () {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tgroupBy: container.find('.fieldsToGroup').val(),\n\t\t\t\t\tsearchValue: container.find('.js-search-address').val(),\n\t\t\t\t\tradius: container.find('.js-radius').val(),\n\t\t\t\t\tcache: thisInstance.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tparams = $.extend(thisInstance.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.groupNeighbours').on('change', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tmap.removeLayer(thisInstance.layerMarkers);\n\t\t\t\tvar markers = thisInstance.markers;\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tlayer = L.markerClusterGroup({\n\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t});\n\t\t\t\t\tmarkers.forEach(function (e) {\n\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\tlayer.addLayer(marker);\n\t\t\t\t\t});\n\n\t\t\t\t\tObject.keys(thisInstance.cacheLayerMarkers).forEach(function (key) {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t\tvar cacheLayer = L.markerClusterGroup({\n\t\t\t\t\t\t\tmaxClusterRadius: 10\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheMarkers[key].forEach(function (e) {\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tcacheLayer.addLayer(marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = cacheLayer;\n\t\t\t\t\t\tmap.addLayer(cacheLayer);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tvar markerArray = [];\n\t\t\t\t\tmarkers.forEach(function (e) {\n\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\tmarkerArray.push(marker);\n\t\t\t\t\t});\n\t\t\t\t\tlayer = L.featureGroup(markerArray);\n\t\t\t\t\tObject.keys(thisInstance.cacheLayerMarkers).forEach(function (key) {\n\t\t\t\t\t\tmap.removeLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t\tvar markerArray = [];\n\t\t\t\t\t\tthisInstance.cacheMarkers[key].forEach(function (e) {\n\t\t\t\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}).bindPopup(e.label);\n\t\t\t\t\t\t\tmarkerArray.push(marker);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.cacheLayerMarkers[key] = L.featureGroup(markerArray);\n\t\t\t\t\t\tmap.addLayer(thisInstance.cacheLayerMarkers[key]);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.layerMarkers = layer;\n\t\t\t\tmap.addLayer(layer);\n\t\t\t});\n\t\t\tvar startIconLayer = false;\n\t\t\tcontainer.on('click', '.startTrack', function (e) {\n\t\t\t\tif (startIconLayer) {\n\t\t\t\t\tmap.removeLayer(startIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar startElement = container.find('.start');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tstartElement.val(description);\n\t\t\t\tstartElement.data('lat', coordinates.data('lat'));\n\t\t\t\tstartElement.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'truck',\n\t\t\t\t\t\tmarkerColor: 'green',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tstartIconLayer = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(startIconLayer);\n\t\t\t\tthisInstance.showCalculateBtn();\n\t\t\t});\n\t\t\tvar endIconLayer = false;\n\t\t\tcontainer.on('click', '.endTrack', function (e) {\n\t\t\t\tif (endIconLayer) {\n\t\t\t\t\tmap.removeLayer(endIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar endElement = container.find('.end');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tendElement.val(description);\n\t\t\t\tendElement.data('lat', coordinates.data('lat'));\n\t\t\t\tendElement.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'flag-checkered',\n\t\t\t\t\t\tmarkerColor: 'red',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tendIconLayer = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(endIconLayer);\n\t\t\t\tthisInstance.showCalculateBtn();\n\t\t\t});\n\n\t\t\tcontainer.on('click', '.indirectPoint', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tdescription = containerPopup.find('.description').html();\n\t\t\t\tvar template = container.find('.indirectTemplate');\n\t\t\t\tvar indirect = template.clone();\n\t\t\t\ttemplate.before(indirect);\n\t\t\t\tindirect.removeClass('indirectTemplate');\n\t\t\t\tindirect.removeClass('d-none');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tdescription = description.replace(/\\<br\\>/gi, ', ');\n\t\t\t\tif (typeof thisInstance.indirectPointLayer[description] !== 'undefined') {\n\t\t\t\t\tmap.removeLayer(thisInstance.indirectPointLayer[description]);\n\t\t\t\t}\n\t\t\t\tvar indirectField = indirect.find('.indirect');\n\t\t\t\tindirectField.val(description);\n\t\t\t\tindirectField.data('lat', coordinates.data('lat'));\n\t\t\t\tindirectField.data('lon', coordinates.data('lon'));\n\t\t\t\tvar marker = L.marker([coordinates.data('lat'), coordinates.data('lon')], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'flag',\n\t\t\t\t\t\tmarkerColor: 'orange',\n\t\t\t\t\t\tprefix: 'fa'\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(containerPopup.html());\n\t\t\t\tthisInstance.indirectPointLayer[description] = L.featureGroup([marker]);\n\t\t\t\tmap.addLayer(thisInstance.indirectPointLayer[description]);\n\t\t\t});\n\t\t\tcontainer.on('click', '.removeIndirect', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tmap.removeLayer(thisInstance.indirectPointLayer[container.find('.indirect').val()]);\n\t\t\t\tcurrentTarget.closest('.indirectContainer').remove();\n\t\t\t});\n\t\t\tcontainer.on('click', '.moveUp', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tvar previousElement = container.prev();\n\t\t\t\tif (!previousElement.hasClass('startContainer')) {\n\t\t\t\t\tpreviousElement.before(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.on('click', '.moveDown', function (e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('.indirectContainer');\n\t\t\t\tvar nextElement = container.next();\n\t\t\t\tif (!nextElement.hasClass('indirectTemplate')) {\n\t\t\t\t\tnextElement.after(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.on('click', '.searchInRadius', function (e) {\n\t\t\t\tif (endIconLayer) {\n\t\t\t\t\tmap.removeLayer(endIconLayer);\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar containerPopup = currentTarget.closest('.leaflet-popup-content');\n\t\t\t\tvar coordinates = containerPopup.find('.coordinates');\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\taction: 'GetMarkers',\n\t\t\t\t\tsrcModule: app.getModuleName(),\n\t\t\t\t\tradius: container.find('.radius').val(),\n\t\t\t\t\tlat: coordinates.data('lat'),\n\t\t\t\t\tlon: coordinates.data('lon'),\n\t\t\t\t\tcache: thisInstance.getCacheParamsToRequest()\n\t\t\t\t};\n\t\t\t\tparams = $.extend(thisInstance.selectedParams, params);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.setMarkers(response.result);\n\t\t\t\t});\n\t\t\t});\n\t\t\tconst descriptionContainer = container.find('.js-description-container');\n\t\t\tcontainer.find('.js-calculate-route').on('click', function () {\n\t\t\t\tlet indirectLon = [];\n\t\t\t\tlet indirectLat = [];\n\t\t\t\tcontainer.find('.indirectContainer:not(.d-none) input.indirect').each(function () {\n\t\t\t\t\tlet currentTarget = $(this);\n\t\t\t\t\tindirectLat.push(currentTarget.data('lat'));\n\t\t\t\t\tindirectLon.push(currentTarget.data('lon'));\n\t\t\t\t});\n\t\t\t\tlet endElement = container.find('.end');\n\t\t\t\tlet startElement = container.find('.start');\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: container,\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\t\t\taction: 'GetRoute',\n\t\t\t\t\t\tflon: startElement.data('lon'),\n\t\t\t\t\t\tflat: startElement.data('lat'),\n\t\t\t\t\t\tilon: indirectLon,\n\t\t\t\t\t\tilat: indirectLat,\n\t\t\t\t\t\ttlon: endElement.data('lon'),\n\t\t\t\t\t\ttlat: endElement.data('lat')\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (thisInstance.routeLayer) {\n\t\t\t\t\t\t\tmap.removeLayer(thisInstance.routeLayer);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet route = L.geoJson(response.result.geoJson);\n\t\t\t\t\t\tthisInstance.routeLayer = L.featureGroup([route]);\n\t\t\t\t\t\tmap.addLayer(thisInstance.routeLayer);\n\t\t\t\t\t\tdescriptionContainer.removeClass('d-none');\n\t\t\t\t\t\tconst instruction = container.find('.js-instruction_block');\n\t\t\t\t\t\tif (response.result.properties.description) {\n\t\t\t\t\t\t\tinstruction.removeClass('d-none');\n\t\t\t\t\t\t\tdescriptionContainer.find('.js-instruction_body').html(response.result.properties.description);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tinstruction.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdescriptionContainer\n\t\t\t\t\t\t\t.find('.distance')\n\t\t\t\t\t\t\t.html(App.Fields.Double.formatToDisplay(response.result.properties.distance));\n\t\t\t\t\t\tdescriptionContainer\n\t\t\t\t\t\t\t.find('.travelTime')\n\t\t\t\t\t\t\t.html(App.Fields.Double.formatToDisplay(response.result.properties.traveltime / 60));\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, title) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitleTrusted: false,\n\t\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_UNEXPECTED_ERROR'),\n\t\t\t\t\t\t\ttext: error,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.on('click', '.setView', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet inputInstance = currentTarget.closest('.input-group').find('.end,.start,.indirect');\n\t\t\t\tlet lat = inputInstance.data('lat');\n\t\t\t\tlet lon = inputInstance.data('lon');\n\t\t\t\tif (!(typeof lat === 'undefined' && typeof lon === 'undefined')) {\n\t\t\t\t\tmap.setView(new L.LatLng(lat, lon), 11);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.registerSearchCompany();\n\t\t\tthis.registerSearchAddress();\n\t\t\tthis.registerMyLocation();\n\t\t},\n\t\tregisterModalView: function (container) {\n\t\t\tlet thisInstance = this;\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: container,\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.container = container;\n\t\t\t$('#mapid').css({\n\t\t\t\theight: $('body').height() - 160\n\t\t\t});\n\t\t\tthis.registerMap([0, 0], 2);\n\t\t\tlet params = {\n\t\t\t\tmodule: 'OpenStreetMap',\n\t\t\t\taction: 'GetMarkers',\n\t\t\t\tsrcModule: app.getModuleName()\n\t\t\t};\n\t\t\tparams = $.extend(this.selectedParams, params);\n\t\t\tthisInstance.registerBasicModal();\n\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tthisInstance.setMarkers(response.result);\n\t\t\t});\n\t\t},\n\t\tgetMarkerPopup: function (label, coordinates) {\n\t\t\treturn `<span class=\"description\">${label}</span>\n\t\t\t<br /><input type=hidden class=\"coordinates\" data-lon=\"${coordinates.lon}\"\n\t\t\tdata-lat=\"${coordinates.lat}\">\n\t\t\t<button class=\"btn btn-success btn-sm p-1 startTrack mr-2\"><span class=\"fas  fa-truck\"></span></button>\n\t\t<button class=\"btn btn-warning btn-sm p-1 indirectPoint mr-2\"><span class=\"fas fa-flag-checkered\"></span></button>\n\t\t<button class=\"btn btn-danger btn-sm p-1 endTrack\"><span class=\"fas fa-flag-checkered\"></span></button>`;\n\t\t},\n\t\tregisterDetailView: function (container) {\n\t\t\tthis.container = container;\n\t\t\tvar coordinates = container.find('#coordinates').val();\n\t\t\tcoordinates = JSON.parse(coordinates);\n\t\t\tvar startCoordinate = [0, 0];\n\t\t\tvar startZoom = 2;\n\t\t\tvar $map = container.find('#mapid');\n\t\t\tif (coordinates.length) {\n\t\t\t\tstartCoordinate = coordinates[0];\n\t\t\t\tstartZoom = 6;\n\t\t\t}\n\t\t\tif ($('.mainBody').length) {\n\t\t\t\tif ($('.mainBody').height() < 1000) {\n\t\t\t\t\t$map.height(\n\t\t\t\t\t\t$('.mainBody').height() -\n\t\t\t\t\t\t\t($('.detailViewTitle').height() + $('.detailViewContainer .related').height() + 25)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$map.height(1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($('.bodyContents').height() < 1000) {\n\t\t\t\t\t$map.height(\n\t\t\t\t\t\t$('.bodyContents').height() -\n\t\t\t\t\t\t\t($('.detailViewTitle').height() + $('.detailViewContainer .related').height() + 25)\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\t$map.height(1000);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar myMap = this.registerMap(startCoordinate, startZoom);\n\t\t\tvar markers = L.markerClusterGroup({\n\t\t\t\tmaxClusterRadius: 10\n\t\t\t});\n\t\t\tcoordinates.forEach(function (e) {\n\t\t\t\tvar marker = L.marker([e.lat, e.lon], {\n\t\t\t\t\ticon: L.AwesomeMarkers.icon({\n\t\t\t\t\t\ticon: 'home',\n\t\t\t\t\t\tmarkerColor: 'blue',\n\t\t\t\t\t\tprefix: 'fa',\n\t\t\t\t\t\ticonColor: e.color\n\t\t\t\t\t})\n\t\t\t\t}).bindPopup(e.label);\n\t\t\t\tmarkers.addLayer(marker);\n\t\t\t});\n\t\t\tmyMap.addLayer(markers);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","mapInstance","selectedParams","layerMarkers","markers","cacheMarkers","polygonLayer","routeLayer","recordsIds","cacheLayerMarkers","indirectPointLayer","setSelectedParams","params","registerMap","startCoordinate","startZoom","attribution","CONFIG","disableBranding","L","map","setView","tileLayer","$","val","maxZoom","addTo","setMarkers","data","thisInstance","markerArray","coordinates","markerClusterGroup","maxClusterRadius","removeLayer","records","forEach","e","push","lat","lon","marker","icon","AwesomeMarkers","markerColor","prefix","iconColor","color","bindPopup","label","addLayer","recordId","coordinatesCenter","error","radius","find","getMarkerPopup","isNumeric","parseInt","circle","fillColor","fillOpacity","featureGroup","Vtiger_Helper_Js","showMessage","title","app","vtranslate","text","type","cache","Object","keys","key","markersCache","indexOf","legendContainer","legend","html","value","length","fitBounds","prop","showCalculateBtn","endAddress","startAddress","parent","removeClass","registerCacheEvents","on","currentTarget","moduleName","is","AppConnector","request","module","action","srcModule","getModuleName","done","response","result","mode","recordIds","JSON","stringify","countRecords","closest","addClass","trigger","count","moduleContainer","getCacheParamsToRequest","each","currentObject","registerSearchCompany","searchValue","searchModule","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","that","currentCategory","_index","item","li","console","log","category","append","_renderItemData","attr","_renderItem","appendTo","ivAutocomplete","delay","minLength","source","_request","currentModule","view","responseAjax","parse","responseDataList","select","_event","id","record","srcModuleName","LatLng","registerSearchAddress","searchBtn","operator","term","requestData","showNotify","fail","_textStatus","_errorThrown","jqXHR","responseJSON","message","animation","countryCode","code","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","radiusValue","extend","registerMyLocation","locationBtn","navigator","geolocation","permissions","query","name","then","state","getCurrentPosition","coords","latitude","longitude","registerBasicModal","layer","description","registerBlockAnimationEvent","groupBy","cacheLayer","startIconLayer","containerPopup","startElement","replace","endIconLayer","endElement","template","indirect","clone","before","indirectField","remove","previousElement","prev","hasClass","nextElement","next","after","descriptionContainer","indirectLon","indirectLat","url","flon","flat","ilon","ilat","tlon","tlat","route","geoJson","instruction","properties","App","Fields","Double","formatToDisplay","distance","traveltime","titleTrusted","textTrusted","inputInstance","registerModalView","css","height","registerDetailView","$map","myMap"],"mappings":"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"}