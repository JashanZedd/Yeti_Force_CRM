{"version":3,"file":"ListPreview.min.js","sources":["ListPreview.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_ListPreview_Js(\"Accounts_ListPreview_Js\", {}, {\n\t/**\n\t * Sets account hierarchy\n\t */\n\tregisterHierarchyRecordCount: function () {\n\t\tconst iframe = $(\".listPreviewframe\");\n\t\tiframe.on('load', function () {\n\t\t\tvar contents = iframe.contents();\n\t\t\tvar hierarchyButton = contents.find(\".detailViewTitle .hierarchy\");\n\t\t\tif (hierarchyButton) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\trecord: contents.find(\"#recordId\").val(),\n\t\t\t\t\tmode: 'getHierarchyCount',\n\t\t\t\t}).done(function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcontents.find(\".detailViewTitle .hierarchy .badge\").html(response.result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Executes event listener.\n\t * @param {jQuery} container - current container for reference.\n\t */\n\tpostLoadListViewRecordsEvents: function (container) {\n\t\tthis._super(container);\n\t\tthis.registerHierarchyRecordCount();\n\t},\n\t/**\n\t * Registers ListPreview's events.\n\t */\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\tthis.registerHierarchyRecordCount();\n\t}\n});\n"],"names":["Vtiger_ListPreview_Js","iframe","$","on","contents","hierarchyButton","find","request","app","getModuleName","val","done","response","success","html","result","container","_super","registerHierarchyRecordCount"],"mappings":";;AAAA;AACA;AAEAA,sBAAsB,yBAAtB,EAAiD,EAAjD,EAAqD;;;;+BAItB,wCAAY;MACnCC,SAASC,EAAE,mBAAF,CAAf;SACOC,EAAP,CAAU,MAAV,EAAkB,YAAY;OACzBC,WAAWH,OAAOG,QAAP,EAAf;OACIC,kBAAkBD,SAASE,IAAT,CAAc,6BAAd,CAAtB;OACID,eAAJ,EAAqB;iBACPE,OAAb,CAAqB;aACZC,IAAIC,aAAJ,EADY;aAEZ,cAFY;aAGZL,SAASE,IAAT,CAAc,WAAd,EAA2BI,GAA3B,EAHY;WAId;KAJP,EAKGC,IALH,CAKQ,UAAUC,QAAV,EAAoB;SACvBA,SAASC,OAAb,EAAsB;eACZP,IAAT,CAAc,oCAAd,EAAoDQ,IAApD,CAAyDF,SAASG,MAAlE;;KAPF;;GAJF;EANmD;;;;;gCA2BrB,uCAAUC,SAAV,EAAqB;OAC9CC,MAAL,CAAYD,SAAZ;OACKE,4BAAL;EA7BmD;;;;iBAkCpC,0BAAY;OACtBD,MAAL;OACKC,4BAAL;;CApCF"}