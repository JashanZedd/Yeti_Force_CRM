{"version":3,"file":"CustomView.min.js","sources":["CustomView.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nclass CustomView {\n\tconstructor(url) {\n\t\tlet progressIndicatorElement = $.progressIndicator();\n\t\tapp.showModalWindow(null, url, () => {\n\t\t\tthis.contentsCotainer = $('.js-filter-modal__container');\n\t\t\tthis.advanceFilterInstance = new Vtiger_ConditionBuilder_Js(\n\t\t\t\tthis.contentsCotainer.find('.js-condition-builder'),\n\t\t\t\tthis.contentsCotainer.find('#sourceModule').val()\n\t\t\t);\n\t\t\tthis.advanceFilterInstance.registerEvents();\n\t\t\t//This will store the columns selection container\n\t\t\tthis.columnSelectElement = false;\n\t\t\tthis.registerEvents();\n\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t});\n\t}\n\n\tloadDateFilterValues() {\n\t\tlet selectedDateFilter = $('#standardDateFilter option:selected');\n\t\tlet currentDate = selectedDateFilter.data('currentdate');\n\t\tlet endDate = selectedDateFilter.data('enddate');\n\t\t$('#standardFilterCurrentDate').val(currentDate);\n\t\t$('#standardFilterEndDate').val(endDate);\n\t}\n\n\t/**\n\t * Function to get the contents container\n\t * @return : jQuery object of contents container\n\t */\n\tgetContentsContainer() {\n\t\tif (this.contentsCotainer == false) {\n\t\t\tthis.contentsCotainer = $('.js-filter-modal__container');\n\t\t}\n\t\treturn this.contentsCotainer;\n\t}\n\n\t/**\n\t * Function to get the view columns selection element\n\t * @return : jQuery object of view columns selection element\n\t */\n\tgetColumnSelectElement() {\n\t\tif (this.columnSelectElement == false) {\n\t\t\tthis.columnSelectElement = $('#viewColumnsSelect');\n\t\t}\n\t\treturn this.columnSelectElement;\n\t}\n\n\t/**\n\t * Function which will get the selected columns\n\t * @return : array of selected values\n\t */\n\tgetSelectedColumns() {\n\t\tlet columnListSelectElement = this.getColumnSelectElement();\n\t\treturn columnListSelectElement.val();\n\t}\n\n\tsaveFilter() {\n\t\tlet aDeferred = $.Deferred();\n\t\tlet formData = $('#CustomView').serializeFormData();\n\t\tAppConnector.request(formData, true)\n\t\t\t.done(function(data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function(error) {\n\t\t\t\taDeferred.reject(error);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\n\tsaveAndViewFilter() {\n\t\tthis.saveFilter().done(function(data) {\n\t\t\tlet response = data.result;\n\t\t\tif (response && response.success) {\n\t\t\t\tlet url;\n\t\t\t\tif (app.getParentModuleName() == 'Settings') {\n\t\t\t\t\turl = 'index.php?module=CustomView&parent=Settings&view=Index&sourceModule=' + $('#sourceModule').val();\n\t\t\t\t} else {\n\t\t\t\t\turl = response.listviewurl;\n\t\t\t\t}\n\t\t\t\twindow.location.href = url;\n\t\t\t} else {\n\t\t\t\t$.unblockUI();\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_DUPLICATE_RECORD'),\n\t\t\t\t\ttext: response.message\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterIconEvents() {\n\t\tthis.getContentsContainer()\n\t\t\t.find('.js-filter-preferences')\n\t\t\t.on('change', '.js-filter-preference', e => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet iconElement = currentTarget.next();\n\t\t\t\tif (currentTarget.prop('checked')) {\n\t\t\t\t\ticonElement.removeClass(iconElement.data('unchecked')).addClass(iconElement.data('check'));\n\t\t\t\t} else {\n\t\t\t\t\ticonElement.removeClass(iconElement.data('check')).addClass(iconElement.data('unchecked'));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tregisterBlockToggleEvent() {\n\t\tconst container = this.getContentsContainer();\n\t\tcontainer.on('click', '.blockHeader', function(e) {\n\t\t\tconst target = $(e.target);\n\t\t\tif (\n\t\t\t\ttarget.is('input') ||\n\t\t\t\ttarget.is('button') ||\n\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst blockHeader = $(e.currentTarget);\n\t\t\tconst blockContents = blockHeader.next();\n\t\t\tconst iconToggle = blockHeader.find('.iconToggle');\n\t\t\tif (blockContents.hasClass('d-none')) {\n\t\t\t\tblockContents.removeClass('d-none');\n\t\t\t\ticonToggle.removeClass(iconToggle.data('hide')).addClass(iconToggle.data('show'));\n\t\t\t} else {\n\t\t\t\tblockContents.addClass('d-none');\n\t\t\t\ticonToggle.removeClass(iconToggle.data('show')).addClass(iconToggle.data('hide'));\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterColorEvent() {\n\t\tconst container = this.getContentsContainer();\n\t\tlet picker = container.find('.js-color-picker');\n\t\tlet pickerField = picker.find('.js-color-picker__field');\n\t\tlet showPicker = () => {\n\t\t\tApp.Fields.Colors.showPicker({\n\t\t\t\tcolor: pickerField.val(),\n\t\t\t\tbgToUpdate: picker.find('.js-color-picker__color'),\n\t\t\t\tfieldToUpdate: pickerField\n\t\t\t});\n\t\t};\n\t\tpicker.on('click', showPicker);\n\t}\n\n\t/**\n\t * Get list of fields to duplicates\n\t * @returns {Array}\n\t */\n\tgetDuplicateFields() {\n\t\tlet fields = [];\n\t\tconst container = this.getContentsContainer();\n\t\tcontainer.find('.js-duplicates-container .js-duplicates-row').each(function() {\n\t\t\tfields.push({\n\t\t\t\tfieldid: $(this)\n\t\t\t\t\t.find('.js-duplicates-field')\n\t\t\t\t\t.val(),\n\t\t\t\tignore: $(this)\n\t\t\t\t\t.find('.js-duplicates-ignore')\n\t\t\t\t\t.is(':checked')\n\t\t\t});\n\t\t});\n\t\treturn fields;\n\t}\n\t/**\n\t * Register events for block \"Find duplicates\"\n\t */\n\tregisterDuplicatesEvents() {\n\t\tconst container = this.getContentsContainer();\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.js-duplicates-container .js-duplicates-field'));\n\t\tcontainer.on('click', '.js-duplicates-remove', function(e) {\n\t\t\t$(this)\n\t\t\t\t.closest('.js-duplicates-row')\n\t\t\t\t.remove();\n\t\t});\n\t\tcontainer.find('.js-duplicate-add-field').on('click', function() {\n\t\t\tlet template = container.find('.js-duplicates-field-template').clone();\n\t\t\ttemplate.removeClass('d-none');\n\t\t\ttemplate.removeClass('js-duplicates-field-template');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(template.find('.js-duplicates-field'));\n\t\t\tcontainer.find('.js-duplicates-container').append(template);\n\t\t});\n\t}\n\tregisterSubmitEvent(select2Element) {\n\t\t$('#CustomView').on('submit', e => {\n\t\t\tlet selectElement = this.getColumnSelectElement();\n\t\t\tif ($('#viewname').val().length > 100) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_VIEWNAME_ALERT')\n\t\t\t\t});\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//Mandatory Fields selection validation\n\t\t\t//Any one Mandatory Field should select while creating custom view.\n\t\t\tlet mandatoryFieldsList = JSON.parse($('#mandatoryFieldsList').val());\n\t\t\tlet selectedOptions = selectElement.val();\n\t\t\tlet mandatoryFieldsMissing = true;\n\t\t\tif (selectedOptions) {\n\t\t\t\tfor (let i = 0; i < selectedOptions.length; i++) {\n\t\t\t\t\tif ($.inArray(selectedOptions[i], mandatoryFieldsList) >= 0) {\n\t\t\t\t\t\tmandatoryFieldsMissing = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (mandatoryFieldsMissing) {\n\t\t\t\tselectElement.validationEngine(\n\t\t\t\t\t'showPrompt',\n\t\t\t\t\tapp.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_MANDATORY_FIELD'),\n\t\t\t\t\t'error',\n\t\t\t\t\t'topLeft',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tselect2Element.validationEngine('hide');\n\t\t\t}\n\t\t\t//Mandatory Fields validation ends\n\t\t\tlet result = $(e.currentTarget).validationEngine('validate');\n\t\t\tif (result == true) {\n\t\t\t\t//handled standard filters saved values.\n\t\t\t\tlet stdfilterlist = {};\n\n\t\t\t\tif (\n\t\t\t\t\t$('#standardFilterCurrentDate').val() != '' &&\n\t\t\t\t\t$('#standardFilterEndDate').val() != '' &&\n\t\t\t\t\t$('select.standardFilterColumn option:selected').val() != 'none'\n\t\t\t\t) {\n\t\t\t\t\tstdfilterlist['columnname'] = $('select.standardFilterColumn option:selected').val();\n\t\t\t\t\tstdfilterlist['stdfilter'] = $('select#standardDateFilter option:selected').val();\n\t\t\t\t\tstdfilterlist['startdate'] = $('#standardFilterCurrentDate').val();\n\t\t\t\t\tstdfilterlist['enddate'] = $('#standardFilterEndDate').val();\n\t\t\t\t\t$('#stdfilterlist').val(JSON.stringify(stdfilterlist));\n\t\t\t\t}\n\t\t\t\t//handled advanced filters saved values.\n\t\t\t\tlet advfilterlist = this.advanceFilterInstance.getConditions();\n\t\t\t\t$('#advfilterlist').val(JSON.stringify(advfilterlist));\n\t\t\t\t$('[name=\"duplicatefields\"]').val(JSON.stringify(this.getDuplicateFields()));\n\t\t\t\t$('input[name=\"columnslist\"]', this.getContentsContainer()).val(\n\t\t\t\t\tJSON.stringify(this.getSelectedColumns())\n\t\t\t\t);\n\t\t\t\tthis.saveAndViewFilter();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tapp.formAlignmentAfterValidation($(e.currentTarget));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Block submit on press enter key\n\t */\n\tregisterDisableSubmitOnEnter() {\n\t\tthis.getContentsContainer()\n\t\t\t.find('#viewname, [name=\"color\"]')\n\t\t\t.keydown(function(e) {\n\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tregisterEvents() {\n\t\tthis.registerIconEvents();\n\t\tnew App.Fields.Text.Editor(this.getContentsContainer().find('.js-editor'));\n\t\tthis.registerBlockToggleEvent();\n\t\tthis.registerColorEvent();\n\t\tthis.registerDuplicatesEvents();\n\t\tlet select2Element = App.Fields.Picklist.showSelect2ElementView(this.getColumnSelectElement());\n\t\tthis.registerSubmitEvent(select2Element);\n\t\t$('.stndrdFilterDateSelect').datepicker();\n\t\t$('#standardDateFilter').on('change', () => {\n\t\t\tthis.loadDateFilterValues();\n\t\t});\n\t\t$('#CustomView').validationEngine(app.validationEngineOptions);\n\t\tthis.registerDisableSubmitOnEnter();\n\t}\n}\n"],"names":["CustomView","url","progressIndicatorElement","$","progressIndicator","showModalWindow","contentsCotainer","advanceFilterInstance","Vtiger_ConditionBuilder_Js","find","val","registerEvents","columnSelectElement","mode","selectedDateFilter","currentDate","data","endDate","columnListSelectElement","getColumnSelectElement","aDeferred","Deferred","formData","serializeFormData","request","done","resolve","fail","error","reject","promise","saveFilter","response","result","success","app","getParentModuleName","listviewurl","location","href","unblockUI","showPnotify","vtranslate","message","getContentsContainer","on","currentTarget","e","iconElement","next","prop","removeClass","addClass","container","target","is","parents","hasClass","blockHeader","blockContents","iconToggle","picker","pickerField","showPicker","Fields","Colors","fields","each","push","Picklist","showSelect2ElementView","closest","remove","template","clone","append","select2Element","selectElement","length","preventDefault","mandatoryFieldsList","JSON","parse","selectedOptions","mandatoryFieldsMissing","i","inArray","validationEngine","stdfilterlist","stringify","advfilterlist","getConditions","getDuplicateFields","getSelectedColumns","saveAndViewFilter","formAlignmentAfterValidation","keydown","keyCode","registerIconEvents","App","Text","Editor","registerBlockToggleEvent","registerColorEvent","registerDuplicatesEvents","registerSubmitEvent","datepicker","loadDateFilterValues","validationEngineOptions","registerDisableSubmitOnEnter"],"mappings":"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"}