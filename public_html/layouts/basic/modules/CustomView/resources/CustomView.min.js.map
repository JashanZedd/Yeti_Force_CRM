{"version":3,"file":"CustomView.min.js","sources":["CustomView.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\nclass CustomView {\n\tconstructor(url) {\n\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t\tapp.showModalWindow(null, url, () => {\n\t\t\tthis.modalContainer = $('.js-filter-modal__container');\n\t\t\tthis.advanceFilterInstance = new Vtiger_ConditionBuilder_Js(\n\t\t\t\tthis.modalContainer.find('.js-condition-builder-view .js-condition-builder'),\n\t\t\t\tthis.modalContainer.find('#sourceModule').val()\n\t\t\t);\n\t\t\tthis.advanceFilterInstance.registerEvents();\n\t\t\tCustomView.registerAdvancedConditionsEvents(this.modalContainer);\n\n\t\t\t//This will store the columns selection container\n\t\t\tthis.columnSelectElement = false;\n\t\t\tthis.registerEvents();\n\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t});\n\t}\n\n\t/** @type {Vtiger_ConditionBuilder_Js} Condition builder object */\n\tstatic advancedConditionsBuilder;\n\n\tloadDateFilterValues() {\n\t\tlet selectedDateFilter = $('#standardDateFilter option:selected');\n\t\tlet currentDate = selectedDateFilter.data('currentdate');\n\t\tlet endDate = selectedDateFilter.data('enddate');\n\t\t$('#standardFilterCurrentDate').val(currentDate);\n\t\t$('#standardFilterEndDate').val(endDate);\n\t}\n\n\t/**\n\t * Function to get the contents container\n\t * @return : jQuery object of contents container\n\t */\n\tgetContentsContainer() {\n\t\tif (!this.modalContainer) {\n\t\t\tthis.modalContainer = $('.js-filter-modal__container');\n\t\t}\n\t\treturn this.modalContainer;\n\t}\n\n\t/**\n\t * Function to get the view columns selection element\n\t * @return : jQuery object of view columns selection element\n\t */\n\tgetColumnSelectElement() {\n\t\tif (!this.columnSelectElement) {\n\t\t\tthis.columnSelectElement = $('#viewColumnsSelect');\n\t\t}\n\t\treturn this.columnSelectElement;\n\t}\n\n\t/**\n\t * Function which will get the selected columns\n\t * @return : array of selected values\n\t */\n\tgetSelectedColumns() {\n\t\tlet columnListSelectElement = this.getColumnSelectElement();\n\t\treturn columnListSelectElement.val();\n\t}\n\t/**\n\t * Get custom labels\n\t * @returns array\n\t */\n\tgetCustomLabels() {\n\t\tlet customFieldNames = {};\n\t\tthis.getContentsContainer()\n\t\t\t.find('.js-short-label')\n\t\t\t.each(function () {\n\t\t\t\tcustomFieldNames[$(this).attr('data-field-value')] = $(this).val();\n\t\t\t});\n\t\treturn customFieldNames;\n\t}\n\n\tsaveFilter() {\n\t\tlet aDeferred = $.Deferred();\n\t\tlet formData = $('#CustomView').serializeFormData();\n\t\tAppConnector.request(formData, true)\n\t\t\t.done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t})\n\t\t\t.fail(function (error) {\n\t\t\t\taDeferred.reject(error);\n\t\t\t});\n\t\treturn aDeferred.promise();\n\t}\n\n\tsaveAndViewFilter() {\n\t\tthis.saveFilter()\n\t\t\t.done(function (data) {\n\t\t\t\tlet response = data.result;\n\t\t\t\tif (response && response.success) {\n\t\t\t\t\tlet url;\n\t\t\t\t\tif (app.getParentModuleName() == 'Settings') {\n\t\t\t\t\t\turl = 'index.php?module=CustomView&parent=Settings&view=Index&sourceModule=' + $('#sourceModule').val();\n\t\t\t\t\t} else {\n\t\t\t\t\t\turl = response.listviewurl;\n\t\t\t\t\t}\n\t\t\t\t\twindow.location.href = url;\n\t\t\t\t} else {\n\t\t\t\t\t$.unblockUI();\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_DUPLICATE_RECORD'),\n\t\t\t\t\t\ttext: response.message,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.fail(function (error) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: error,\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tregisterIconEvents() {\n\t\tthis.getContentsContainer()\n\t\t\t.find('.js-filter-preferences')\n\t\t\t.on('change', '.js-filter-preference', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet iconElement = currentTarget.next();\n\t\t\t\tif (currentTarget.prop('checked')) {\n\t\t\t\t\ticonElement.removeClass(iconElement.data('unchecked')).addClass(iconElement.data('check'));\n\t\t\t\t} else {\n\t\t\t\t\ticonElement.removeClass(iconElement.data('check')).addClass(iconElement.data('unchecked'));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tregisterColorEvent() {\n\t\tconst container = this.getContentsContainer();\n\t\tlet picker = container.find('.js-color-picker');\n\t\tlet pickerField = picker.find('.js-color-picker__field');\n\t\tlet showPicker = () => {\n\t\t\tApp.Fields.Colors.showPicker({\n\t\t\t\tcolor: pickerField.val(),\n\t\t\t\tbgToUpdate: picker.find('.js-color-picker__color'),\n\t\t\t\tfieldToUpdate: pickerField\n\t\t\t});\n\t\t};\n\t\tpicker.on('click', showPicker);\n\t}\n\n\t/**\n\t * Get list of fields to duplicates\n\t * @returns {Array}\n\t */\n\tgetDuplicateFields() {\n\t\tlet fields = [];\n\t\tconst container = this.getContentsContainer();\n\t\tcontainer.find('.js-duplicates-container .js-duplicates-row').each(function () {\n\t\t\tfields.push({\n\t\t\t\tfieldid: $(this).find('.js-duplicates-field').val(),\n\t\t\t\tignore: $(this).find('.js-duplicates-ignore').is(':checked')\n\t\t\t});\n\t\t});\n\t\treturn fields;\n\t}\n\t/**\n\t * Register events for block \"Find duplicates\"\n\t */\n\tregisterDuplicatesEvents() {\n\t\tconst container = this.getContentsContainer();\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.js-duplicates-container .js-duplicates-field'));\n\t\tcontainer.on('click', '.js-duplicates-remove', function () {\n\t\t\t$(this).closest('.js-duplicates-row').remove();\n\t\t});\n\t\tcontainer.find('.js-duplicate-add-field').on('click', function () {\n\t\t\tlet template = container.find('.js-duplicates-field-template').clone();\n\t\t\ttemplate.removeClass('d-none');\n\t\t\ttemplate.removeClass('js-duplicates-field-template');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(template.find('.js-duplicates-field'));\n\t\t\tcontainer.find('.js-duplicates-container').append(template);\n\t\t});\n\t}\n\tregisterSubmitEvent(select2Element) {\n\t\t$('#CustomView').on('submit', (e) => {\n\t\t\tconst form = $(e.currentTarget);\n\t\t\tlet selectElement = this.getColumnSelectElement();\n\t\t\tif ($('#viewname').val().length > 100) {\n\t\t\t\tapp.showNotify({\n\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\ttext: app.vtranslate('JS_VIEWNAME_ALERT'),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//Mandatory Fields selection validation\n\t\t\t//Any one Mandatory Field should select while creating custom view.\n\t\t\tlet mandatoryFieldsList = JSON.parse($('#mandatoryFieldsList').val());\n\t\t\tlet selectedOptions = selectElement.val();\n\t\t\tlet mandatoryFieldsMissing = true;\n\t\t\tif (selectedOptions) {\n\t\t\t\tmandatoryFieldsMissing = selectedOptions.filter((value) => mandatoryFieldsList.includes(value)).length <= 0;\n\t\t\t}\n\t\t\tif (mandatoryFieldsMissing) {\n\t\t\t\tselectElement.validationEngine(\n\t\t\t\t\t'showPrompt',\n\t\t\t\t\tapp.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_MANDATORY_FIELD'),\n\t\t\t\t\t'error',\n\t\t\t\t\t'topLeft',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tselect2Element.validationEngine('hide');\n\t\t\t}\n\t\t\t//Mandatory Fields validation ends\n\t\t\tlet result = form.validationEngine('validate');\n\t\t\tif (result) {\n\t\t\t\t//handled standard filters saved values.\n\t\t\t\tlet stdfilterlist = {};\n\n\t\t\t\tif (\n\t\t\t\t\t$('#standardFilterCurrentDate').val() != '' &&\n\t\t\t\t\t$('#standardFilterEndDate').val() != '' &&\n\t\t\t\t\t$('select.standardFilterColumn option:selected').val() != 'none'\n\t\t\t\t) {\n\t\t\t\t\tstdfilterlist['columnname'] = $('select.standardFilterColumn option:selected').val();\n\t\t\t\t\tstdfilterlist['stdfilter'] = $('select#standardDateFilter option:selected').val();\n\t\t\t\t\tstdfilterlist['startdate'] = $('#standardFilterCurrentDate').val();\n\t\t\t\t\tstdfilterlist['enddate'] = $('#standardFilterEndDate').val();\n\t\t\t\t\t$('#stdfilterlist').val(JSON.stringify(stdfilterlist));\n\t\t\t\t}\n\t\t\t\t//handled advanced filters saved values.\n\t\t\t\tlet contentContainer = this.getContentsContainer();\n\t\t\t\t$('#advfilterlist').val(JSON.stringify(this.advanceFilterInstance.getConditions()));\n\t\t\t\tform.find('#advancedConditions').val(JSON.stringify(CustomView.getAdvancedConditions(form)));\n\t\t\t\t$('[name=\"duplicatefields\"]').val(JSON.stringify(this.getDuplicateFields()));\n\t\t\t\t$('input[name=\"columnslist\"]', contentContainer).val(JSON.stringify(this.getSelectedColumns()));\n\t\t\t\tcontentContainer.find('.js-custom-field-names').val(JSON.stringify(this.getCustomLabels()));\n\n\t\t\t\tthis.saveAndViewFilter();\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tapp.formAlignmentAfterValidation($(e.currentTarget));\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Block submit on press enter key\n\t */\n\tregisterDisableSubmitOnEnter() {\n\t\tthis.getContentsContainer()\n\t\t\t.find('#viewname, [name=\"color\"]')\n\t\t\t.on('keydown', (e) => {\n\t\t\t\tif (e.key === 'Enter') {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t/**\n\t * Function to register the advanced conditions events for customview\n\t * @param {jQuery} listViewContainer\n\t */\n\tstatic registerCustomViewAdvCondEvents(listViewContainer) {\n\t\tlistViewContainer.on('click', '.js-custom-view-adv-cond-modal', () => {\n\t\t\tconst customViewAdvCond = listViewContainer.find('.js-custom-view-adv-cond');\n\t\t\tlet advancedConditions = customViewAdvCond.val();\n\t\t\tif (advancedConditions) {\n\t\t\t\tadvancedConditions = JSON.parse(advancedConditions);\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'CustomViewAdvCondModal',\n\t\t\t\tadvancedConditions: advancedConditions\n\t\t\t})\n\t\t\t\t.done((data) => {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\t\tApp.Tools.Form.registerBlockToggle(modalContainer);\n\t\t\t\t\t\t\tthis.registerAdvancedConditionsEvents(modalContainer);\n\t\t\t\t\t\t\tmodalContainer.find('[name=\"saveButton\"]').on('click', () => {\n\t\t\t\t\t\t\t\tcustomViewAdvCond.val(JSON.stringify(this.getAdvancedConditions(modalContainer)));\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tif (typeof app.pageController.getListViewRecords !== 'undefined') {\n\t\t\t\t\t\t\t\t\tapp.pageController.getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail((_textStatus, errorThrown) => {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttext: errorThrown,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t});\n\t}\n\t/**\n\t * Function to register the advanced conditions events for custom view\n\t * @param {jQuery} container\n\t */\n\tstatic registerAdvancedConditionsEvents(container) {\n\t\tconst self = this;\n\t\tconst builder = container.find('.js-adv-condition-builder-view');\n\t\tconst relationSelect = container.find('.js-relation-select');\n\t\tif (relationSelect.val() != 0) {\n\t\t\tthis.advancedConditionsBuilder = new Vtiger_ConditionBuilder_Js(\n\t\t\t\tbuilder.find('.js-condition-builder'),\n\t\t\t\trelationSelect.find('option:selected').data('module')\n\t\t\t);\n\t\t\tthis.advancedConditionsBuilder.registerEvents();\n\t\t}\n\t\trelationSelect.on('change', function () {\n\t\t\tconst moduleName = $(this).find('option:selected').data('module');\n\t\t\tbuilder.html('');\n\t\t\tdelete self.advancedConditionsBuilder;\n\t\t\tif (moduleName) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'ConditionBuilder',\n\t\t\t\t\tmode: 'builder',\n\t\t\t\t\tsourceModuleName: moduleName\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tbuilder.html(data);\n\t\t\t\t\tself.advancedConditionsBuilder = new Vtiger_ConditionBuilder_Js(\n\t\t\t\t\t\tbuilder.find('.js-condition-builder'),\n\t\t\t\t\t\tmoduleName\n\t\t\t\t\t);\n\t\t\t\t\tself.advancedConditionsBuilder.registerEvents();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t/**\n\t * Function to register the advanced conditions events for custom view\n\t * @param {jQuery} container\n\t * @return {object}\n\t */\n\tstatic getAdvancedConditions(container) {\n\t\tconst advancedConditions = {\n\t\t\trelationId: container.find('.js-relation-select').val()\n\t\t};\n\t\tcontainer.find('.js-relation-checkbox:checked').each(function () {\n\t\t\tif (typeof advancedConditions.relationColumns === 'undefined') {\n\t\t\t\tadvancedConditions.relationColumns = [];\n\t\t\t}\n\t\t\tadvancedConditions.relationColumns.push($(this).val());\n\t\t});\n\t\tif (this.advancedConditionsBuilder) {\n\t\t\tadvancedConditions.relationConditions = this.advancedConditionsBuilder.getConditions();\n\t\t}\n\t\treturn advancedConditions;\n\t}\n\t/**\n\t * Register change selected columns\n\t */\n\tregisterChangeSelectedColumns() {\n\t\tthis.container.find('.js-view-columns-select').on('change', () => {\n\t\t\tthis.registerAppendCustomLabels();\n\t\t});\n\t}\n\t/**\n\t *\tRegister append custom labels\n\t */\n\tregisterAppendCustomLabels() {\n\t\tlet shorterNamesContainer = this.container.find('.js-custom-name-fields');\n\t\tlet selectedColumns = this.container\n\t\t\t.find('.js-view-columns-select option:selected')\n\t\t\t.toArray()\n\t\t\t.map((item) => ({\n\t\t\t\ttext: item.getAttribute('data-field-label'),\n\t\t\t\tvalue: item.value,\n\t\t\t\tcustomLabel: item.getAttribute('data-custom-label') || ''\n\t\t\t}));\n\t\tshorterNamesContainer.empty();\n\t\tlet newCustomLabelElement = '';\n\t\tlet customLabelElement = '';\n\t\tlet customLabelValue = '';\n\t\tlet inputContainerElement = '';\n\t\tlet inputElement = '';\n\t\t$.each(selectedColumns, function (_index, element) {\n\t\t\tnewCustomLabelElement = document.createElement('div');\n\t\t\tnewCustomLabelElement.setAttribute('class', 'd-flex mb-1');\n\n\t\t\tcustomLabelElement = document.createElement('div');\n\t\t\tcustomLabelElement.setAttribute('class', 'col-form-label col-md-2 pl-0');\n\t\t\tcustomLabelValue = document.createTextNode(element.text);\n\t\t\tcustomLabelElement.appendChild(customLabelValue);\n\t\t\tnewCustomLabelElement.appendChild(customLabelElement);\n\n\t\t\tinputContainerElement = document.createElement('div');\n\t\t\tinputContainerElement.setAttribute('class', 'col-md-4');\n\n\t\t\tinputElement = document.createElement('input');\n\t\t\tinputElement.setAttribute('type', 'text');\n\t\t\tinputElement.setAttribute('class', 'form-control js-short-label');\n\t\t\tinputElement.setAttribute('data-field-value', element.value);\n\t\t\tinputElement.setAttribute(\n\t\t\t\t'data-validation-engine',\n\t\t\t\t'validate[maxSize[50], funcCall[Vtiger_Base_Validator_Js.invokeValidation]]'\n\t\t\t);\n\t\t\tinputElement.setAttribute('data-validator', '[{\"name\":\"FieldLabel\"}]');\n\t\t\tinputElement.setAttribute('value', element.customLabel);\n\n\t\t\tinputContainerElement.appendChild(inputElement);\n\t\t\tnewCustomLabelElement.appendChild(inputContainerElement);\n\t\t\tshorterNamesContainer.append(newCustomLabelElement);\n\t\t});\n\t}\n\t/**\n\t * Register events\n\t */\n\tregisterEvents() {\n\t\tthis.container = this.getContentsContainer();\n\t\tthis.registerIconEvents();\n\t\tApp.Fields.Tree.register(this.getContentsContainer());\n\t\tApp.Tools.Form.registerBlockToggle(this.getContentsContainer());\n\t\tthis.registerColorEvent();\n\t\tthis.registerDuplicatesEvents();\n\t\tconst select2Element = App.Fields.Picklist.showSelect2ElementView(this.getColumnSelectElement());\n\t\tthis.registerSubmitEvent(select2Element);\n\t\t$('.stndrdFilterDateSelect').datepicker();\n\t\t$('#standardDateFilter').on('change', () => {\n\t\t\tthis.loadDateFilterValues();\n\t\t});\n\t\t$('#CustomView').validationEngine(app.validationEngineOptions);\n\t\tthis.registerDisableSubmitOnEnter();\n\t\tthis.registerChangeSelectedColumns();\n\t\tthis.registerAppendCustomLabels();\n\t}\n}\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldLabel_Validator_Js',\n\t{\n\t\t/** @inheritdoc */\n\t\tinvokeValidation: function (field, _rules, _i, _options) {\n\t\t\tlet instance = new Vtiger_FieldLabel_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tlet response = instance.validate();\n\t\t\tif (response !== true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/** @inheritdoc */\n\t\tvalidate: function () {\n\t\t\treturn this.validateValue(this.getFieldValue());\n\t\t},\n\t\t/** @inheritdoc */\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tlet specialChars = /[&\\<\\>\\:\\'\\\"\\,]/;\n\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\tlet errorInfo = app.vtranslate('JS_SPECIAL_CHARACTERS') + ' & < > \\' \" : , ' + app.vtranslate('JS_NOT_ALLOWED');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n"],"names":["url","$","progressIndicator","position","blockInfo","enabled","app","showModalWindow","modalContainer","advanceFilterInstance","Vtiger_ConditionBuilder_Js","find","val","registerEvents","CustomView","registerAdvancedConditionsEvents","columnSelectElement","progressIndicatorElement","mode","selectedDateFilter","currentDate","data","endDate","columnListSelectElement","getColumnSelectElement","getContentsContainer","each","customFieldNames","attr","aDeferred","Deferred","formData","serializeFormData","request","done","resolve","fail","error","reject","promise","saveFilter","response","result","success","getParentModuleName","listviewurl","window","location","href","unblockUI","showNotify","title","vtranslate","text","message","type","on","e","currentTarget","iconElement","next","prop","removeClass","addClass","picker","container","pickerField","App","Fields","Colors","showPicker","color","bgToUpdate","fieldToUpdate","fields","push","fieldid","ignore","is","Picklist","showSelect2ElementView","closest","remove","clone","template","append","select2Element","selectElement","length","preventDefault","JSON","parse","selectedOptions","mandatoryFieldsMissing","filter","value","includes","validationEngine","form","stdfilterlist","stringify","getConditions","getAdvancedConditions","getDuplicateFields","contentContainer","getSelectedColumns","getCustomLabels","saveAndViewFilter","formAlignmentAfterValidation","key","registerAppendCustomLabels","shorterNamesContainer","selectedColumns","toArray","map","item","getAttribute","customLabel","empty","customLabelElement","customLabelValue","inputContainerElement","inputElement","_index","element","newCustomLabelElement","document","createElement","setAttribute","createTextNode","appendChild","registerIconEvents","Tree","register","Tools","Form","registerBlockToggle","registerColorEvent","registerDuplicatesEvents","registerSubmitEvent","datepicker","loadDateFilterValues","validationEngineOptions","registerDisableSubmitOnEnter","registerChangeSelectedColumns","listViewContainer","advancedConditions","customViewAdvCond","AppConnector","module","getModuleName","view","hideModalWindow","pageController","getListViewRecords","_textStatus","errorThrown","textTrusted","self","builder","relationSelect","advancedConditionsBuilder","moduleName","html","parent","sourceModuleName","relationId","relationColumns","relationConditions","Vtiger_Base_Validator_Js","invokeValidation","field","instance","setElement","validate","getError","validateValue","getFieldValue","fieldValue","test","setError","errorInfo"],"mappings":"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"}