{"version":3,"file":"InRelation.min.js","sources":["InRelation.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery(document).ready(function ($) {\n\tif (window.loadInRelationTomeControl == undefined) {\n\t\tjQuery.Class(\"OSSTimeControl_Calendar_Js\", {}, {\n\t\t\tchart: false,\n\t\t\tloadChart: function () {\n\t\t\t\tvar data = $('.sumaryRelatedTimeControl .widgetData').val();\n\t\t\t\tif (data == undefined || data == '') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar jdata = JSON.parse(data);\n\t\t\t\tif (jdata.datasets.length == 0 || jdata.datasets[0].data.length == 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tjdata.datasets[0].datalabels = {\n\t\t\t\t\tfont: {\n\t\t\t\t\t\tweight: 'bold'\n\t\t\t\t\t},\n\t\t\t\t\tcolor: 'white',\n\t\t\t\t\tanchor: 'end',\n\t\t\t\t\talign: 'start',\n\t\t\t\t};\n\n\t\t\t\tnew Chart($(this.chart).find(\"canvas\")[0].getContext(\"2d\"), {\n\t\t\t\t\ttype: 'bar',\n\t\t\t\t\tdata: jdata,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\ttooltips: {\n\t\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\t\tlabelColor: function (tooltipItem, chart) {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tborderColor: jdata.datasets[0].backgroundColor[tooltipItem['index']],\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: jdata.datasets[0].borderColor[tooltipItem['index']]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttitle: function ([tooltipItem], chart) {\n\t\t\t\t\t\t\t\t\treturn jdata.datasets[0].tooltips[tooltipItem['index']];\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlabel: function (tooltipItem, chart) {\n\t\t\t\t\t\t\t\t\treturn jdata.datasets[0].data[tooltipItem['index']];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlegend: {\n\t\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\tposition: 'top',\n\t\t\t\t\t\t\ttext: jdata.title,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmaintainAspectRatio: false,\n\t\t\t\t\t\tscales: {\n\t\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\tbeginAtZero: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tregisterSwitch: function () {\n\t\t\t\t$(\".switchChartContainer\").on('click', function () {\n\t\t\t\t\tvar chartContainer = $('.chartContainer')[0];\n\t\t\t\t\tif ($(chartContainer).is(':visible')) {\n\t\t\t\t\t\t$(this).find('.fas').removeClass('fa-chevron-up').addClass('fa-chevron-down');\n\t\t\t\t\t\t$(\".chartContainer\").hide();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(this).find('.fas').removeClass('fa-chevron-down').addClass('fa-chevron-up');\n\t\t\t\t\t\t$(\".chartContainer\").show();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tregisterEvents: function () {\n\t\t\t\tthis.chart = $('.sumaryRelatedTimeControl .chartBlock');\n\t\t\t\tthis.loadChart();\n\t\t\t\tthis.registerSwitch();\n\t\t\t}\n\t\t});\n\t}\n\tvar instance = new OSSTimeControl_Calendar_Js();\n\tinstance.registerEvents();\n\twindow.loadInRelationTomeControl = true;\n});\n"],"names":["jQuery","document","ready","$","window","loadInRelationTomeControl","undefined","Class","data","val","jdata","JSON","parse","datasets","length","datalabels","Chart","chart","find","getContext","tooltipItem","backgroundColor","borderColor","tooltips","title","on","chartContainer","is","removeClass","addClass","hide","show","loadChart","registerSwitch","instance","OSSTimeControl_Calendar_Js","registerEvents"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEAA,OAAOC,QAAP,EAAiBC,KAAjB,CAAuB,UAAUC,CAAV,EAAa;KAC/BC,OAAOC,yBAAP,IAAoCC,SAAxC,EAAmD;SAC3CC,KAAP,CAAa,4BAAb,EAA2C,EAA3C,EAA+C;UACvC,KADuC;cAEnC,qBAAY;QAClBC,OAAOL,EAAE,uCAAF,EAA2CM,GAA3C,EAAX;QACID,QAAQF,SAAR,IAAqBE,QAAQ,EAAjC,EAAqC;YAC7B,KAAP;;QAEGE,QAAQC,KAAKC,KAAL,CAAWJ,IAAX,CAAZ;QACIE,MAAMG,QAAN,CAAeC,MAAf,IAAyB,CAAzB,IAA8BJ,MAAMG,QAAN,CAAe,CAAf,EAAkBL,IAAlB,CAAuBM,MAAvB,IAAiC,CAAnE,EAAsE;YAC9D,KAAP;;;UAGKD,QAAN,CAAe,CAAf,EAAkBE,UAAlB,GAA+B;WACxB;cACG;MAFqB;YAIvB,OAJuB;aAKtB,KALsB;YAMvB;KANR;;QASIC,KAAJ,CAAUb,EAAE,KAAKc,KAAP,EAAcC,IAAd,CAAmB,QAAnB,EAA6B,CAA7B,EAAgCC,UAAhC,CAA2C,IAA3C,CAAV,EAA4D;WACrD,KADqD;WAErDT,KAFqD;cAGlD;gBACE;kBACE;oBACE,oBAAUU,WAAV,EAAuBH,KAAvB,EAA8B;gBAClC;uBACOP,MAAMG,QAAN,CAAe,CAAf,EAAkBQ,eAAlB,CAAkCD,YAAY,OAAZ,CAAlC,CADP;2BAEWV,MAAMG,QAAN,CAAe,CAAf,EAAkBS,WAAlB,CAA8BF,YAAY,OAAZ,CAA9B;UAFlB;SAFS;eAOH,qBAAyBH,KAAzB,EAAgC;;aAArBG,WAAqB;;gBAC/BV,MAAMG,QAAN,CAAe,CAAf,EAAkBU,QAAlB,CAA2BH,YAAY,OAAZ,CAA3B,CAAP;SARS;eAUH,eAAUA,WAAV,EAAuBH,KAAvB,EAA8B;gBAC7BP,MAAMG,QAAN,CAAe,CAAf,EAAkBL,IAAlB,CAAuBY,YAAY,OAAZ,CAAvB,CAAP;;;OAbK;cAiBA;gBACE;OAlBF;aAoBD;gBACG,IADH;iBAEI,KAFJ;aAGAV,MAAMc;OAvBL;2BAyBa,KAzBb;cA0BA;cACA,CAAC;eACA;sBACO;;QAFR;;;KA9BV;IArB6C;mBA4D9B,0BAAY;MACzB,uBAAF,EAA2BC,EAA3B,CAA8B,OAA9B,EAAuC,YAAY;SAC9CC,iBAAiBvB,EAAE,iBAAF,EAAqB,CAArB,CAArB;SACIA,EAAEuB,cAAF,EAAkBC,EAAlB,CAAqB,UAArB,CAAJ,EAAsC;QACnC,IAAF,EAAQT,IAAR,CAAa,MAAb,EAAqBU,WAArB,CAAiC,eAAjC,EAAkDC,QAAlD,CAA2D,iBAA3D;QACE,iBAAF,EAAqBC,IAArB;MAFD,MAGO;QACJ,IAAF,EAAQZ,IAAR,CAAa,MAAb,EAAqBU,WAArB,CAAiC,iBAAjC,EAAoDC,QAApD,CAA6D,eAA7D;QACE,iBAAF,EAAqBE,IAArB;;KAPF;IA7D6C;mBAwE9B,0BAAY;SACtBd,KAAL,GAAad,EAAE,uCAAF,CAAb;SACK6B,SAAL;SACKC,cAAL;;GA3EF;;KA+EGC,WAAW,IAAIC,0BAAJ,EAAf;UACSC,cAAT;QACO/B,yBAAP,GAAmC,IAAnC;CAnFD"}