{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_List_Js(\n\t'Campaigns_List_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Function to mark selected records\n\t\t */\n\t\tmarkSelectedRecords: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar selectedIds = this.readSelectedIds();\n\t\t\tif (selectedIds != '') {\n\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t});\n\t\t\t\t\tjQuery('#deSelectAllMsgDiv').show();\n\t\t\t\t\tvar excludedIds = jQuery('[name=\"excludedIds\"]').data('excludedIds');\n\t\t\t\t\tif (excludedIds != '') {\n\t\t\t\t\t\tjQuery('#listViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\t\tjQuery(element)\n\t\t\t\t\t\t\t\t\t.prop('checked', false)\n\t\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t\t.removeClass('highlightBackgroundColor');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('.listViewEntriesCheckBox').each(function(index, element) {\n\t\t\t\t\t\tif (jQuery.inArray(jQuery(element).val(), selectedIds) != -1) {\n\t\t\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t\t\t.prop('checked', true)\n\t\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t\t.addClass('highlightBackgroundColor');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.checkSelectAll();\n\t\t\t}\n\t\t},\n\n\t\tgetRecordsCount: function() {\n\t\t\tif (app.getViewName() != 'Detail') {\n\t\t\t\treturn this._super();\n\t\t\t}\n\t\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar recordCountVal = jQuery('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tvar count = '';\n\t\t\t\tvar cvId = jQuery('#customFilter').val();\n\t\t\t\tvar module = app.getModuleName();\n\t\t\t\tvar parent = app.getParentModuleName();\n\t\t\t\tvar relatedModuleName = jQuery('[name=\"relatedModuleName\"]').val();\n\t\t\t\tvar recordId = app.getRecordId();\n\t\t\t\tlet selectedTab = detailInstance.getSelectedTab();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: module,\n\t\t\t\t\tparent: parent,\n\t\t\t\t\taction: 'DetailAjax',\n\t\t\t\t\tviewname: cvId,\n\t\t\t\t\tmode: 'getRecordsCount',\n\t\t\t\t\trelatedModule: relatedModuleName,\n\t\t\t\t\trecord: recordId,\n\t\t\t\t\ttab_label: selectedTab.data('labelKey'),\n\t\t\t\t\trelationId: selectedTab.data('relationId')\n\t\t\t\t}).done(function(data) {\n\t\t\t\t\tjQuery('#recordsCount').val(data['result']['count']);\n\t\t\t\t\tcount = data['result']['count'];\n\t\t\t\t\taDeferred.resolve(count);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function() {\n\t\t\tif (app.getViewName() != 'Detail') {\n\t\t\t\tthis._super();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t}\n\t}\n);\n"],"names":["Vtiger_List_Js","thisInstance","selectedIds","readSelectedIds","each","index","element","prop","closest","addClass","show","excludedIds","jQuery","data","inArray","val","removeClass","checkSelectAll","app","getViewName","_super","detailInstance","Vtiger_Detail_Js","getInstance","aDeferred","Deferred","recordCountVal","resolve","count","cvId","module","getModuleName","parent","getParentModuleName","relatedModuleName","recordId","getRecordId","selectedTab","getSelectedTab","request","done","promise","registerMainCheckBoxClickEvent","registerCheckBoxClickEvent","registerSelectAllClickEvent","registerDeselectAllClickEvent"],"mappings":";;AAAA;;;;;;;;AAQA;AAEAA,eACC,mBADD,EAEC,EAFD,EAGC;;;;sBAIsB,+BAAW;MAC3BC,eAAe,IAAnB;MACIC,cAAc,KAAKC,eAAL,EAAlB;MACID,eAAe,EAAnB,EAAuB;OAClBA,eAAe,KAAnB,EAA0B;WAClB,0BAAP,EAAmCE,IAAnC,CAAwC,UAASC,KAAT,EAAgBC,OAAhB,EAAyB;YACzD,IAAP,EACEC,IADF,CACO,SADP,EACkB,IADlB,EAEEC,OAFF,CAEU,IAFV,EAGEC,QAHF,CAGW,0BAHX;KADD;WAMO,oBAAP,EAA6BC,IAA7B;QACIC,cAAcC,OAAO,sBAAP,EAA+BC,IAA/B,CAAoC,aAApC,CAAlB;QACIF,eAAe,EAAnB,EAAuB;YACf,8BAAP,EAAuCJ,IAAvC,CAA4C,SAA5C,EAAuD,KAAvD;YACO,0BAAP,EAAmCH,IAAnC,CAAwC,UAASC,KAAT,EAAgBC,OAAhB,EAAyB;UAC5DM,OAAOE,OAAP,CAAeF,OAAON,OAAP,EAAgBS,GAAhB,EAAf,EAAsCJ,WAAtC,KAAsD,CAAC,CAA3D,EAA8D;cACtDL,OAAP,EACEC,IADF,CACO,SADP,EACkB,KADlB,EAEEC,OAFF,CAEU,IAFV,EAGEQ,WAHF,CAGc,0BAHd;;MAFF;;IAXF,MAoBO;WACC,0BAAP,EAAmCZ,IAAnC,CAAwC,UAASC,KAAT,EAAgBC,OAAhB,EAAyB;SAC5DM,OAAOE,OAAP,CAAeF,OAAON,OAAP,EAAgBS,GAAhB,EAAf,EAAsCb,WAAtC,KAAsD,CAAC,CAA3D,EAA8D;aACtD,IAAP,EACEK,IADF,CACO,SADP,EACkB,IADlB,EAEEC,OAFF,CAEU,IAFV,EAGEC,QAHF,CAGW,0BAHX;;KAFF;;gBASYQ,cAAb;;EAtCH;;kBA0CkB,2BAAW;MACvBC,IAAIC,WAAJ,MAAqB,QAAzB,EAAmC;UAC3B,KAAKC,MAAL,EAAP;;MAEGC,iBAAiBC,iBAAiBC,WAAjB,EAArB;MACIC,YAAYZ,OAAOa,QAAP,EAAhB;MACIC,iBAAiBd,OAAO,eAAP,EAAwBG,GAAxB,EAArB;MACIW,kBAAkB,EAAtB,EAA0B;aACfC,OAAV,CAAkBD,cAAlB;GADD,MAEO;OACFE,QAAQ,EAAZ;OACIC,OAAOjB,OAAO,eAAP,EAAwBG,GAAxB,EAAX;OACIe,SAASZ,IAAIa,aAAJ,EAAb;OACIC,SAASd,IAAIe,mBAAJ,EAAb;OACIC,oBAAoBtB,OAAO,4BAAP,EAAqCG,GAArC,EAAxB;OACIoB,WAAWjB,IAAIkB,WAAJ,EAAf;OACIC,cAAchB,eAAeiB,cAAf,EAAlB;gBACaC,OAAb,CAAqB;YACZT,MADY;YAEZE,MAFY;YAGZ,YAHY;cAIVH,IAJU;UAKd,iBALc;mBAMLK,iBANK;YAOZC,QAPY;eAQTE,YAAYxB,IAAZ,CAAiB,UAAjB,CARS;gBASRwB,YAAYxB,IAAZ,CAAiB,YAAjB;IATb,EAUG2B,IAVH,CAUQ,UAAS3B,IAAT,EAAe;WACf,eAAP,EAAwBE,GAAxB,CAA4BF,KAAK,QAAL,EAAe,OAAf,CAA5B;YACQA,KAAK,QAAL,EAAe,OAAf,CAAR;cACUc,OAAV,CAAkBC,KAAlB;IAbD;;;SAiBMJ,UAAUiB,OAAV,EAAP;EA5EF;;;;;iBAkFiB,0BAAW;MACtBvB,IAAIC,WAAJ,MAAqB,QAAzB,EAAmC;QAC7BC,MAAL;;;OAGIsB,8BAAL;OACKC,0BAAL;OACKC,2BAAL;OACKC,6BAAL;;CA7FH"}