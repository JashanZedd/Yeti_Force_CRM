{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nVtiger_Detail_Js(\"Leads_Detail_Js\", {\n\t//cache will store the convert lead data(Model)\n\tcache: {},\n\t//Holds detail view instance\n\tdetailCurrentInstance: false,\n\t/*\n\t * function to trigger Convert Lead action\n\t * @param: Convert Lead url, currentElement.\n\t */\n\tconvertLead: function (convertLeadUrl, buttonElement) {\n\t\tvar instance = Leads_Detail_Js.detailCurrentInstance;\n\t\t//Initially clear the elements to overwtite earliear cache\n\t\tinstance.convertLeadContainer = false;\n\t\tinstance.convertLeadForm = false;\n\t\tinstance.convertLeadModules = false;\n\t\tif (jQuery.isEmptyObject(Leads_Detail_Js.cache)) {\n\t\t\tAppConnector.request(convertLeadUrl).done(\n\t\t\t\tfunction (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tLeads_Detail_Js.cache = data;\n\t\t\t\t\t\tinstance.displayConvertLeadModel(data, buttonElement);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (error, err) {\n\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tinstance.displayConvertLeadModel(Leads_Detail_Js.cache, buttonElement);\n\t\t}\n\t}\n\n}, {\n\t//Contains the convert lead form\n\tconvertLeadForm: false,\n\t//contains the convert lead container\n\tconvertLeadContainer: false,\n\t//contains all the checkbox elements of modules\n\tconvertLeadModules: false,\n\t//constructor\n\tinit: function () {\n\t\tthis._super();\n\t\tLeads_Detail_Js.detailCurrentInstance = this;\n\t},\n\t/*\n\t * function to disable the Convert Lead button\n\t */\n\tdisableConvertLeadButton: function (button) {\n\t\tjQuery(button).attr('disabled', 'disabled');\n\t},\n\t/*\n\t * function to enable the Convert Lead button\n\t */\n\tenableConvertLeadButton: function (button) {\n\t\tjQuery(button).removeAttr('disabled');\n\t},\n\t/*\n\t * function to enable all the input and textarea elements\n\t */\n\tremoveDisableAttr: function (moduleBlock) {\n\t\tmoduleBlock.find('input,textarea,select').removeAttr('disabled');\n\t},\n\t/*\n\t * function to disable all the input and textarea elements\n\t */\n\taddDisableAttr: function (moduleBlock) {\n\t\tmoduleBlock.find('input,textarea,select').attr('disabled', 'disabled');\n\t},\n\t/*\n\t * function to display the convert lead model\n\t * @param: data used to show the model, currentElement.\n\t */\n\tdisplayConvertLeadModel: function (data, buttonElement) {\n\t\tvar instance = this;\n\t\tvar errorElement = jQuery(data).find('#convertLeadError');\n\t\tif (errorElement.length != '0') {\n\t\t\tvar errorMsg = errorElement.val();\n\t\t\tvar errorTitle = jQuery(data).find('#convertLeadErrorTitle').val();\n\t\t\tvar params = {\n\t\t\t\ttitle: errorTitle,\n\t\t\t\ttext: errorMsg,\n\t\t\t\taddclass: \"convertLeadNotify\",\n\t\t\t\twidth: '35%',\n\t\t\t\tpnotify_after_open: function () {\n\t\t\t\t\tinstance.disableConvertLeadButton(buttonElement);\n\t\t\t\t},\n\t\t\t\tpnotify_after_close: function () {\n\t\t\t\t\tinstance.enableConvertLeadButton(buttonElement);\n\t\t\t\t}\n\t\t\t};\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t} else {\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tvar editViewObj = Vtiger_Edit_Js.getInstance();\n\t\t\t\tjQuery(data).find('.fieldInfo').collapse({\n\t\t\t\t\t'parent': '#leadAccordion',\n\t\t\t\t\t'toggle': false\n\t\t\t\t});\n\t\t\t\tapp.showScrollBar(jQuery(data).find('#leadAccordion'), {'height': '420px'});\n\t\t\t\teditViewObj.registerBasicEvents(data);\n\t\t\t\tvar checkBoxElements = instance.getConvertLeadModules();\n\t\t\t\tjQuery.each(checkBoxElements, function (index, element) {\n\t\t\t\t\tinstance.checkingModuleSelection(element);\n\t\t\t\t});\n\t\t\t\tinstance.registerForReferenceField();\n\t\t\t\tinstance.registerConvertLeadEvents();\n\t\t\t\tinstance.getConvertLeadForm().validationEngine(app.validationEngineOptions);\n\t\t\t\tinstance.registerConvertLeadSubmit();\n\t\t\t};\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t'text-align': 'left'\n\t\t\t});\n\t\t}\n\t},\n\t/*\n\t * function to check which module is selected\n\t * to disable or enable all the elements with in the block\n\t */\n\tcheckingModuleSelection: function (element) {\n\t\tvar instance = this;\n\t\tvar module = jQuery(element).val();\n\t\tvar moduleBlock = jQuery(element).closest('.convertLeadModules').find('#' + module + '_FieldInfo');\n\t\tif (jQuery(element).is(':checked')) {\n\t\t\tinstance.removeDisableAttr(moduleBlock);\n\t\t} else {\n\t\t\tinstance.addDisableAttr(moduleBlock);\n\t\t}\n\t},\n\tregisterForReferenceField: function () {\n\t\tvar container = this.getConvertLeadContainer();\n\t\tvar referenceField = jQuery('.reference', container);\n\t\tif (referenceField.length > 0) {\n\t\t\tjQuery('#AccountsModule').attr('readonly', 'readonly');\n\t\t}\n\t},\n\t/*\n\t * function to register Convert Lead Events\n\t */\n\tregisterConvertLeadEvents: function () {\n\t\tvar container = this.getConvertLeadContainer();\n\t\tvar instance = this;\n\t\t//Trigger Event to change the icon while shown and hidden the accordion body\n\t\tcontainer\n\t\t\t.on('hide.bs.collapse', '.js-collapse ', function (e) {\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('.convertLeadModules')\n\t\t\t\t\t.find('.fas')\n\t\t\t\t\t.removeClass('fa-chevron-up')\n\t\t\t\t\t.addClass('fa-chevron-down');\n\t\t\t})\n\t\t\t.on('show.bs.collapse', '.js-collapse ', function (e) {\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('.convertLeadModules')\n\t\t\t\t\t.find('.fas')\n\t\t\t\t\t.removeClass('fa-chevron-down')\n\t\t\t\t\t.addClass('fa-chevron-up');\n\t\t\t});\n\n\t\t//Trigger Event on click of Transfer related records modules\n\t\tcontainer.on('click', '.transferModule', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar module = currentTarget.val();\n\t\t\tvar moduleBlock = jQuery('#' + module + '_FieldInfo');\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tjQuery('#' + module + 'Module').prop('checked', true);\n\t\t\t\tmoduleBlock.collapse('show');\n\t\t\t\tinstance.removeDisableAttr(moduleBlock);\n\t\t\t}\n\t\t});\n\n\t\t//Trigger Event on click of the Modules selection to convert the lead\n\t\tcontainer.on('click', '.convertLeadModuleSelection', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar currentModuleName = currentTarget.val();\n\t\t\tvar moduleBlock = currentTarget.closest('.convertLeadModules').find('#' + currentModuleName + '_FieldInfo');\n\t\t\tvar currentTransferModuleElement = jQuery('#transfer' + currentModuleName);\n\t\t\tvar otherTransferModuleElement = jQuery('input[name=\"transferModule\"]').not(currentTransferModuleElement);\n\t\t\tvar otherTransferModuleValue = jQuery(otherTransferModuleElement).val();\n\t\t\tvar otherModuleElement = jQuery('#' + otherTransferModuleValue + 'Module');\n\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tmoduleBlock.collapse('show');\n\t\t\t\tinstance.removeDisableAttr(moduleBlock);\n\t\t\t\tif (!otherModuleElement.is(':checked')) {\n\t\t\t\t\tjQuery(currentTransferModuleElement).prop('checked', true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmoduleBlock.collapse('hide');\n\t\t\t\tinstance.addDisableAttr(moduleBlock);\n\t\t\t\tjQuery(currentTransferModuleElement).prop('checked', false);\n\t\t\t\tif (otherModuleElement.is(':checked')) {\n\t\t\t\t\tjQuery(otherTransferModuleElement).prop('checked', true);\n\t\t\t\t}\n\t\t\t}\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\t},\n\t/*\n\t * function to register Convert Lead Submit Event\n\t */\n\tregisterConvertLeadSubmit: function () {\n\t\tvar thisInstance = this;\n\t\tvar formElement = this.getConvertLeadForm();\n\n\t\tformElement.on('jqv.form.validating', function (e) {\n\t\t\tvar jQv = jQuery(e.currentTarget).data('jqv');\n\t\t\t//Remove the earlier validated fields from history so that it wont count disabled fields\n\t\t\tjQv.InvalidFields = [];\n\t\t});\n\n\t\t//Convert Lead Form Submission\n\t\tformElement.on('submit', function (e) {\n\t\t\tvar convertLeadModuleElements = thisInstance.getConvertLeadModules();\n\t\t\tvar moduleArray = [];\n\t\t\tvar accountModel = formElement.find('#AccountsModule');\n\n\t\t\t//If the validation fails in the hidden Block, we should show that Block with error.\n\t\t\tvar invalidFields = formElement.data('jqv').InvalidFields;\n\t\t\tif (invalidFields.length > 0) {\n\t\t\t\tvar fieldElement = invalidFields[0];\n\t\t\t\tvar moduleBlock = jQuery(fieldElement).closest('.js-collapse');\n\t\t\t\tmoduleBlock.collapse('show');\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tjQuery.each(convertLeadModuleElements, function (index, element) {\n\t\t\t\tif (jQuery(element).is(':checked')) {\n\t\t\t\t\tmoduleArray.push(jQuery(element).val());\n\t\t\t\t}\n\t\t\t});\n\t\t\tformElement.find('input[name=\"modules\"]').val(JSON.stringify(moduleArray));\n\n\t\t\tvar organizationElement = accountModel.length;\n\t\t\tif (organizationElement != '0') {\n\t\t\t\tif (jQuery.inArray('Accounts', moduleArray) == -1) {\n\t\t\t\t\tapp.showAlert(app.vtranslate('JS_SELECT_ORGANIZATION'));\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t/*\n\t * function to get all the checkboxes which are representing the modules selection\n\t */\n\tgetConvertLeadModules: function () {\n\t\tvar container = this.getConvertLeadContainer();\n\t\tif (this.convertLeadModules == false) {\n\t\t\tthis.convertLeadModules = jQuery('.convertLeadModuleSelection', container);\n\t\t}\n\t\treturn this.convertLeadModules;\n\t},\n\t/*\n\t * function to get Convert Lead Form\n\t */\n\tgetConvertLeadForm: function () {\n\t\tif (this.convertLeadForm == false) {\n\t\t\tthis.convertLeadForm = jQuery('#convertLeadForm');\n\t\t}\n\t\treturn this.convertLeadForm;\n\t},\n\t/*\n\t * function to get Convert Lead Container\n\t */\n\tgetConvertLeadContainer: function () {\n\t\tif (this.convertLeadContainer == false) {\n\t\t\tthis.convertLeadContainer = jQuery('#leadAccordion');\n\t\t}\n\t\treturn this.convertLeadContainer;\n\t},\n\tsaveFieldValues: function (fieldDetailList) {\n\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar recordId = this.getRecordId();\n\n\t\tvar data = {};\n\t\tif (typeof fieldDetailList !== \"undefined\") {\n\t\t\tdata = fieldDetailList;\n\t\t}\n\n\t\tdata['record'] = recordId;\n\t\tdata['module'] = app.getModuleName();\n\t\tdata['action'] = 'SaveAjax';\n\n\t\tAppConnector.request(data).done(\n\t\t\tfunction (reponseData) {\n\t\t\t\taDeferred.resolve(reponseData);\n\t\t\t}\n\t\t);\n\t\tif (fieldDetailList && fieldDetailList.field == 'leadstatus') {\n\t\t\tvar btn = jQuery('.btn-convertLead');\n\t\t\tvar status = JSON.parse(jQuery('#conversion_available_status').val());\n\t\t\tif (status.length === 0 || jQuery.inArray(fieldDetailList.value, status) != -1) {\n\t\t\t\tbtn.removeClass(\"d-none\");\n\t\t\t} else {\n\t\t\t\tbtn.addClass(\"d-none\");\n\t\t\t}\n\t\t}\n\t\treturn aDeferred.promise();\n\t},\n\tupdateConvertLeadvalue: function () {\n\t\tvar thisInstance = Vtiger_Detail_Js.getInstance();\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, \"input,select\", function (e, params) {\n\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\tvar fieldName = elem.attr(\"name\");\n\t\t\tvar ajaxnewValue = params['new'];\n\n\t\t\tif (!(jQuery.isEmptyObject(Leads_Detail_Js.cache))) {\n\t\t\t\tvar sampleCache = jQuery(Leads_Detail_Js.cache);\n\t\t\t\tvar contextElem = sampleCache.find('[name=\"' + fieldName + '\"]');\n\n\t\t\t\tif (elem.is(\"select\")) {\n\t\t\t\t\tvar oldvalue = contextElem.val();\n\t\t\t\t\tcontextElem.find('option[value=\"' + oldvalue + '\"]').removeAttr(\"selected\");\n\t\t\t\t\tcontextElem.find('option[value=\"' + ajaxnewValue + '\"]').attr(\"selected\", \"selected\");\n\t\t\t\t\tcontextElem.trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tcontextElem.attr(\"value\", ajaxnewValue);\n\t\t\t\t}\n\t\t\t\tLeads_Detail_Js.cache = sampleCache;\n\t\t\t}\n\t\t});\n\n\t},\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\tthis.updateConvertLeadvalue();\n\t}\n});\n"],"names":["Vtiger_Detail_Js","convertLeadUrl","buttonElement","instance","Leads_Detail_Js","detailCurrentInstance","convertLeadContainer","convertLeadForm","convertLeadModules","jQuery","isEmptyObject","cache","request","done","data","displayConvertLeadModel","error","err","_super","button","attr","removeAttr","moduleBlock","find","errorElement","length","errorMsg","val","errorTitle","params","disableConvertLeadButton","enableConvertLeadButton","showPnotify","callBackFunction","editViewObj","Vtiger_Edit_Js","getInstance","collapse","showScrollBar","registerBasicEvents","checkBoxElements","getConvertLeadModules","each","index","element","checkingModuleSelection","registerForReferenceField","registerConvertLeadEvents","getConvertLeadForm","validationEngine","app","validationEngineOptions","registerConvertLeadSubmit","showModalWindow","module","closest","is","removeDisableAttr","addDisableAttr","container","getConvertLeadContainer","referenceField","on","e","currentTarget","removeClass","addClass","prop","currentModuleName","currentTransferModuleElement","otherTransferModuleElement","not","otherTransferModuleValue","otherModuleElement","stopImmediatePropagation","thisInstance","formElement","jQv","InvalidFields","convertLeadModuleElements","moduleArray","accountModel","invalidFields","fieldElement","preventDefault","push","JSON","stringify","organizationElement","inArray","showAlert","vtranslate","fieldDetailList","aDeferred","Deferred","recordId","getRecordId","getModuleName","reponseData","resolve","field","btn","status","parse","value","promise","detailContentsHolder","getContentHolder","fieldUpdatedEvent","elem","fieldName","ajaxnewValue","sampleCache","contextElem","oldvalue","trigger","updateConvertLeadvalue"],"mappings":"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"}