{"version":3,"file":"gen_pass.min.js","sources":["gen_pass.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nvar PasswordHelper;\nPasswordHelper = {\n\tinit() {\n\t\treturn this;\n\t},\n// Function to generate new password\n\tpasswordStrength(password, translations) {\n\t\tif (password == '')\n\t\t\tpassword = document.getElementById('OSSPasswords_editView_fieldName_password').value;\n\n\t\tvar desc = [];\n\t\tif (translations == '') {\n\t\t\tdesc[0] = app.vtranslate('Very Weak');\n\t\t\tdesc[1] = app.vtranslate('Weak');\n\t\t\tdesc[2] = app.vtranslate('Better');\n\t\t\tdesc[3] = app.vtranslate('Medium');\n\t\t\tdesc[4] = app.vtranslate('Strong');\n\t\t\tdesc[5] = app.vtranslate('Very Strong');\n\t\t} else {\n\t\t\tvar tstring = translations.split(',');\n\t\t\tdesc[0] = tstring[0];\n\t\t\tdesc[1] = tstring[1];\n\t\t\tdesc[2] = tstring[2];\n\t\t\tdesc[3] = tstring[3];\n\t\t\tdesc[4] = tstring[4];\n\t\t\tdesc[5] = tstring[5];\n\t\t}\n\n\t\tvar score = 0;\n\n\t\t//if password bigger than 6 give 1 point\n\t\tif (password.length > 6)\n\t\t\tscore++;\n\n\t\t//if password has both lower and uppercase characters give 1 point\n\t\tif ((password.match(/[a-z]/)) && (password.match(/[A-Z]/)))\n\t\t\tscore++;\n\n\t\t//if password has at least one number give 1 point\n\t\tif (password.match(/\\d+/))\n\t\t\tscore++;\n\n\t\t//if password has at least one special caracther give 1 point\n\t\tif (password.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/))\n\t\t\tscore++;\n\n\t\t//if password bigger than 12 give another 1 point\n\t\tif (password.length > 12)\n\t\t\tscore++;\n\n\t\t// password hidden\n\t\tif (password == '') {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = app.vtranslate('Enter the password');\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength0\";\n\t\t} else if (password == '**********') {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = app.vtranslate('Password is hidden');\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength0\";\n\t\t} else {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = desc[score];\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength\" + score;\n\t\t}\n\t},\n\tshowPassword(record) {\n\t\tlet showPassText = app.vtranslate('LBL_ShowPassword');\n\t\tlet hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tif ($('#show-btn').text() == showPassText) {\n\t\t\tvar params = {\n\t\t\t\t'module': \"OSSPasswords\",\n\t\t\t\t'action': \"GetPass\",\n\t\t\t\t'record': record\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tvar response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\tvar el = document.getElementById(\"OSSPasswords_editView_fieldName_password\");\n\t\t\t\t\tel.value = response['password'];\n\t\t\t\t\tel.onchange();\n\t\t\t\t\t$('#copy-button').removeClass('d-none').show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// validate password\n\t\t\tthis.passwordStrength('', '');\n\n\t\t\t// change buttons label\n\t\t\t$('#show-btn').text(hidePassText);\n\t\t} else {\n\t\t\tdocument.getElementById(\"OSSPasswords_editView_fieldName_password\").value = '**********';\n\t\t\t$('#show-btn').text(showPassText);\n\t\t\tthis.passwordStrength('', '');\n\t\t\t$('#copy-button').hide();\n\t\t}\n\t},\n\tshowDetailsPassword(record) {\n\t\tconst showPassText = app.vtranslate('LBL_ShowPassword');\n\t\tconst hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tif ($('#show-btn').text() == showPassText) {\n\t\t\tconst params = {\n\t\t\t\tmodule: 'OSSPasswords',\n\t\t\t\taction: 'GetPass',\n\t\t\t\trecord: record\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tconst response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\t$('#detailPassword').text(response['password']);\n\t\t\t\t\t$('#copy-button')\n\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t.show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// change buttons label\n\t\t\t$('#show-btn').html('<span class=\"fas fa-eye-slash u-mr-5px\"></span>' + hidePassText);\n\t\t} else {\n\t\t\tdocument.getElementById('detailPassword').innerHTML = '**********';\n\t\t\t$('#show-btn').html('<span class=\"fas fa-eye u-mr-5px\"></span>' + showPassText);\n\t\t\t$('#copy-button').hide();\n\t\t}\n\t},\n\tshowPasswordQuickEdit(record) {\n\t\tconst hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tconst params = {\n\t\t\tmodule: 'OSSPasswords',\n\t\t\taction: 'GetPass',\n\t\t\trecord: record\n\t\t};\n\t\tAppConnector.request(params).done(function(data) {\n\t\t\tconst response = data['result'];\n\t\t\tif (response['success']) {\n\t\t\t\t$('#detailPassword').text(response['password']);\n\t\t\t\t$(\"input[name='password']\").val(response['password']);\n\t\t\t\t$('#copy-button')\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.show();\n\t\t\t}\n\t\t});\n\t\t// change buttons label\n\t\t$('#show-btn').text(hidePassText);\n\t}\n};\n$(document).ready(function() {\n\tPasswordHelper.init();\n});\n"],"names":["PasswordHelper","password","translations","document","getElementById","value","desc","app","vtranslate","tstring","split","score","length","match","innerHTML","className","record","showPassText","hidePassText","$","text","params","request","done","data","response","el","onchange","removeClass","show","passwordStrength","hide","html","val","ready","init"],"mappings":"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"}