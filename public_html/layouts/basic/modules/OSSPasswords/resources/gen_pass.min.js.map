{"version":3,"file":"gen_pass.min.js","sources":["gen_pass.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nvar PasswordHelper;\nPasswordHelper = {\n\tinit() {\n\t\treturn this;\n\t},\n// Function to generate new password\n\tpasswordStrength(password, translations) {\n\t\tif (password == '')\n\t\t\tpassword = document.getElementById('OSSPasswords_editView_fieldName_password').value;\n\n\t\tvar desc = [];\n\t\tif (translations == '') {\n\t\t\tdesc[0] = app.vtranslate('Very Weak');\n\t\t\tdesc[1] = app.vtranslate('Weak');\n\t\t\tdesc[2] = app.vtranslate('Better');\n\t\t\tdesc[3] = app.vtranslate('Medium');\n\t\t\tdesc[4] = app.vtranslate('Strong');\n\t\t\tdesc[5] = app.vtranslate('Very Strong');\n\t\t} else {\n\t\t\tvar tstring = translations.split(',');\n\t\t\tdesc[0] = tstring[0];\n\t\t\tdesc[1] = tstring[1];\n\t\t\tdesc[2] = tstring[2];\n\t\t\tdesc[3] = tstring[3];\n\t\t\tdesc[4] = tstring[4];\n\t\t\tdesc[5] = tstring[5];\n\t\t}\n\n\t\tvar score = 0;\n\n\t\t//if password bigger than 6 give 1 point\n\t\tif (password.length > 6)\n\t\t\tscore++;\n\n\t\t//if password has both lower and uppercase characters give 1 point\n\t\tif ((password.match(/[a-z]/)) && (password.match(/[A-Z]/)))\n\t\t\tscore++;\n\n\t\t//if password has at least one number give 1 point\n\t\tif (password.match(/\\d+/))\n\t\t\tscore++;\n\n\t\t//if password has at least one special caracther give 1 point\n\t\tif (password.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/))\n\t\t\tscore++;\n\n\t\t//if password bigger than 12 give another 1 point\n\t\tif (password.length > 12)\n\t\t\tscore++;\n\n\t\t// password hidden\n\t\tif (password == '') {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = app.vtranslate('Enter the password');\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength0\";\n\t\t} else if (password == '**********') {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = app.vtranslate('Password is hidden');\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength0\";\n\t\t} else {\n\t\t\tdocument.getElementById(\"passwordDescription\").innerHTML = desc[score];\n\t\t\tdocument.getElementById(\"passwordStrength\").className = \"input-group-text strength\" + score;\n\t\t}\n\t},\n\tshowPassword(record) {\n\t\tlet showPassText = app.vtranslate('LBL_ShowPassword');\n\t\tlet hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tif ($('#show-btn').text() == showPassText) {\n\t\t\tvar params = {\n\t\t\t\t'module': \"OSSPasswords\",\n\t\t\t\t'action': \"GetPass\",\n\t\t\t\t'record': record\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tvar response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\tvar el = document.getElementById(\"OSSPasswords_editView_fieldName_password\");\n\t\t\t\t\tel.value = response['password'];\n\t\t\t\t\tel.onchange();\n\t\t\t\t\t$('#copy-button').removeClass('d-none').show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// validate password\n\t\t\tthis.passwordStrength('', '');\n\n\t\t\t// change buttons label\n\t\t\t$('#show-btn').text(hidePassText);\n\t\t} else {\n\t\t\tdocument.getElementById(\"OSSPasswords_editView_fieldName_password\").value = '**********';\n\t\t\t$('#show-btn').text(showPassText);\n\t\t\tthis.passwordStrength('', '');\n\t\t\t$('#copy-button').hide();\n\t\t}\n\t},\n\tshowDetailsPassword(record) {\n\t\tconst showPassText = app.vtranslate('LBL_ShowPassword');\n\t\tconst hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tif ($('#show-btn').text() == showPassText) {\n\t\t\tconst params = {\n\t\t\t\tmodule: 'OSSPasswords',\n\t\t\t\taction: 'GetPass',\n\t\t\t\trecord: record\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tconst response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\t$('#detailPassword').text(response['password']);\n\t\t\t\t\t$('#copy-button')\n\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t.show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// change buttons label\n\t\t\t$('#show-btn').html('<span class=\"fas fa-eye-slash u-mr-5px\"></span>' + hidePassText);\n\t\t} else {\n\t\t\tdocument.getElementById('detailPassword').innerHTML = '**********';\n\t\t\t$('#show-btn').html('<span class=\"fas fa-eye u-mr-5px\"></span>' + showPassText);\n\t\t\t$('#copy-button').hide();\n\t\t}\n\t},\n\tshowPasswordQuickEdit(record) {\n\t\tconst hidePassText = app.vtranslate('LBL_HidePassword');\n\n\t\tconst params = {\n\t\t\tmodule: 'OSSPasswords',\n\t\t\taction: 'GetPass',\n\t\t\trecord: record\n\t\t};\n\t\tAppConnector.request(params).done(function(data) {\n\t\t\tconst response = data['result'];\n\t\t\tif (response['success']) {\n\t\t\t\t$('#detailPassword').text(response['password']);\n\t\t\t\t$(\"input[name='password']\").val(response['password']);\n\t\t\t\t$('#copy-button')\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.show();\n\t\t\t}\n\t\t});\n\t\t// change buttons label\n\t\t$('#show-btn').text(hidePassText);\n\t}\n};\n$(document).ready(function() {\n\tPasswordHelper.init();\n});\n"],"names":["PasswordHelper","this","password","translations","document","getElementById","value","desc","app","vtranslate","tstring","split","score","length","match","innerHTML","className","record","showPassText","hidePassText","$","text","params","request","done","data","response","el","onchange","removeClass","show","passwordStrength","hide","html","val","ready","init"],"mappings":"aAGA,IAAIA,eACJA,eAAiB,wBAERC,gCAGSC,SAAUC,cACV,IAAZD,WACHA,SAAWE,SAASC,eAAe,4CAA4CC,WAE5EC,KAAO,MACS,IAAhBJ,kBACE,GAAKK,IAAIC,WAAW,kBACpB,GAAKD,IAAIC,WAAW,aACpB,GAAKD,IAAIC,WAAW,eACpB,GAAKD,IAAIC,WAAW,eACpB,GAAKD,IAAIC,WAAW,eACpB,GAAKD,IAAIC,WAAW,mBACnB,KACFC,QAAUP,aAAaQ,MAAM,UAC5B,GAAKD,QAAQ,QACb,GAAKA,QAAQ,QACb,GAAKA,QAAQ,QACb,GAAKA,QAAQ,QACb,GAAKA,QAAQ,QACb,GAAKA,QAAQ,OAGfE,MAAQ,EAGRV,SAASW,OAAS,GACrBD,QAGIV,SAASY,MAAM,UAAcZ,SAASY,MAAM,UAChDF,QAGGV,SAASY,MAAM,QAClBF,QAGGV,SAASY,MAAM,mCAClBF,QAGGV,SAASW,OAAS,IACrBD,QAGe,IAAZV,mBACMG,eAAe,uBAAuBU,UAAYP,IAAIC,WAAW,+BACjEJ,eAAe,oBAAoBW,UAAY,8BAClC,cAAZd,mBACDG,eAAe,uBAAuBU,UAAYP,IAAIC,WAAW,+BACjEJ,eAAe,oBAAoBW,UAAY,wCAE/CX,eAAe,uBAAuBU,UAAYR,KAAKK,gBACvDP,eAAe,oBAAoBW,UAAY,4BAA8BJ,8BAG3EK,YACRC,aAAeV,IAAIC,WAAW,oBAC9BU,aAAeX,IAAIC,WAAW,uBAE9BW,EAAE,aAAaC,QAAUH,aAAc,KACtCI,OAAS,QACF,sBACA,iBACAL,qBAGEM,QAAQD,QAAQE,MAAK,SAAUC,UACvCC,SAAWD,KAAA,UACXC,SAAA,QAAqB,KACpBC,GAAKvB,SAASC,eAAe,+CAC9BC,MAAQoB,SAAA,YACRE,aACD,gBAAgBC,YAAY,UAAUC,gBAKrCC,iBAAiB,GAAI,MAGxB,aAAaV,KAAKF,4BAEXd,eAAe,4CAA4CC,MAAQ,eAC1E,aAAae,KAAKH,mBACfa,iBAAiB,GAAI,MACxB,gBAAgBC,qCAGAf,YACbC,aAAeV,IAAIC,WAAW,oBAC9BU,aAAeX,IAAIC,WAAW,uBAEhCW,EAAE,aAAaC,QAAUH,aAAc,KACpCI,OAAS,QACN,sBACA,iBACAL,qBAGIM,QAAQD,QAAQE,MAAK,SAASC,UACpCC,SAAWD,KAAA,OACbC,SAAA,YACD,mBAAmBL,KAAKK,SAAA,YACxB,gBACAG,YAAY,UACZC,aAKF,aAAaG,KAAK,kDAAoDd,4BAE/Dd,eAAe,kBAAkBU,UAAY,eACpD,aAAakB,KAAK,4CAA8Cf,gBAChE,gBAAgBc,uCAGEf,YACfE,aAAeX,IAAIC,WAAW,oBAE9Ba,OAAS,QACN,sBACA,iBACAL,qBAEIM,QAAQD,QAAQE,MAAK,SAASC,UACpCC,SAAWD,KAAA,OACbC,SAAA,YACD,mBAAmBL,KAAKK,SAAA,YACxB,0BAA0BQ,IAAIR,SAAA,YAC9B,gBACAG,YAAY,UACZC,aAIF,aAAaT,KAAKF,gBAGtBC,EAAEhB,UAAU+B,OAAM,0BACFC"}