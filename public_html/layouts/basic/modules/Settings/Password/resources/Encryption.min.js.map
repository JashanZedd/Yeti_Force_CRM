{"version":3,"file":"Encryption.min.js","sources":["Encryption.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Password_Encryption_Js', {}, {\n\t/**\n\t * Container (Form)\n\t */\n\tcontainer: null,\n\t/**\n\t * Set container (Form)\n\t * @param {Object} element\n\t */\n\tsetContainer: function (element) {\n\t\tthis.container = element;\n\t},\n\t/**\n\t * Get Container (Form)\n\t * @returns {Object}\n\t */\n\tgetContainer: function () {\n\t\treturn this.container;\n\t},\n\t/**\n\t * Register events for change method encryption\n\t */\n\tregisterChangeMethodName: function () {\n\t\tvar container = this.getContainer();\n\t\tvar methodElement = container.find('[name=\"methods\"]');\n\t\tvar mapLengthVector = JSON.parse($('[name=\"lengthVectors\"]').val());\n\t\tmethodElement.on('change', function () {\n\t\t\tvar length = mapLengthVector[methodElement.val()];\n\t\t\tvar validator = '';\n\t\t\tvar passwordElement = container.find('[name=\"password\"]');\n\t\t\tif (typeof length === \"undefined\" || length === 0) {\n\t\t\t\tpasswordElement.val('');\n\t\t\t\tpasswordElement.attr('disabled', 'disabled');\n\t\t\t} else {\n\t\t\t\tpasswordElement.removeAttr('disabled');\n\t\t\t\tvalidator = 'validate[required,maxSize[' + length + '],minSize[' + length + ']]';\n\t\t\t}\n\t\t\tpasswordElement.attr('data-validation-engine', validator);\n\t\t});\n\t},\n\t/**\n\t * Register events for form\n\t */\n\tregisterForm: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContainer();\n\t\tcontainer.on('submit', function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(container.serializeFormData()).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response.result,\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Register events to preview password\n\t */\n\tregisterPreviewPassword: function () {\n\t\tvar container = this.getContainer();\n\t\tvar button = container.find('.previewPassword');\n\t\tvar passwordElement = container.find('[name=\"password\"]');\n\t\tbutton.on('mousedown', function () {\n\t\t\tpasswordElement.attr('type', 'text');\n\t\t});\n\t\tbutton.on('mouseup', function () {\n\t\t\tpasswordElement.attr('type', 'password');\n\t\t});\n\t\tbutton.on('mouseout', function () {\n\t\t\tpasswordElement.attr('type', 'password');\n\t\t});\n\t},\n\t/**\n\t * Register all events in view\n\t */\n\tregisterEvents: function () {\n\t\tthis.setContainer($('.formEncryption'));\n\t\tthis.registerForm();\n\t\tthis.registerChangeMethodName();\n\t\tthis.registerPreviewPassword();\n\t}\n});\n"],"names":["jQuery","Class","element","container","this","getContainer","methodElement","find","mapLengthVector","JSON","parse","$","val","on","length","validator","passwordElement","attr","removeAttr","event","preventDefault","validationEngine","app","validationEngineOptions","progressIndicatorElement","progressIndicator","request","serializeFormData","done","response","mode","showPnotify","result","button","setContainer","registerForm","registerChangeMethodName","registerPreviewPassword"],"mappings":"aAGAA,OAAOC,MAAM,kCAAmC,GAAI,WAIxC,kBAKG,SAAUC,cAClBC,UAAYD,sBAMJ,kBACNE,KAAKD,oCAKa,eACrBA,UAAYC,KAAKC,eACjBC,cAAgBH,UAAUI,KAAK,oBAC/BC,gBAAkBC,KAAKC,MAAMC,EAAE,0BAA0BC,qBAC/CC,GAAG,UAAU,eACtBC,OAASN,gBAAgBF,cAAcM,OACvCG,UAAY,GACZC,gBAAkBb,UAAUI,KAAK,0BACf,IAAXO,QAAqC,IAAXA,wBACpBF,IAAI,oBACJK,KAAK,WAAY,8BAEjBC,WAAW,sBACf,6BAA+BJ,OAAS,aAAeA,OAAS,sBAE7DG,KAAK,yBAA0BF,4BAMnC,eAETZ,UADeC,KACUC,yBACnBQ,GAAG,UAAU,SAAUM,gBAC1BC,2BACIC,iBAAiBC,IAAIC,yBAC3BpB,UAAUkB,iBAAiB,YAAa,KACvCG,yBAA2BxB,OAAOyB,kBAAkB,UAC7C,iBACC,UACD,kBAGEC,QAAQvB,UAAUwB,qBAAqBC,MAAK,SAAUC,mCACzCJ,kBAAkB,CAACK,KAAM,0BACjCC,YAAY,MACtBF,SAASG,YACT,yCASc,eACpB7B,UAAYC,KAAKC,eACjB4B,OAAS9B,UAAUI,KAAK,oBACxBS,gBAAkBb,UAAUI,KAAK,4BAC9BM,GAAG,aAAa,2BACNI,KAAK,OAAQ,kBAEvBJ,GAAG,WAAW,2BACJI,KAAK,OAAQ,sBAEvBJ,GAAG,YAAY,2BACLI,KAAK,OAAQ,+BAMf,gBACViB,aAAavB,EAAE,yBACfwB,oBACAC,gCACAC"}