{"version":3,"file":"Encryption.min.js","sources":["Encryption.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Password_Encryption_Js', {}, {\n\t/**\n\t * Container (Form)\n\t */\n\tcontainer: null,\n\t/**\n\t * Set container (Form)\n\t * @param {Object} element\n\t */\n\tsetContainer: function (element) {\n\t\tthis.container = element;\n\t},\n\t/**\n\t * Get Container (Form)\n\t * @returns {Object}\n\t */\n\tgetContainer: function () {\n\t\treturn this.container;\n\t},\n\t/**\n\t * Register events for change method encryption\n\t */\n\tregisterChangeMethodName: function () {\n\t\tvar container = this.getContainer();\n\t\tvar methodElement = container.find('[name=\"methods\"]');\n\t\tvar mapLengthVector = JSON.parse($('[name=\"lengthVectors\"]').val());\n\t\tmethodElement.on('change', function () {\n\t\t\tvar length = mapLengthVector[methodElement.val()];\n\t\t\tvar validator = '';\n\t\t\tvar passwordElement = container.find('[name=\"password\"]');\n\t\t\tif (typeof length === \"undefined\" || length === 0) {\n\t\t\t\tpasswordElement.val('');\n\t\t\t\tpasswordElement.attr('disabled', 'disabled');\n\t\t\t} else {\n\t\t\t\tpasswordElement.removeAttr('disabled');\n\t\t\t\tvalidator = 'validate[required,maxSize[' + length + '],minSize[' + length + ']]';\n\t\t\t}\n\t\t\tpasswordElement.attr('data-validation-engine', validator);\n\t\t});\n\t},\n\t/**\n\t * Register events for form\n\t */\n\tregisterForm: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContainer();\n\t\tcontainer.on('submit', function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(container.serializeFormData()).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response.result,\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Register events to preview password\n\t */\n\tregisterPreviewPassword: function () {\n\t\tvar container = this.getContainer();\n\t\tvar button = container.find('.previewPassword');\n\t\tvar passwordElement = container.find('[name=\"password\"]');\n\t\tbutton.on('mousedown', function () {\n\t\t\tpasswordElement.attr('type', 'text');\n\t\t});\n\t\tbutton.on('mouseup', function () {\n\t\t\tpasswordElement.attr('type', 'password');\n\t\t});\n\t\tbutton.on('mouseout', function () {\n\t\t\tpasswordElement.attr('type', 'password');\n\t\t});\n\t},\n\t/**\n\t * Register all events in view\n\t */\n\tregisterEvents: function () {\n\t\tthis.setContainer($('.formEncryption'));\n\t\tthis.registerForm();\n\t\tthis.registerChangeMethodName();\n\t\tthis.registerPreviewPassword();\n\t}\n});\n"],"names":["jQuery","Class","element","container","getContainer","methodElement","find","mapLengthVector","JSON","parse","$","val","on","length","validator","passwordElement","attr","removeAttr","thisInstance","event","preventDefault","validationEngine","app","validationEngineOptions","progressIndicatorElement","progressIndicator","request","serializeFormData","done","response","mode","showPnotify","result","button","setContainer","registerForm","registerChangeMethodName","registerPreviewPassword"],"mappings":";;AAAA;AACA;AAEAA,OAAOC,KAAP,CAAa,iCAAb,EAAgD,EAAhD,EAAoD;;;;YAIxC,IAJwC;;;;;eASrC,sBAAUC,OAAV,EAAmB;OAC3BC,SAAL,GAAiBD,OAAjB;EAVkD;;;;;eAgBrC,wBAAY;SAClB,KAAKC,SAAZ;EAjBkD;;;;2BAsBzB,oCAAY;MACjCA,YAAY,KAAKC,YAAL,EAAhB;MACIC,gBAAgBF,UAAUG,IAAV,CAAe,kBAAf,CAApB;MACIC,kBAAkBC,KAAKC,KAAL,CAAWC,EAAE,wBAAF,EAA4BC,GAA5B,EAAX,CAAtB;gBACcC,EAAd,CAAiB,QAAjB,EAA2B,YAAY;OAClCC,SAASN,gBAAgBF,cAAcM,GAAd,EAAhB,CAAb;OACIG,YAAY,EAAhB;OACIC,kBAAkBZ,UAAUG,IAAV,CAAe,mBAAf,CAAtB;OACI,OAAOO,MAAP,KAAkB,WAAlB,IAAiCA,WAAW,CAAhD,EAAmD;oBAClCF,GAAhB,CAAoB,EAApB;oBACgBK,IAAhB,CAAqB,UAArB,EAAiC,UAAjC;IAFD,MAGO;oBACUC,UAAhB,CAA2B,UAA3B;gBACY,+BAA+BJ,MAA/B,GAAwC,YAAxC,GAAuDA,MAAvD,GAAgE,IAA5E;;mBAEeG,IAAhB,CAAqB,wBAArB,EAA+CF,SAA/C;GAXD;EA1BkD;;;;eA2CrC,wBAAY;MACrBI,eAAe,IAAnB;MACIf,YAAYe,aAAad,YAAb,EAAhB;YACUQ,EAAV,CAAa,QAAb,EAAuB,UAAUO,KAAV,EAAiB;SACjCC,cAAN;aACUC,gBAAV,CAA2BC,IAAIC,uBAA/B;OACIpB,UAAUkB,gBAAV,CAA2B,UAA3B,CAAJ,EAA4C;QACvCG,2BAA2BxB,OAAOyB,iBAAP,CAAyB;eAC7C,MAD6C;gBAE5C;eACD;;KAHoB,CAA/B;iBAMaC,OAAb,CAAqBvB,UAAUwB,iBAAV,EAArB,EAAoDC,IAApD,CAAyD,UAAUC,QAAV,EAAoB;8BACnDJ,iBAAzB,CAA2C,EAACK,MAAM,MAAP,EAA3C;sBACiBC,WAAjB,CAA6B;YACtBF,SAASG,MADa;YAEtB;MAFP;KAFD;;GAVF;EA9CkD;;;;0BAqE1B,mCAAY;MAChC7B,YAAY,KAAKC,YAAL,EAAhB;MACI6B,SAAS9B,UAAUG,IAAV,CAAe,kBAAf,CAAb;MACIS,kBAAkBZ,UAAUG,IAAV,CAAe,mBAAf,CAAtB;SACOM,EAAP,CAAU,WAAV,EAAuB,YAAY;mBAClBI,IAAhB,CAAqB,MAArB,EAA6B,MAA7B;GADD;SAGOJ,EAAP,CAAU,SAAV,EAAqB,YAAY;mBAChBI,IAAhB,CAAqB,MAArB,EAA6B,UAA7B;GADD;SAGOJ,EAAP,CAAU,UAAV,EAAsB,YAAY;mBACjBI,IAAhB,CAAqB,MAArB,EAA6B,UAA7B;GADD;EA/EkD;;;;iBAsFnC,0BAAY;OACtBkB,YAAL,CAAkBxB,EAAE,iBAAF,CAAlB;OACKyB,YAAL;OACKC,wBAAL;OACKC,uBAAL;;CA1FF"}