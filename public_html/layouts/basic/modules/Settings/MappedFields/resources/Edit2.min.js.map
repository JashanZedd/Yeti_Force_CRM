{"version":3,"file":"Edit2.min.js","sources":["Edit2.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_MappedFields_Edit_Js(\n\t'Settings_MappedFields_Edit2_Js',\n\t{},\n\t{\n\t\tstep2Container: false,\n\t\tadvanceFilterInstance: false,\n\t\trestictName: ['_csrf', 'mode', 'module', 'parent', 'record', 'view'],\n\t\tinit: function () {\n\t\t\tthis.initialize();\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the reports step1 elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetContainer: function () {\n\t\t\treturn this.step2Container;\n\t\t},\n\t\t/**\n\t\t * Function to set the reports step1 container\n\t\t * @params : element - which represents the reports step1 container\n\t\t * @return : current instance\n\t\t */\n\t\tsetContainer: function (element) {\n\t\t\tthis.step2Container = element;\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function  to intialize the reports step1\n\t\t */\n\t\tinitialize: function (container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('#mf_step2');\n\t\t\t}\n\t\t\tif (container.is('#mf_step2')) {\n\t\t\t\tthis.setContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setContainer(jQuery('#mf_step2'));\n\t\t\t}\n\t\t},\n\t\tsubmit: function () {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar form = this.getContainer();\n\t\t\tvar formData = form.serializeFormData();\n\t\t\tvar saveData = this.getData(formData);\n\t\t\tsaveData.record = formData.record;\n\t\t\tthis.validationMappingFields().done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.saveAjax('step2', saveData).done(function (data) {\n\t\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_MF_SAVED_SUCCESSFULLY')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar mfRecordElement = jQuery('[name=\"record\"]', form);\n\t\t\t\t\t\t\tif (mfRecordElement.val() === '') {\n\t\t\t\t\t\t\t\tmfRecordElement.val(data.result.id);\n\t\t\t\t\t\t\t\tformData['record'] = data.result.id;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformData['record'] = data.result.id;\n\t\t\t\t\t\t\tAppConnector.request(formData)\n\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\tform.hide();\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetData: function (data) {\n\t\t\tvar mappingData = [];\n\t\t\tvar mappingConditions = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tvar name = i.split('][');\n\t\t\t\tif (name.length == 2) {\n\t\t\t\t\tif (name[1] != 'default]' && data[i] != 0) mappingData[i] = data[i];\n\t\t\t\t\telse if (name[1] == 'default]') mappingData[i] = jQuery.isArray(data[i]) ? data[i].join(',') : data[i].trim();\n\t\t\t\t} else if (name.length != 2 && jQuery.inArray(i, this.restictName) == -1) {\n\t\t\t\t\tmappingConditions[i] = data[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tmappingData = jQuery.extend({}, mappingData);\n\t\t\tmappingConditions = jQuery.extend({}, mappingConditions);\n\t\t\treturn { mapping: mappingData, otherConditions: JSON.stringify(mappingConditions) };\n\t\t},\n\t\tregisterCancelStepClickEvent: function (form) {\n\t\t\tjQuery('button.cancelLink', form).on('click', function () {\n\t\t\t\twindow.history.back();\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tvar container = this.getContainer();\n\n\t\t\tvar opts = app.validationEngineOptions;\n\t\t\t// to prevent the page reload after the validation has completed\n\t\t\topts['onValidationComplete'] = function (form, valid) {\n\t\t\t\t//returns the valid status\n\t\t\t\treturn valid;\n\t\t\t};\n\t\t\topts['promptPosition'] = 'bottomRight';\n\t\t\tcontainer.validationEngine(opts);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.select2'));\n\t\t\tthis.registerCancelStepClickEvent(container);\n\t\t\tthis.registerEventsForEditView();\n\t\t},\n\t\t/**\n\t\t * Function to register event for adding new convert to field mapping\n\t\t */\n\t\tregisterEventForAddingNewMapping: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#addMapping').on('click', function (e) {\n\t\t\t\tvar mappingToGenerateTable = jQuery('#mappingToGenerate');\n\t\t\t\tvar lastSequenceNumber = mappingToGenerateTable.find('tr:not(.d-none)[sequence-number]').last();\n\t\t\t\tvar newSequenceNumber = thisInstance.getSequenceNumber(lastSequenceNumber) + 1;\n\t\t\t\tvar newMapping = jQuery('.newMapping').clone(true, true);\n\t\t\t\tnewMapping.attr('sequence-number', newSequenceNumber);\n\t\t\t\tnewMapping.find('select.sourceFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][source]');\n\t\t\t\tnewMapping.find('select.targetFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][target]');\n\t\t\t\tnewMapping.find('input.mappingType').attr('name', 'mapping[' + newSequenceNumber + '][type]');\n\t\t\t\tnewMapping.removeClass('d-none newMapping');\n\t\t\t\tnewMapping.appendTo(mappingToGenerateTable);\n\t\t\t\tnewMapping.find('.newSelect').removeClass('newSelect').addClass('select2');\n\t\t\t\tvar select2Elements = newMapping.find('.select2');\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(select2Elements);\n\t\t\t\tjQuery('select.targetFields', newMapping).trigger('change', false);\n\t\t\t\tthisInstance.loadDefaultValueWidgetForMappedFields(newMapping.find('.select2'));\n\t\t\t});\n\t\t},\n\t\tgetSequenceNumber: function (element) {\n\t\t\tlet sequenceNumber;\n\t\t\tif (element.length) {\n\t\t\t\tsequenceNumber = element.attr('sequence-number');\n\t\t\t} else {\n\t\t\t\tsequenceNumber = 0;\n\t\t\t}\n\t\t\treturn parseInt(sequenceNumber);\n\t\t},\n\t\t/**\n\t\t * Function to register on change event for select2 element\n\t\t */\n\t\tregisterOnChangeEventForSourceModule: function () {\n\t\t\tvar form = this.getContainer();\n\t\t\tform.on('change', '.sourceFields', function (e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar container = jQuery(element.closest('tr'));\n\t\t\t\tvar selectedValue = element.val();\n\t\t\t\tvar selectedOption = element.find('option[value=\"' + selectedValue + '\"]');\n\t\t\t\tvar selectedDataType = selectedOption.data('type');\n\t\t\t\tvar mappingType = selectedOption.data('mappingtype');\n\t\t\t\tvar fieldsSelectElement = container.find('select.targetFields.select2');\n\t\t\t\tvar fieldsBasedOnType = form.find('.newMapping').find('.targetFields').children().clone(true, true);\n\t\t\t\tvar options = jQuery('<div></div>');\n\t\t\t\tcontainer.find('.mappingType').val(mappingType);\n\t\t\t\tfieldsBasedOnType.each(function (i, e) {\n\t\t\t\t\tvar element = jQuery(e);\n\t\t\t\t\tif (element.is('option') && (element.data('type') == selectedDataType || element.data('type') == 'none')) {\n\t\t\t\t\t\toptions.append(element);\n\t\t\t\t\t} else if (element.is('optgroup') && element.find('[data-type=\"' + selectedDataType + '\"]').length > 0) {\n\t\t\t\t\t\telement.children().each(function (q, k) {\n\t\t\t\t\t\t\tvar option = jQuery(k);\n\t\t\t\t\t\t\tif (option.data('type') !== selectedDataType) {\n\t\t\t\t\t\t\t\toption.remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\toptions.append(element);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tcontainer\n\t\t\t\t\t.find('.selectedFieldDataType')\n\t\t\t\t\t.html(selectedOption.data('type-name') ? selectedOption.data('type-name') : '');\n\t\t\t\tfieldsSelectElement.html(options.children());\n\n\t\t\t\tfieldsSelectElement.trigger('change', false);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event to delete mapping\n\t\t */\n\t\tregisterEventToDeleteMapping: function () {\n\t\t\tvar form = this.getContainer();\n\t\t\tform.on('click', '.deleteMapping', function (e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar trContainer = element.closest('tr');\n\t\t\t\ttrContainer.remove();\n\t\t\t});\n\t\t},\n\t\tloadDefaultValueWidget: function (element) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar id = element.val() + '_defaultvalue';\n\t\t\tvar affectedRow = jQuery('#defaultValuesElementsContainer').find('#' + id);\n\t\t\tvar dafeultTd = element.closest('td').next();\n\t\t\tvar defaultValueElement = dafeultTd.find('input.default');\n\t\t\tvar defaultValue = '';\n\t\t\tif (defaultValueElement.length) {\n\t\t\t\tdefaultValue = defaultValueElement.val();\n\t\t\t}\n\t\t\tdafeultTd.children().remove();\n\t\t\tvar exist = jQuery('#mappingToGenerate').find('#' + id);\n\t\t\tif (affectedRow.length === 0 || !element.val() || exist.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar seqNumber = thisInstance.getSequenceNumber(element.closest('tr'));\n\t\t\tvar copyOfDefaultValue = affectedRow.clone(true, true);\n\t\t\tcopyOfDefaultValue.prop('disabled', false).attr('name', 'mapping[' + seqNumber + '][default]');\n\t\t\tif (copyOfDefaultValue.is(':checkbox') && defaultValue) {\n\t\t\t\tcopyOfDefaultValue.prop('checked', true);\n\t\t\t} else if (defaultValue) {\n\t\t\t\tdefaultValue =\n\t\t\t\t\ttypeof copyOfDefaultValue.attr('multiple') !== 'undefined' ? defaultValue.split(',') : defaultValue;\n\t\t\t\tcopyOfDefaultValue.val(defaultValue);\n\t\t\t}\n\t\t\tcopyOfDefaultValue.appendTo(dafeultTd);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(dafeultTd.find('select'));\n\t\t},\n\t\tloadDefaultValueWidgetForMappedFields: function (fieldsList) {\n\t\t\tvar thisInstance = this;\n\t\t\tfieldsList.each(function (i, element) {\n\t\t\t\tthisInstance.loadDefaultValueWidget(jQuery(this));\n\t\t\t});\n\t\t\tfieldsList.on('change', function (e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tthisInstance.loadDefaultValueWidget(element);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register events for edit view of fields mapping\n\t\t */\n\t\tregisterEventsForEditView: function () {\n\t\t\tthis.registerEventForAddingNewMapping();\n\t\t\tthis.registerOnChangeEventForSourceModule();\n\t\t\tthis.registerEventToDeleteMapping();\n\t\t\tthis.loadDefaultValueWidgetForMappedFields(jQuery('select.targetFields:not(.newSelect)'));\n\t\t},\n\t\t/*\n\t\t * Function to register on chnage event of target module\n\t\t */\n\t\tvalidationMappingFields: function () {\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tmappingTable = jQuery('#mappingToGenerate tr:not(.d-none)');\n\n\t\t\tmappingTable.each(function (i, e) {\n\t\t\t\tlet breakSave = false,\n\t\t\t\t\ttargetField = jQuery(this).find('.targetFields :selected'),\n\t\t\t\t\tmoduleName;\n\t\t\t\tif (mappingTable.find('.targetFields option[value=\"' + targetField.val() + '\"]:selected').length > 1) {\n\t\t\t\t\tmoduleName = jQuery('.targetModuleName').text();\n\t\t\t\t\tbreakSave = moduleName + ': ' + targetField.text();\n\t\t\t\t}\n\t\t\t\tif (breakSave) {\n\t\t\t\t\tlet warningMessage = breakSave + ' <br />' + app.vtranslate('JS_IS_ALREADY_BEEN_MAPPED'),\n\t\t\t\t\t\tnotificationParams = {\n\t\t\t\t\t\t\ttext: warningMessage,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(notificationParams);\n\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\taDeferred.resolve(true);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t}\n);\n"],"names":["Settings_MappedFields_Edit_Js","step2Container","advanceFilterInstance","restictName","init","initialize","getContainer","setContainer","element","container","jQuery","is","submit","aDeferred","Deferred","form","formData","serializeFormData","saveData","getData","record","validationMappingFields","done","data","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","app","saveAjax","success","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","mfRecordElement","val","result","id","AppConnector","request","hide","mode","resolve","fail","error","err","errorLog","promise","mappingData","mappingConditions","i","name","split","length","isArray","join","trim","inArray","extend","mapping","otherConditions","JSON","stringify","registerCancelStepClickEvent","on","window","history","back","registerEvents","opts","validationEngineOptions","valid","validationEngine","App","Fields","Picklist","showSelect2ElementView","find","registerEventsForEditView","registerEventForAddingNewMapping","mappingToGenerateTable","lastSequenceNumber","last","newSequenceNumber","thisInstance","getSequenceNumber","newMapping","clone","attr","removeClass","appendTo","addClass","select2Elements","trigger","loadDefaultValueWidgetForMappedFields","sequenceNumber","parseInt","registerOnChangeEventForSourceModule","e","currentTarget","closest","selectedValue","selectedOption","selectedDataType","mappingType","fieldsSelectElement","fieldsBasedOnType","children","options","each","append","q","k","option","remove","html","registerEventToDeleteMapping","trContainer","loadDefaultValueWidget","affectedRow","dafeultTd","next","defaultValueElement","defaultValue","exist","seqNumber","copyOfDefaultValue","prop","fieldsList","mappingTable","moduleName","breakSave","targetField","warningMessage","type"],"mappings":"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"}