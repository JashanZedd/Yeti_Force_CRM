{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_RecordAllocation_Index_Js', {}, {\n\tcontainer: false,\n\t/**\n\t * Register tables\n\t * @param {jQuery} contentData\n\t */\n\tregisterDataTables: function (contentData) {\n\t\tconst thisInstance = this;\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tif (contentData == undefined) {\n\t\t\tcontentData = thisInstance.getContainer();\n\t\t}\n\t\tcontentData.find('.js-data-table').dataTable({\n\t\t\tscrollY: 200,\n\t\t\tdeferRender: true,\n\t\t\tscroller: true,\n\t\t\tpaging: false,\n\t\t\tinfo: false\n\t\t});\n\t},\n\t/**\n\t * Register event drag and drop\n\t * @param {jQuery} contentData\n\t */\n\tregisterDragDropEvent: function (contentData) {\n\t\tif (contentData == undefined) {\n\t\t\treturn;\n\t\t}\n\t\tconst thisInstance = this;\n\t\tlet panel = contentData.closest('.js-panel'),\n\t\t\tindex = panel.data('index'),\n\t\t\twidth;\n\t\tcontentData.find('.js-drag-drop-' + index).draggable({\n\t\t\tappendTo: 'body',\n\t\t\thelper: 'clone',\n\t\t\tstart: function (e, ui) {\n\t\t\t\twidth = $(ui.helper.context).width();\n\t\t\t\t$(ui.helper).css('width', width).addClass('dataTableDragDrop bg-primary');\n\t\t\t},\n\t\t\tzIndex: 9999999999\n\t\t});\n\t\tcontentData.find('.dataTables_scrollBody .js-data-table').droppable({\n\t\t\tactiveClass: 'ui-state-default',\n\t\t\thoverClass: 'ui-state-hover',\n\t\t\taccept: '.js-drag-drop-' + index,\n\t\t\tdrop: function (event, ui) {\n\t\t\t\tlet tableBase = $(ui.draggable).closest('.js-data-table'),\n\t\t\t\t\ttable = $(this);\n\t\t\t\tif (tableBase.data('mode') != table.data('mode')) {\n\t\t\t\t\ttableBase.DataTable().row(ui.draggable).remove().draw();\n\t\t\t\t\ttable.DataTable().row.add(ui.draggable[0]).draw();\n\t\t\t\t\ttable = table.data('mode') == 'active' ? table : tableBase;\n\t\t\t\t\tthisInstance.save(table.closest('.js-panel'));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Save users for module\n\t * @param {jQuery} container\n\t */\n\tsave: function (container) {\n\t\tlet data = {\n\t\t\t\tmodule: container.data('modulename'),\n\t\t\t\tuserid: container.find('.js-base-user').val(),\n\t\t\t\ttype: app.getMainParams('fieldType')\n\t\t\t},\n\t\t\tuserData = [],\n\t\t\tdataContainer = container.find('.dataTables_scrollBody:first tbody tr');\n\t\tdataContainer.each(function (e) {\n\t\t\tlet id = $(this).data('id'),\n\t\t\t\tmode = $(this).data('type');\n\t\t\tif (id && mode) {\n\t\t\t\tif (!userData[mode]) {\n\t\t\t\t\tuserData[mode] = [];\n\t\t\t\t}\n\t\t\t\tuserData[mode].push(id);\n\t\t\t}\n\t\t});\n\t\tdata['ids'] = jQuery.extend({}, userData);\n\t\tapp.saveAjax('save', jQuery.extend({}, data));\n\t},\n\t/**\n\t * Register event to show form\n\t */\n\tregisterModalButton: function () {\n\t\tconst thisInstance = this,\n\t\t\tcontainer = this.getContainer();\n\t\tcontainer.find('button.js-add-panel').on('click', function () {\n\t\t\tlet modalWindow = container.find('.js-modal-add-panel').clone(true, true),\n\t\t\t\tinUseModules = thisInstance.getModules();\n\t\t\tmodalWindow.find('select option').each(function () {\n\t\t\t\tif ($.inArray($(this).val(), inUseModules) != -1) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.showModalWindow(modalWindow, function (data) {\n\t\t\t\t//register all select2 Elements\n\t\t\t\tlet selectElement = data.find('select'),\n\t\t\t\t\tform = data.find('form');\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement);\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\tlet currentTarget = $(e.currentTarget),\n\t\t\t\t\t\tmodule = currentTarget.find('.js-modules-list');\n\t\t\t\t\tif (module.length && module.val()) {\n\t\t\t\t\t\tthisInstance.addPanel(module.val());\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Returns list of modules which are visible\n\t * @returns {Array}\n\t */\n\tgetModules: function () {\n\t\tvar modules = [];\n\t\tthis.getContainer().find('.js-panel').each(function () {\n\t\t\tmodules.push(jQuery(this).data('modulename'));\n\t\t});\n\t\treturn modules;\n\t},\n\t/**\n\t * Load users form modules\n\t * @param {string} module\n\t * @returns {jQuery.Deferred}\n\t */\n\taddPanel: function (module) {\n\t\tconst thisInstance = this;\n\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t}),\n\t\t\tlastPanel = this.getContainer().find('.js-panel:last');\n\t\tAppConnector.request({\n\t\t\tindex: lastPanel.data('index'),\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tsourceModule: module,\n\t\t\tview: 'Index',\n\t\t\tmode: 'getPanel',\n\t\t\ttype: app.getMainParams('fieldType')\n\t\t}).done(function (data) {\n\t\t\tlet elements = thisInstance.getContainer().find('.js-panels-container').append(data);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(elements.find('.select2'));\n\t\t\tapp.hideModalWindow();\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.resolve(data);\n\t\t}, function (error) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Register event to load users\n\t */\n\tregisterLoadData: function () {\n\t\tconst thisInstance = this;\n\t\tthis.getContainer().on('change', '.js-base-user', function (e) {\n\t\t\tlet selectElement = jQuery(e.currentTarget),\n\t\t\t\tpanel = selectElement.closest('.js-panel-item'),\n\t\t\t\tdataJson = panel.find('.js-module-allocation-data').val(),\n\t\t\t\tdata = [];\n\t\t\tif (dataJson && dataJson != 'null') {\n\t\t\t\tdata = JSON.parse(dataJson);\n\t\t\t}\n\t\t\tlet userData = data[selectElement.val()],\n\t\t\t\tbodyContainer = panel.find('.js-active-panel');\n\t\t\tif (bodyContainer.length) {\n\t\t\t\tbodyContainer.remove();\n\t\t\t}\n\t\t\tlet bodyContainerTable = panel.find('.js-clear-tables').clone(true, true);\n\t\t\tif (userData != undefined) {\n\t\t\t\tlet activeData = bodyContainerTable.find('.js-data-table .dropContainer:first'),\n\t\t\t\t\tbaseData = bodyContainerTable.find('.js-data-table .dropContainer:last');\n\t\t\t\tbaseData.find('tr').each(function () {\n\t\t\t\t\tlet mode = jQuery(this).data('type'),\n\t\t\t\t\t\tid = jQuery(this).data('id');\n\t\t\t\t\tif ($.inArray(id, userData[mode]) != -1 || $.inArray(id.toString(), userData[mode]) != -1) {\n\t\t\t\t\t\tactiveData.append(jQuery(this));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tpanel.find('.js-panel-body').removeClass('d-none').append(bodyContainerTable.removeClass('js-clear-tables d-none').addClass('js-active-panel'));\n\t\t\tthisInstance.registerDataTables(bodyContainerTable);\n\t\t\tthisInstance.registerDragDropEvent(bodyContainerTable);\n\t\t});\n\t},\n\t/**\n\t * Register basic events\n\t */\n\tregisterHeaderElements: function () {\n\t\tthis.getContainer().on('click', '.js-remove-panel', function (e) {\n\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\tpanel = currentTarget.closest('.js-panel');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({'message': app.vtranslate('JS_ARE_YOU_SURE_YOU_WANT_TO_DELETE_PANEL')}).done(function (e) {\n\t\t\t\tapp.saveAjax('removePanel', {\n\t\t\t\t\tmodule: panel.data('modulename'),\n\t\t\t\t\ttype: app.getMainParams('fieldType')\n\t\t\t\t}).done(function () {\n\t\t\t\t\tpanel.fadeOut(300, function () {\n\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\tthis.registerLoadData();\n\t},\n\t/**\n\t * Returns container\n\t * @returns {jQuery}\n\t */\n\tgetContainer: function () {\n\t\tif (this.container == false) {\n\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t}\n\t\treturn this.container;\n\t},\n\t/**\n\t * Main function\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerModalButton();\n\t\tthis.registerHeaderElements();\n\t}\n});\n"],"names":["jQuery","Class","contentData","thisInstance","extend","$","fn","dataTable","defaults","app","vtranslate","undefined","getContainer","find","panel","closest","index","data","width","draggable","e","ui","helper","context","css","addClass","droppable","event","tableBase","table","DataTable","row","remove","draw","add","save","container","val","getMainParams","userData","dataContainer","each","id","mode","push","saveAjax","on","modalWindow","clone","inUseModules","getModules","inArray","showModalWindow","selectElement","form","Fields","Picklist","showSelect2ElementView","currentTarget","module","length","addPanel","preventDefault","modules","aDeferred","Deferred","progressIndicatorElement","progressIndicator","lastPanel","request","getModuleName","getParentModuleName","done","elements","append","hideModalWindow","resolve","error","reject","promise","dataJson","JSON","parse","bodyContainer","bodyContainerTable","activeData","baseData","toString","removeClass","registerDataTables","registerDragDropEvent","showConfirmationBox","fadeOut","registerLoadData","registerModalButton","registerHeaderElements"],"mappings":"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"}