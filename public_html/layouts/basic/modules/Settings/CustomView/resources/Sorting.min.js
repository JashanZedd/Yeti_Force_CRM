"use strict";var defineProperty=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj};jQuery.Class("Settings_CustomView_Sorting_Js",{},{formElement:!1,registerButtonsEvent:function(){var thisInstance=this,form=this.getForm();form.find(".js-clear").on("click",(function(e){jQuery(e.currentTarget).closest(".js-sort-container").find('[name="defaultOrderBy"]').val("").trigger("change")})),form.find(".js-sort-order-button").on("click",(function(e){jQuery(e.currentTarget).find(".fas").each((function(n,e){jQuery(this).hasClass("d-none")?(jQuery(this).removeClass("d-none"),form.find('[name="sortOrder"]').val(jQuery(this).data("val"))):jQuery(this).addClass("d-none")}))})),form.on("submit",(function(e){e.preventDefault();var form=jQuery(e.currentTarget);thisInstance.saveSorting(form)}))},saveSorting:function(form){var progress=$.progressIndicator({message:app.vtranslate("JS_SAVE_LOADER_INFO"),blockInfo:{enabled:!0}}),data=form.serializeFormData(),params={cvid:data.cvid,name:"sort",value:data.defaultOrderBy?JSON.stringify(defineProperty({},data.defaultOrderBy,data.sortOrder)):""};app.saveAjax("updateField",{},params).done((function(data){app.hideModalWindow(),data.success&&Vtiger_Helper_Js.showPnotify({text:data.result.message,type:"success"}),progress.progressIndicator({mode:"hide"})}))},getForm:function(){return!1===this.formElement&&this.setForm(jQuery("#js-sorting-filter")),this.formElement},setForm:function(element){return this.formElement=element,this},registerEvents:function(){this.registerButtonsEvent()}}),jQuery(document).ready((function(e){(new Settings_CustomView_Sorting_Js).registerEvents()}));
//# sourceMappingURL=Sorting.min.js.map
