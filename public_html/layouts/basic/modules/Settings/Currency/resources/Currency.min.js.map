{"version":3,"file":"Currency.min.js","sources":["Currency.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\njQuery.Class('Settings_Currency_Js', {\n\n\t//holds the currency instance\n\tcurrencyInstance: false,\n\n\t/**\n\t * This function used to triggerAdd Currency\n\t */\n\ttriggerAdd: function (event) {\n\t\tevent.stopPropagation();\n\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\tinstance.showEditView();\n\t},\n\n\t/**\n\t * This function used to trigger Edit Currency\n\t */\n\ttriggerEdit: function (event, id) {\n\t\tevent.stopPropagation();\n\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\tinstance.showEditView(id);\n\t},\n\n\t/**\n\t * This function used to trigger default currency\n\t * @param {object} event\n\t * @param {int} id\n\t */\n\ttriggerDefault: function (event, id) {\n\t\tevent.stopPropagation();\n\t\tVtiger_Helper_Js.showConfirmationBox({message: app.vtranslate('JS_CURRENCY_DEFAULT_CONFIRMED')}).done(function (data) {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({position: 'html', blockInfo: {enabled: true}});\n\t\t\tapp.saveAjax('setDefault', null, {record: id}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_CURRENCY_DETAILS_SAVED')});\n\t\t\t\tSettings_Currency_Js.currencyInstance.loadListViewContents();\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * This function used to trigger Delete Currency\n\t */\n\ttriggerDelete: function (event, id) {\n\t\tevent.stopPropagation();\n\t\tvar currentTarget = jQuery(event.currentTarget);\n\t\tvar currentTrEle = currentTarget.closest('tr');\n\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\tinstance.transformEdit(id).done(function (data) {\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tvar form = jQuery('#transformCurrency');\n\n\t\t\t\t//register all select2 Elements\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('select.select2'));\n\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar transferCurrencyEle = form.find('select[name=\"transform_to_id\"]');\n\t\t\t\t\tinstance.deleteCurrency(id, transferCurrencyEle, currentTrEle);\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {'width': '500px'});\n\t\t});\n\t}\n\n}, {\n\n\t//constructor\n\tinit: function () {\n\t\tSettings_Currency_Js.currencyInstance = this;\n\t},\n\n\t/*\n\t * function to show editView for Add/Edit Currency\n\t * @params: id - currencyId\n\t */\n\tshowEditView: function (id) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = 'EditAjax';\n\t\tparams['record'] = id;\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tvar form = jQuery('#editCurrency');\n\t\t\t\tvar record = form.find('[name=\"record\"]').val();\n\n\t\t\t\t//register all select2 Elements\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('select.select2'));\n\t\t\t\tvar currencyStatus = form.find('[name=\"currency_status\"]').is(':checked');\n\t\t\t\tif (record != '' && currencyStatus) {\n\t\t\t\t\t//While editing currency, register the status change event\n\t\t\t\t\tthisInstance.registerCurrencyStatusChangeEvent(form);\n\t\t\t\t}\n\t\t\t\t//If we change the currency name, change the code and symbol for that currency\n\t\t\t\tthisInstance.registerCurrencyNameChangeEvent(form);\n\n\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tthisInstance.saveCurrencyDetails(form);\n\t\t\t\t\t\treturn valid;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tform.validationEngine(params);\n\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {'width': '600px'});\n\t\t}).fail(function (error) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * Register Change event for currency status\n\t */\n\tregisterCurrencyStatusChangeEvent: function (form) {\n\t\t/*If the status changed to Inactive while editing currency,\n\t\t currency should transfer to other existing currencies */\n\t\tform.find('[name=\"currency_status\"]').on('change', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tform.find('div.transferCurrency').addClass('d-none');\n\t\t\t} else {\n\t\t\t\tform.find('div.transferCurrency').removeClass('d-none');\n\t\t\t}\n\t\t})\n\t},\n\n\t/**\n\t * Register Change event for currency Name\n\t */\n\tregisterCurrencyNameChangeEvent: function (form) {\n\t\tvar currencyNameEle = form.find('select[name=\"currency_name\"]');\n\t\t//on change of currencyName, update the currency code & symbol\n\t\tcurrencyNameEle.on('change', function () {\n\t\t\tvar selectedCurrencyOption = currencyNameEle.find('option:selected');\n\t\t\tform.find('[name=\"currency_code\"]').val(selectedCurrencyOption.data('code'));\n\t\t\tform.find('[name=\"currency_symbol\"]').val(selectedCurrencyOption.data('symbol'));\n\t\t})\n\t},\n\n\t/**\n\t * This function will save the currency details\n\t */\n\tsaveCurrencyDetails: function (form) {\n\t\tvar thisInstance = this;\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tvar data = form.serializeFormData();\n\t\tdata['module'] = app.getModuleName();\n\t\tdata['parent'] = app.getParentModuleName();\n\t\tdata['action'] = 'SaveAjax';\n\t\tdata['mode'] = 'save';\n\n\t\tAppConnector.request(data).done(function (data) {\n\t\t\tif (data['success']) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tvar params = {};\n\t\t\t\tparams.text = app.vtranslate('JS_CURRENCY_DETAILS_SAVED');\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\tthisInstance.loadListViewContents();\n\t\t\t}\n\t\t}).fail(function (error) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\n\t/**\n\t * This function will load the listView contents after Add/Edit currency\n\t */\n\tloadListViewContents: function () {\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = 'List';\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t//replace the new list view contents\n\t\t\tjQuery('#listViewContents').html(data);\n\t\t\t//thisInstance.triggerDisplayTypeEvent();\n\t\t}).fail(function (error, err) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\n\t/**\n\t * This function will show the Transform Currency view while delete the currency\n\t */\n\ttransformEdit: function (id) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = 'TransformEditAjax';\n\t\tparams['record'] = id;\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * This function will delete the currency and save the transferCurrency details\n\t */\n\tdeleteCurrency: function (id, transferCurrencyEle, currentTrEle) {\n\t\tvar transferCurrencyId = transferCurrencyEle.find('option:selected').val();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['action'] = 'DeleteAjax';\n\t\tparams['record'] = id;\n\t\tparams['transform_to_id'] = transferCurrencyId;\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tapp.hideModalWindow();\n\t\t\tvar params = {};\n\t\t\tparams.text = app.vtranslate('JS_CURRENCY_DELETED_SUCCESSFULLY');\n\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\tcurrentTrEle.fadeOut('slow').remove();\n\t\t});\n\t},\n\n\ttriggerDisplayTypeEvent: function () {\n\t\tvar widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\tif (widthType) {\n\t\t\tvar elements = jQuery('.listViewEntriesTable').find('td,th');\n\t\t\telements.attr('class', widthType);\n\t\t}\n\t},\n\n\tregisterRowClick: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#listViewContents').on('click', '.listViewEntries', function (e) {\n\t\t\tvar currentRow = jQuery(e.currentTarget);\n\t\t\tif (currentRow.find('.fas fa-edit ').length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthisInstance.showEditView(currentRow.data('id'));\n\t\t})\n\t},\n\n\tregisterEvents: function () {\n\t\tthis.registerRowClick();\n\t}\n\n});\n\njQuery(document).ready(function () {\n\tvar currencyInstance = new Settings_Currency_Js();\n\tcurrencyInstance.registerEvents();\n})\n"],"names":["jQuery","Class","event","stopPropagation","instance","Settings_Currency_Js","currencyInstance","showEditView","id","showConfirmationBox","message","app","vtranslate","done","data","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","saveAjax","record","mode","showMessage","text","loadListViewContents","currentTarget","currentTrEle","closest","transformEdit","callBackFunction","form","Fields","Picklist","showSelect2ElementView","find","on","e","preventDefault","transferCurrencyEle","deleteCurrency","showModalWindow","thisInstance","aDeferred","Deferred","params","getModuleName","getParentModuleName","request","val","currencyStatus","is","registerCurrencyStatusChangeEvent","registerCurrencyNameChangeEvent","validationEngineOptions","onValidationComplete","valid","saveCurrencyDetails","validationEngine","fail","error","reject","promise","addClass","removeClass","currencyNameEle","selectedCurrencyOption","serializeFormData","hideModalWindow","html","err","resolve","transferCurrencyId","fadeOut","remove","widthType","cacheGet","elements","attr","currentRow","length","registerRowClick","document","ready","registerEvents"],"mappings":"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"}