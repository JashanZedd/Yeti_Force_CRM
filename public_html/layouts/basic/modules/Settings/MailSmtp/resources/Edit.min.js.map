{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Edit_Js('Settings_MailSmtp_Edit_Js', {}, {\n\tregisterSubmitForm: function () {\n\t\tvar form = this.getForm();\n\t\tform.on('submit', function (e) {\n\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tblockInfo: {'enabled': true}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(paramsForm).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\tif (true == data.result.success) {\n\t\t\t\t\t\twindow.location.href = data.result.url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tform.find('.alert').removeClass('d-none');\n\t\t\t\t\t\tform.find('.alert p').text(data.result.message);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t}\n\t\t})\n\t},\n\t/**\n\t * Register events to preview password\n\t */\n\tregisterPreviewPassword: function () {\n\t\tconst container = this.getForm();\n\t\tconst button = container.find('.previewPassword');\n\t\tbutton.on('mousedown', function (e) {\n\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'text');\n\t\t});\n\t\tbutton.on('mouseup', function (e) {\n\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'password');\n\t\t});\n\t\tbutton.on('mouseout', function (e) {\n\t\t\tcontainer.find('[name=\"' + $(e.currentTarget).data('targetName') + '\"]').attr('type', 'password');\n\t\t});\n\t},\n\tregisterSaveSendMail() {\n\t\tconst form = this.getForm();\n\t\tform.find(\".js-save-send-mail\").on('click', () => {\n\t\t\tif (form.find(\".saveMailContent\").hasClass(\"d-none\")) {\n\t\t\t\tform.find(\".js-smtp-host\").attr('data-validation-engine', 'validate[required]');\n\t\t\t\tform.find(\".js-smtp-port\").attr('data-validation-engine', 'validate[required,custom[integer]]');\n\t\t\t\tform.find(\".js-smtp-password\").attr('data-validation-engine', 'validate[required]');\n\t\t\t\tform.find(\".js-smtp-username\").attr('data-validation-engine', 'validate[required]');\n\t\t\t\tform.find(\".js-smtp-folder\").attr('data-validation-engine', 'validate[required]');\n\t\t\t\tform.find(\".saveMailContent\").removeClass(\"d-none\");\n\t\t\t} else {\n\t\t\t\tform.find(\".js-smtp-host\").removeAttr('data-validation-engine');\n\t\t\t\tform.find(\".js-smtp-port\").removeAttr('data-validation-engine');\n\t\t\t\tform.find(\".js-smtp-password\").removeAttr('data-validation-engine');\n\t\t\t\tform.find(\".js-smtp-username\").removeAttr('data-validation-engine');\n\t\t\t\tform.find(\".js-smtp-folder\").removeAttr('data-validation-engine');\n\t\t\t\tform.find(\".saveMailContent\").addClass(\"d-none\");\n\t\t\t}\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tconst form = this.getForm();\n\t\tif (form.length) {\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.find(\"[data-inputmask]\").inputmask();\n\t\t}\n\t\tthis.registerSubmitForm();\n\t\tthis.registerPreviewPassword();\n\t\tthis.registerSaveSendMail();\n\t}\n})\n"],"names":["Settings_Vtiger_Edit_Js","form","this","getForm","on","e","validationEngine","paramsForm","serializeFormData","progressIndicatorElement","jQuery","progressIndicator","enabled","request","done","data","mode","result","success","location","href","url","find","removeClass","text","message","formAlignmentAfterValidation","container","button","$","currentTarget","attr","hasClass","removeAttr","addClass","length","app","validationEngineOptions","inputmask","registerSubmitForm","registerPreviewPassword","registerSaveSendMail"],"mappings":"aAGAA,wBAAwB,4BAA6B,GAAI,oBACpC,eACfC,KAAOC,KAAKC,eACXC,GAAG,UAAU,SAAUC,OACe,IAAtCJ,KAAKK,iBAAiB,YAAsB,KAC3CC,WAAaN,KAAKO,oBAClBC,yBAA2BC,OAAOC,kBAAkB,WAC5C,CAACC,SAAW,yBAEXC,QAAQN,YAAYO,MAAK,SAAUC,+BACtBJ,kBAAkB,CAACK,KAAQ,SAChD,GAAQD,KAAKE,OAAOC,eAChBC,SAASC,KAAOL,KAAKE,OAAOI,UAE9BC,KAAK,UAAUC,YAAY,eAC3BD,KAAK,YAAYE,KAAKT,KAAKE,OAAOQ,cAGlC,MAEHC,6BAA6BzB,kCAOX,eAClB0B,UAAYzB,KAAKC,UACjByB,OAASD,UAAUL,KAAK,2BACvBlB,GAAG,aAAa,SAAUC,aACtBiB,KAAK,UAAYO,EAAExB,EAAEyB,eAAef,KAAK,cAAgB,MAAMgB,KAAK,OAAQ,kBAEhF3B,GAAG,WAAW,SAAUC,aACpBiB,KAAK,UAAYO,EAAExB,EAAEyB,eAAef,KAAK,cAAgB,MAAMgB,KAAK,OAAQ,sBAEhF3B,GAAG,YAAY,SAAUC,aACrBiB,KAAK,UAAYO,EAAExB,EAAEyB,eAAef,KAAK,cAAgB,MAAMgB,KAAK,OAAQ,oDAIjF9B,KAAOC,KAAKC,eACbmB,KAAK,sBAAsBlB,GAAG,SAAS,WACvCH,KAAKqB,KAAK,oBAAoBU,SAAS,gBACrCV,KAAK,iBAAiBS,KAAK,yBAA0B,2BACrDT,KAAK,iBAAiBS,KAAK,yBAA0B,2CACrDT,KAAK,qBAAqBS,KAAK,yBAA0B,2BACzDT,KAAK,qBAAqBS,KAAK,yBAA0B,2BACzDT,KAAK,mBAAmBS,KAAK,yBAA0B,2BACvDT,KAAK,oBAAoBC,YAAY,iBAErCD,KAAK,iBAAiBW,WAAW,+BACjCX,KAAK,iBAAiBW,WAAW,+BACjCX,KAAK,qBAAqBW,WAAW,+BACrCX,KAAK,qBAAqBW,WAAW,+BACrCX,KAAK,mBAAmBW,WAAW,+BACnCX,KAAK,oBAAoBY,SAAS,8BAI1B,eACTjC,KAAOC,KAAKC,UACdF,KAAKkC,cACH7B,iBAAiB8B,IAAIC,8BACrBf,KAAK,oBAAoBgB,kBAE1BC,0BACAC,+BACAC"}