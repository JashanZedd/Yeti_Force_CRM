{"version":3,"file":"Profiles.min.js","sources":["Profiles.js"],"sourcesContent":["/*+*******************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n ********************************************************************************/\n'use strict';\n\nvar Settings_Profiles_Js = {\n\n\tinitEditView: function () {\n\n\t\tfunction toggleEditViewTableRow(e) {\n\t\t\tvar target = jQuery(e.currentTarget);\n\t\t\tvar container = jQuery('[data-togglecontent=\"' + target.data('togglehandler') + '\"]');\n\t\t\tvar closestTrElement = container.closest('tr');\n\n\t\t\tif (target.find('.fas').hasClass('fa-chevron-down')) {\n\t\t\t\tclosestTrElement.removeClass('d-none');\n\t\t\t\tcontainer.slideDown('slow');\n\t\t\t\ttarget.find('.fas').removeClass('fa-chevron-down').addClass('fa-chevron-up');\n\t\t\t} else {\n\t\t\t\tcontainer.slideUp('slow', function () {\n\t\t\t\t\tclosestTrElement.addClass('d-none');\n\t\t\t\t});\n\t\t\t\ttarget.find('.fa-chevron-up').removeClass('fa-chevron-up').addClass('fa-chevron-down');\n\t\t\t}\n\t\t}\n\n\t\tfunction handleChangeOfPermissionRange(e, ui) {\n\t\t\tvar target = jQuery(ui.handle);\n\t\t\tif (!target.hasClass('mini-slider-control')) {\n\t\t\t\ttarget = target.closest('.mini-slider-control');\n\t\t\t}\n\t\t\tvar input = jQuery('[data-range-input=\"' + target.data('range') + '\"]');\n\t\t\tinput.val(ui.value);\n\t\t\ttarget.attr('data-value', ui.value);\n\t\t}\n\n\t\tfunction handleModuleSelectionState(e) {\n\t\t\tvar target = jQuery(e.currentTarget);\n\t\t\tvar tabid = target.data('value');\n\n\t\t\tvar parent = target.closest('tr');\n\t\t\tif (target.prop('checked')) {\n\t\t\t\tjQuery('[data-action-state]', parent).prop('checked', true);\n\t\t\t\tjQuery('[data-handlerfor]', parent).removeAttr('disabled');\n\t\t\t} else {\n\t\t\t\tjQuery('[data-action-state]', parent).prop('checked', false);\n\n\t\t\t\t// Pull-up fields / tools details in disabled state.\n\t\t\t\tjQuery('[data-handlerfor]', parent).attr('disabled', 'disabled');\n\t\t\t\tjQuery('[data-togglecontent=\"' + tabid + '-fields\"]').hide();\n\t\t\t\tjQuery('[data-togglecontent=\"' + tabid + '-tools\"]').hide();\n\t\t\t}\n\t\t}\n\n\t\tfunction handleActionSelectionState(e) {\n\t\t\tvar target = jQuery(e.currentTarget);\n\t\t\tvar parent = target.closest('tr');\n\t\t\tvar checked = target.prop('checked') ? true : false;\n\t\t\tlet action = target.data('action-state');\n\t\t\tif (action === 'EditView' || action === 'Delete' || action === 'CreateView') {\n\t\t\t\tif (checked) {\n\t\t\t\t\tjQuery('[data-action-state=\"DetailView\"]', parent).prop('checked', true);\n\t\t\t\t\tjQuery('[data-module-state]', parent).prop('checked', true);\n\t\t\t\t\tjQuery('[data-handlerfor]', parent).removeAttr('disabled');\n\t\t\t\t}\n\t\t\t} else if (action === 'DetailView') {\n\t\t\t\tif (!checked) {\n\t\t\t\t\tjQuery('[data-action-state]', parent).prop('checked', false);\n\t\t\t\t\tjQuery('[data-module-state]', parent).prop('checked', false).trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('[data-module-state]', parent).prop('checked', true);\n\t\t\t\t\tjQuery('[data-handlerfor]', parent).removeAttr('disabled');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction selectAllModulesViewAndToolPriviliges(e) {\n\t\t\tvar target = jQuery(e.currentTarget);\n\t\t\tvar checked = target.prop('checked') ? true : false;\n\t\t\tif (checked) {\n\t\t\t\tjQuery('#mainAction4CheckBox').prop('checked', true);\n\t\t\t\tjQuery('#mainModulesCheckBox').prop('checked', true);\n\t\t\t\tjQuery('.modulesCheckBox').prop('checked', true);\n\t\t\t\tjQuery('.action4CheckBox').prop('checked', true);\n\t\t\t\tjQuery('[data-handlerfor]').removeAttr('disabled');\n\t\t\t}\n\t\t}\n\n\t\tjQuery('[data-module-state]').on('change', handleModuleSelectionState);\n\t\tjQuery('[data-action-state]').on('change', handleActionSelectionState);\n\t\tjQuery('#mainAction1CheckBox,#mainAction2CheckBox, #mainAction7CheckBox').on('change', selectAllModulesViewAndToolPriviliges);\n\n\t\tjQuery('[data-togglehandler]').on('click', toggleEditViewTableRow);\n\t\tjQuery('[data-range]').each(function (index, item) {\n\t\t\titem = jQuery(item);\n\t\t\tvar value = item.data('value');\n\t\t\titem.slider({\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 2,\n\t\t\t\tvalue: value,\n\t\t\t\tdisabled: item.data('locked'),\n\t\t\t\tslide: handleChangeOfPermissionRange\n\t\t\t});\n\t\t});\n\n\t\tjQuery('[data-range]').find('a').css('filter', '');\n\n\t},\n\n\tregisterSelectAllModulesEvent: function () {\n\t\tvar moduleCheckBoxes = jQuery('.modulesCheckBox');\n\t\tvar viewAction = jQuery('#mainAction4CheckBox');\n\t\tvar editAction = jQuery('#mainAction1CheckBox');\n\t\tvar deleteAction = jQuery('#mainAction2CheckBox');\n\t\tvar createAction = jQuery('#mainAction7CheckBox');\n\t\tvar mainModulesCheckBox = jQuery('#mainModulesCheckBox');\n\t\tmainModulesCheckBox.on('change', function (e) {\n\t\t\tvar mainCheckBox = jQuery(e.currentTarget);\n\t\t\tif (mainCheckBox.is(':checked')) {\n\t\t\t\tmoduleCheckBoxes.prop('checked', true);\n\t\t\t\tviewAction.prop('checked', true);\n\t\t\t\teditAction.show().prop('checked', true);\n\t\t\t\tdeleteAction.show().prop('checked', true);\n\t\t\t\tcreateAction.show().prop('checked', true);\n\t\t\t\tmoduleCheckBoxes.trigger('change');\n\t\t\t} else {\n\t\t\t\tmoduleCheckBoxes.prop('checked', false);\n\t\t\t\tmoduleCheckBoxes.trigger('change');\n\t\t\t\tviewAction.prop('checked', false);\n\t\t\t\teditAction.prop('checked', false);\n\t\t\t\tdeleteAction.prop('checked', false);\n\t\t\t\tcreateAction.prop('checked', false);\n\t\t\t}\n\t\t});\n\n\t\tmoduleCheckBoxes.on('change', function () {\n\t\t\tSettings_Profiles_Js.checkSelectAll(moduleCheckBoxes, mainModulesCheckBox);\n\t\t\tSettings_Profiles_Js.checkSelectAll(jQuery('.action4CheckBox'), viewAction);\n\t\t\tSettings_Profiles_Js.checkSelectAll(jQuery('.action1CheckBox'), editAction);\n\t\t\tSettings_Profiles_Js.checkSelectAll(jQuery('.action2CheckBox'), deleteAction);\n\t\t\tSettings_Profiles_Js.checkSelectAll(jQuery('.action7CheckBox'), createAction);\n\t\t});\n\t},\n\n\tregisterSelectAllViewActionsEvent: function () {\n\t\tvar viewActionCheckBoxes = jQuery('.action4CheckBox');\n\t\tvar mainViewActionCheckBox = jQuery('#mainAction4CheckBox');\n\t\tvar modulesMainCheckBox = jQuery('#mainModulesCheckBox');\n\n\t\tmainViewActionCheckBox.on('change', function (e) {\n\t\t\tvar mainCheckBox = jQuery(e.currentTarget);\n\t\t\tif (mainCheckBox.is(':checked')) {\n\t\t\t\tmodulesMainCheckBox.prop('checked', true);\n\t\t\t\tmodulesMainCheckBox.trigger('change');\n\t\t\t} else {\n\t\t\t\tmodulesMainCheckBox.prop('checked', false);\n\t\t\t\tmodulesMainCheckBox.trigger('change');\n\t\t\t}\n\t\t});\n\n\t\tviewActionCheckBoxes.on('change', function () {\n\t\t\tSettings_Profiles_Js.checkSelectAll(viewActionCheckBoxes, mainViewActionCheckBox);\n\t\t});\n\n\t},\n\n\tregisterSelectAllEditActionsEvent: function () {\n\t\tvar editActionCheckBoxes = jQuery('.action1CheckBox');\n\t\tvar mainEditActionCheckBox = jQuery('#mainAction1CheckBox');\n\t\tmainEditActionCheckBox.on('change', function (e) {\n\t\t\tvar mainCheckBox = jQuery(e.currentTarget);\n\t\t\tif (mainCheckBox.is(':checked')) {\n\t\t\t\teditActionCheckBoxes.prop('checked', true);\n\t\t\t} else {\n\t\t\t\teditActionCheckBoxes.prop('checked', false);\n\t\t\t}\n\t\t});\n\t\tmainEditActionCheckBox.on('change', function () {\n\t\t\tSettings_Profiles_Js.checkSelectAll(editActionCheckBoxes, mainEditActionCheckBox);\n\t\t});\n\n\t},\n\n\tregisterSelectAllDeleteActionsEvent: function () {\n\t\tvar deleteActionCheckBoxes = jQuery('.action2CheckBox');\n\t\tvar mainDeleteActionCheckBox = jQuery('#mainAction2CheckBox');\n\t\tmainDeleteActionCheckBox.on('change', function (e) {\n\t\t\tvar mainCheckBox = jQuery(e.currentTarget);\n\t\t\tif (mainCheckBox.is(':checked')) {\n\t\t\t\tdeleteActionCheckBoxes.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tdeleteActionCheckBoxes.prop('checked', false);\n\t\t\t}\n\t\t});\n\t\tdeleteActionCheckBoxes.on('change', function () {\n\t\t\tSettings_Profiles_Js.checkSelectAll(deleteActionCheckBoxes, mainDeleteActionCheckBox);\n\t\t});\n\t},\n\tregisterSelectAllCreateActionsEvent: function () {\n\t\tvar createActionCheckBoxes = jQuery('.action7CheckBox');\n\t\tvar mainCreateActionCheckBox = jQuery('#mainAction7CheckBox');\n\t\tmainCreateActionCheckBox.on('change', function (e) {\n\t\t\tvar mainCheckBox = jQuery(e.currentTarget);\n\t\t\tif (mainCheckBox.is(':checked')) {\n\t\t\t\tcreateActionCheckBoxes.prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcreateActionCheckBoxes.prop('checked', false);\n\t\t\t}\n\t\t});\n\t\tcreateActionCheckBoxes.on('change', function () {\n\t\t\tSettings_Profiles_Js.checkSelectAll(createActionCheckBoxes, mainCreateActionCheckBox);\n\t\t});\n\t},\n\tcheckSelectAll: function (checkBoxElement, mainCheckBoxElement) {\n\t\tvar state = true;\n\t\tif (typeof checkBoxElement === \"undefined\" || typeof mainCheckBoxElement === \"undefined\") {\n\t\t\treturn false;\n\t\t}\n\t\tcheckBoxElement.each(function (index, element) {\n\t\t\tif (jQuery(element).is(':checked')) {\n\t\t\t\tstate = true;\n\t\t\t} else {\n\t\t\t\tstate = false;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\tif (state == true) {\n\t\t\tmainCheckBoxElement.prop('checked', true);\n\t\t} else {\n\t\t\tmainCheckBoxElement.prop('checked', false);\n\t\t}\n\t},\n\n\tperformSelectAllActionsOnLoad: function () {\n\t\tif (jQuery('[data-module-unchecked]').length > 0) {\n\t\t\tjQuery('#mainModulesCheckBox').prop('checked', false);\n\t\t}\n\n\t\tif (jQuery('[data-action4-unchecked]').length <= 0) {\n\t\t\tjQuery('#mainAction4CheckBox').prop('checked', true);\n\t\t}\n\t\tif (jQuery('[data-action1-unchecked]').length <= 0) {\n\t\t\tjQuery('#mainAction1CheckBox').prop('checked', true);\n\t\t}\n\t\tif (jQuery('[data-action2-unchecked]').length > 0) {\n\t\t\tjQuery('#mainAction2CheckBox').prop('checked', false);\n\t\t}\n\t},\n\n\tregisterSubmitEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar form = jQuery('[name=\"EditProfile\"]');\n\t\tform.on('submit', function (e) {\n\t\t\tlet button = form.find('button[type=\"submit\"]'),\n\t\t\t\tprogressIndicatorInstance = jQuery.progressIndicator({\n\t\t\t\t\t'position': 'html',\n\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tbutton.attr('disabled', true);\n\t\t\tif (form.data('submit') === 'true' && form.data('performCheck') === 'true') {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tif (form.data('jqv').InvalidFields.length <= 0) {\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tthisInstance.checkDuplicateName({\n\t\t\t\t\t\t'profileName': formData.profilename,\n\t\t\t\t\t\t'profileId': formData.record\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\tform.data('performCheck', 'true');\n\t\t\t\t\t\tform.submit();\n\t\t\t\t\t}).fail(function (data, err) {\n\t\t\t\t\t\tprogressIndicatorInstance.progressIndicator({mode: 'hide'});\n\t\t\t\t\t\tbutton.attr('disabled', false);\n\t\t\t\t\t\tvar params = {};\n\t\t\t\t\t\tparams['text'] = data['message'];\n\t\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tprogressIndicatorInstance.progressIndicator({mode: 'hide'});\n\t\t\t\t\tbutton.attr('disabled', false);\n\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\t},\n\n\t/*\n\t * Function to check Duplication of Profile Name\n\t * returns boolean true or false\n\t */\n\n\tcheckDuplicateName: function (details) {\n\t\tvar profileName = details.profileName;\n\t\tvar recordId = details.profileId;\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar params = {\n\t\t\t'module': app.getModuleName(),\n\t\t\t'parent': app.getParentModuleName(),\n\t\t\t'action': 'EditAjax',\n\t\t\t'mode': 'checkDuplicate',\n\t\t\t'profilename': profileName,\n\t\t\t'record': recordId\n\t\t}\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar result = response['success'];\n\t\t\tif (result == true) {\n\t\t\t\taDeferred.reject(response);\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(response);\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\tregisterGlobalPermissionActionsEvent: function () {\n\t\tvar editAllAction = jQuery('[name=\"editall\"]').filter(':checkbox');\n\t\tvar viewAllAction = jQuery('[name=\"viewall\"]').filter(':checkbox');\n\n\t\tif (editAllAction.is(':checked')) {\n\t\t\tviewAllAction.attr('readonly', 'readonly');\n\t\t}\n\n\t\tviewAllAction.on('change', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tif (currentTarget.attr('readonly') == 'readonly') {\n\t\t\t\tvar status = jQuery(e.currentTarget).is(':checked');\n\t\t\t\tif (!status) {\n\t\t\t\t\tjQuery(e.currentTarget).prop('checked', true)\n\t\t\t\t} else {\n\t\t\t\t\tjQuery(e.currentTarget).prop('checked', false);\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t})\n\n\t\teditAllAction.on('change', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tviewAllAction.prop('checked', 'checked');\n\t\t\t\tviewAllAction.attr('readonly', 'readonly');\n\t\t\t} else {\n\t\t\t\tviewAllAction.removeAttr('readonly');\n\t\t\t}\n\t\t})\n\t},\n\n\tregisterEvents: function () {\n\t\tSettings_Profiles_Js.initEditView();\n\t\tSettings_Profiles_Js.registerSelectAllModulesEvent();\n\t\tSettings_Profiles_Js.registerSelectAllViewActionsEvent();\n\t\tSettings_Profiles_Js.registerSelectAllCreateActionsEvent();\n\t\tSettings_Profiles_Js.registerSelectAllEditActionsEvent();\n\t\tSettings_Profiles_Js.registerSelectAllDeleteActionsEvent();\n\t\tSettings_Profiles_Js.performSelectAllActionsOnLoad();\n\t\tSettings_Profiles_Js.registerSubmitEvent();\n\t\tSettings_Profiles_Js.registerGlobalPermissionActionsEvent();\n\t}\n\n}\njQuery(document).ready(function () {\n\tSettings_Profiles_Js.registerEvents();\n})\n"],"names":["Settings_Profiles_Js","toggleEditViewTableRow","e","target","jQuery","currentTarget","container","data","closestTrElement","closest","find","hasClass","removeClass","slideDown","addClass","slideUp","handleChangeOfPermissionRange","ui","handle","input","val","value","attr","handleModuleSelectionState","tabid","parent","prop","removeAttr","hide","handleActionSelectionState","checked","action","trigger","selectAllModulesViewAndToolPriviliges","on","each","index","item","slider","css","moduleCheckBoxes","viewAction","editAction","deleteAction","createAction","mainModulesCheckBox","mainCheckBox","is","show","checkSelectAll","viewActionCheckBoxes","mainViewActionCheckBox","modulesMainCheckBox","editActionCheckBoxes","mainEditActionCheckBox","deleteActionCheckBoxes","mainDeleteActionCheckBox","createActionCheckBoxes","mainCreateActionCheckBox","checkBoxElement","mainCheckBoxElement","state","element","length","thisInstance","form","button","progressIndicatorInstance","progressIndicator","InvalidFields","formData","serializeFormData","checkDuplicateName","profilename","record","done","submit","fail","err","mode","params","showMessage","removeData","formAlignmentAfterValidation","preventDefault","details","profileName","recordId","profileId","aDeferred","Deferred","app","getModuleName","getParentModuleName","request","response","result","reject","resolve","error","promise","editAllAction","filter","viewAllAction","status","initEditView","registerSelectAllModulesEvent","registerSelectAllViewActionsEvent","registerSelectAllCreateActionsEvent","registerSelectAllEditActionsEvent","registerSelectAllDeleteActionsEvent","performSelectAllActionsOnLoad","registerSubmitEvent","registerGlobalPermissionActionsEvent","document","ready","registerEvents"],"mappings":"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"}