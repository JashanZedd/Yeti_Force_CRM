{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\"Settings_TreesManager_List_Js\", {\n\ttriggerCreate: function (url) {\n\t\tvar selectedModule = jQuery('#moduleFilter').val();\n\t\tif (selectedModule.length > 0) {\n\t\t\turl += '&source_module=' + selectedModule\n\t\t}\n\t\twindow.location.href = url;\n\t}\n}, {\n\t/*\n\t * function to trigger delete record action\n\t * @params: delete record url.\n\t */\n\tDeleteRecord: function (deleteRecordActionUrl) {\n\t\tvar thisInstance = this;\n\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\tVtiger_Helper_Js.showConfirmationBox({'message': message}).done(function (data) {\n\t\t\tAppConnector.request(deleteRecordActionUrl).done(function (data) {\n\t\t\t\tif (data.success == true) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_TREE_DELETED_SUCCESSFULLY')\n\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t\tthisInstance.getListViewRecords().done(function () {\n\t\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.error.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterFilterChangeEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\tjQuery('#pageNumber').val(\"1\");\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#orderBy').val('');\n\t\t\tjQuery(\"#sortOrder\").val('');\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t}\n\t\t\t//Make the select all count as empty\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text(\"\");\n\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t},\n\n\t/*\n\t * function to load the contents from the url through pjax\n\t */\n\tloadContents: function (url) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tAppConnector.requestPjax(url).done(function (data) {\n\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * Function to register events\n\t */\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\tthis.registerFilterChangeEvent();\n\t}\n})\n"],"names":["Settings_Vtiger_List_Js","url","selectedModule","jQuery","val","length","location","href","deleteRecordActionUrl","thisInstance","message","app","vtranslate","showConfirmationBox","done","data","request","success","params","showMessage","text","getListViewRecords","updatePagination","showPnotify","error","on","e","getModuleName","getParentModuleName","currentTarget","aDeferred","Deferred","requestPjax","html","resolve","fail","err","reject","promise","_super","registerFilterChangeEvent"],"mappings":";;AAAA;AACA;AAEAA,wBAAwB,+BAAxB,EAAyD;gBACzC,uBAAUC,GAAV,EAAe;MACzBC,iBAAiBC,OAAO,eAAP,EAAwBC,GAAxB,EAArB;MACIF,eAAeG,MAAf,GAAwB,CAA5B,EAA+B;UACvB,oBAAoBH,cAA3B;;SAEMI,QAAP,CAAgBC,IAAhB,GAAuBN,GAAvB;;CANF,EAQG;;;;;eAKY,sBAAUO,qBAAV,EAAiC;MAC1CC,eAAe,IAAnB;MACIC,UAAUC,IAAIC,UAAJ,CAAe,yBAAf,CAAd;mBACiBC,mBAAjB,CAAqC,EAAC,WAAWH,OAAZ,EAArC,EAA2DI,IAA3D,CAAgE,UAAUC,IAAV,EAAgB;gBAClEC,OAAb,CAAqBR,qBAArB,EAA4CM,IAA5C,CAAiD,UAAUC,IAAV,EAAgB;QAC5DA,KAAKE,OAAL,IAAgB,IAApB,EAA0B;SACrBC,SAAS;YACNP,IAAIC,UAAJ,CAAe,8BAAf;MADP;8BAGyBO,WAAzB,CAAqCD,MAArC;YACO,eAAP,EAAwBd,GAAxB,CAA4B,EAA5B;YACO,iBAAP,EAA0BgB,IAA1B,CAA+B,EAA/B;kBACaC,kBAAb,GAAkCP,IAAlC,CAAuC,YAAY;mBACrCQ,gBAAb;MADD;KAPD,MAUO;sBACWC,WAAjB,CAA6BR,KAAKS,KAAL,CAAWd,OAAxC;;IAZF;GADD;EARC;;4BA2ByB,qCAAY;MAClCD,eAAe,IAAnB;SACO,eAAP,EAAwBgB,EAAxB,CAA2B,QAA3B,EAAqC,UAAUC,CAAV,EAAa;UAC1C,aAAP,EAAsBtB,GAAtB,CAA0B,GAA1B;UACO,aAAP,EAAsBA,GAAtB,CAA0B,GAA1B;UACO,UAAP,EAAmBA,GAAnB,CAAuB,EAAvB;UACO,YAAP,EAAqBA,GAArB,CAAyB,EAAzB;OACIc,SAAS;YACJP,IAAIgB,aAAJ,EADI;YAEJhB,IAAIiB,mBAAJ,EAFI;kBAGEzB,OAAOuB,EAAEG,aAAT,EAAwBzB,GAAxB;;IAHf,CAMAD,OAAO,eAAP,EAAwBC,GAAxB,CAA4B,EAA5B;;UAEO,iBAAP,EAA0BgB,IAA1B,CAA+B,EAA/B;gBACaC,kBAAb,CAAgCH,MAAhC,EAAwCJ,IAAxC,CAA6C,UAAUC,IAAV,EAAgB;iBAC/CO,gBAAb;IADD;GAdD;EA7BC;;;;;eAoDY,sBAAUrB,GAAV,EAAe;MACxB6B,YAAY3B,OAAO4B,QAAP,EAAhB;eACaC,WAAb,CAAyB/B,GAAzB,EAA8Ba,IAA9B,CAAmC,UAAUC,IAAV,EAAgB;UAC3C,cAAP,EAAuBkB,IAAvB,CAA4BlB,IAA5B;aACUmB,OAAV,CAAkBnB,IAAlB;GAFD,EAGGoB,IAHH,CAGQ,UAAUX,KAAV,EAAiBY,GAAjB,EAAsB;aACnBC,MAAV,CAAiBb,KAAjB,EAAwBY,GAAxB;GAJD;SAMON,UAAUQ,OAAV,EAAP;EA5DC;;;;;iBAkEc,0BAAY;OACtBC,MAAL;OACKC,yBAAL;;CA5EF"}