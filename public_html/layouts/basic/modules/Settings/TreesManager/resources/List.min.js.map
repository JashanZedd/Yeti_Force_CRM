{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\"Settings_TreesManager_List_Js\", {\n\ttriggerCreate: function (url) {\n\t\tvar selectedModule = jQuery('#moduleFilter').val();\n\t\tif (selectedModule.length > 0) {\n\t\t\turl += '&source_module=' + selectedModule\n\t\t}\n\t\twindow.location.href = url;\n\t}\n}, {\n\t/*\n\t * function to trigger delete record action\n\t * @params: delete record url.\n\t */\n\tDeleteRecord: function (deleteRecordActionUrl) {\n\t\tvar thisInstance = this;\n\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\tVtiger_Helper_Js.showConfirmationBox({'message': message}).done(function (data) {\n\t\t\tAppConnector.request(deleteRecordActionUrl).done(function (data) {\n\t\t\t\tif (data.success == true) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_TREE_DELETED_SUCCESSFULLY')\n\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t\tthisInstance.getListViewRecords().done(function () {\n\t\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.error.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterFilterChangeEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\tjQuery('#pageNumber').val(\"1\");\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#orderBy').val('');\n\t\t\tjQuery(\"#sortOrder\").val('');\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t}\n\t\t\t//Make the select all count as empty\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text(\"\");\n\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t},\n\n\t/*\n\t * function to load the contents from the url through pjax\n\t */\n\tloadContents: function (url) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tAppConnector.requestPjax(url).done(function (data) {\n\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * Function to register events\n\t */\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\tthis.registerFilterChangeEvent();\n\t}\n})\n"],"names":["Settings_Vtiger_List_Js","url","selectedModule","jQuery","val","length","location","href","deleteRecordActionUrl","thisInstance","this","message","app","vtranslate","showConfirmationBox","done","data","request","success","params","showMessage","text","getListViewRecords","updatePagination","showPnotify","error","on","e","getModuleName","getParentModuleName","currentTarget","aDeferred","Deferred","requestPjax","html","resolve","fail","err","reject","promise","_super","registerFilterChangeEvent"],"mappings":"aAGAA,wBAAwB,gCAAiC,eACzC,SAAUC,SACpBC,eAAiBC,OAAO,iBAAiBC,MACzCF,eAAeG,OAAS,SACpB,kBAAoBH,uBAErBI,SAASC,KAAON,MAEtB,cAKY,SAAUO,2BACnBC,aAAeC,KACfC,QAAUC,IAAIC,WAAW,4CACZC,oBAAoB,CAACH,QAAWA,UAAUI,MAAK,SAAUC,mBAC5DC,QAAQT,uBAAuBO,MAAK,SAAUC,SACtC,GAAhBA,KAAKE,QAAiB,KACrBC,OAAS,MACNP,IAAIC,WAAW,0DAEGO,YAAYD,eAC9B,iBAAiBf,IAAI,WACrB,mBAAmBiB,KAAK,iBAClBC,qBAAqBP,MAAK,wBACzBQ,4CAGGC,YAAYR,KAAKS,MAAMd,0CAMjB,eACtBF,aAAeC,YACZ,iBAAiBgB,GAAG,UAAU,SAAUC,UACvC,eAAevB,IAAI,YACnB,eAAeA,IAAI,YACnB,YAAYA,IAAI,WAChB,cAAcA,IAAI,QACrBe,OAAS,QACJP,IAAIgB,uBACJhB,IAAIiB,mCACE1B,OAAOwB,EAAEG,eAAe1B,OAGvCD,OAAO,iBAAiBC,IAAI,WAErB,mBAAmBiB,KAAK,iBAClBC,mBAAmBH,QAAQJ,MAAK,SAAUC,mBACzCO,uCAQF,SAAUtB,SACnB8B,UAAY5B,OAAO6B,+BACVC,YAAYhC,KAAKc,MAAK,SAAUC,aACrC,gBAAgBkB,KAAKlB,gBAClBmB,QAAQnB,SAChBoB,MAAK,SAAUX,MAAOY,eACdC,OAAOb,MAAOY,QAElBN,UAAUQ,0BAMF,gBACVC,cACAC"}