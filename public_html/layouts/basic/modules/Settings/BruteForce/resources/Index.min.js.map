{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_BruteForce_Index_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tgetContainer: function() {\n\t\t\tif (this.container == false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tsaveAjax: function(mode, params) {\n\t\t\tapp\n\t\t\t\t.saveAjax(mode, params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar response = data.result;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate(response.message),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: app.vtranslate('JS_COULD_NOT_FINNISH_REACTION') });\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\tregisterSwitchEvents: function() {\n\t\t\tthis.getContainer()\n\t\t\t\t.find('.js-switch--sent')\n\t\t\t\t.on('change', e => {\n\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t.closest('.form-group')\n\t\t\t\t\t\t.find('.selectedUsersForm')\n\t\t\t\t\t\t.toggleClass('d-none');\n\t\t\t\t});\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.registerSwitchEvents();\n\t\t\tvar forms = thisInstance.getContainer().find('form');\n\t\t\tforms.on('submit', function(e) {\n\t\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\t\tif (form.validationEngine('validate') == true) {\n\t\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\t\tparamsForm['active'] = form.find('[name=\"active\"]').prop('checked') ? 1 : 0;\n\t\t\t\t\tparamsForm['sent'] = form.find('[name=\"sent\"]').prop('checked') ? 1 : 0;\n\t\t\t\t\tdelete paramsForm['_csrf'];\n\t\t\t\t\tthisInstance.saveAjax(form.data('mode'), paramsForm);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t\tforms.validationEngine(app.validationEngineOptions);\n\t\t\tjQuery('.unblock').on('click', function(e) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tapp.saveAjax('unBlock', element.data('id')).done(function(data) {\n\t\t\t\t\tvar response = data.result;\n\t\t\t\t\tvar params = { text: app.vtranslate(response.message) };\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tparams.type = 'info';\n\t\t\t\t\t\telement.parents('tr').hide();\n\t\t\t\t\t}\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","this","container","mode","params","saveAjax","done","data","response","result","app","vtranslate","message","showPnotify","fail","textStatus","errorThrown","text","errorLog","getContainer","find","on","e","currentTarget","closest","toggleClass","thisInstance","registerSwitchEvents","forms","form","validationEngine","paramsForm","serializeFormData","prop","formAlignmentAfterValidation","validationEngineOptions","progressIndicatorElement","progressIndicator","element","success","type","parents","hide"],"mappings":"aAGAA,OAAOC,MACN,+BACA,GACA,YACY,eACG,kBACS,GAAlBC,KAAKC,iBACHA,UAAYH,OAAO,oBAElBE,KAAKC,oBAEH,SAASC,KAAMC,YAEtBC,SAASF,KAAMC,QACfE,MAAK,SAASC,UACVC,SAAWD,KAAKE,OAChBL,OAAS,MACNM,IAAIC,WAAWH,SAASI,cACxB,yBAEUC,YAAYT,WAE7BU,MAAK,SAASC,WAAYC,8BACTH,YAAY,CAAEI,KAAMP,IAAIC,WAAW,uCAChDO,SAASH,WAAYC,sCAGN,gBAChBG,eACHC,KAAK,oBACLC,GAAG,UAAU,cACXC,EAAEC,eACFC,QAAQ,eACRJ,KAAK,sBACLK,YAAY,6BAGD,eACXC,aAAezB,kBACN0B,2BACTC,MAAQF,aAAaP,eAAeC,KAAK,cACvCC,GAAG,UAAU,SAASC,OACvBO,KAAO9B,OAAOuB,EAAEC,kBACqB,GAArCM,KAAKC,iBAAiB,YAAqB,KAC1CC,WAAaF,KAAKG,sCACtB,OAAuBH,KAAKT,KAAK,mBAAmBa,KAAK,WAAa,EAAI,aAC1E,KAAqBJ,KAAKT,KAAK,iBAAiBa,KAAK,WAAa,EAAI,SAC/DF,WAAA,mBACM1B,SAASwB,KAAKtB,KAAK,QAASwB,aAClC,MAEHG,6BAA6BL,eAG7BC,iBAAiBpB,IAAIyB,gCACpB,YAAYd,GAAG,SAAS,SAASC,OACnCc,yBAA2BrC,OAAOsC,kBAAkB,UAC7C,iBACC,UACD,KAGPC,QAAUvC,OAAOuB,EAAEC,mBACnBlB,SAAS,UAAWiC,QAAQ/B,KAAK,OAAOD,MAAK,SAASC,UACrDC,SAAWD,KAAKE,OAChBL,OAAS,CAAEa,KAAMP,IAAIC,WAAWH,SAASI,UACzCJ,SAAS+B,iBACLC,KAAO,eACNC,QAAQ,MAAMC,iCAEEL,kBAAkB,CAAElC,KAAM,0BAClCU,YAAYT"}