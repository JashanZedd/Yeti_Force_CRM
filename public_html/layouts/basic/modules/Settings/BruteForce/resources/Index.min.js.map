{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_BruteForce_Index_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tgetContainer: function() {\n\t\t\tif (this.container == false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tsaveAjax: function(mode, params) {\n\t\t\tapp\n\t\t\t\t.saveAjax(mode, params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar response = data.result;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate(response.message),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: app.vtranslate('JS_COULD_NOT_FINNISH_REACTION') });\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\tregisterSwitchEvents: function() {\n\t\t\tthis.getContainer()\n\t\t\t\t.find('.js-switch--sent')\n\t\t\t\t.on('change', e => {\n\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t.closest('.form-group')\n\t\t\t\t\t\t.find('.selectedUsersForm')\n\t\t\t\t\t\t.toggleClass('d-none');\n\t\t\t\t});\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.registerSwitchEvents();\n\t\t\tvar forms = thisInstance.getContainer().find('form');\n\t\t\tforms.on('submit', function(e) {\n\t\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\t\tif (form.validationEngine('validate') == true) {\n\t\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\t\tparamsForm['active'] = form.find('[name=\"active\"]').prop('checked') ? 1 : 0;\n\t\t\t\t\tparamsForm['sent'] = form.find('[name=\"sent\"]').prop('checked') ? 1 : 0;\n\t\t\t\t\tdelete paramsForm['_csrf'];\n\t\t\t\t\tthisInstance.saveAjax(form.data('mode'), paramsForm);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t\tforms.validationEngine(app.validationEngineOptions);\n\t\t\tjQuery('.unblock').on('click', function(e) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tapp.saveAjax('unBlock', element.data('id')).done(function(data) {\n\t\t\t\t\tvar response = data.result;\n\t\t\t\t\tvar params = { text: app.vtranslate(response.message) };\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tparams.type = 'info';\n\t\t\t\t\t\telement.parents('tr').hide();\n\t\t\t\t\t}\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","mode","params","saveAjax","done","data","response","result","app","vtranslate","message","showPnotify","fail","textStatus","errorThrown","text","errorLog","getContainer","find","on","e","currentTarget","closest","toggleClass","thisInstance","registerSwitchEvents","forms","form","validationEngine","paramsForm","serializeFormData","prop","formAlignmentAfterValidation","validationEngineOptions","progressIndicatorElement","progressIndicator","element","success","type","parents","hide"],"mappings":";;AAAA;AACA;AAEAA,OAAOC,KAAP,CACC,8BADD,EAEC,EAFD,EAGC;YACY,KADZ;eAEe,wBAAW;MACpB,KAAKC,SAAL,IAAkB,KAAtB,EAA6B;QACvBA,SAAL,GAAiBF,OAAO,iBAAP,CAAjB;;SAEM,KAAKE,SAAZ;EANF;WAQW,kBAASC,IAAT,EAAeC,MAAf,EAAuB;MAE9BC,QADF,CACWF,IADX,EACiBC,MADjB,EAEEE,IAFF,CAEO,UAASC,IAAT,EAAe;OAChBC,WAAWD,KAAKE,MAApB;OACIL,SAAS;UACNM,IAAIC,UAAJ,CAAeH,SAASI,OAAxB,CADM;UAEN;IAFP;oBAIiBC,WAAjB,CAA6BT,MAA7B;GARF,EAUEU,IAVF,CAUO,UAASC,UAAT,EAAqBC,WAArB,EAAkC;oBACtBH,WAAjB,CAA6B,EAAEI,MAAMP,IAAIC,UAAJ,CAAe,+BAAf,CAAR,EAA7B;OACIO,QAAJ,CAAaH,UAAb,EAAyBC,WAAzB;GAZF;EATF;uBAwBuB,gCAAW;OAC3BG,YAAL,GACEC,IADF,CACO,kBADP,EAEEC,EAFF,CAEK,QAFL,EAEe,aAAK;KAChBC,EAAEC,aAAJ,EACEC,OADF,CACU,aADV,EAEEJ,IAFF,CAEO,oBAFP,EAGEK,WAHF,CAGc,QAHd;GAHF;EAzBF;iBAkCiB,0BAAW;MACtBC,eAAe,IAAnB;eACaC,oBAAb;MACIC,QAAQF,aAAaP,YAAb,GAA4BC,IAA5B,CAAiC,MAAjC,CAAZ;QACMC,EAAN,CAAS,QAAT,EAAmB,UAASC,CAAT,EAAY;OAC1BO,OAAO7B,OAAOsB,EAAEC,aAAT,CAAX;OACIM,KAAKC,gBAAL,CAAsB,UAAtB,KAAqC,IAAzC,EAA+C;QAC1CC,aAAaF,KAAKG,iBAAL,EAAjB;eACW,QAAX,IAAuBH,KAAKT,IAAL,CAAU,iBAAV,EAA6Ba,IAA7B,CAAkC,SAAlC,IAA+C,CAA/C,GAAmD,CAA1E;eACW,MAAX,IAAqBJ,KAAKT,IAAL,CAAU,eAAV,EAA2Ba,IAA3B,CAAgC,SAAhC,IAA6C,CAA7C,GAAiD,CAAtE;WACOF,WAAW,OAAX,CAAP;iBACa1B,QAAb,CAAsBwB,KAAKtB,IAAL,CAAU,MAAV,CAAtB,EAAyCwB,UAAzC;WACO,KAAP;IAND,MAOO;QACFG,4BAAJ,CAAiCL,IAAjC;;GAVF;QAaMC,gBAAN,CAAuBpB,IAAIyB,uBAA3B;SACO,UAAP,EAAmBd,EAAnB,CAAsB,OAAtB,EAA+B,UAASC,CAAT,EAAY;OACtCc,2BAA2BpC,OAAOqC,iBAAP,CAAyB;cAC7C,MAD6C;eAE5C;cACD;;IAHoB,CAA/B;OAMIC,UAAUtC,OAAOsB,EAAEC,aAAT,CAAd;OACIlB,QAAJ,CAAa,SAAb,EAAwBiC,QAAQ/B,IAAR,CAAa,IAAb,CAAxB,EAA4CD,IAA5C,CAAiD,UAASC,IAAT,EAAe;QAC3DC,WAAWD,KAAKE,MAApB;QACIL,SAAS,EAAEa,MAAMP,IAAIC,UAAJ,CAAeH,SAASI,OAAxB,CAAR,EAAb;QACIJ,SAAS+B,OAAb,EAAsB;YACdC,IAAP,GAAc,MAAd;aACQC,OAAR,CAAgB,IAAhB,EAAsBC,IAAtB;;6BAEwBL,iBAAzB,CAA2C,EAAElC,MAAM,MAAR,EAA3C;qBACiBU,WAAjB,CAA6BT,MAA7B;IARD;GARD;;CAvDH"}