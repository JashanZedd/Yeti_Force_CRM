{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\"Settings_LoginHistory_List_Js\", {}, {\n\n\tregisterFilterChangeEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#usersFilter').on('change', function (e) {\n\t\t\tjQuery('#pageNumber').val(\"1\");\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#orderBy').val('');\n\t\t\tjQuery(\"#sortOrder\").val('');\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t'search_key': 'user_name',\n\t\t\t\t'search_value': jQuery(e.currentTarget).val(),\n\t\t\t\t'page': 1,\n\t\t\t\t'user_name': this.options[this.selectedIndex].getAttribute(\"name\")\n\t\t\t}\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text(\"\");\n\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t},\n\n\tgetDefaultParams: function () {\n\t\tvar pageNumber = jQuery('#pageNumber').val();\n\t\tvar module = app.getModuleName();\n\t\tvar parent = app.getParentModuleName();\n\t\tvar params = {\n\t\t\t'module': module,\n\t\t\t'parent': parent,\n\t\t\t'page': pageNumber,\n\t\t\t'view': \"List\",\n\t\t\t'user_name': jQuery('select[id=usersFilter] option:selected').attr('name'),\n\t\t\t'search_key': 'user_name',\n\t\t\t'search_value': jQuery('#usersFilter').val()\n\t\t}\n\n\t\treturn params;\n\t},\n\n\t/**\n\t * Function to get Page Jump Params\n\t */\n\tgetPageJumpParams: function () {\n\t\tvar module = app.getModuleName();\n\t\tvar parent = app.getParentModuleName();\n\t\tvar pageJumpParams = {\n\t\t\t'module': module,\n\t\t\t'parent': parent,\n\t\t\t'action': \"ListAjax\",\n\t\t\t'mode': \"getPageCount\",\n\t\t\t'search_value': jQuery('#usersFilter').val(),\n\t\t\t'search_key': 'user_name'\n\t\t}\n\t\treturn pageJumpParams;\n\t},\n\n\tupdatePagination: function (pageNumber) {\n\t\tpageNumber = typeof pageNumber !== \"undefined\" ? pageNumber : 1;\n\t\tvar thisInstance = this;\n\t\tvar cvId = thisInstance.getCurrentCvId();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tif ('Settings' == app.getParentModuleName())\n\t\t\tparams['parent'] = 'Settings';\n\t\tparams['view'] = 'Pagination';\n\t\tparams['viewname'] = cvId;\n\t\tparams['page'] = pageNumber;\n\t\tparams['mode'] = 'getPagination';\n\t\tparams['sourceModule'] = jQuery('#moduleFilter').val();\n\t\tparams['totalCount'] = $('.pagination').data('totalCount');\n\n\t\tparams['search_key'] = 'user_name';\n\t\tparams['search_value'] = jQuery('#usersFilter').val();\n\t\tparams['operator'] = 's';\n\n\t\tparams['noOfEntries'] = jQuery('#noOfEntries').val();\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\tthisInstance.registerPageNavigationEvents();\n\t\t});\n\t},\n\n\tregisterEvents: function () {\n\t\tthis.registerFilterChangeEvent();\n\t\tthis.registerPageNavigationEvents();\n\t\tthis.registerEventForTotalRecordsCount();\n\t}\n});\n"],"names":["Settings_Vtiger_List_Js","thisInstance","this","on","e","val","params","app","getModuleName","getParentModuleName","jQuery","currentTarget","options","selectedIndex","getAttribute","text","getListViewRecords","done","data","updatePagination","pageNumber","attr","cvId","getCurrentCvId","$","request","html","registerPageNavigationEvents","registerFilterChangeEvent","registerEventForTotalRecordsCount"],"mappings":"aAGAA,wBAAwB,gCAAiC,GAAI,2BAEjC,eACtBC,aAAeC,YACZ,gBAAgBC,GAAG,UAAU,SAAUC,UACtC,eAAeC,IAAI,YACnB,eAAeA,IAAI,YACnB,YAAYA,IAAI,WAChB,cAAcA,IAAI,QACrBC,OAAS,QACJC,IAAIC,uBACJD,IAAIE,iCACE,yBACEC,OAAON,EAAEO,eAAeN,WAChC,YACKH,KAAKU,QAAQV,KAAKW,eAAeC,aAAa,SAG5DJ,OAAO,mBAAmBK,KAAK,iBAClBC,mBAAmBV,QAAQW,MAAK,SAAUC,mBACzCC,2CAKE,eACbC,WAAaV,OAAO,eAAeL,YAG1B,QAFAE,IAAIC,uBACJD,IAAIE,2BAIRW,gBACA,iBACKV,OAAO,0CAA0CW,KAAK,mBACrD,yBACEX,OAAO,gBAAgBL,0BAStB,iBAGG,QAFRE,IAAIC,uBACJD,IAAIE,6BAIN,gBACF,4BACQC,OAAO,gBAAgBL,iBACzB,+BAKE,SAAUe,4BACQ,IAAfA,WAA6BA,WAAa,MAC1DnB,aAAeC,KACfoB,KAAOrB,aAAasB,iBACpBjB,OAAS,UACb,OAAmBC,IAAIC,gBACnB,YAAcD,IAAIE,wBACrBH,OAAA,OAAmB,mBACpB,KAAiB,oBACjB,SAAqBgB,YACrB,KAAiBF,kBACjB,KAAiB,uBACjB,aAAyBV,OAAO,iBAAiBL,aACjD,WAAuBmB,EAAE,eAAeN,KAAK,qBAE7C,WAAuB,mBACvB,aAAyBR,OAAO,gBAAgBL,aAChD,SAAqB,WAErB,YAAwBK,OAAO,gBAAgBL,mBAClCoB,QAAQnB,QAAQW,MAAK,SAAUC,aACpC,kBAAkBQ,KAAKR,mBACjBS,kDAIC,gBACVC,iCACAD,oCACAE"}