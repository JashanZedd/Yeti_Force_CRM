{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\"Settings_LoginHistory_List_Js\", {}, {\n\n\tregisterFilterChangeEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#usersFilter').on('change', function (e) {\n\t\t\tjQuery('#pageNumber').val(\"1\");\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#orderBy').val('');\n\t\t\tjQuery(\"#sortOrder\").val('');\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t'search_key': 'user_name',\n\t\t\t\t'search_value': jQuery(e.currentTarget).val(),\n\t\t\t\t'page': 1,\n\t\t\t\t'user_name': this.options[this.selectedIndex].getAttribute(\"name\")\n\t\t\t}\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text(\"\");\n\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t},\n\n\tgetDefaultParams: function () {\n\t\tvar pageNumber = jQuery('#pageNumber').val();\n\t\tvar module = app.getModuleName();\n\t\tvar parent = app.getParentModuleName();\n\t\tvar params = {\n\t\t\t'module': module,\n\t\t\t'parent': parent,\n\t\t\t'page': pageNumber,\n\t\t\t'view': \"List\",\n\t\t\t'user_name': jQuery('select[id=usersFilter] option:selected').attr('name'),\n\t\t\t'search_key': 'user_name',\n\t\t\t'search_value': jQuery('#usersFilter').val()\n\t\t}\n\n\t\treturn params;\n\t},\n\n\t/**\n\t * Function to get Page Jump Params\n\t */\n\tgetPageJumpParams: function () {\n\t\tvar module = app.getModuleName();\n\t\tvar parent = app.getParentModuleName();\n\t\tvar pageJumpParams = {\n\t\t\t'module': module,\n\t\t\t'parent': parent,\n\t\t\t'action': \"ListAjax\",\n\t\t\t'mode': \"getPageCount\",\n\t\t\t'search_value': jQuery('#usersFilter').val(),\n\t\t\t'search_key': 'user_name'\n\t\t}\n\t\treturn pageJumpParams;\n\t},\n\n\tupdatePagination: function (pageNumber) {\n\t\tpageNumber = typeof pageNumber !== \"undefined\" ? pageNumber : 1;\n\t\tvar thisInstance = this;\n\t\tvar cvId = thisInstance.getCurrentCvId();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tif ('Settings' == app.getParentModuleName())\n\t\t\tparams['parent'] = 'Settings';\n\t\tparams['view'] = 'Pagination';\n\t\tparams['viewname'] = cvId;\n\t\tparams['page'] = pageNumber;\n\t\tparams['mode'] = 'getPagination';\n\t\tparams['sourceModule'] = jQuery('#moduleFilter').val();\n\t\tparams['totalCount'] = $('.pagination').data('totalCount');\n\n\t\tparams['search_key'] = 'user_name';\n\t\tparams['search_value'] = jQuery('#usersFilter').val();\n\t\tparams['operator'] = 's';\n\n\t\tparams['noOfEntries'] = jQuery('#noOfEntries').val();\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\tthisInstance.registerPageNavigationEvents();\n\t\t});\n\t},\n\n\tregisterEvents: function () {\n\t\tthis.registerFilterChangeEvent();\n\t\tthis.registerPageNavigationEvents();\n\t\tthis.registerEventForTotalRecordsCount();\n\t}\n});\n"],"names":["Settings_Vtiger_List_Js","thisInstance","on","e","val","params","app","getModuleName","getParentModuleName","jQuery","currentTarget","options","selectedIndex","getAttribute","text","getListViewRecords","done","data","updatePagination","pageNumber","module","parent","attr","pageJumpParams","cvId","getCurrentCvId","$","request","html","registerPageNavigationEvents","registerFilterChangeEvent","registerEventForTotalRecordsCount"],"mappings":";;AAAA;AACA;AAEAA,wBAAwB,+BAAxB,EAAyD,EAAzD,EAA6D;;4BAEjC,qCAAY;MAClCC,eAAe,IAAnB;SACO,cAAP,EAAuBC,EAAvB,CAA0B,QAA1B,EAAoC,UAAUC,CAAV,EAAa;UACzC,aAAP,EAAsBC,GAAtB,CAA0B,GAA1B;UACO,aAAP,EAAsBA,GAAtB,CAA0B,GAA1B;UACO,UAAP,EAAmBA,GAAnB,CAAuB,EAAvB;UACO,YAAP,EAAqBA,GAArB,CAAyB,EAAzB;OACIC,SAAS;YACJC,IAAIC,aAAJ,EADI;YAEJD,IAAIE,mBAAJ,EAFI;kBAGE,WAHF;oBAIIC,OAAON,EAAEO,aAAT,EAAwBN,GAAxB,EAJJ;YAKJ,CALI;iBAMC,KAAKO,OAAL,CAAa,KAAKC,aAAlB,EAAiCC,YAAjC,CAA8C,MAA9C;;IANd,CASAJ,OAAO,iBAAP,EAA0BK,IAA1B,CAA+B,EAA/B;gBACaC,kBAAb,CAAgCV,MAAhC,EAAwCW,IAAxC,CAA6C,UAAUC,IAAV,EAAgB;iBAC/CC,gBAAb;IADD;GAfD;EAJ2D;;mBAyB1C,4BAAY;MACzBC,aAAaV,OAAO,aAAP,EAAsBL,GAAtB,EAAjB;MACIgB,SAASd,IAAIC,aAAJ,EAAb;MACIc,SAASf,IAAIE,mBAAJ,EAAb;MACIH,SAAS;aACFe,MADE;aAEFC,MAFE;WAGJF,UAHI;WAIJ,MAJI;gBAKCV,OAAO,wCAAP,EAAiDa,IAAjD,CAAsD,MAAtD,CALD;iBAME,WANF;mBAOIb,OAAO,cAAP,EAAuBL,GAAvB;GAPjB;;SAUOC,MAAP;EAvC2D;;;;;oBA6CzC,6BAAY;MAC1Be,SAASd,IAAIC,aAAJ,EAAb;MACIc,SAASf,IAAIE,mBAAJ,EAAb;MACIe,iBAAiB;aACVH,MADU;aAEVC,MAFU;aAGV,UAHU;WAIZ,cAJY;mBAKJZ,OAAO,cAAP,EAAuBL,GAAvB,EALI;iBAMN;GANf;SAQOmB,cAAP;EAxD2D;;mBA2D1C,0BAAUJ,UAAV,EAAsB;eAC1B,OAAOA,UAAP,KAAsB,WAAtB,GAAoCA,UAApC,GAAiD,CAA9D;MACIlB,eAAe,IAAnB;MACIuB,OAAOvB,aAAawB,cAAb,EAAX;MACIpB,SAAS,EAAb;SACO,QAAP,IAAmBC,IAAIC,aAAJ,EAAnB;MACI,cAAcD,IAAIE,mBAAJ,EAAlB,EACCH,OAAO,QAAP,IAAmB,UAAnB;SACM,MAAP,IAAiB,YAAjB;SACO,UAAP,IAAqBmB,IAArB;SACO,MAAP,IAAiBL,UAAjB;SACO,MAAP,IAAiB,eAAjB;SACO,cAAP,IAAyBV,OAAO,eAAP,EAAwBL,GAAxB,EAAzB;SACO,YAAP,IAAuBsB,EAAE,aAAF,EAAiBT,IAAjB,CAAsB,YAAtB,CAAvB;;SAEO,YAAP,IAAuB,WAAvB;SACO,cAAP,IAAyBR,OAAO,cAAP,EAAuBL,GAAvB,EAAzB;SACO,UAAP,IAAqB,GAArB;;SAEO,aAAP,IAAwBK,OAAO,cAAP,EAAuBL,GAAvB,EAAxB;eACauB,OAAb,CAAqBtB,MAArB,EAA6BW,IAA7B,CAAkC,UAAUC,IAAV,EAAgB;UAC1C,gBAAP,EAAyBW,IAAzB,CAA8BX,IAA9B;gBACaY,4BAAb;GAFD;EA/E2D;;iBAqF5C,0BAAY;OACtBC,yBAAL;OACKD,4BAAL;OACKE,iCAAL;;CAxFF"}