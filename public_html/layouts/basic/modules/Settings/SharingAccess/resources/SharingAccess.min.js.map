{"version":3,"file":"SharingAccess.min.js","sources":["SharingAccess.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Sharing_Access_Js',\n\t{},\n\t{\n\t\tcontentTable: false,\n\t\tcontentsContainer: false,\n\n\t\tinit: function() {\n\t\t\tthis.setContentTable('.sharingAccessDetails').setContentContainer('#sharingAccessContainer');\n\t\t},\n\n\t\tsetContentTable: function(element) {\n\t\t\tif (element instanceof jQuery) {\n\t\t\t\tthis.contentTable = element;\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tthis.contentTable = jQuery(element);\n\t\t\treturn this;\n\t\t},\n\n\t\tsetContentContainer: function(element) {\n\t\t\tif (element instanceof jQuery) {\n\t\t\t\tthis.contentsContainer = element;\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\tthis.contentsContainer = jQuery(element);\n\t\t\treturn this;\n\t\t},\n\n\t\tgetContentTable: function() {\n\t\t\treturn this.contentTable;\n\t\t},\n\n\t\tgetContentContainer: function() {\n\t\t\treturn this.contentsContainer;\n\t\t},\n\n\t\tgetCustomRuleContainerClassName: function(parentModuleName) {\n\t\t\treturn 'js-' + parentModuleName + '-custom-rule-list';\n\t\t},\n\n\t\tshowCustomRulesNextToElement: function(parentElement, rulesListElement) {\n\t\t\tvar moduleName = parentElement.data('moduleName');\n\t\t\tvar trElementForRuleList = jQuery(\n\t\t\t\t'<tr class=\"' +\n\t\t\t\t\tthis.getCustomRuleContainerClassName(moduleName) +\n\t\t\t\t\t'\"><td class=\"js-custom-rule-container\" data-js=\"container\" colspan=\"6\"></td></tr>'\n\t\t\t);\n\t\t\tjQuery('td', trElementForRuleList).append(rulesListElement);\n\t\t\tjQuery('.ruleListContainer', trElementForRuleList).css('display', 'none');\n\t\t\tparentElement.after(trElementForRuleList).addClass('collapseRow');\n\t\t\tjQuery('.ruleListContainer', trElementForRuleList).slideDown('slow');\n\t\t},\n\n\t\t/*\n\t\t * function to get custom rules data based on the module\n\t\t * @params: forModule.\n\t\t */\n\t\tgetCustomRules: function(forModule) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar params = {};\n\t\t\tparams['for_module'] = forModule;\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'IndexAjax';\n\t\t\tparams['mode'] = 'showRules';\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\tsave: function(data) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (typeof data === 'undefined') {\n\t\t\t\tdata = {};\n\t\t\t}\n\t\t\tAppConnector.request(data)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/*\n\t\t * function to Save the Custom Rule\n\t\t */\n\t\tsaveCustomRule: function(form, e) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet data = form.serializeFormData();\n\t\t\tif (typeof data === 'undefined') {\n\t\t\t\tdata = {};\n\t\t\t}\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tdata.module = app.getModuleName();\n\t\t\tdata.parent = app.getParentModuleName();\n\t\t\tdata.action = 'IndexAjax';\n\t\t\tdata.mode = 'saveRule';\n\t\t\tAppConnector.request(data).done(function(data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tlet response = data.result;\n\t\t\t\tif (response && response.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet moduleName = $('[name=\"for_module\"]', form).val();\n\t\t\t\t\tthisInstance.loadCustomRulesList(moduleName);\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: response.message\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: 'JS_ERROR'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to load the CustomRules List for the module after save the custom rule\n\t\t */\n\t\tloadCustomRulesList: function(moduleName) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contentTable = this.getContentTable();\n\n\t\t\tthisInstance.getCustomRules(moduleName).done(function(data) {\n\t\t\t\tvar customRuleListContainer = jQuery(\n\t\t\t\t\t'.' + thisInstance.getCustomRuleContainerClassName(moduleName),\n\t\t\t\t\tcontentTable\n\t\t\t\t);\n\t\t\t\tcustomRuleListContainer.find('td.js-custom-rule-container').html(data);\n\t\t\t});\n\t\t},\n\n\t\teditCustomRule: function(url) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.showModalWindow(null, url, function(modalContainer) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tvar form = modalContainer.find('.js-edit-rule-form');\n\t\t\t\tform.on('submit', function(e) {\n\t\t\t\t\t//To stop the submit of form\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar formElement = $(e.currentTarget);\n\t\t\t\t\tthisInstance.saveCustomRule(formElement, e);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to delete Custom Rule from the list\n\t\t * @params: deleteElement.\n\t\t */\n\t\tdeleteCustomRule: function(deleteElement) {\n\t\t\tvar deleteUrl = deleteElement.data('url');\n\t\t\tvar currentRow = deleteElement.closest('.js-custom-rule-entries');\n\t\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({ message: message }).done(function(data) {\n\t\t\t\tAppConnector.request(deleteUrl).done(function(data) {\n\t\t\t\t\tlet response = data.result;\n\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\tcurrentRow.fadeOut('slow');\n\t\t\t\t\t\tvar customRuleTable = currentRow.closest('.js-custom-rule-table');\n\t\t\t\t\t\t//after delete the custom rule, update the sequence number of existing rules\n\t\t\t\t\t\tvar nextRows = currentRow.nextAll('js-custom-rule-entries');\n\t\t\t\t\t\tif (nextRows.length > 0) {\n\t\t\t\t\t\t\tjQuery.each(nextRows, function(i, element) {\n\t\t\t\t\t\t\t\tvar currentSequenceElement = jQuery(element).find('.js-sequence-number');\n\t\t\t\t\t\t\t\tvar updatedNumber = parseInt(currentSequenceElement.text()) - 1;\n\t\t\t\t\t\t\t\tcurrentSequenceElement.text(updatedNumber);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentRow.remove();\n\t\t\t\t\t\tvar customRuleEntries = customRuleTable.find('.js-custom-rule-entries');\n\t\t\t\t\t\t//if there are no custom rule entries, we have to hide headers also and show the empty message div\n\t\t\t\t\t\tif (customRuleEntries.length < 1) {\n\t\t\t\t\t\t\tcustomRuleTable\n\t\t\t\t\t\t\t\t.find('.js-custom-rule-headers')\n\t\t\t\t\t\t\t\t.fadeOut('slow')\n\t\t\t\t\t\t\t\t.remove();\n\t\t\t\t\t\t\tcustomRuleTable\n\t\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t\t.find('.js-record-details')\n\t\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t\t\tcustomRuleTable.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: 'JS_ERROR'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * function to register click event for radio buttons\n\t\t */\n\t\tregisterSharingAccessEdit: function() {\n\t\t\tvar contentContainer = this.getContentContainer();\n\t\t\tcontentContainer.one('click', 'input:radio', function(e) {\n\t\t\t\tcontentContainer.find('button:submit').removeClass('d-none');\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * Function to register change event for dependent modules privileges\n\t\t */\n\t\tregisterDependentModulesPrivilegesChange: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getContentContainer();\n\t\t\tvar contentTable = this.getContentTable();\n\t\t\tvar modulesList = JSON.parse(container.find('.dependentModules').val());\n\n\t\t\tjQuery.each(modulesList, function(moduleName, dependentList) {\n\t\t\t\tvar dependentPrivilege = contentTable\n\t\t\t\t\t.find('[data-module-name=\"' + moduleName + '\"]')\n\t\t\t\t\t.find('[data-action-state=\"Private\"]');\n\t\t\t\tdependentPrivilege.on('change', function(e) {\n\t\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\tvar message = app.vtranslate('JS_DEPENDENT_PRIVILEGES_SHOULD_CHANGE');\n\t\t\t\t\t\tbootbox.alert(message);\n\t\t\t\t\t\tjQuery.each(dependentList, function(index, module) {\n\t\t\t\t\t\t\tcontentTable\n\t\t\t\t\t\t\t\t.find('[data-module-name=\"' + module + '\"]')\n\t\t\t\t\t\t\t\t.find('[data-action-state=\"Private\"]')\n\t\t\t\t\t\t\t\t.attr('checked', 'checked');\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tregisterEvents: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contentTable = thisInstance.getContentTable(),\n\t\t\t\tcontentContainer = thisInstance.getContentContainer();\n\t\t\tthisInstance.registerSharingAccessEdit();\n\t\t\tthisInstance.registerDependentModulesPrivilegesChange();\n\t\t\tcontentTable.on('click', 'td.triggerCustomSharingAccess', function(e) {\n\t\t\t\tlet element = $(e.currentTarget),\n\t\t\t\t\ttrElement = element.closest('tr'),\n\t\t\t\t\tmoduleName = trElement.data('moduleName'),\n\t\t\t\t\tcustomRuleListContainer = $(\n\t\t\t\t\t\t'.' + thisInstance.getCustomRuleContainerClassName(moduleName),\n\t\t\t\t\t\tcontentTable\n\t\t\t\t\t);\n\t\t\t\tif (customRuleListContainer.length > 0) {\n\t\t\t\t\tif (app.isHidden(customRuleListContainer)) {\n\t\t\t\t\t\tcustomRuleListContainer.show();\n\t\t\t\t\t\t$('.ruleListContainer', customRuleListContainer).slideDown('slow');\n\t\t\t\t\t\ttrElement.addClass('collapseRow');\n\t\t\t\t\t\telement.find('button.arrowDown').addClass('d-none');\n\t\t\t\t\t\telement\n\t\t\t\t\t\t\t.find('button.arrowUp')\n\t\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t\t.show();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('.ruleListContainer', customRuleListContainer).slideUp('slow', function(e) {\n\t\t\t\t\t\t\tcustomRuleListContainer.css('display', 'none');\n\t\t\t\t\t\t});\n\t\t\t\t\t\telement.find('button.arrowUp').addClass('d-none');\n\t\t\t\t\t\telement\n\t\t\t\t\t\t\t.find('button.arrowDown')\n\t\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t\t.show();\n\t\t\t\t\t\ttrElement.removeClass('collapseRow');\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthisInstance.getCustomRules(moduleName).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tthisInstance.showCustomRulesNextToElement(trElement, data);\n\t\t\t\t\telement.find('button.arrowDown').addClass('d-none');\n\t\t\t\t\telement\n\t\t\t\t\t\t.find('button.arrowUp')\n\t\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t\t.show();\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontentTable.on('click', '.js-add-custom-rule', function(e) {\n\t\t\t\tlet button = $(e.currentTarget);\n\t\t\t\tthisInstance.editCustomRule(button.data('url'));\n\t\t\t});\n\t\t\tcontentTable.on('click', '.js-edit', function(e) {\n\t\t\t\tlet editElement = $(e.currentTarget),\n\t\t\t\t\teditUrl = editElement.data('url');\n\t\t\t\tthisInstance.editCustomRule(editUrl);\n\t\t\t});\n\t\t\tcontentTable.on('click', '.js-delete', function(e) {\n\t\t\t\tlet deleteElement = $(e.currentTarget);\n\t\t\t\tthisInstance.deleteCustomRule(deleteElement);\n\t\t\t});\n\t\t\tcontentContainer.on('submit', '#js-edit-sharing-access', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet form = $(e.currentTarget),\n\t\t\t\t\tdata = form.serializeFormData();\n\t\t\t\tthisInstance.save(data).done(function(data) {\n\t\t\t\t\tcontentContainer.find('button:submit').addClass('d-none');\n\t\t\t\t\tthisInstance.registerSharingAccessEdit();\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NEW_SHARING_RULES_APPLIED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\n\n$(document).ready(function() {\n\tlet settingSharingAcessInstance = new Settings_Sharing_Access_Js();\n\tsettingSharingAcessInstance.registerEvents();\n});\n"],"names":["jQuery","Class","setContentTable","setContentContainer","element","contentTable","this","contentsContainer","parentModuleName","parentElement","rulesListElement","moduleName","data","trElementForRuleList","getCustomRuleContainerClassName","append","css","after","addClass","slideDown","forModule","aDeferred","Deferred","params","app","getModuleName","getParentModuleName","request","done","resolve","fail","error","reject","promise","progressIndicatorElement","progressIndicator","mode","errorThrown","form","e","thisInstance","serializeFormData","module","parent","action","response","result","success","hideModalWindow","$","val","loadCustomRulesList","showPnotify","message","getContentTable","getCustomRules","find","html","url","showModalWindow","modalContainer","on","preventDefault","formElement","currentTarget","saveCustomRule","deleteElement","deleteUrl","currentRow","closest","vtranslate","showConfirmationBox","fadeOut","customRuleTable","nextRows","nextAll","length","each","i","currentSequenceElement","updatedNumber","parseInt","text","remove","removeClass","contentContainer","getContentContainer","one","container","modulesList","JSON","parse","dependentList","is","alert","index","attr","registerSharingAccessEdit","registerDependentModulesPrivilegesChange","trElement","customRuleListContainer","isHidden","show","slideUp","showCustomRulesNextToElement","button","editCustomRule","editUrl","deleteCustomRule","save","document","ready","Settings_Sharing_Access_Js","registerEvents"],"mappings":"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"}