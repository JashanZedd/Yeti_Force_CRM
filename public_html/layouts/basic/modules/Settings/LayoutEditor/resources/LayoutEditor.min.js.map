{"version":3,"file":"LayoutEditor.min.js","sources":["LayoutEditor.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Settings_LayoutEditor_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tupdatedBlockSequence: {},\n\t\tinActiveFieldsList: false,\n\t\tupdatedBlockFieldsList: [],\n\t\tupdatedBlocksList: [],\n\t\tblockNamesList: [],\n\t\t/**\n\t\t * Function to set the inactive fields list used to show the inactive fields\n\t\t */\n\t\tsetInactiveFieldsList: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar json = contents.find('.inActiveFieldsArray');\n\t\t\tif (0 < json.length) {\n\t\t\t\tthisInstance.inActiveFieldsList = JSON.parse(json.val());\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the blocks sortable\n\t\t */\n\t\tmakeBlocksListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar table = contents.find('.blockSortable');\n\t\t\tcontents.sortable({\n\t\t\t\tcontainment: contents,\n\t\t\t\titems: table,\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\tthisInstance.updateBlockSequence();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will update block sequence\n\t\t */\n\t\tupdateBlockSequence: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar sequence = JSON.stringify(thisInstance.updateBlocksListByOrder());\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'updateSequenceNumber';\n\t\t\tparams['sequence'] = sequence;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_SEQUENCE_UPDATED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function which will arrange the sequence number of blocks\n\t\t */\n\t\tupdateBlocksListByOrder: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.find('.editFieldsTable.blockSortable').each(function (index, domElement) {\n\t\t\t\tvar blockTable = $(domElement);\n\t\t\t\tvar blockId = blockTable.data('blockId');\n\t\t\t\tvar actualBlockSequence = blockTable.data('sequence');\n\t\t\t\tvar expectedBlockSequence = index + 1;\n\n\t\t\t\tif (expectedBlockSequence != actualBlockSequence) {\n\t\t\t\t\tblockTable.data('sequence', expectedBlockSequence);\n\t\t\t\t}\n\t\t\t\tthisInstance.updatedBlockSequence[blockId] = expectedBlockSequence;\n\t\t\t});\n\t\t\treturn thisInstance.updatedBlockSequence;\n\t\t},\n\t\t/**\n\t\t * Function to register all the relatedList Events\n\t\t */\n\t\tregisterRelatedListEvents: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\trelatedList = $('#relatedTabOrder');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(\n\t\t\t\trelatedList.find('.relatedTabModulesList .js-related-column-list-container .select2_container'),\n\t\t\t\t{\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tsortableCb: (currentTarget) => {\n\t\t\t\t\t\tthisInstance.updateSelectedFields(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(\n\t\t\t\trelatedList.find('.relatedTabModulesList .js-related-custom-view-container .select2_container'),\n\t\t\t\t{\n\t\t\t\t\tsortable: true,\n\t\t\t\t\tsortableCb: (currentTarget) => {\n\t\t\t\t\t\tthisInstance.updateCustomView(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\trelatedList.on('click', '.inActiveRelationModule', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\trelatedModule.find('.activeRelationModule').removeClass('d-none').show();\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tthisInstance.changeStatusRelatedModule(relatedModule.data('relation-id'), false);\n\t\t\t});\n\t\t\trelatedList.on('click', '.activeRelationModule', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\trelatedModule.find('.inActiveRelationModule').removeClass('d-none').show();\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tthisInstance.changeStatusRelatedModule(relatedModule.data('relation-id'), true);\n\t\t\t});\n\t\t\trelatedList.on('click', '.removeRelation', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\t\tthisInstance.removeRelation(relatedModule);\n\t\t\t});\n\t\t\trelatedList.on('click', '.addToFavorites', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tthisInstance.changeStateFavorites(currentTarget);\n\t\t\t});\n\t\t\trelatedList.on('change', '.relatedViewType', function (e) {\n\t\t\t\tvar currentTarget = $(this);\n\t\t\t\tvar value = currentTarget.val();\n\t\t\t\tif (!value) {\n\t\t\t\t\tcurrentTarget.validationEngine('showPrompt', app.vtranslate('JS_PLEASE_SELECT_ATLEAST_ONE_OPTION'));\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcurrentTarget.validationEngine('hide');\n\t\t\t\tthisInstance.changeRelatedViewType(currentTarget);\n\t\t\t});\n\t\t\trelatedList.find('.js-related-column-list').on('change', function (e) {\n\t\t\t\tthisInstance.updateSelectedFields($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.find('.js-related-custom-view').on('change', function (e) {\n\t\t\t\tthisInstance.updateCustomView($(e.currentTarget));\n\t\t\t});\n\t\t\trelatedList.on('click', '.addRelation', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar container = currentTarget.closest('#relatedTabOrder');\n\t\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\t\t\t\tvar addRelationContainer = relatedList.find('.addRelationContainer').clone(true, true);\n\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'));\n\t\t\t\t\tdata.find('.relLabel').val(data.find('.target option:selected').val());\n\t\t\t\t\tdata.on('change', '.target', function (e) {\n\t\t\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\t\t\tdata.find('.relLabel').val(currentTarget.find('option:selected').val());\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[name=\"type\"]').on('change', function () {\n\t\t\t\t\t\tif ($(this).val() === 'getAttachments') {\n\t\t\t\t\t\t\tdata.find('[name=\"target\"] option').not('[value=\"Documents\"]').addClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('[name=\"target\"]'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.find('[name=\"target\"] option').removeClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('[name=\"target\"]'));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdata.on('click', '.addButton', function (e) {\n\t\t\t\t\t\tvar form = data.find('form').serializeFormData();\n\t\t\t\t\t\tvar params = {};\n\t\t\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\t\t\tparams['action'] = 'Relation';\n\t\t\t\t\t\tparams['mode'] = 'addRelation';\n\t\t\t\t\t\t$.extend(params, form);\n\t\t\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t\t\t.getRelModuleLayoutEditor(container.find('[name=\"layoutEditorRelModules\"]').val())\n\t\t\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (response && response.message) {\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'error', text: response.message });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tapp.showModalWindow(addRelationContainer, function (data) {\n\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetSelectedFields: function (target) {\n\t\t\tvar selectedFields = [];\n\t\t\ttarget.find(':selected').each(function (e) {\n\t\t\t\tselectedFields.push({\n\t\t\t\t\tid: $(this).val(),\n\t\t\t\t\tname: $(this).data('field-name') ? $(this).data('field-name') : $(this).data('name')\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn selectedFields;\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the related modules sortable\n\t\t */\n\t\tmakeRelatedModuleSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar relatedModulesContainer = $('.relatedModulesList');\n\t\t\tvar modulesList = relatedModulesContainer.find('.relatedModule');\n\t\t\trelatedModulesContainer.sortable({\n\t\t\t\tcontainment: relatedModulesContainer,\n\t\t\t\titems: modulesList,\n\t\t\t\thandle: '.mainBlockTableLabel',\n\t\t\t\trevert: true,\n\t\t\t\ttolerance: 'pointer',\n\t\t\t\tcursor: 'move',\n\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\tthisInstance.updateSequenceRelatedModule();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tchangeRelatedViewType: function (currentTarget) {\n\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Relation',\n\t\t\t\tmode: 'updateRelatedViewType',\n\t\t\t\trelationId: relatedModule.data('relation-id'),\n\t\t\t\ttypes: currentTarget.val()\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.text\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: data.error.message\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\ttextTrusted: false,\n\t\t\t\t\t\ttext: error.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tchangeStateFavorites: function (currentTarget) {\n\t\t\tvar relatedModule = currentTarget.closest('.relatedModule');\n\t\t\tvar status = currentTarget.data('state') == 1 ? 0 : 1;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateStateFavorites';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['status'] = status;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tcurrentTarget.data('state', status);\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tcurrentTarget.find('.far').addClass('d-none');\n\t\t\t\t\t\tcurrentTarget.find('.fas').removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentTarget.find('.fas').addClass('d-none');\n\t\t\t\t\t\tcurrentTarget.find('.far').removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_SAVE_NOTIFY_OK') });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tchangeStatusRelatedModule: function (relationId, status) {\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'changeStatusRelation';\n\t\t\tparams['relationId'] = relationId;\n\t\t\tparams['status'] = status;\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (status) {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_SAVED_CHANGE_STATUS_1');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_SAVED_CHANGE_STATUS_0');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tremoveRelation: function (relatedModule) {\n\t\t\tlet message = app.vtranslate('JS_DELETE_RELATION_CONFIRMATION');\n\t\t\tapp.showConfirmModal({\n\t\t\t\ttext: message,\n\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\t\tparams['action'] = 'Relation';\n\t\t\t\t\tparams['mode'] = 'removeRelation';\n\t\t\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\n\t\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\trelatedModule.remove();\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_REMOVE_RELATION_OK')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdateSequenceRelatedModule: function () {\n\t\t\tvar modules = [];\n\t\t\tvar relatedModulesContainer = $('.relatedModulesList');\n\t\t\tvar params = {};\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\trelatedModulesContainer.find('.relatedModule').each(function (index, domElement) {\n\t\t\t\tvar relationId = $(domElement).data('relationId');\n\t\t\t\tmodules.push({ relationId: relationId, index: index });\n\t\t\t});\n\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateSequenceRelatedModule';\n\t\t\tparams['modules'] = modules;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_UPDATE_SEQUENCE');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tupdateSelectedFields: function (target) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tselectedFields;\n\t\t\tif ($(target).data('type') == 'inventory') {\n\t\t\t\tparams['inventory'] = true;\n\t\t\t\tselectedFields = $(target).val();\n\t\t\t} else {\n\t\t\t\tselectedFields = thisInstance.getSelectedFields($(target));\n\t\t\t}\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateSelectedFields';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['fields'] = selectedFields;\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_UPDATED_FIELD_LIST_MODULE_RELATED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = error;\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t},\n\t\tupdateCustomView: function (target) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = {},\n\t\t\t\trelatedModule = $(target).closest('.relatedModule'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Relation';\n\t\t\tparams['mode'] = 'updateCustomView';\n\t\t\tparams['relationId'] = relatedModule.data('relation-id');\n\t\t\tparams['cv'] = target.val();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to regiser the event to make the fields sortable\n\t\t */\n\t\tmakeFieldsListSortable: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar table = contents.find('.editFieldsTable');\n\t\t\ttable.each(function () {\n\t\t\t\tvar containment = $(this).closest('.moduleBlocks');\n\t\t\t\t$(this)\n\t\t\t\t\t.find('ul[name=sortable1], ul[name=sortable2]')\n\t\t\t\t\t.sortable({\n\t\t\t\t\t\tcontainment: containment,\n\t\t\t\t\t\ttolerance: 'pointer',\n\t\t\t\t\t\tcursor: 'move',\n\t\t\t\t\t\tconnectWith: containment.find('.connectedSortable'),\n\t\t\t\t\t\tupdate: function (e, ui) {\n\t\t\t\t\t\t\tvar currentField = ui['item'];\n\t\t\t\t\t\t\tif (currentField.closest('.moduleBlocks').hasClass('inventoryBlock')) {\n\t\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton(currentField.closest('.editFieldsTable'));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.showSaveFieldSequenceButton(thisInstance.getDetailViewLayout());\n\t\t\t\t\t\t\t\tthisInstance.createUpdatedBlocksList(currentField);\n\t\t\t\t\t\t\t\t// rearrange the older block fields\n\t\t\t\t\t\t\t\tif (ui.sender) {\n\t\t\t\t\t\t\t\t\tvar olderBlock = ui.sender.closest('.editFieldsTable');\n\t\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(olderBlock);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetDetailViewLayout: function () {\n\t\t\treturn $('#detailViewLayout');\n\t\t},\n\t\tgetInventoryViewLayout: function () {\n\t\t\treturn $('#inventoryViewLayout');\n\t\t},\n\t\t/**\n\t\t * Function to show the save button of fieldSequence\n\t\t */\n\t\tshowSaveFieldSequenceButton: function (layout) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tif (app.isHidden(saveButton) || app.isInvisible(saveButton)) {\n\t\t\t\tif (!saveButton.hasClass('inventorySequence')) {\n\t\t\t\t\tthisInstance.updatedBlocksList = [];\n\t\t\t\t\tthisInstance.updatedBlockFieldsList = [];\n\t\t\t\t}\n\t\t\t\tsaveButton.removeClass('d-none');\n\t\t\t\tsaveButton.removeClass('invisible');\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = app.vtranslate('JS_SAVE_THE_CHANGES_TO_UPDATE_FIELD_SEQUENCE');\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function which will hide the saveFieldSequence button\n\t\t */\n\t\thideSaveFieldSequenceButton: function () {\n\t\t\tvar layout = $('#detailViewLayout');\n\t\t\tvar saveButton = layout.find('.saveFieldSequence');\n\t\t\tsaveButton.addClass('d-none');\n\t\t},\n\t\t/**\n\t\t * Function to create the blocks list which are updated while sorting\n\t\t */\n\t\tcreateUpdatedBlocksList: function (currentField) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar block = currentField.closest('.editFieldsTable');\n\t\t\tvar updatedBlockId = block.data('blockId');\n\t\t\tif ($.inArray(updatedBlockId, thisInstance.updatedBlocksList) == -1) {\n\t\t\t\tthisInstance.updatedBlocksList.push(updatedBlockId);\n\t\t\t}\n\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t},\n\t\t/**\n\t\t * Function that rearranges fields in the block when the fields are moved\n\t\t * @param <jQuery object> block\n\t\t */\n\t\treArrangeBlockFields: function (block) {\n\t\t\t// 1.get the containers, 2.compare the length, 3.if uneven then move the last element\n\t\t\tvar leftSideContainer = block.find('ul[name=sortable1]');\n\t\t\tvar rightSideContainer = block.find('ul[name=sortable2]');\n\t\t\tif (leftSideContainer.children().length < rightSideContainer.children().length) {\n\t\t\t\tvar lastElementInRightContainer = rightSideContainer.children(':last');\n\t\t\t\tleftSideContainer.append(lastElementInRightContainer);\n\t\t\t} else if (leftSideContainer.children().length > rightSideContainer.children().length + 1) {\n\t\t\t\t//greater than 1\n\t\t\t\tvar lastElementInLeftContainer = leftSideContainer.children(':last');\n\t\t\t\trightSideContainer.append(lastElementInLeftContainer);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to create the list of updated blocks with all the fields and their sequences\n\t\t */\n\t\tcreateUpdatedBlockFieldsList: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\n\t\t\tfor (var index in thisInstance.updatedBlocksList) {\n\t\t\t\tvar updatedBlockId = thisInstance.updatedBlocksList[index];\n\t\t\t\tvar updatedBlock = contents.find('.block_' + updatedBlockId);\n\t\t\t\tvar firstBlockSortFields = updatedBlock.find('ul[name=sortable1]');\n\t\t\t\tvar editFields = firstBlockSortFields.find('.editFields');\n\t\t\t\tvar expectedFieldSequence = 1;\n\t\t\t\teditFields.each(function (i, domElement) {\n\t\t\t\t\tvar fieldEle = $(domElement);\n\t\t\t\t\tvar fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: expectedFieldSequence,\n\t\t\t\t\t\tblock: updatedBlockId\n\t\t\t\t\t});\n\t\t\t\t\texpectedFieldSequence = expectedFieldSequence + 2;\n\t\t\t\t});\n\t\t\t\tvar secondBlockSortFields = updatedBlock.find('ul[name=sortable2]');\n\t\t\t\tvar secondEditFields = secondBlockSortFields.find('.editFields');\n\t\t\t\tvar sequenceValue = 2;\n\t\t\t\tsecondEditFields.each(function (i, domElement) {\n\t\t\t\t\tvar fieldEle = $(domElement);\n\t\t\t\t\tvar fieldId = fieldEle.data('fieldId');\n\t\t\t\t\tthisInstance.updatedBlockFieldsList.push({\n\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\tsequence: sequenceValue,\n\t\t\t\t\t\tblock: updatedBlockId\n\t\t\t\t\t});\n\t\t\t\t\tsequenceValue = sequenceValue + 2;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterFieldSequenceSaveClick: function () {\n\t\t\tthis.getDetailViewLayout()\n\t\t\t\t.find('.saveFieldSequence')\n\t\t\t\t.on('click', () => {\n\t\t\t\t\tthis.hideSaveFieldSequenceButton();\n\t\t\t\t\tthis.createUpdatedBlockFieldsList();\n\t\t\t\t\tthis.updateFieldSequence();\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function will save the field sequences\n\t\t */\n\t\tupdateFieldSequence: function () {\n\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Field',\n\t\t\t\tmode: 'move',\n\t\t\t\tupdatedFields: this.updatedBlockFieldsList\n\t\t\t})\n\t\t\t\t.done(function () {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_FIELD_SEQUENCE_UPDATED') });\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to check if picklist exist\n\t\t */\n\t\tcheckPicklistExist(fieldNameValue) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'Field',\n\t\t\t\tmode: 'checkPicklistExist',\n\t\t\t\tfieldName: fieldNameValue.toLowerCase()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data.result) {\n\t\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\t\ttext: app.vtranslate('JS_EXIST_PICKLIST_NAME'),\n\t\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\trejectedCallback: () => {\n\t\t\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register click event add system field button\n\t\t */\n\t\tregisterAddSystemFieldEvent() {\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.js-add-system-field').on('click', (e) => {\n\t\t\t\tlet blockId = $(e.currentTarget).closest('.editFieldsTable').data('blockId');\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateSystemFields&sourceModule=' + selectedModule,\n\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\t\tlet progress = $.progressIndicator({ position: 'html', blockInfo: { enabled: true } });\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\taction: 'Field',\n\t\t\t\t\t\t\t\tmode: 'createSystemField',\n\t\t\t\t\t\t\t\tsourceModule: selectedModule,\n\t\t\t\t\t\t\t\tblockId: blockId,\n\t\t\t\t\t\t\t\tfield: modalContainer.find('.js-system-fields').val()\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function () {\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event add custom field button\n\t\t */\n\t\tregisterAddCustomFieldEvent() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.addCustomField').on('click', (e) => {\n\t\t\t\tlet blockId = $(e.currentTarget).closest('.editFieldsTable').data('blockId'),\n\t\t\t\t\taddFieldContainer = this.container.find('.createFieldModal').clone(true, true);\n\t\t\t\taddFieldContainer.removeClass('d-none').show();\n\t\t\t\tlet callBackFunction = (data) => {\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'), { width: '100%' });\n\t\t\t\t\tlet form = data.find('.createCustomFieldForm');\n\t\t\t\t\tform.attr('id', 'createFieldForm');\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"pickListValues\"]'), {\n\t\t\t\t\t\ttags: true,\n\t\t\t\t\t\ttokenSeparators: [',']\n\t\t\t\t\t});\n\t\t\t\t\tthis.registerFieldTypeChangeEvent(form);\n\t\t\t\t\tthis.registerMultiReferenceFieldsChangeEvent(form);\n\t\t\t\t\tthis.registerMultiReferenceFilterFieldChangeEvent(form);\n\t\t\t\t\tlet params = app.getvalidationEngineOptions(true);\n\t\t\t\t\tparams.onValidationComplete = (form, valid) => {\n\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\tlet saveButton = form.find(':submit'),\n\t\t\t\t\t\t\t\tfieldNameValue = $('[name=\"fieldName\"]', form).val(),\n\t\t\t\t\t\t\t\tfieldTypeValue = $('[name=\"fieldType\"]', form).val();\n\t\t\t\t\t\t\tsaveButton.attr('disabled', 'disabled');\n\t\t\t\t\t\t\tthisInstance.validateFieldsValue(form).done((response) => {\n\t\t\t\t\t\t\t\tif (!response) {\n\t\t\t\t\t\t\t\t\tif (fieldTypeValue == 'Picklist' || fieldTypeValue == 'MultiSelectCombo') {\n\t\t\t\t\t\t\t\t\t\tthisInstance.checkPicklistExist(fieldNameValue).done((result) => {\n\t\t\t\t\t\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\t\t\t\t\t\tthisInstance.saveCustomField(blockId, form);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.saveCustomField(blockId, form);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfor (let index in response) {\n\t\t\t\t\t\t\t\t\t\tlet field = form.find(`[name=\"${index}\"]`);\n\t\t\t\t\t\t\t\t\t\tfield.validationEngine('showPrompt', response[index], 'error', 'bottomLeft', true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t};\n\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t};\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\taddFieldContainer,\n\t\t\t\t\t(data) => {\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to validate fields value\n\t\t */\n\t\tvalidateFieldsValue: function (form) {\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tlet params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'validate';\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data.result);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\taDeferred.resolve(true);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save field and show message\n\t\t */\n\t\tsaveCustomField: function (blockId, form) {\n\t\t\tlet saveButton = form.find(':submit');\n\t\t\tthis.addCustomField(blockId, form).done((data) => {\n\t\t\t\tif (data['success']) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_CUSTOM_FIELD_ADDED');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t} else {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttitle:\n\t\t\t\t\t\t\tdata['error']['code'] != 513 ? form.find('.fieldNameForm').text() : form.find('.fieldLabelForm').text(),\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: data['error']['message']\n\t\t\t\t\t});\n\t\t\t\t\tsaveButton.removeAttr('disabled');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to create the array of block names list\n\t\t */\n\t\tsetBlocksListArray: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.blockNamesList = [];\n\t\t\tvar blocksListSelect = form.find('[name=\"beforeBlockId\"]');\n\t\t\tblocksListSelect.find('option').each(function (index, ele) {\n\t\t\t\tvar option = $(ele);\n\t\t\t\tvar label = option.data('label');\n\t\t\t\tthisInstance.blockNamesList.push(label.toLowerCase());\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the custom field details\n\t\t */\n\t\taddCustomField: function (blockId, form) {\n\t\t\tvar modalHeader = form.closest('#' + Window.lastModalId).find('.modal-header h3');\n\t\t\tvar aDeferred = $.Deferred();\n\n\t\t\tmodalHeader.progressIndicator({\n\t\t\t\tsmallLoadingImage: true,\n\t\t\t\timageContainerCss: { display: 'inline', 'margin-left': '18%', position: 'absolute' }\n\t\t\t});\n\n\t\t\tvar params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'add';\n\t\t\tparams['blockid'] = blockId;\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tmodalHeader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (err, error, errorObj) {\n\t\t\t\t\tmodalHeader.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (errorObj.responseText !== undefined) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttitle: JSON.parse(errorObj.responseText).error.message,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register change event for fieldType while adding custom field\n\t\t */\n\t\tregisterFieldTypeChangeEvent(form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar lengthInput = form.find('[name=\"fieldLength\"]');\n\n\t\t\t//special validators while adding new field\n\t\t\tvar lengthValidator = [{ name: 'DecimalMaxLength' }];\n\t\t\tvar maxLengthValidator = [{ name: 'MaxLength' }];\n\t\t\tvar decimalValidator = [{ name: 'FloatingDigits' }];\n\n\t\t\t//By default add the max length validator\n\t\t\tlengthInput.data('validator', maxLengthValidator);\n\n\t\t\t//register the change event for field types\n\t\t\tform.find('[name=\"fieldType\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar lengthInput = form.find('[name=\"fieldLength\"]');\n\t\t\t\tvar selectedOption = currentTarget.find('option:selected');\n\n\t\t\t\t//hide all the elements like length, decimal,picklist\n\t\t\t\tform.find('.supportedType').addClass('d-none');\n\t\t\t\tif (selectedOption.data('lengthsupported')) {\n\t\t\t\t\tform.find('.lengthsupported').removeClass('d-none');\n\t\t\t\t\tif (!selectedOption.data('nolimitforlength')) {\n\t\t\t\t\t\tlengthInput.data('validator', maxLengthValidator);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlengthInput.data('validator', [{ name: 'WholeNumberGreaterThanZero' }]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('decimalsupported')) {\n\t\t\t\t\tvar decimalFieldUi = form.find('.decimalsupported');\n\t\t\t\t\tdecimalFieldUi.removeClass('d-none');\n\n\t\t\t\t\tvar decimalInput = decimalFieldUi.find('[name=\"decimal\"]');\n\t\t\t\t\tvar maxFloatingDigits = selectedOption.data('maxfloatingdigits');\n\n\t\t\t\t\tif (typeof maxFloatingDigits !== 'undefined') {\n\t\t\t\t\t\tdecimalInput.data('validator', decimalValidator);\n\t\t\t\t\t\tlengthInput.data('validator', lengthValidator);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (selectedOption.data('decimalreadonly')) {\n\t\t\t\t\t\tdecimalInput.val(maxFloatingDigits).attr('readonly', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdecimalInput.removeAttr('readonly').val('');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('predefinedvalueexists')) {\n\t\t\t\t\tform.find('.preDefinedValueExists').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (selectedOption.data('picklistoption')) {\n\t\t\t\t\tform.find('.picklistOption').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tconst type = selectedOption.val();\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'Related1M':\n\t\t\t\t\tcase 'MultiReference':\n\t\t\t\t\t\tconst moduleList = form.find('.preDefinedModuleList .referenceModule');\n\t\t\t\t\t\tform.find('.preDefinedModuleList').removeClass('d-none');\n\t\t\t\t\t\tmoduleList.select2('destroy');\n\t\t\t\t\t\tif (type === 'MultiReference') {\n\t\t\t\t\t\t\tmoduleList.removeAttr('multiple');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmoduleList.attr('multiple', '');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(moduleList);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Tree':\n\t\t\t\t\tcase 'CategoryMultipicklist':\n\t\t\t\t\t\tform.find('.preDefinedTreeList').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'ServerAccess':\n\t\t\t\t\t\tform.find('.js-server-access-list').removeClass('d-none');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MultiReferenceValue':\n\t\t\t\t\t\tform.find('.preMultiReferenceValue').removeClass('d-none');\n\t\t\t\t\t\tthisInstance.loadMultiReferenceFields(form);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event for add custom block button\n\t\t */\n\t\tregisterAddCustomBlockEvent: function () {\n\t\t\tconst thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.find('.addCustomBlock').on('click', function (e) {\n\t\t\t\tlet addBlockContainer = contents.find('.addBlockModal').clone(true, true),\n\t\t\t\t\tcallBackFunction = function (data) {\n\t\t\t\t\t\tdata.find('.addBlockModal').removeClass('d-none').show();\n\t\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('select'));\n\t\t\t\t\t\tlet form = data.find('.addCustomBlockForm');\n\t\t\t\t\t\tthisInstance.setBlocksListArray(form);\n\t\t\t\t\t\tlet fieldLabel = form.find('[name=\"label\"]'),\n\t\t\t\t\t\t\tparams = Object.create(app.validationEngineOptions);\n\t\t\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\t\t\t\t\tif ($.inArray(formData['label'].toLowerCase(), thisInstance.blockNamesList) == -1) {\n\t\t\t\t\t\t\t\t\tthisInstance.saveBlockDetails(form).done(function (data) {\n\t\t\t\t\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\t\t\t\t\tlet result = data['result'];\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.displayNewCustomBlock(result);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.updateNewSequenceForBlocks(result['sequenceList']);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.appendNewBlockToBlocksList(result, form);\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlet result = app.vtranslate('JS_BLOCK_NAME_EXISTS');\n\t\t\t\t\t\t\t\t\tfieldLabel.validationEngine('showPrompt', result, 'error', 'topLeft', true);\n\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\taddBlockContainer,\n\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t},\n\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the new custom block details\n\t\t */\n\t\tsaveBlockDetails: function (form) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = form.serializeFormData();\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'save';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tlet response = data.result;\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CUSTOM_BLOCK_ADDED')\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\ttext: response.message\n\t\t\t\t\t\t});\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function used to display the new custom block ui after save\n\t\t */\n\t\tdisplayNewCustomBlock: function (result) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar beforeBlockId = result['beforeBlockId'];\n\t\t\tvar beforeBlock = contents.find('.block_' + beforeBlockId);\n\n\t\t\tvar newBlockCloneCopy = contents.find('.newCustomBlockCopy').clone(true, true);\n\t\t\tnewBlockCloneCopy\n\t\t\t\t.data('blockId', result['id'])\n\t\t\t\t.find('.blockLabel')\n\t\t\t\t.append($('<strong class=\"align-middle\">' + result['label'] + '</strong>'));\n\t\t\tnewBlockCloneCopy.find('.js-block-visibility').data('blockId', result['id']);\n\t\t\tif (result['isAddCustomFieldEnabled']) {\n\t\t\t\tnewBlockCloneCopy.find('.addCustomField').removeClass('d-none');\n\t\t\t}\n\t\t\tbeforeBlock.after(\n\t\t\t\tnewBlockCloneCopy.removeClass('d-none newCustomBlockCopy').addClass('editFieldsTable block_' + result['id'])\n\t\t\t);\n\n\t\t\tnewBlockCloneCopy.find('.blockFieldsList').sortable({ connectWith: '.blockFieldsList' });\n\t\t},\n\t\t/**\n\t\t * Function to update the sequence for all blocks after adding new Block\n\t\t */\n\t\tupdateNewSequenceForBlocks: function (sequenceList) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\t$.each(sequenceList, function (blockId, sequence) {\n\t\t\t\tcontents.find('.block_' + blockId).data('sequence', sequence);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to update the block list with the new block label in the clone container\n\t\t */\n\t\tappendNewBlockToBlocksList: function (result, form) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar hiddenAddBlockModel = contents.find('.addBlockModal');\n\t\t\tvar blocksListSelect = hiddenAddBlockModel.find('[name=\"beforeBlockId\"]');\n\t\t\tvar option = $('<option>', {\n\t\t\t\tvalue: result['id'],\n\t\t\t\ttext: result['label']\n\t\t\t});\n\t\t\tblocksListSelect.append(option.attr('data-label', result['label']));\n\t\t},\n\t\t/**\n\t\t * Function to update the block list to remove the deleted custom block label in the clone container\n\t\t */\n\t\tremoveBlockFromBlocksList: function (blockId) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar hiddenAddBlockModel = contents.find('.addBlockModal');\n\t\t\tvar blocksListSelect = hiddenAddBlockModel.find('[name=\"beforeBlockId\"]');\n\t\t\tblocksListSelect.find('option[value=\"' + blockId + '\"]').remove();\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for block visibility\n\t\t */\n\t\tregisterBlockVisibilityEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-block-visibility', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tthisInstance.updateBlockStatus(currentTarget);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save the changed visibility for the block\n\t\t */\n\t\tupdateBlockStatus: function (currentTarget) {\n\t\t\tvar blockStatus = currentTarget.data('visible');\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'save';\n\t\t\tparams['blockid'] = currentTarget.data('blockId');\n\t\t\tparams['display_status'] = blockStatus;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (blockStatus == '1') {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_SHOW');\n\t\t\t\t\t} else if (blockStatus == '2') {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_DYNAMIC');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_BLOCK_VISIBILITY_HIDE');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for inactive fields list\n\t\t */\n\t\tregisterInactiveFieldsEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-inactive-fields-btn', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar currentBlock = currentTarget.closest('.editFieldsTable');\n\t\t\t\t//If there are no hidden fields, show pnotify\n\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList)) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams['text'] = app.vtranslate('JS_NO_HIDDEN_FIELDS_EXISTS');\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t} else {\n\t\t\t\t\tvar inActiveFieldsContainer = contents.find('.inactiveFieldsModal').clone(true, true);\n\t\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\t\tdata.find('.inactiveFieldsModal').removeClass('d-none').show();\n\t\t\t\t\t\tvar form = data.find('.inactiveFieldsForm');\n\t\t\t\t\t\tthisInstance.showHiddenFields(form);\n\t\t\t\t\t\t//register click event for reactivate button in the inactive fields modal\n\t\t\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\t\t\tthisInstance.createReactivateFieldslist(form);\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tinActiveFieldsContainer,\n\t\t\t\t\t\tfunction (data) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ width: '1000px' }\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to show the list of inactive fields in the modal\n\t\t */\n\t\tshowHiddenFields: function (form) {\n\t\t\tconst self = this;\n\t\t\tlet detail = $('#detailViewLayout');\n\t\t\t$.each(self.inActiveFieldsList, function (blockId, fields) {\n\t\t\t\tform\n\t\t\t\t\t.find('.inActiveList')\n\t\t\t\t\t.append(\n\t\t\t\t\t\t'<h5 class=\"\">' +\n\t\t\t\t\t\t\tdetail.find(`.js-block-container[data-block-id=\"${blockId}\"] .js-block-label`).text() +\n\t\t\t\t\t\t\t'</h5>'\n\t\t\t\t\t);\n\t\t\t\t$.each(fields, function (key, value) {\n\t\t\t\t\tform\n\t\t\t\t\t\t.find('.inActiveList')\n\t\t\t\t\t\t.append(\n\t\t\t\t\t\t\t`<div class=\"checkbox\"><label><input type=\"checkbox\" class=\"inActiveField mr-2\" value=\"${key}\" data-block=\"${blockId}\"/>${value}</label></div>`\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tform.find('.inActiveList').append('<hr>');\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to create the list of reactivate fields list\n\t\t */\n\t\tcreateReactivateFieldslist: function (form) {\n\t\t\tconst self = this;\n\t\t\tlet blocks = [];\n\t\t\tform.find('.inActiveField').each(function (index, domElement) {\n\t\t\t\tlet element = $(domElement);\n\t\t\t\tlet fieldId = element.val();\n\t\t\t\tlet blockId = element.data('block');\n\t\t\t\tif (element.is(':checked')) {\n\t\t\t\t\tdelete self.inActiveFieldsList[blockId][fieldId];\n\t\t\t\t\tif (!self.inActiveFieldsList[blockId]) {\n\t\t\t\t\t\tdelete self.inActiveFieldsList[blockId];\n\t\t\t\t\t}\n\t\t\t\t\tif (!blocks[blockId]) {\n\t\t\t\t\t\tblocks[blockId] = [];\n\t\t\t\t\t}\n\t\t\t\t\tblocks[blockId].push(fieldId);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$.each(blocks, function (blockId, fields) {\n\t\t\t\tif (fields) {\n\t\t\t\t\tself.reActivateHiddenFields(blockId, fields);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to unHide the selected fields in the inactive fields modal\n\t\t */\n\t\treActivateHiddenFields: function (blockId, fields) {\n\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'Field',\n\t\t\t\t\tmode: 'unHide',\n\t\t\t\t\tblockId: blockId,\n\t\t\t\t\tfieldIdList: JSON.stringify(fields)\n\t\t\t\t},\n\t\t\t\tmessageParams = {};\n\t\t\tif (params.fieldIdList !== '[]') {\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmessageParams.text = app.vtranslate('JS_NO_ITEM_SELECTED');\n\t\t\t\tmessageParams.type = 'error';\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(messageParams);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for delete custom block\n\t\t */\n\t\tregisterDeleteCustomBlockEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contents = this.container.find('.contents');\n\t\t\tcontents.on('click', '.js-delete-custom-block-btn', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet table = currentTarget.closest('div.editFieldsTable');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteCustomBlock(table.data('blockId'));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to delete the custom block\n\t\t */\n\t\tdeleteCustomBlock: function (blockId) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Block';\n\t\t\tparams['mode'] = 'delete';\n\t\t\tparams['blockid'] = blockId;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tlet result = data.result;\n\t\t\t\t\tif (data['success'] && result.success) {\n\t\t\t\t\t\tthisInstance.removeDeletedBlock(blockId);\n\t\t\t\t\t\tthisInstance.removeBlockFromBlocksList(blockId);\n\t\t\t\t\t\tparams['text'] = app.vtranslate('JS_CUSTOM_BLOCK_DELETED');\n\t\t\t\t\t} else if (result && result.message) {\n\t\t\t\t\t\tparams['text'] = result.message;\n\t\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t})\n\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to remove the deleted custom block from the ui\n\t\t */\n\t\tremoveDeletedBlock: function (blockId) {\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar deletedTable = contents.find('.block_' + blockId);\n\t\t\tdeletedTable.fadeOut('slow').remove();\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for delete custom field\n\t\t */\n\t\tregisterDeleteCustomFieldEvent: function (contents) {\n\t\t\tconst thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tcontents.find('.deleteCustomField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tthisInstance.deleteCustomField(currentTarget.data('fieldId')).done(function (data) {\n\t\t\t\t\t\t\tlet response = data.result;\n\t\t\t\t\t\t\tif (response && response.success) {\n\t\t\t\t\t\t\t\tlet field = currentTarget.closest('div.editFields'),\n\t\t\t\t\t\t\t\t\tblockId = field.data('blockId');\n\t\t\t\t\t\t\t\tfield.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields($('#block_' + blockId));\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_CUSTOM_FIELD_DELETED')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'error', text: response.message });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to delete the custom field\n\t\t */\n\t\tdeleteCustomField: function (fieldId) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'Field';\n\t\t\tparams['mode'] = 'delete';\n\t\t\tparams['fieldid'] = fieldId;\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register the cahnge event for mandatory & default checkboxes in edit field details\n\t\t */\n\t\tregisterFieldDetailsChange: function (contents) {\n\t\t\tcontents.find('[name=\"mandatory\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') !== 'readonly') {\n\t\t\t\t\tvar form = currentTarget.closest('.fieldDetailsForm');\n\t\t\t\t\tvar quickcreateEle = form.find('[name=\"quickcreate\"]').filter(':checkbox').not('.optionDisabled');\n\t\t\t\t\tvar presenceEle = form.find('[name=\"presence\"]').filter(':checkbox').not('.optionDisabled');\n\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\tquickcreateEle.attr('checked', true).attr('readonly', 'readonly');\n\t\t\t\t\t\tpresenceEle.attr('checked', true).attr('readonly', 'readonly');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tquickcreateEle.removeAttr('readonly');\n\t\t\t\t\t\tpresenceEle.removeAttr('readonly');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontents.find('[name=\"defaultvalue\"],[name=\"header_field\"]').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar defaultValueUi = currentTarget.closest('.checkbox').find('.js-toggle-hide');\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tdefaultValueUi.removeClass('zeroOpacity');\n\t\t\t\t} else {\n\t\t\t\t\tdefaultValueUi.addClass('zeroOpacity');\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontents.find('.js-header_type').on('change', function (e) {\n\t\t\t\tlet el = $(e.currentTarget);\n\t\t\t\tlet relFieldsElement = el.closest('.js-toggle-hide').find('.js-header_rel_fields');\n\t\t\t\tif (el.val() === 'value') {\n\t\t\t\t\trelFieldsElement.removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\trelFieldsElement.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register the click event for related modules list tab\n\t\t */\n\t\trelatedModulesTabClickEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar contents = this.container.find('.contents');\n\t\t\tvar relatedContainer = contents.find('#relatedTabOrder');\n\t\t\tvar relatedTab = contents.find('.relatedListTab');\n\t\t\trelatedTab.on('click', function () {\n\t\t\t\tif (relatedContainer.find('.relatedTabModulesList').length > 0) {\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showRelatedTabModulesList(relatedContainer);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to show the related tab modules list in the tab\n\t\t */\n\t\tshowRelatedTabModulesList: function (relatedContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['sourceModule'] = $('#selectedModuleName').val();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['mode'] = 'showRelatedListLayout';\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\trelatedContainer.html(data);\n\t\t\t\t\tif ($(data).find('.relatedListContainer').length > 0) {\n\t\t\t\t\t\tthisInstance.makeRelatedModuleSortable();\n\t\t\t\t\t\tthisInstance.registerRelatedListEvents();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {});\n\t\t},\n\t\t/**\n\t\t * Function to get the respective module layout editor through pjax\n\t\t */\n\t\tgetModuleLayoutEditor: function (selectedModule) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelModuleLayoutEditor: function (selectedModule) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['view'] = 'Index';\n\t\t\tparams['mode'] = 'showRelatedListLayout';\n\t\t\tparams['sourceModule'] = selectedModule;\n\n\t\t\tAppConnector.requestPjax(params)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register the change event for layout editor modules list\n\t\t */\n\t\tregisterModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"layoutEditorModules\"]'));\n\n\t\t\tcontainer.on('change', '[name=\"layoutEditorModules\"]', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getModuleLayoutEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterRelModulesChangeEvent: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.container;\n\t\t\tvar contentsDiv = container.closest('.contentsDiv');\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"layoutEditorRelModules\"]'));\n\n\t\t\tcontainer.on('change', '[name=\"layoutEditorRelModules\"]', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = currentTarget.val();\n\t\t\t\tthisInstance.getRelModuleLayoutEditor(selectedModule).done(function (data) {\n\t\t\t\t\tcontentsDiv.html(data);\n\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tlockCheckbox: function (contents) {\n\t\t\tcontents.on('change', ':checkbox', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') === 'readonly') {\n\t\t\t\t\tvar status = $(e.currentTarget).is(':checked');\n\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', false);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEditFieldDetailsClick: function (contents) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tcontents.find('.js-disable-field').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttext: app.vtranslate('JS_ARE_YOU_SURE_YOU_WANT_TO_INACTIVE_FIELD'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet fieldRow = currentTarget.closest('div.editFields');\n\t\t\t\t\t\tlet fieldId = fieldRow.data('fieldId');\n\t\t\t\t\t\tlet block = fieldRow.closest('.editFieldsTable');\n\t\t\t\t\t\tlet blockId = block.data('blockId');\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\taction: 'Field',\n\t\t\t\t\t\t\tmode: 'save',\n\t\t\t\t\t\t\tfieldid: fieldId,\n\t\t\t\t\t\t\tpresence: 1\n\t\t\t\t\t\t}).done(function (response) {\n\t\t\t\t\t\t\tfieldRow.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList[blockId])) {\n\t\t\t\t\t\t\t\tif (thisInstance.inActiveFieldsList.length === 0) {\n\t\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId] = {};\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = response['result']['label'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = response['result']['label'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tcontents.find('.editFieldDetails').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet fieldRow = currentTarget.closest('div.editFields');\n\t\t\t\tlet fieldId = fieldRow.data('fieldId');\n\t\t\t\tlet block = fieldRow.closest('.editFieldsTable');\n\t\t\t\tlet blockId = block.data('blockId');\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\turl: 'index.php?parent=Settings&module=LayoutEditor&view=EditField&fieldId=' + fieldRow.data('fieldId'),\n\t\t\t\t\tcb: function (modalContainer) {\n\t\t\t\t\t\tthisInstance.registerFieldDetailsChange(modalContainer);\n\t\t\t\t\t\tthisInstance.lockCheckbox(modalContainer);\n\t\t\t\t\t\tthisInstance.registerVaribleToParsers(modalContainer);\n\t\t\t\t\t\tapp.registerEventForClockPicker(modalContainer.find('.clockPicker'));\n\t\t\t\t\t\tmodalContainer.find('[data-inputmask]').inputmask();\n\t\t\t\t\t\tmodalContainer.find('.js-select-icon').on('click', function (e) {\n\t\t\t\t\t\t\t$.when(Settings_Vtiger_Index_Js.selectIcon({ skipImage: true })).done(function (data) {\n\t\t\t\t\t\t\t\tmodalContainer.find('[name=\"icon_name\"]').val(data['name']);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tsendByAjaxCb: (formData, response) => {\n\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_FIELD_DETAILS_SAVED')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet result = response['result'];\n\t\t\t\t\t\tlet fieldLabel = fieldRow.find('.fieldLabel');\n\t\t\t\t\t\tif (result['presence'] === '1') {\n\t\t\t\t\t\t\tfieldRow.parent().fadeOut('slow').remove();\n\t\t\t\t\t\t\tif ($.isEmptyObject(thisInstance.inActiveFieldsList[blockId])) {\n\t\t\t\t\t\t\t\tif (thisInstance.inActiveFieldsList.length === 0) {\n\t\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList = {};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId] = {};\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = result['label'];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthisInstance.inActiveFieldsList[blockId][fieldId] = result['label'];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.reArrangeBlockFields(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (result['mandatory']) {\n\t\t\t\t\t\t\tif (fieldLabel.find('.redColor').length === 0) {\n\t\t\t\t\t\t\t\tfieldRow.find('.fieldLabel').append($('<span class=\"redColor\">*</span>'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfieldRow.find('.fieldLabel').find('.redColor').remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterVaribleToParsers: function (container) {\n\t\t\tcontainer.find('.configButton').on('click', function (e) {\n\t\t\t\tcontainer.find('.js-toggle-hide .js-base-element').each(function (n, e) {\n\t\t\t\t\tvar currentElement = $(e);\n\t\t\t\t\tif (currentElement.hasClass('d-none')) {\n\t\t\t\t\t\tcurrentElement.find('input,select').prop('disabled', false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentElement.find('input,select').prop('disabled', true);\n\t\t\t\t\t}\n\t\t\t\t\tcurrentElement.toggleClass('d-none');\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.varibleToParsers').on('click', function (e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tlet container = element.closest('.js-base-element');\n\t\t\t\tlet input = container.find('[name=\"' + container.data('name') + '\"]');\n\t\t\t\tlet fieldId = element.closest('form').find('[name=\"fieldid\"]').val();\n\t\t\t\tlet id = 'varibleToParsersModal';\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\tid: id,\n\t\t\t\t\turl:\n\t\t\t\t\t\t'index.php?parent=Settings&module=LayoutEditor&view=VaribleToParsers&fieldId=' +\n\t\t\t\t\t\tfieldId +\n\t\t\t\t\t\t'&defaultValue=' +\n\t\t\t\t\t\tinput.val(),\n\t\t\t\t\tcb: function (modalContainer) {\n\t\t\t\t\t\tmodalContainer.find('[name=\"saveButton\"]').on('click', function () {\n\t\t\t\t\t\t\tinput.val(modalContainer.find('select').val());\n\t\t\t\t\t\t\tapp.hideModalWindow(null, id);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tApp.Fields.Tree.register(container);\n\t\t},\n\t\t/**\n\t\t * Function to register all the events for blocks\n\t\t */\n\t\tregisterBlockEvents: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.makeBlocksListSortable();\n\t\t\tthisInstance.registerAddCustomFieldEvent();\n\t\t\tthisInstance.registerAddSystemFieldEvent();\n\t\t\tthisInstance.registerBlockVisibilityEvent();\n\t\t\tthisInstance.registerInactiveFieldsEvent();\n\t\t\tthisInstance.registerDeleteCustomBlockEvent();\n\t\t},\n\t\t/**\n\t\t * Function to register all the events for fields\n\t\t */\n\t\tregisterFieldEvents: function (contents) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof contents === 'undefined') {\n\t\t\t\tcontents = this.container.find('.contents');\n\t\t\t}\n\t\t\tApp.Fields.Date.register(contents);\n\t\t\tApp.Fields.Picklist.changeSelectElementView(contents);\n\t\t\tthisInstance.makeFieldsListSortable();\n\t\t\tthisInstance.registerDeleteCustomFieldEvent(contents);\n\t\t\tthisInstance.registerEditFieldDetailsClick(contents);\n\n\t\t\tcontents.find(':checkbox').on('change', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tif (currentTarget.attr('readonly') == 'readonly') {\n\t\t\t\t\tvar status = $(e.currentTarget).is(':checked');\n\t\t\t\t\tif (!status) {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(e.currentTarget).prop('checked', false);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register switch module type\n\t\t */\n\t\tregisterSwitch: function () {\n\t\t\tthis.container.find('.js-switch--inventory').on('click', (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_EXTENDED_MODULE'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet params = {};\n\t\t\t\t\t\tparams['sourceModule'] = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\t\t\tparams['type'] = event.currentTarget.dataset.value;\n\t\t\t\t\t\tapp.saveAjax('changeModuleType', null, params).done((data) => {\n\t\t\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\t\t\tthis.container.find('.js-switch--inventory').prop('disabled', true);\n\t\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to adding inventory field\n\t\t */\n\t\tregisterAddInventoryField() {\n\t\t\tconst thisInstance = this;\n\t\t\tlet container = thisInstance.getInventoryViewLayout();\n\t\t\tcontainer.find('.addInventoryField').on('click', (e) => {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tlet blockId = currentTarget.closest('.inventoryBlock').data('block-id');\n\t\t\t\tconst progress = $.progressIndicator();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step1&sourceModule=' +\n\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t'&block=' +\n\t\t\t\t\t\tblockId,\n\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\tapp.showScrollBar(modalContainer.find('.well'), {\n\t\t\t\t\t\t\theight: '300px'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthisInstance.registerStep1(modalContainer, blockId);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to editing inventory field\n\t\t */\n\t\tregisterEditInventoryField: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = thisInstance.getInventoryViewLayout();\n\t\t\tcontainer.find('.editInventoryField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tvar selectedModule = $('#layoutEditorContainer').find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tvar editField = currentTarget.closest('.editFields');\n\t\t\t\tvar progress = $.progressIndicator();\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tnull,\n\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step2&sourceModule=' +\n\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\teditField.data('type') +\n\t\t\t\t\t\t'&fieldName=' +\n\t\t\t\t\t\teditField.data('name'),\n\t\t\t\t\tfunction (container) {\n\t\t\t\t\t\tapp.showPopoverElementView(container.find('.js-help-info'));\n\t\t\t\t\t\tthisInstance.registerStep2(container);\n\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to adding inventory field first step\n\t\t *\n\t\t * @param {jQuery} container\n\t\t * @param {int} blockId\n\t\t */\n\t\tregisterStep1(container, blockId) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.js-next-button').on('click', (e) => {\n\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\tlet type = container.find('select.type').val();\n\t\t\t\tif (type === null) {\n\t\t\t\t\tcontainer\n\t\t\t\t\t\t.find('select.type')\n\t\t\t\t\t\t.validationEngine('showPrompt', app.vtranslate('JS_REQUIRED_FIELD'), 'error', 'topRight', true);\n\t\t\t\t} else {\n\t\t\t\t\tapp.hideModalWindow(() => {\n\t\t\t\t\t\tconst progress = $.progressIndicator({\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=CreateInventoryFields&mode=step2&sourceModule=' +\n\t\t\t\t\t\t\t\tselectedModule +\n\t\t\t\t\t\t\t\t'&type=' +\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t(modalContainer) => {\n\t\t\t\t\t\t\t\tthisInstance.registerStep2(modalContainer);\n\t\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to save inventory field\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterStep2: function (container) {\n\t\t\tlet form = container.find('form');\n\t\t\tform.validationEngine(app.validationEngineOptions);\n\t\t\tform.on('submit', (e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\t\tapp.saveAjax('saveInventoryField', null, formData).done((data) => {\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tif (data.result && data.success) {\n\t\t\t\t\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\t\t\t\t\twindow.location.href =\n\t\t\t\t\t\t\t\t'index.php?module=LayoutEditor&parent=Settings&view=Index&tab=inventoryViewLayout&sourceModule=' +\n\t\t\t\t\t\t\t\tselectedModule;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register click event for save button of fields sequence\n\t\t */\n\t\tregisterInventoryFieldSequenceSaveClick: function () {\n\t\t\tvar thisInstance = this;\n\t\t\tvar containerInventory = thisInstance.getInventoryViewLayout();\n\t\t\tvar selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tcontainerInventory.on('click', '.saveFieldSequence', function (e) {\n\t\t\t\tvar button = $(e.currentTarget);\n\t\t\t\tvar target = button.closest('.inventoryBlock');\n\t\t\t\tvar fieldId = [];\n\t\t\t\ttarget.find('.editFields').each(function () {\n\t\t\t\t\tfieldId.push($(this).data('id'));\n\t\t\t\t});\n\t\t\t\tapp.saveAjax('saveSequence', null, { sourceModule: selectedModule, ids: fieldId }).done(function (data) {\n\t\t\t\t\tbutton.addClass('invisible');\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * removing elements in advanced blocks\n\t\t */\n\t\tregisterDeleteInventoryField: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet container = thisInstance.getInventoryViewLayout();\n\t\t\tlet selectedModule = this.container.find('[name=\"layoutEditorModules\"]').val();\n\t\t\tcontainer.find('.deleteInventoryField').on('click', function (e) {\n\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\tlet liElement = currentTarget.closest('li');\n\t\t\t\tapp.showConfirmModal({\n\t\t\t\t\ttitle: app.vtranslate('JS_DELETE_INVENTORY_CONFIRMATION'),\n\t\t\t\t\tconfirmedCallback: () => {\n\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlet editFields = liElement.find('.editFields');\n\t\t\t\t\t\tapp\n\t\t\t\t\t\t\t.saveAjax('delete', null, {\n\t\t\t\t\t\t\t\tsourceModule: selectedModule,\n\t\t\t\t\t\t\t\tfieldName: editFields.data('name')\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (response) {\n\t\t\t\t\t\t\t\tlet param = {};\n\t\t\t\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\t\t\t\tliElement.remove();\n\t\t\t\t\t\t\t\t\tparam = { type: 'success', text: app.vtranslate('JS_SAVE_CHANGES') };\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tparam = { type: 'error', text: app.vtranslate('JS_ERROR') };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(param);\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tloadMultiReferenceFields: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar module = form.find('[name=\"MRVModule\"]').val();\n\t\t\tform.find('[name=\"MRVField\"],[name=\"MRVFilterField\"]').select2('destroy');\n\t\t\tform.find('[name=\"MRVField\"]').html(thisInstance.cacheMRVField.html());\n\t\t\tform.find('[name=\"MRVField\"] optgroup').each(function (index) {\n\t\t\t\tif ($(this).data('module') != module) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tform.find('[name=\"MRVFilterField\"]').html(thisInstance.cacheMRVFilter.html());\n\t\t\tform.find('[name=\"MRVFilterField\"] option').each(function (index) {\n\t\t\t\tif ($(this).data('module') != module) {\n\t\t\t\t\t$(this).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"MRVField\"],[name=\"MRVFilterField\"]'), {\n\t\t\t\twidth: '100%'\n\t\t\t});\n\t\t},\n\t\tcacheMRVField: false,\n\t\tcacheMRVFilter: false,\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tregisterMultiReferenceFieldsChangeEvent: function (form) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.cacheMRVField = form.find('[name=\"MRVField\"]').clone(true, true);\n\t\t\tthisInstance.cacheMRVFilter = form.find('[name=\"MRVFilterField\"]').clone(true, true);\n\n\t\t\tform.find('[name=\"MRVModule\"]').on('change', function (e) {\n\t\t\t\tthisInstance.loadMultiReferenceFields(form);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Loading list of fields for a related module\n\t\t */\n\t\tregisterMultiReferenceFilterFieldChangeEvent: function (form) {\n\t\t\tform.find('[name=\"MRVFilterField\"]').on('change', function (e) {\n\t\t\t\tvar params = {};\n\t\t\t\tparams['module'] = app.getModuleName();\n\t\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\t\tparams['action'] = 'Field';\n\t\t\t\tparams['mode'] = 'getPicklist';\n\t\t\t\tparams['rfield'] = form.find('[name=\"MRVFilterField\"]').val();\n\t\t\t\tparams['rmodule'] = form.find('[name=\"MRVModule\"]').val();\n\n\t\t\t\tform.find('[name=\"MRVFilterValue\"]').select2('destroy');\n\t\t\t\tform.find('[name=\"MRVFilterValue\"] option').remove();\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$.each(data.result, function (index, value) {\n\t\t\t\t\t\tform.find('[name=\"MRVFilterValue\"]').append($('<option>').val(index).html(value));\n\t\t\t\t\t});\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('[name=\"MRVFilterValue\"]'), {\n\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register label copy\n\t\t */\n\t\tregisterCopyClipboard: function () {\n\t\t\tnew ClipboardJS('.copyFieldLabel', {\n\t\t\t\ttext: function (trigger) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t});\n\t\t\t\t\treturn $('#layoutEditorContainer')\n\t\t\t\t\t\t.find('#' + trigger.getAttribute('data-target'))\n\t\t\t\t\t\t.val();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Context help\n\t\t */\n\t\tregisterContextHelp: function () {\n\t\t\t$(document).on('click', '.js-context-help', function (e) {\n\t\t\t\tconst customConfig = {\n\t\t\t\t\ttoolbar: 'Min'\n\t\t\t\t};\n\t\t\t\tconst element = $(e.currentTarget);\n\t\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'HelpInfo',\n\t\t\t\t\tfield: element.data('field-id')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.showPopoverElementView(modalContainer.find('.js-help-info'));\n\t\t\t\t\t\tApp.Fields.Text.Editor.register(modalContainer.find('.js-context-area:visible'), customConfig);\n\t\t\t\t\t\tmodalContainer.find('.js-lang').on('change', function (e) {\n\t\t\t\t\t\t\tlet previous = modalContainer.find('.js-editor:not([disabled])');\n\t\t\t\t\t\t\tApp.Fields.Text.destroyEditor(previous);\n\t\t\t\t\t\t\tprevious.closest('.js-context-block').addClass('d-none');\n\t\t\t\t\t\t\tprevious.prop('disabled', true);\n\t\t\t\t\t\t\tlet element = $(e.currentTarget).val();\n\t\t\t\t\t\t\tlet textArea = modalContainer.find('#' + element + '.js-context-area');\n\t\t\t\t\t\t\ttextArea.prop('disabled', false);\n\t\t\t\t\t\t\ttextArea.closest('.js-context-block').removeClass('d-none');\n\t\t\t\t\t\t\tApp.Fields.Text.destroyEditor(textArea);\n\t\t\t\t\t\t\tmodalContainer.find('.js-help-info').attr('data-content', textArea.val());\n\t\t\t\t\t\t\tApp.Fields.Text.Editor.register(textArea, customConfig);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmodalContainer.find('form').on('submit', function (e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tvar form = $(e.currentTarget);\n\t\t\t\t\t\t\tvar params = form.serializeFormData();\n\t\t\t\t\t\t\tif (typeof params.views === 'undefined') {\n\t\t\t\t\t\t\t\tparams.views = form.find('[name=\"views\"]').val();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.saveAjax('contextHelp', '', params).done(function (data) {\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tlet prefix = form.find('.js-lang').val();\n\t\t\t\t\t\t\t\tlet textArea = form.find('#' + prefix + '.js-context-area');\n\t\t\t\t\t\t\t\tform.find('.js-help-info').attr('data-content', textArea.val());\n\t\t\t\t\t\t\t\tif (e.originalEvent.submitter.name === 'saveCloseButton') {\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register webservice apps events\n\t\t */\n\t\tregisterWebserviceAppsEvent: function () {\n\t\t\t$(document).on('click', '.js-edit-field-api', function (e) {\n\t\t\t\tconst element = $(e.currentTarget);\n\t\t\t\tlet progressInstance = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\tview: 'WebserviceAppsModal',\n\t\t\t\t\twa: element.data('wa'),\n\t\t\t\t\tfieldId: element.data('fieldId')\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tapp.showModalWindow(data, (modalContainer) => {\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tmodalContainer.find('.js-default-value').on('change', function (e) {\n\t\t\t\t\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\t\t\t\t\tlet defaultValueUi = currentTarget.closest('.js-modal-form').find('.js-default-value-container');\n\t\t\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\t\t\tdefaultValueUi.removeClass('d-none');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdefaultValueUi.addClass('d-none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\t\tmodalContainer.find('.js-modal-form').trigger('submit');\n\t\t\t\t\t\t\telement.closest('li').addClass('u-bg-gray');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * register events for layout editor\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis.container = $('#layoutEditorContainer');\n\t\t\tthis.registerBlockEvents();\n\t\t\tthis.registerFieldEvents();\n\t\t\tthis.setInactiveFieldsList();\n\t\t\tthis.registerAddCustomBlockEvent();\n\t\t\tthis.relatedModulesTabClickEvent();\n\t\t\tthis.registerModulesChangeEvent();\n\t\t\tthis.registerRelModulesChangeEvent();\n\t\t\tif (1 === $('#relatedTabOrder').length) {\n\t\t\t\tthis.registerRelatedListEvents();\n\t\t\t\tthis.makeRelatedModuleSortable();\n\t\t\t}\n\t\t\tthis.registerSwitch();\n\t\t\tthis.registerAddInventoryField();\n\t\t\tthis.registerEditInventoryField();\n\t\t\tthis.registerInventoryFieldSequenceSaveClick();\n\t\t\tthis.registerDeleteInventoryField();\n\t\t\tthis.registerFieldSequenceSaveClick();\n\t\t},\n\t\tregisterBasicEvents: function () {\n\t\t\tthis.registerEvents();\n\t\t\tthis.registerCopyClipboard();\n\t\t\tthis.registerContextHelp();\n\t\t\tthis.registerWebserviceAppsEvent();\n\t\t}\n\t}\n);\n\njQuery(function () {\n\tvar instance = new Settings_LayoutEditor_Js();\n\tinstance.registerBasicEvents();\n});\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_FloatingDigits_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_FloatingDigits_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the decimals length\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue < 2 || fieldValue > 5) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_PLEASE_ENTER_NUMBER_IN_RANGE_2TO5');\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_DecimalMaxLength_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_DecimalMaxLength_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the fieldLength\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tvar decimalFieldValue = $('#createFieldForm').find('[name=\"decimal\"]').val();\n\t\t\t\tvar fieldLength = parseInt(64) - parseInt(decimalFieldValue);\n\t\t\t\tif (fieldValue > fieldLength && !(fieldLength < 0) && fieldLength >= 59) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_LENGTH_SHOULD_BE_LESS_THAN_EQUAL_TO') + ' ' + fieldLength;\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_WholeNumberGreaterThanZero_Validator_Js(\n\t'Vtiger_MaxLength_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar rangeInstance = new Vtiger_DecimalMaxLength_Validator_Js();\n\t\t\trangeInstance.setElement(field);\n\t\t\tvar response = rangeInstance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn rangeInstance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the fieldLength\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar response = this._super();\n\t\t\tif (response != true) {\n\t\t\t\treturn response;\n\t\t\t} else {\n\t\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\t\tif (fieldValue > 255) {\n\t\t\t\t\tvar errorInfo = app.vtranslate('JS_LENGTH_SHOULD_BE_LESS_THAN_EQUAL_TO') + ' 255';\n\t\t\t\t\tthis.setError(errorInfo);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tvar specialChars = /^[+]/;\n\t\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\t\tvar error = app.vtranslate('JS_CONTAINS_ILLEGAL_CHARACTERS');\n\t\t\t\t\tthis.setError(error);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_FieldLabel_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tvar instance = new Vtiger_FieldLabel_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tvar response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\tvar fieldValue = this.getFieldValue();\n\t\t\treturn this.validateValue(fieldValue);\n\t\t},\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tvar specialChars = /[&\\<\\>\\:\\'\\\"\\,]/;\n\n\t\t\tif (specialChars.test(fieldValue)) {\n\t\t\t\tvar errorInfo = app.vtranslate('JS_SPECIAL_CHARACTERS') + ' & < > \\' \" : , ' + app.vtranslate('JS_NOT_ALLOWED');\n\t\t\t\tthis.setError(errorInfo);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n);\n\nVtiger_Base_Validator_Js(\n\t'Vtiger_PicklistFieldValues_Validator_Js',\n\t{\n\t\t/**\n\t\t *Function which invokes field validation\n\t\t *@param accepts field element as parameter\n\t\t * @return error if validation fails true on success\n\t\t */\n\t\tinvokeValidation: function (field, rules, i, options) {\n\t\t\tlet instance = new Vtiger_PicklistFieldValues_Validator_Js();\n\t\t\tinstance.setElement(field);\n\t\t\tlet response = instance.validate();\n\t\t\tif (response != true) {\n\t\t\t\treturn instance.getError();\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to validate the field label\n\t\t * @return true if validation is successfull\n\t\t * @return false if validation error occurs\n\t\t */\n\t\tvalidate: function () {\n\t\t\treturn this.validateValue(this.getElement().val());\n\t\t},\n\t\tvalidateValue: function (fieldValue) {\n\t\t\tlet specialChars = /[\\<\\>\\\"\\,\\#]/;\n\t\t\tlet r = true;\n\t\t\t$.each(fieldValue, (i, val) => {\n\t\t\t\tif (specialChars.test(val)) {\n\t\t\t\t\tthis.setError(app.vtranslate('JS_SPECIAL_CHARACTERS') + ' < > \" , # ' + app.vtranslate('JS_NOT_ALLOWED'));\n\t\t\t\t\tr = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn r;\n\t\t}\n\t}\n);\n"],"names":["$","Class","container","updatedBlockSequence","inActiveFieldsList","updatedBlockFieldsList","updatedBlocksList","blockNamesList","setInactiveFieldsList","contents","find","json","length","thisInstance","JSON","parse","val","makeBlocksListSortable","table","sortable","containment","items","revert","tolerance","cursor","update","updateBlockSequence","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","sequence","stringify","updateBlocksListByOrder","params","app","getModuleName","getParentModuleName","AppConnector","request","done","mode","vtranslate","Settings_Vtiger_Index_Js","showMessage","fail","each","index","domElement","blockId","blockTable","data","actualBlockSequence","expectedBlockSequence","registerRelatedListEvents","relatedList","App","Fields","Picklist","showSelect2ElementView","sortableCb","currentTarget","updateSelectedFields","updateCustomView","on","e","relatedModule","closest","removeClass","show","hide","changeStatusRelatedModule","removeRelation","changeStateFavorites","value","validationEngine","changeRelatedViewType","contentsDiv","addRelationContainer","clone","callBackFunction","not","addClass","form","serializeFormData","extend","result","response","success","getRelModuleLayoutEditor","html","registerEvents","message","type","text","showModalWindow","getSelectedFields","target","selectedFields","push","id","name","makeRelatedModuleSortable","relatedModulesContainer","modulesList","handle","updateSequenceRelatedModule","module","parent","action","relationId","types","error","textTrusted","status","showConfirmModal","confirmedCallback","remove","modules","showNotify","makeFieldsListSortable","connectWith","ui","currentField","hasClass","showSaveFieldSequenceButton","getDetailViewLayout","createUpdatedBlocksList","sender","reArrangeBlockFields","olderBlock","getInventoryViewLayout","layout","saveButton","isHidden","isInvisible","hideSaveFieldSequenceButton","block","updatedBlockId","inArray","rightSideContainer","leftSideContainer","children","lastElementInRightContainer","append","lastElementInLeftContainer","createUpdatedBlockFieldsList","updatedBlock","firstBlockSortFields","editFields","expectedFieldSequence","i","fieldId","fieldEle","fieldid","secondBlockSortFields","secondEditFields","sequenceValue","registerFieldSequenceSaveClick","updateFieldSequence","updatedFields","progress","window","location","reload","checkPicklistExist","fieldNameValue","Deferred","fieldName","toLowerCase","aDeferred","resolve","rejectedCallback","promise","registerAddSystemFieldEvent","selectedModule","modalContainer","sourceModule","field","registerAddCustomFieldEvent","addFieldContainer","width","attr","tags","tokenSeparators","registerFieldTypeChangeEvent","registerMultiReferenceFieldsChangeEvent","registerMultiReferenceFilterFieldChangeEvent","getvalidationEngineOptions","onValidationComplete","valid","fieldTypeValue","validateFieldsValue","saveCustomField","removeAttr","err","errorLog","addCustomField","hideModalWindow","title","setBlocksListArray","blocksListSelect","ele","label","option","modalHeader","Window","lastModalId","smallLoadingImage","imageContainerCss","display","errorObj","responseText","reject","lengthInput","lengthValidator","maxLengthValidator","decimalValidator","selectedOption","decimalFieldUi","maxFloatingDigits","decimalInput","moduleList","select2","loadMultiReferenceFields","registerAddCustomBlockEvent","Object","create","validationEngineOptions","formData","saveBlockDetails","displayNewCustomBlock","updateNewSequenceForBlocks","appendNewBlockToBlocksList","preventDefault","addBlockContainer","beforeBlockId","beforeBlock","newBlockCloneCopy","after","sequenceList","hiddenAddBlockModel","removeBlockFromBlocksList","registerBlockVisibilityEvent","updateBlockStatus","blockStatus","registerInactiveFieldsEvent","currentBlock","isEmptyObject","inActiveFieldsContainer","showHiddenFields","createReactivateFieldslist","self","detail","fields","key","blocks","element","is","reActivateHiddenFields","fieldIdList","messageParams","registerDeleteCustomBlockEvent","deleteCustomBlock","removeDeletedBlock","deletedTable","fadeOut","registerDeleteCustomFieldEvent","deleteCustomField","registerFieldDetailsChange","quickcreateEle","filter","presenceEle","defaultValueUi","el","relFieldsElement","relatedModulesTabClickEvent","relatedContainer","relatedTab","showRelatedTabModulesList","getModuleLayoutEditor","requestPjax","registerModulesChangeEvent","registerRelModulesChangeEvent","lockCheckbox","prop","registerEditFieldDetailsClick","fieldRow","presence","url","cb","registerVaribleToParsers","registerEventForClockPicker","inputmask","when","selectIcon","skipImage","sendByAjaxCb","fieldLabel","n","currentElement","toggleClass","input","Tree","register","registerBlockEvents","registerFieldEvents","Date","changeSelectElementView","registerSwitch","event","dataset","saveAjax","registerAddInventoryField","showScrollBar","height","registerStep1","registerEditInventoryField","editField","showPopoverElementView","registerStep2","href","registerInventoryFieldSequenceSaveClick","containerInventory","button","ids","registerDeleteInventoryField","liElement","param","cacheMRVField","cacheMRVFilter","registerCopyClipboard","ClipboardJS","trigger","getAttribute","registerContextHelp","document","toolbar","progressInstance","view","Text","Editor","customConfig","destroyEditor","previous","textArea","views","prefix","originalEvent","submitter","registerWebserviceAppsEvent","wa","registerBasicEvents","jQuery","instance","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","rangeInstance","setElement","validate","getError","_super","getFieldValue","fieldValue","setError","errorInfo","test","decimalFieldValue","fieldLength","parseInt","Vtiger_Base_Validator_Js","validateValue","getElement","specialChars","r"],"mappings":"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"}