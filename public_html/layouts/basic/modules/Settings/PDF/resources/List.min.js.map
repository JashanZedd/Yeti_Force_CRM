{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\"Settings_PDF_List_Js\", {}, {\n\tgetListContainer: function () {\n\t\treturn jQuery('#listViewContainer');\n\t},\n\tregisterFilterChangeEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\tjQuery('#pageNumber').val('1');\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#orderBy').val('');\n\t\t\tjQuery(\"#sortOrder\").val('');\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t}\n\t\t\t//Make the select all count as empty\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text('');\n\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t},\n\t/*\n\t * Function to register the list view row click event\n\t */\n\tregisterRowClickEvent: function () {\n\t\tvar listViewContentDiv = this.getListViewContentContainer();\n\t\tlistViewContentDiv.on('click', '.listViewEntries', function (e) {\n\t\t\tvar editUrl = jQuery(e.currentTarget).find('.fas').closest('a').attr('href');\n\t\t\twindow.location.href = editUrl;\n\t\t});\n\t},\n\tgetDefaultParams: function () {\n\t\tvar pageNumber = jQuery('#pageNumber').val();\n\t\tvar module = app.getModuleName();\n\t\tvar parent = app.getParentModuleName();\n\t\tvar params = {\n\t\t\t'module': module,\n\t\t\t'parent': parent,\n\t\t\t'page': pageNumber,\n\t\t\t'view': \"List\",\n\t\t\tsourceModule: jQuery('#moduleFilter').val()\n\t\t};\n\t\treturn params;\n\t},\n\tregisterAddNewTemplate: function (container) {\n\t\tjQuery('#addButton', container).on('click', function () {\n\t\t\tvar selectedModule = jQuery('#moduleFilter option:selected').val();\n\t\t\tvar url = jQuery(this).data('url');\n\t\t\tif (selectedModule.length) {\n\t\t\t\turl += '&source_module=' + selectedModule;\n\t\t\t}\n\t\t\twindow.location.href = url;\n\t\t});\n\t},\n\tregisterImportTemplate: function (container) {\n\t\tjQuery('#importButton', container).on('click', function () {\n\t\t\twindow.location.href = jQuery(this).data('url');\n\t\t});\n\t},\n\tregisterTemplateDelete: function (container) {\n\t\tconst self = this;\n\t\tif (container == undefined) {\n\t\t\tcontainer = self.getListContainer();\n\t\t}\n\t\tcontainer.find('.templateDelete').on('click', function (e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tlet deleteId = $(this).closest(\"tr\").data(\"id\");\n\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\tmessage: app.vtranslate(\"JS_LBL_ARE_YOU_SURE_YOU_WANT_TO_DELETE\")\n\t\t\t}).done(function(e) {\n\t\t\t\tSettings_PDF_List_Js.deleteById(deleteId).done(function() {\n\t\t\t\t\tself.registerTemplateDelete(container);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\t/*\n\t * Function which will give you all the list view params\n\t */\n\tgetListViewRecords: function (urlParams) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tthis._super(urlParams).done(function (data) {\n\t\t\tthisInstance.registerTemplateDelete();\n\t\t\taDeferred.resolve(data);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\tvar container = this.getListContainer();\n\t\tthis.registerFilterChangeEvent();\n\t\tthis.registerAddNewTemplate(container);\n\t\tthis.registerTemplateDelete(container);\n\t\tthis.registerImportTemplate(container);\n\t}\n});\n"],"names":["Settings_Vtiger_List_Js","jQuery","thisInstance","this","on","e","val","params","app","getModuleName","getParentModuleName","currentTarget","text","getListViewRecords","done","data","updatePagination","getListViewContentContainer","editUrl","find","closest","attr","location","href","pageNumber","container","selectedModule","url","length","self","undefined","getListContainer","stopPropagation","preventDefault","deleteId","$","showConfirmationBox","vtranslate","deleteById","registerTemplateDelete","urlParams","aDeferred","Deferred","_super","resolve","promise","registerFilterChangeEvent","registerAddNewTemplate","registerImportTemplate"],"mappings":"aAGAA,wBAAwB,uBAAwB,GAAI,kBACjC,kBACVC,OAAO,iDAEY,eACtBC,aAAeC,YACZ,iBAAiBC,GAAG,UAAU,SAAUC,UACvC,eAAeC,IAAI,YACnB,eAAeA,IAAI,YACnB,YAAYA,IAAI,WAChB,cAAcA,IAAI,QACrBC,OAAS,QACJC,IAAIC,uBACJD,IAAIE,mCACET,OAAOI,EAAEM,eAAeL,OAGvCL,OAAO,iBAAiBK,IAAI,WAErB,mBAAmBM,KAAK,iBAClBC,mBAAmBN,QAAQO,MAAK,SAAUC,mBACzCC,gDAOO,WACGb,KAAKc,8BACXb,GAAG,QAAS,oBAAoB,SAAUC,OACxDa,QAAUjB,OAAOI,EAAEM,eAAeQ,KAAK,QAAQC,QAAQ,KAAKC,KAAK,eAC9DC,SAASC,KAAOL,6BAGP,eACbM,WAAavB,OAAO,eAAeK,YAG1B,QAFAE,IAAIC,uBACJD,IAAIE,2BAIRc,gBACA,oBACMvB,OAAO,iBAAiBK,+BAIhB,SAAUmB,kBAC1B,aAAcA,WAAWrB,GAAG,SAAS,eACvCsB,eAAiBzB,OAAO,iCAAiCK,MACzDqB,IAAM1B,OAAOE,MAAMY,KAAK,OACxBW,eAAeE,cACX,kBAAoBF,uBAErBJ,SAASC,KAAOI,+BAGD,SAAUF,kBAC1B,gBAAiBA,WAAWrB,GAAG,SAAS,kBACvCkB,SAASC,KAAOtB,OAAOE,MAAMY,KAAK,kCAGnB,SAAUU,eAC3BI,KAAO1B,KACI2B,MAAbL,sBACSI,KAAKE,8BAERZ,KAAK,mBAAmBf,GAAG,SAAS,SAAUC,KACrD2B,oBACAC,qBACEC,SAAWC,EAAEhC,MAAMiB,QAAQ,MAAML,KAAK,uBACzBqB,oBAAoB,SAC3B5B,IAAI6B,WAAW,4CACtBvB,MAAK,SAAST,wBACKiC,WAAWJ,UAAUpB,MAAK,gBACzCyB,uBAAuBd,wCAQZ,SAAUe,eACzBtC,aAAeC,KACfsC,UAAYxC,OAAOyC,uBAClBC,OAAOH,WAAW1B,MAAK,SAAUC,mBACxBwB,mCACHK,QAAQ7B,SAEZ0B,UAAUI,0BAEF,gBACVF,aACDlB,UAAYtB,KAAK4B,wBAChBe,iCACAC,uBAAuBtB,gBACvBc,uBAAuBd,gBACvBuB,uBAAuBvB"}