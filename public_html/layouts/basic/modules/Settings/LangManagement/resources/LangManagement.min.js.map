{"version":3,"file":"LangManagement.min.js","sources":["LangManagement.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nvar Settings_Index_Js = {\n\tinitEvants: function () {\n\t\tlet container = $('.LangManagement');\n\t\tcontainer.find('.add_lang').on('click', Settings_Index_Js.ShowLangMondal);\n\t\tcontainer.find('.edit_lang a').on('click', function (e) {\n\t\t\tjQuery('#edit_lang').html('');\n\t\t\tdocument.showDiff = false;\n\t\t\tSettings_Index_Js.LoadEditLang(this)\n\t\t});\n\t\tcontainer.find('.js-add-languages-modal').on('click', () => {\n\t\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tapp.showModalWindow(null, 'index.php?module=YetiForce&parent=Settings&view=DownloadLanguageModal', () => {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t\t$('.AddNewLangMondal .btn-primary').on('click', Settings_Index_Js.AddLangMondal);\n\t\t$('.AddNewTranslationMondal .btn-primary').on('click', Settings_Index_Js.AddTranslationMondal);\n\t\t$('#lang_list tr').each(function (index, element) {\n\t\t\telement = $(element);\n\t\t\tSettings_Index_Js.initEvant(element);\n\t\t});\n\t\tthis.registerUpdateLanguageBtn(container);\n\t},\n\tregisterUpdateLanguageBtn(container) {\n\t\tcontainer.find('.js-update').on('click', function (e) {\n\t\t\tlet icon = $(e.target).find('.js-update__icon'),\n\t\t\t\tprogress = $.progressIndicator({\n\t\t\t\t\t'message': app.vtranslate('JS_LOADING_PLEASE_WAIT'),\n\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\ticon.addClass('fa-spin');\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'YetiForce',\n\t\t\t\tparent: 'Settings',\n\t\t\t\taction: 'DownloadLanguage',\n\t\t\t\tprefix: $(e.target).data('prefix')\n\t\t\t}).done(function (data) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: data['result']['message'],\n\t\t\t\t\ttype: data['result']['type']\n\t\t\t\t});\n\t\t\t\tif (data['result']['type'] === 'success') {\n\t\t\t\t\tlocation.reload();\n\t\t\t\t} else {\n\t\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t\t\ticon.removeClass('fa-spin');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\tLoadEditLang: function (e) {\n\t\tvar element = jQuery(e);\n\t\tvar position = element.attr('href');\n\t\tif (typeof position === \"undefined\") {\n\t\t\tposition = '#' + element.attr('id');\n\t\t}\n\t\tvar progress = $.progressIndicator({\n\t\t\t'message': app.vtranslate('LBL_Loader'),\n\t\t\t'position': position,\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar param = {\n\t\t\tmodule: 'LangManagement',\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: 'Edit'\n\t\t};\n\t\tif ($(\".LangManagement \" + position + \" #langs_list\").val() != undefined) {\n\t\t\tparam.lang = $(\".LangManagement \" + position + \" #langs_list\").val();\n\t\t}\n\t\tif ($(\".LangManagement #mods_list\").val() != undefined) {\n\t\t\tparam.mod = $(\".LangManagement \" + position + \" #mods_list\").val();\n\t\t}\n\t\tif (document.showDiff == true) {\n\t\t\tparam.sd = 1;\n\t\t}\n\t\tAppConnector.request(param).done(function (data) {\n\t\t\tjQuery(position).html(data);\n\t\t\tSettings_Index_Js.initEditLang(position);\n\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\tinitEditLang: function (position) {\n\t\tApp.Fields.Picklist.changeSelectElementView($(\".LangManagement .layoutContent .active .select2\"), 'select2').on(\"change\", function (e) {\n\t\t\te = jQuery(this).closest('.active');\n\t\t\tSettings_Index_Js.LoadEditLang(e);\n\t\t});\n\t\t$('#edit_lang .translation').on('change', function (e) {\n\t\t\tSettings_Index_Js.changeTranslation(e, position)\n\t\t});\n\t\t$('#edit_lang .js-add-translation').on('click', Settings_Index_Js.ShowTranslationMondal);\n\t\t$('#edit_lang .js-delete').on('click', function (e) {\n\t\t\tSettings_Index_Js.deleteTranslation(e, position)\n\t\t});\n\t\t$('.LangManagement ' + position + ' .show_differences').on('click', Settings_Index_Js.ShowDifferences);\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\t\"searching\": true,\n\t\t\t\"ordering\": false,\n\t\t\t\"bFilter\": false,\n\t\t\t\"bLengthChange\": false,\n\t\t\t\"bPaginate\": false,\n\t\t\t\"bInfo\": false,\n\t\t\t\"pageLength\": -1,\n\t\t\t\"language\": {\n\t\t\t\t\"sZeroRecords\": app.vtranslate('No matching records found'),\n\t\t\t\t\"sSearch\": app.vtranslate('Search'),\n\t\t\t\t\"sEmptyTable\": app.vtranslate('No data available in table'),\n\t\t\t}\n\t\t});\n\t\t$('' + position + ' .listViewEntriesTable').dataTable();\n\t},\n\tShowDifferences: function (e) {\n\t\tif ($(this).is(':checked')) {\n\t\t\tdocument.showDiff = true;\n\t\t} else {\n\t\t\tdocument.showDiff = false;\n\t\t}\n\t\te = $(this).closest('.active');\n\t\tSettings_Index_Js.LoadEditLang(e);\n\t},\n\tchangeTranslation: function (e, position, mod) {\n\n\t\tvar target = $(e.currentTarget);\n\t\tif (typeof e.currentTarget === \"undefined\")\n\t\t\ttarget = jQuery(e);\n\t\tvar closestTrElement = target.closest('tr');\n\t\tvar progress = $.progressIndicator({\n\t\t\t'message': app.vtranslate('LBL_Loader'),\n\t\t\t'position': position,\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tif (mod == undefined) {\n\t\t\tmod = jQuery(\".LangManagement \" + position + \" #mods_list\").data('target') ? jQuery(\".LangManagement \" + position + \" #mods_list\").data('target') : jQuery(\".LangManagement \" + position + \" #mods_list\").val();\n\t\t}\n\t\tSettings_Index_Js.registerSaveEvent('saveTranslation', {\n\t\t\tlang: target.data('lang'),\n\t\t\tmod: mod,\n\t\t\ttype: target.data('type'),\n\t\t\tvariable: closestTrElement.data('langkey'),\n\t\t\tval: target.val(),\n\t\t\tis_new: target.hasClass(\"empty_value\"),\n\t\t});\n\t\ttarget.removeClass(\"empty_value\");\n\t\tprogress.progressIndicator({'mode': 'hide'});\n\t},\n\tdeleteTranslation: function (e, position) {\n\t\tvar target = $(e.currentTarget);\n\t\tif (typeof e.currentTarget === \"undefined\") {\n\t\t\ttarget = e;\n\t\t}\n\t\tvar closestTrElement = target.closest('tr');\n\t\tvar progress = $.progressIndicator({\n\t\t\t'message': app.vtranslate('LBL_Loader'),\n\t\t\t'position': position,\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tSettings_Index_Js.registerSaveEvent('deleteTranslation', {\n\t\t\tlang: $(\".LangManagement #langs_list\").val(),\n\t\t\tmod: $(\".LangManagement \" + position + \" #mods_list\").data('target') ? $(\".LangManagement \" + position + \" #mods_list\").data('target') : $(\".LangManagement \" + position + \" #mods_list\").val(),\n\t\t\tlangkey: closestTrElement.data('langkey'),\n\t\t\ttype: closestTrElement.data('type'),\n\t\t});\n\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\te = target.closest('.active');\n\t\tSettings_Index_Js.LoadEditLang(e);\n\t},\n\tinitEvant: function (element) {\n\t\tconst options = {\n\t\t\ttitle: app.vtranslate('LBL_AreYouSure'),\n\t\t\ttrigger: 'manual',\n\t\t\tplacement: 'left',\n\t\t\thtml: true,\n\t\t\tsanitize: false,\n\t\t\tcontent: '<div class=\"popover_block\"><button type=\"button\" role=\"button\" class=\"btn btn-danger deleteItem marginLeft10\">' + app.vtranslate('LBL_YES') + '</button> <button type=\"button\"  role=\"button\" class=\"btn btn-warning pull-right cancel\">' + app.vtranslate('Cancel') + '</button></div>'\n\t\t}\n\t\tconst makeSureOptions = {\n\t\t\ttitle: app.vtranslate('JS_ARE_YOU_SURE_TO_SET_AS_DEFAULT'),\n\t\t\ttrigger: 'manual',\n\t\t\tplacement: 'left',\n\t\t\thtml: true,\n\t\t\tsanitize: false,\n\t\t\tcontent: '<div class=\"popover_block\"><button type=\"button\" role=\"button\" class=\"btn btn-danger setDefaultItem\">' + app.vtranslate('LBL_YES') + '</button>   <button type=\"button\" role=\"button\" class=\"btn btn-warning pull-right cancel\">' + app.vtranslate('Cancel') + '</button></div>'\n\t\t}\n\t\telement.find('#deleteItemC').on('click', function (e) {\n\t\t\t$(e.currentTarget).popover(options).popover('show');\n\t\t\t$('.popover_block .deleteItem').on('click', function () {\n\t\t\t\tSettings_Index_Js.DeleteLang(element, e);\n\t\t\t\t$(e.currentTarget).popover('hide');\n\t\t\t});\n\t\t\t$('.popover_block .cancel').on('click', function () {\n\t\t\t\t$(e.currentTarget).popover('hide');\n\t\t\t});\n\t\t});\n\t\telement.find('#setAsDefault').on('click', function (e) {\n\t\t\t$(e.currentTarget).popover(makeSureOptions).popover('show');\n\t\t\t$('.popover_block .setDefaultItem').on('click', function () {\n\t\t\t\t$(e.currentTarget).popover('hide');\n\t\t\t\tSettings_Index_Js.setAsDefaultLang(element, e);\n\t\t\t});\n\t\t\t$('.popover_block .cancel').on('click', function () {\n\t\t\t\t$(e.currentTarget).popover('hide');\n\t\t\t});\n\t\t});\n\t},\n\tShowLangMondal: function (e) {\n\t\tlet cloneModal = $('.AddNewLangMondal').clone(true, true);\n\t\tapp.showModalWindow($(cloneModal));\n\t},\n\tShowTranslationMondal: function (e) {\n\t\tvar langs_list = $(\".LangManagement #langs_list\").val();\n\t\tvar langs_fields = '';\n\t\tvar cloneModal = $('.AddNewTranslationMondal').clone(true, true);\n\t\tcloneModal.find('input[name=\"langs\"]').val(JSON.stringify(langs_list));\n\t\t$.each(langs_list, function (key) {\n\t\t\tlangs_fields += '<div class=\"form-group\"><label class=\"col-md-4 col-form-label\">' + langs_list[key] + ':</label><div class=\"col-md-8\"><input name=\"' + langs_list[key] + '\" class=\"form-control\" type=\"text\" /></div></div>';\n\t\t});\n\t\tcloneModal.find('.add_translation_block').html(langs_fields);\n\n\t\tapp.showModalWindow($(cloneModal));\n\t\t$(cloneModal).css(\"z-index\", \"9999999\");\n\t},\n\tAddLangMondal: function (e) {\n\t\tconst currentTarget = $(e.currentTarget),\n\t\t\tcontainer = currentTarget.closest('.modalContainer');\n\t\tlet SaveEvent = Settings_Index_Js.registerSaveEvent('add', {\n\t\t\t'type': 'Add',\n\t\t\t'label': container.find(\"input[name='label']\").val(),\n\t\t\t'name': container.find(\"input[name='name']\").val(),\n\t\t\t'prefix': container.find(\"input[name='prefix']\").val()\n\t\t});\n\t\tif (SaveEvent.resp) {\n\t\t\twindow.location.reload();\n\t\t}\n\t},\n\tAddTranslationMondal: function (e) {\n\t\tvar currentTarget = $(e.currentTarget);\n\t\tvar container = currentTarget.closest('.modalContainer');\n\t\tvar SaveEvent = Settings_Index_Js.registerSaveEvent('addTranslation', $.extend({mod: $(\".LangManagement #mods_list\").val()}, container.find(\".AddTranslationForm\").serializeFormData()));\n\t\tif (SaveEvent.resp) {\n\t\t\tcontainer.find('.AddNewTranslationMondal').modal('hide');\n\t\t}\n\t\tSettings_Index_Js.LoadEditLang(jQuery('#edit_lang'));\n\t\te.preventDefault();\n\t},\n\tDeleteLang: function (closestTrElement, e) {\n\t\tSettings_Index_Js.registerSaveEvent('delete', {'prefix': closestTrElement.data('prefix')});\n\t\tclosestTrElement.hide();\n\t},\n\tsetAsDefaultLang: function (closestTrElement, e) {\n\t\tvar SaveEvent = Settings_Index_Js.registerSaveEvent('setAsDefault', {'prefix': closestTrElement.data('prefix')});\n\t\t$(e.currentTarget).closest('td').find('#deleteItemC').remove();\n\t\t$(e.currentTarget).remove();\n\t\tvar prefix = SaveEvent.result['prefixOld'];\n\t\tvar tbodyElement = closestTrElement.closest('tbody');\n\t\tlet OldTrDefaultLang = tbodyElement.find('tr[data-prefix=\"' + prefix + '\"]');\n\t\tlet buttonDelete = '';\n\t\tif (!OldTrDefaultLang.data('isDefault')) {\n\t\t\tbuttonDelete = '<button class=\"btn btn-danger btn-sm marginLeftZero\" data-toggle=\"confirmation\" id=\"deleteItemC\">' +\n\t\t\t\t'<span class=\"fas fa-trash fa-xs\"></span>' + app.vtranslate('JS_DELETE') + '</button>';\n\t\t}\n\t\tOldTrDefaultLang.find('td:last').append(\n\t\t\tbuttonDelete +\n\t\t\t'<button class=\"btn btn-success btn-sm marginLeftZero\" data-toggle=\"confirmation\" id=\"setAsDefault\">' +\n\t\t\t'<span class=\"fas fa-check fa-xs\"></span>' +\n\t\t\tapp.vtranslate('JS_DEFAULT') + '</button>'\n\t\t);\n\t\tSettings_Index_Js.initEvant(OldTrDefaultLang);\n\t},\n\tregisterSaveEvent: function (mode, data) {\n\t\tvar response = '';\n\t\tvar resp = '';\n\t\tvar params = {}\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: 'SaveAjax',\n\t\t\tmode: mode,\n\t\t}\n\t\tparams.data = $.extend(params.data, data);\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tresponse = data['result'];\n\t\t\tvar params = {\n\t\t\t\ttext: response['message'] ? response['message'] : app.vtranslate('JS_ERROR'),\n\t\t\t};\n\t\t\tif (response['success'] == true) {\n\t\t\t\tparams.type = 'info';\n\t\t\t}\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\tresp = response['success'];\n\t\t});\n\t\treturn {resp: resp, params: params.data.params, result: response};\n\t},\n\tregisterStats: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('.showStats').on('click', function () {\n\t\t\tvar params = {}\n\t\t\tvar langs = jQuery('[name=\"langs\"]').val();\n\t\t\tparams.data = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'GetChart',\n\t\t\t\tlangBase: jQuery('[name=\"langs_basic\"]').val(),\n\t\t\t\tlangs: langs\n\t\t\t}\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tvar response = data['result'];\n\t\t\t\tif (response['success'] && response['data'].length !== 0) {\n\t\t\t\t\tthisInstance.showStats(response['data'], response['modules']);\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t},\n\tshowStats: function (data, modules) {\n\t\tconst thisInstance = this;\n\t\tlet container = $('.LangManagement'),\n\t\t\thtml = '<div class=\"col-md-12\"><div class=\"panel panel-default\"><div class=\"panel-body\">',\n\t\t\tlangStats = 0,\n\t\t\tshortages = [];\n\t\tfor (let i in modules) {\n\t\t\tfor (let k in modules[i]) {\n\t\t\t\tif (data[k].length == 1) {\n\t\t\t\t\tlangStats += data[k][0];\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet max = data[k][0];\n\t\t\t\tlangStats += max;\n\t\t\t\tdelete data[k][0];\n\t\t\t\thtml += '<div class=\"row moduleRow\" data-module=\"' + k + '\"><label class=\"col-md-3 form-control-plaintext col-form-label mt-2\">' + modules[i][k] + ': </label><div class=\"form-control-plaintext col-md-9\">'\n\t\t\t\tfor (let q in data[k]) {\n\t\t\t\t\tif (typeof shortages[q] === \"undefined\") {\n\t\t\t\t\t\tshortages[q] = 0;\n\t\t\t\t\t}\n\t\t\t\t\tshortages[q] += data[k][q].length;\n\t\t\t\t\tlet x = data[k][q].length * 100 / max\n\t\t\t\t\thtml += '<button class=\"btn btn-xs btn-primary\" data-lang=\"' + q + '\"> ' + container.find('select option[value=\"' + q + '\"]').first().text() + ' - ' + x.toFixed(2) + '% </button>&nbsp;';\n\t\t\t\t}\n\t\t\t\thtml += '</div></div>';\n\t\t\t}\n\t\t}\n\t\thtml += '</div></div></div>';\n\t\tthis.getDataCharts(shortages, langStats);\n\t\tlet element = container.find('.statsData').html(html);\n\t\tapp.showScrollBar(element.find('.panel-body'), {\n\t\t\theight: '400px',\n\t\t\trailVisible: true,\n\t\t});\n\t\tthisInstance.registerStatsEvent();\n\t},\n\tregisterStatsEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('.statsData .btn').on('click', function (e) {\n\t\t\tvar progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar row = element.closest('.moduleRow');\n\t\t\tvar url =\n\t\t\t\t'index.php?module=' + app.getModuleName() +\n\t\t\t\t'&parent=' + app.getParentModuleName() +\n\t\t\t\t'&view=GetLabels' +\n\t\t\t\t'&langBase=' + jQuery('[name=\"langs_basic\"]').val() +\n\t\t\t\t'&lang=' + element.data('lang') +\n\t\t\t\t'&sourceModule=' + row.data('module');\n\t\t\tapp.showModalWindow(null, url, function (data) {\n\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t\tdata.find('button:not(.close)').on('click', function (e) {\n\t\t\t\t\tvar button = jQuery(e.currentTarget);\n\t\t\t\t\tvar input = button.closest('tr').find('input');\n\t\t\t\t\tthisInstance.changeTranslation(input, 'html', input.data('mod'))\n\t\t\t\t});\n\t\t\t});\n\t\t})\n\t},\n\tgetDataCharts: function (shortages, max) {\n\t\tlet container = $('.LangManagement'),\n\t\t\tdata = [],\n\t\t\tchartData = {\n\t\t\t\tlabels: [],\n\t\t\t\tdatasets: [\n\t\t\t\t\t{\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tbackgroundColor: [],\n\t\t\t\t\t\tdatalabels: {\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tweight: 'bold'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\tanchor: 'end',\n\t\t\t\t\t\t\talign: 'start',\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t};\n\t\tfor (let i in shortages) {\n\t\t\tlet x = shortages[i] * 100 / max,\n\t\t\t\tlangName = container.find('select option[value=\"' + i + '\"]').first().text();\n\t\t\tdata.push(Math.round(x * 100) / 100);\n\t\t\tchartData.datasets[0].backgroundColor.push(App.Fields.Colors.getRandomColor());\n\t\t\tchartData.labels.push(langName);\n\t\t}\n\t\tif (data.length > 0) {\n\t\t\tcontainer.find('.widgetData').val(JSON.stringify(chartData));\n\t\t\tthis.showCharts()\n\t\t}\n\t},\n\tshowCharts: function () {\n\t\tvar instance = Vtiger_Widget_Js.getInstance(jQuery('.chartBlock'), 'Bar');\n\t\tinstance.init(jQuery('.chartBlock'));\n\t\tinstance.loadChart({\n\t\t\tscales: {\n\t\t\t\txAxes: [{\n\t\t\t\t\tticks: {\n\t\t\t\t\t\tminRotation: 0\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tSettings_Index_Js.initEvants();\n\t\tthis.registerStats();\n\t}\n\n}\n$(document).ready(function () {\n\tdocument.showDiff = false;\n\tSettings_Index_Js.registerEvents();\n})\n"],"names":["Settings_Index_Js","container","$","find","on","ShowLangMondal","e","html","showDiff","LoadEditLang","this","progressIndicatorElement","progressIndicator","showModalWindow","mode","AddLangMondal","AddTranslationMondal","each","index","element","initEvant","registerUpdateLanguageBtn","icon","target","progress","app","vtranslate","addClass","request","data","done","showPnotify","reload","removeClass","jQuery","position","attr","param","getParentModuleName","undefined","val","lang","mod","document","sd","initEditLang","Fields","Picklist","changeSelectElementView","closest","changeTranslation","ShowTranslationMondal","deleteTranslation","ShowDifferences","extend","fn","dataTable","defaults","is","currentTarget","closestTrElement","registerSaveEvent","hasClass","options","makeSureOptions","popover","DeleteLang","setAsDefaultLang","cloneModal","clone","langs_list","langs_fields","JSON","stringify","key","css","resp","location","serializeFormData","modal","preventDefault","prefix","hide","SaveEvent","remove","result","OldTrDefaultLang","buttonDelete","append","response","params","getModuleName","async","dataType","type","thisInstance","langs","length","showStats","modules","langStats","shortages","i","k","max","q","x","first","text","toFixed","getDataCharts","showScrollBar","registerStatsEvent","row","url","input","chartData","langName","push","Math","round","datasets","backgroundColor","App","Colors","getRandomColor","labels","showCharts","instance","Vtiger_Widget_Js","getInstance","init","loadChart","initEvants","registerStats","ready","registerEvents"],"mappings":"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"}