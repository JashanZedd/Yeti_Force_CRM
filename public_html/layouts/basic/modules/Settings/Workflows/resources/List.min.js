"use strict";Settings_Vtiger_List_Js("Settings_Workflows_List_Js",{triggerCreate:function(url){var selectedModule=jQuery("#moduleFilter").val();selectedModule.length>0&&(url+="&source_module="+selectedModule),window.location.href=url},setChangeStatusTasks:function(e,recordId,status){var changeButtonType=jQuery(e),container=jQuery(e).closest("tr"),message=app.vtranslate("LBL_STATUS_CONFIRMATION");Vtiger_Helper_Js.showConfirmationBox({message:message}).done((function(e){var postData={module:app.getModuleName(),action:"TaskAjax",mode:"changeStatusAllTasks",record:recordId,status:status,parent:app.getParentModuleName()},deleteMessage=app.vtranslate("JS_TASKS_STATUS_GETTING_CHANGED"),progressIndicatorElement=jQuery.progressIndicator({message:deleteMessage,position:"html",blockInfo:{enabled:!0}});AppConnector.request(postData).done((function(data){if(progressIndicatorElement.progressIndicator({mode:"hide"}),data.success){var count=data.result.count,element=container.find('[data-name="active_tasks"]');changeButtonType.hide(),status?(element.html("&nbsp;"+count),changeButtonType.closest("td").find(".deactiveTasks").show()):(element.html("&nbsp;0"),changeButtonType.closest("td").find(".activeTasks").show())}else{var params={text:app.vtranslate(data.error.message),title:app.vtranslate("JS_LBL_PERMISSION")};Vtiger_Helper_Js.showPnotify(params)}}))}))}},{registerFilterChangeEvent:function(){var thisInstance=this;jQuery("#moduleFilter").on("change",(function(e){jQuery("#pageNumber").val("1"),jQuery("#pageToJump").val("1"),jQuery("#orderBy").val(""),jQuery("#sortOrder").val("");var params={module:app.getModuleName(),parent:app.getParentModuleName(),sourceModule:jQuery(e.currentTarget).val()};jQuery("#recordsCount").val(""),jQuery("#totalPageCount").text(""),thisInstance.getListViewRecords(params).done((function(data){thisInstance.updatePagination()}))}))},registerRowClickEvent:function(){this.getListViewContentContainer().on("click",".listViewEntries",(function(e){var editUrl=jQuery(e.currentTarget).find(".fa-edit").closest("a").attr("href");window.location.href=editUrl}))},getDefaultParams:function(){var pageNumber=jQuery("#pageNumber").val();return{module:app.getModuleName(),parent:app.getParentModuleName(),page:pageNumber,view:"List",sourceModule:jQuery("#moduleFilter").val()}},registerImportTemplate:function(){jQuery("#importButton").on("click",(function(){window.location.href=jQuery(this).data("url")}))},registerEvents:function(){this._super(),this.registerFilterChangeEvent(),this.registerImportTemplate()}});
//# sourceMappingURL=List.min.js.map
