{"version":3,"file":"Autologin.min.js","sources":["Autologin.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Mail_Autologin_Js', {}, {\n\tregisterChangeUser: function () {\n\t\tvar container = jQuery('.autologinContainer');\n\t\tcontainer.on('change', '.users', function () {\n\t\t\tvar row = jQuery(this).closest('tr');\n\t\t\tvar users = jQuery(this).val();\n\t\t\tif (users == null)\n\t\t\t\tusers = [];\n\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateUsers';\n\t\t\tparams['id'] = row.data('id');\n\t\t\tparams['user'] = users;\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterChangeConfig: function () {\n\t\tvar container = jQuery('.autologinContainer');\n\t\tcontainer.on('change', '.configCheckbox', function () {\n\t\t\tvar name = jQuery(this).attr('name');\n\t\t\tvar val = this.checked;\n\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateConfig';\n\t\t\tparams['type'] = 'autologin';\n\t\t\tparams['name'] = name;\n\t\t\tparams['val'] = val;\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerChangeUser();\n\t\tthisInstance.registerChangeConfig();\n\t},\n});\n"],"names":["jQuery","Class","container","on","row","closest","users","val","progressIndicator","params","app","getModuleName","getParentModuleName","data","request","done","result","message","showMessage","fail","error","name","attr","checked","thisInstance","registerChangeUser","registerChangeConfig"],"mappings":";;AAAA;AACA;AAEAA,OAAOC,KAAP,CAAa,4BAAb,EAA2C,EAA3C,EAA+C;qBAC1B,8BAAY;MAC3BC,YAAYF,OAAO,qBAAP,CAAhB;YACUG,EAAV,CAAa,QAAb,EAAuB,QAAvB,EAAiC,YAAY;OACxCC,MAAMJ,OAAO,IAAP,EAAaK,OAAb,CAAqB,IAArB,CAAV;OACIC,QAAQN,OAAO,IAAP,EAAaO,GAAb,EAAZ;OACID,SAAS,IAAb,EACCA,QAAQ,EAAR;OACGE,oBAAoBR,OAAOQ,iBAAP,EAAxB;OACIC,SAAS,EAAb;UACO,QAAP,IAAmBC,IAAIC,aAAJ,EAAnB;UACO,QAAP,IAAmBD,IAAIE,mBAAJ,EAAnB;UACO,QAAP,IAAmB,UAAnB;UACO,MAAP,IAAiB,aAAjB;UACO,IAAP,IAAeR,IAAIS,IAAJ,CAAS,IAAT,CAAf;UACO,MAAP,IAAiBP,KAAjB;gBACaQ,OAAb,CAAqBL,MAArB,EAA6BM,IAA7B,CAAkC,UAAUF,IAAV,EAAgB;sBAC/BL,iBAAlB,CAAoC,EAAC,QAAQ,MAAT,EAApC;QACIC,SAAS,EAAb;WACO,MAAP,IAAiBI,KAAKG,MAAL,CAAYC,OAA7B;6BACyBC,WAAzB,CAAqCT,MAArC;IAJD,EAKGU,IALH,CAKQ,UAAUC,KAAV,EAAiB;sBACNZ,iBAAlB,CAAoC,EAAC,QAAQ,MAAT,EAApC;IAND;GAbD;EAH6C;uBA0BxB,gCAAY;MAC7BN,YAAYF,OAAO,qBAAP,CAAhB;YACUG,EAAV,CAAa,QAAb,EAAuB,iBAAvB,EAA0C,YAAY;OACjDkB,OAAOrB,OAAO,IAAP,EAAasB,IAAb,CAAkB,MAAlB,CAAX;OACIf,MAAM,KAAKgB,OAAf;OACIf,oBAAoBR,OAAOQ,iBAAP,EAAxB;OACIC,SAAS,EAAb;UACO,QAAP,IAAmBC,IAAIC,aAAJ,EAAnB;UACO,QAAP,IAAmBD,IAAIE,mBAAJ,EAAnB;UACO,QAAP,IAAmB,UAAnB;UACO,MAAP,IAAiB,cAAjB;UACO,MAAP,IAAiB,WAAjB;UACO,MAAP,IAAiBS,IAAjB;UACO,KAAP,IAAgBd,GAAhB;;gBAEaO,OAAb,CAAqBL,MAArB,EAA6BM,IAA7B,CAAkC,UAAUF,IAAV,EAAgB;sBAC/BL,iBAAlB,CAAoC,EAAC,QAAQ,MAAT,EAApC;QACIC,SAAS,EAAb;WACO,MAAP,IAAiBI,KAAKG,MAAL,CAAYC,OAA7B;6BACyBC,WAAzB,CAAqCT,MAArC;IAJD,EAKGU,IALH,CAKQ,UAAUC,KAAV,EAAiB;sBACNZ,iBAAlB,CAAoC,EAAC,QAAQ,MAAT,EAApC;IAND;GAbD;EA5B6C;iBAmD9B,0BAAY;MACvBgB,eAAe,IAAnB;eACaC,kBAAb;eACaC,oBAAb;;CAtDF"}