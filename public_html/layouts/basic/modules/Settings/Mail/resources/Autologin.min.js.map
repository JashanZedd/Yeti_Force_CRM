{"version":3,"file":"Autologin.min.js","sources":["Autologin.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Mail_Autologin_Js', {}, {\n\tregisterChangeUser: function () {\n\t\tvar container = jQuery('.autologinContainer');\n\t\tcontainer.on('change', '.users', function () {\n\t\t\tvar row = jQuery(this).closest('tr');\n\t\t\tvar users = jQuery(this).val();\n\t\t\tif (users == null)\n\t\t\t\tusers = [];\n\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateUsers';\n\t\t\tparams['id'] = row.data('id');\n\t\t\tparams['user'] = users;\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterChangeConfig: function () {\n\t\tvar container = jQuery('.autologinContainer');\n\t\tcontainer.on('change', '.configCheckbox', function () {\n\t\t\tvar name = jQuery(this).attr('name');\n\t\t\tvar val = this.checked;\n\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateConfig';\n\t\t\tparams['type'] = 'autologin';\n\t\t\tparams['name'] = name;\n\t\t\tparams['val'] = val;\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerChangeUser();\n\t\tthisInstance.registerChangeConfig();\n\t},\n});\n"],"names":["jQuery","Class","on","row","this","closest","users","val","progressIndicator","params","app","getModuleName","getParentModuleName","data","request","done","mode","result","message","showMessage","fail","error","name","attr","checked","registerChangeUser","registerChangeConfig"],"mappings":"aAGAA,OAAOC,MAAM,6BAA8B,GAAI,oBAC1B,WACHD,OAAO,uBACbE,GAAG,SAAU,UAAU,eAC5BC,IAAMH,OAAOI,MAAMC,QAAQ,MAC3BC,MAAQN,OAAOI,MAAMG,MACZ,MAATD,QACHA,MAAQ,QACLE,kBAAoBR,OAAOQ,oBAC3BC,OAAS,UACb,OAAmBC,IAAIC,uBACvB,OAAmBD,IAAIE,6BACvB,OAAmB,kBACnB,KAAiB,qBACjB,GAAeT,IAAIU,KAAK,aACxB,KAAiBP,mBACJQ,QAAQL,QAAQM,MAAK,SAAUF,wBACzBL,kBAAkB,CAACQ,KAAQ,aACzCP,OAAS,UACb,KAAiBI,KAAKI,OAAOC,iCACJC,YAAYV,WACnCW,MAAK,SAAUC,yBACCb,kBAAkB,CAACQ,KAAQ,qCAI1B,WACLhB,OAAO,uBACbE,GAAG,SAAU,mBAAmB,eACrCoB,KAAOtB,OAAOI,MAAMmB,KAAK,QACzBhB,IAAMH,KAAKoB,QACXhB,kBAAoBR,OAAOQ,oBAC3BC,OAAS,UACb,OAAmBC,IAAIC,uBACvB,OAAmBD,IAAIE,6BACvB,OAAmB,kBACnB,KAAiB,sBACjB,KAAiB,mBACjB,KAAiBU,YACjB,IAAgBf,iBAEHO,QAAQL,QAAQM,MAAK,SAAUF,wBACzBL,kBAAkB,CAACQ,KAAQ,aACzCP,OAAS,UACb,KAAiBI,KAAKI,OAAOC,iCACJC,YAAYV,WACnCW,MAAK,SAAUC,yBACCb,kBAAkB,CAACQ,KAAQ,+BAIhC,WACIZ,KACNqB,qBADMrB,KAENsB"}