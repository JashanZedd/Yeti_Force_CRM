{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Mail_Detail_Js',\n\t{},\n\t{\n\t\tregisterRemoveEvents: function() {\n\t\t\tvar container = jQuery('.contentsDiv');\n\t\t\tcontainer.on('click', '.js-delete', function() {\n\t\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'DeleteAjax',\n\t\t\t\t\trecord: $('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.href = data.result;\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterAcceptanceEvent: function() {\n\t\t\tvar container = jQuery('.contentsDiv');\n\t\t\tcontainer.on('click', '.acceptanceRecord', function(e) {\n\t\t\t\tvar elem = this;\n\t\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\tmode: 'acceptanceRecord',\n\t\t\t\t\tid: $('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: data.result.message });\n\t\t\t\t\t\t$(elem).remove();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsendMailManually: function() {\n\t\t\tconst container = $('.contentsDiv');\n\t\t\tcontainer.on('click', '.sendManually', function(e) {\n\t\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SendManuallyAjax',\n\t\t\t\t\tid: container.find('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.message,\n\t\t\t\t\t\t\ttype: data.result.success ? 'success' : 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontainer.find('.sendManually').remove();\n\t\t\t\t\t\tcontainer.find('.deleteButton').remove();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tthis.registerAcceptanceEvent();\n\t\t\tthis.sendMailManually();\n\t\t\tthis.registerRemoveEvents();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","on","progressIndicator","request","app","getModuleName","getParentModuleName","$","val","done","data","mode","location","href","result","fail","error","e","elem","showMessage","text","message","remove","find","success","registerAcceptanceEvent","sendMailManually","registerRemoveEvents"],"mappings":";;AAAA;AACA;AAEAA,OAAOC,KAAP,CACC,yBADD,EAEC,EAFD,EAGC;uBACuB,gCAAW;MAC5BC,YAAYF,OAAO,cAAP,CAAhB;YACUG,EAAV,CAAa,OAAb,EAAsB,YAAtB,EAAoC,YAAW;OAC1CC,oBAAoBJ,OAAOI,iBAAP,EAAxB;gBACaC,OAAb,CAAqB;YACZC,IAAIC,aAAJ,EADY;YAEZD,IAAIE,mBAAJ,EAFY;YAGZ,YAHY;YAIZC,EAAE,WAAF,EAAeC,GAAf;IAJT,EAMEC,IANF,CAMO,UAASC,IAAT,EAAe;sBACFR,iBAAlB,CAAoC,EAAES,MAAM,MAAR,EAApC;WACOC,QAAP,CAAgBC,IAAhB,GAAuBH,KAAKI,MAA5B;IARF,EAUEC,IAVF,CAUO,UAASC,KAAT,EAAgB;sBACHd,iBAAlB,CAAoC,EAAES,MAAM,MAAR,EAApC;IAXF;GAFD;EAHF;0BAoB0B,mCAAW;MAC/BX,YAAYF,OAAO,cAAP,CAAhB;YACUG,EAAV,CAAa,OAAb,EAAsB,mBAAtB,EAA2C,UAASgB,CAAT,EAAY;OAClDC,OAAO,IAAX;OACIhB,oBAAoBJ,OAAOI,iBAAP,EAAxB;gBACaC,OAAb,CAAqB;YACZC,IAAIC,aAAJ,EADY;YAEZD,IAAIE,mBAAJ,EAFY;YAGZ,UAHY;UAId,kBAJc;QAKhBC,EAAE,WAAF,EAAeC,GAAf;IALL,EAOEC,IAPF,CAOO,UAASC,IAAT,EAAe;sBACFR,iBAAlB,CAAoC,EAAES,MAAM,MAAR,EAApC;6BACyBQ,WAAzB,CAAqC,EAAEC,MAAMV,KAAKI,MAAL,CAAYO,OAApB,EAArC;MACEH,IAAF,EAAQI,MAAR;IAVF,EAYEP,IAZF,CAYO,UAASC,KAAT,EAAgB;sBACHd,iBAAlB,CAAoC,EAAES,MAAM,MAAR,EAApC;IAbF;GAHD;EAtBF;mBA0CmB,4BAAW;MACtBX,YAAYO,EAAE,cAAF,CAAlB;YACUN,EAAV,CAAa,OAAb,EAAsB,eAAtB,EAAuC,UAASgB,CAAT,EAAY;OAC5Cf,oBAAoBK,EAAEL,iBAAF,EAA1B;gBACaC,OAAb,CAAqB;YACZC,IAAIC,aAAJ,EADY;YAEZD,IAAIE,mBAAJ,EAFY;YAGZ,kBAHY;QAIhBN,UAAUuB,IAAV,CAAe,WAAf,EAA4Bf,GAA5B;IAJL,EAMEC,IANF,CAMO,UAASC,IAAT,EAAe;sBACFR,iBAAlB,CAAoC,EAAES,MAAM,MAAR,EAApC;6BACyBQ,WAAzB,CAAqC;WAC9BT,KAAKI,MAAL,CAAYO,OADkB;WAE9BX,KAAKI,MAAL,CAAYU,OAAZ,GAAsB,SAAtB,GAAkC;KAFzC;cAIUD,IAAV,CAAe,eAAf,EAAgCD,MAAhC;cACUC,IAAV,CAAe,eAAf,EAAgCD,MAAhC;IAbF,EAeEP,IAfF,CAeO,UAASC,KAAT,EAAgB;sBACHd,iBAAlB,CAAoC,EAAES,MAAM,MAAR,EAApC;IAhBF;GAFD;EA5CF;iBAkEiB,0BAAW;OACrBc,uBAAL;OACKC,gBAAL;OACKC,oBAAL;;CAxEH"}