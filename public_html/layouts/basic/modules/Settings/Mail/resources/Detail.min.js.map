{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Mail_Detail_Js',\n\t{},\n\t{\n\t\tregisterRemoveEvents: function() {\n\t\t\tvar container = jQuery('.contentsDiv');\n\t\t\tcontainer.on('click', '.js-delete', function() {\n\t\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'DeleteAjax',\n\t\t\t\t\trecord: $('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.href = data.result;\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterAcceptanceEvent: function() {\n\t\t\tvar container = jQuery('.contentsDiv');\n\t\t\tcontainer.on('click', '.acceptanceRecord', function(e) {\n\t\t\t\tvar elem = this;\n\t\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\tmode: 'acceptanceRecord',\n\t\t\t\t\tid: $('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: data.result.message });\n\t\t\t\t\t\t$(elem).remove();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsendMailManually: function() {\n\t\t\tconst container = $('.contentsDiv');\n\t\t\tcontainer.on('click', '.sendManually', function(e) {\n\t\t\t\tconst progressIndicator = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SendManuallyAjax',\n\t\t\t\t\tid: container.find('#recordId').val()\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: data.result.message,\n\t\t\t\t\t\t\ttype: data.result.success ? 'success' : 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontainer.find('.sendManually').remove();\n\t\t\t\t\t\tcontainer.find('.deleteButton').remove();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error) {\n\t\t\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tthis.registerAcceptanceEvent();\n\t\t\tthis.sendMailManually();\n\t\t\tthis.registerRemoveEvents();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","on","progressIndicator","request","app","getModuleName","getParentModuleName","$","val","done","data","mode","location","href","result","fail","error","e","elem","this","showMessage","text","message","remove","container","find","success","registerAcceptanceEvent","sendMailManually","registerRemoveEvents"],"mappings":"aAGAA,OAAOC,MACN,0BACA,GACA,sBACuB,WACLD,OAAO,gBACbE,GAAG,QAAS,cAAc,eAC/BC,kBAAoBH,OAAOG,iCAClBC,QAAQ,QACZC,IAAIC,uBACJD,IAAIE,6BACJ,oBACAC,EAAE,aAAaC,QAEtBC,MAAK,SAASC,wBACIR,kBAAkB,CAAES,KAAM,gBACrCC,SAASC,KAAOH,KAAKI,UAE5BC,MAAK,SAASC,yBACId,kBAAkB,CAAES,KAAM,wCAIvB,WACRZ,OAAO,gBACbE,GAAG,QAAS,qBAAqB,SAASgB,OAC/CC,KAAOC,KACPjB,kBAAoBH,OAAOG,iCAClBC,QAAQ,QACZC,IAAIC,uBACJD,IAAIE,6BACJ,gBACF,sBACFC,EAAE,aAAaC,QAElBC,MAAK,SAASC,wBACIR,kBAAkB,CAAES,KAAM,kCACnBS,YAAY,CAAEC,KAAMX,KAAKI,OAAOQ,YACvDJ,MAAMK,YAERR,MAAK,SAASC,yBACId,kBAAkB,CAAES,KAAM,iCAI9B,eACXa,UAAYjB,EAAE,0BACVN,GAAG,QAAS,iBAAiB,SAASgB,OACzCf,kBAAoBK,EAAEL,iCACfC,QAAQ,QACZC,IAAIC,uBACJD,IAAIE,6BACJ,sBACJkB,UAAUC,KAAK,aAAajB,QAE/BC,MAAK,SAASC,wBACIR,kBAAkB,CAAES,KAAM,kCACnBS,YAAY,MAC9BV,KAAKI,OAAOQ,aACZZ,KAAKI,OAAOY,QAAU,UAAY,oBAE/BD,KAAK,iBAAiBF,mBACtBE,KAAK,iBAAiBF,YAEhCR,MAAK,SAASC,yBACId,kBAAkB,CAAES,KAAM,+BAIhC,gBACVgB,+BACAC,wBACAC"}