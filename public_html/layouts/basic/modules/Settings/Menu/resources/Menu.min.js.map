{"version":3,"file":"Menu.min.js","sources":["Menu.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Menu_Index_Js', {}, {\n\ttreeInstance: false,\n\tloadMenuTree: function () {\n\t\tvar thisInstance = this;\n\t\tif (thisInstance.treeInstance == false) {\n\t\t\tvar data = JSON.parse($('#treeValues').val());\n\t\t\tif (data.length == 0) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_NO_DATA')});\n\t\t\t}\n\t\t\tthisInstance.treeInstance = $(\"#treeContent\");\n\t\t\tthisInstance.treeInstance.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tcheck_callback: true,\n\t\t\t\t},\n\t\t\t\tcontextmenu: {\n\t\t\t\t\titems: {\n\t\t\t\t\t\trename: {\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_EDIT'),\n\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\tvar inst = $.jstree.reference(data.reference);\n\t\t\t\t\t\t\t\tvar id = inst.get_selected();\n\t\t\t\t\t\t\t\tvar progress = jQuery.progressIndicator();\n\t\t\t\t\t\t\t\tapp.showModalWindow(null, \"index.php?module=Menu&parent=Settings&view=EditMenu&id=\" + id, function (container) {\n\t\t\t\t\t\t\t\t\tthisInstance.registerEditMenu(container);\n\t\t\t\t\t\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tremove: {\n\t\t\t\t\t\t\tlabel: app.vtranslate('JS_REMOVE'),\n\t\t\t\t\t\t\taction: function (data) {\n\t\t\t\t\t\t\t\tvar inst = $.jstree.reference(data.reference);\n\t\t\t\t\t\t\t\tvar ids = inst.get_selected();\n\t\t\t\t\t\t\t\tvar showInfo = false;\n\t\t\t\t\t\t\t\tfor (var i in ids) {\n\t\t\t\t\t\t\t\t\tvar menu = inst.get_node(ids[i]);\n\t\t\t\t\t\t\t\t\tif (menu.children.length > 0) {\n\t\t\t\t\t\t\t\t\t\tshowInfo = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (showInfo) {\n\t\t\t\t\t\t\t\t\tvar modal = $('.modal.deleteAlert').clone(true, true);\n\t\t\t\t\t\t\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t\t\t\t\t\t\tdata.find('.deleteAlert').removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\tdata.find('.btn-danger').on('click', function (e) {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.removeMenu(ids, inst);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tapp.showModalWindow(modal, function (data) {\n\t\t\t\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisInstance.removeMenu(ids, inst);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tplugins: [\"contextmenu\", \"dnd\", \"search\", \"state\", \"types\"]\n\t\t\t});\n\t\t}\n\t\tthisInstance.registerMenuChanges();\n\t\treturn this.treeInstance;\n\t},\n\tregisterMenuChanges: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.treeInstance.on('move_node.jstree', function (obj) {\n\t\t\tvar progress = jQuery.progressIndicator();\n\t\t\tvar json = thisInstance.treeInstance.jstree(\"get_json\");\n\t\t\tvar menus = thisInstance.getChildrenMenu(json, 0);\n\t\t\tthisInstance.save('updateSequence', JSON.stringify(menus)).done(function (data) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: data.result.message});\n\t\t\t\tthisInstance.loadContent();\n\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t})\n\t},\n\tgetChildrenMenu: function (childrens, parent) {\n\t\tvar menus = [];\n\t\tvar thisInstance = this;\n\t\tvar roleMenu = $('[name=\"roleMenu\"]').val()\n\t\t$.each(childrens, function (key, value) {\n\t\t\tvar menu = {i: value.id, s: key, p: parent, r: roleMenu};\n\t\t\tif (value.children.length > 0) {\n\t\t\t\tmenu.c = thisInstance.getChildrenMenu(value.children, value.id);\n\t\t\t}\n\t\t\tmenus.push(menu);\n\t\t});\n\t\treturn menus;\n\t},\n\tregisterChangeRoleMenu: function () {\n\t\tvar thisInstance = this;\n\t\t$('.menuConfigContainer').on('change', '[name=\"roleMenu\"]', function (e) {\n\t\t\tthisInstance.loadContent();\n\t\t});\n\t},\n\tgetMenuData: function (selectedRole) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = app.getViewName();\n\t\tparams['roleid'] = selectedRole;\n\t\tAppConnector.requestPjax(params).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error) {\n\t\t\taDeferred.reject();\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tregisterAddMenu: function () {\n\t\tvar thisInstance = this;\n\t\t$('.addMenu').on('click', function (e) {\n\t\t\tvar progress = jQuery.progressIndicator();\n\t\t\tapp.showModalWindow(null, \"index.php?module=Menu&parent=Settings&view=CreateMenu&mode=step1\", function (container) {\n\t\t\t\tthisInstance.registerStep1(container);\n\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tloadContent: function () {\n\t\tvar progress = jQuery.progressIndicator({\n\t\t\t'position': '#treeContent',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar thisInstance = this;\n\t\tvar contentsDiv = $('.contentsDiv');\n\t\tthisInstance.getMenuData($('[name=\"roleMenu\"]').val()).done(function (data) {\n\t\t\tcontentsDiv.html(data);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(contentsDiv.find(\"[name='roleMenu']\"));\n\t\t\tthisInstance.registerEvents();\n\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\tregisterEditMenu: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.find('form').validationEngine(app.validationEngineOptions);\n\t\tthisInstance.registerHotkeys(container);\n\t\tthisInstance.registerHiddenInput(container);\n\t\tthisInstance.registerFilters(container);\n\t\tthisInstance.registerSelectIcons(container);\n\t\tcontainer.find('.saveButton').on('click', function (e) {\n\t\t\tvar form = container.find('form').serializeFormData();\n\t\t\tvar errorExists = container.find('form').validationEngine('validate');\n\t\t\tif (errorExists != false) {\n\t\t\t\tvar progress = jQuery.progressIndicator();\n\t\t\t\tthisInstance.save('updateMenu', form).done(function (data) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: data.result.message});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tthisInstance.loadContent();\n\t\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tcontainer.find('form').on('submit', function (event) {\n\t\t\tevent.preventDefault();\n\t\t});\n\t},\n\tregisterStep1: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.find('.nextButton').on('click', function (e) {\n\t\t\tvar progress = jQuery.progressIndicator();\n\t\t\tapp.showModalWindow(null, \"index.php?module=Menu&parent=Settings&view=CreateMenu&mode=step2&mtype=\" + container.find('select.type').val(), function (container) {\n\t\t\t\tthisInstance.registerStep2(container);\n\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterSelectIcons: function (container) {\n\t\tvar iconSelect = container.find('#selectIconButton');\n\t\tvar icon = container.find('[name=\"icon\"]');\n\t\ticonSelect.on('click', function () {\n\t\t\t$.when(Settings_Vtiger_Index_Js.selectIcon()).done(function (data) {\n\t\t\t\ticon.val(data['name']);\n\t\t\t});\n\t\t});\n\t},\n\tregisterStep2: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.find('form').validationEngine(app.validationEngineOptions);\n\t\tthisInstance.registerHotkeys(container);\n\t\tthisInstance.registerHiddenInput(container);\n\t\tthisInstance.registerFilters(container);\n\t\tthisInstance.registerSelectIcons(container);\n\t\tcontainer.find('.saveButton').on('click', function (e) {\n\t\t\tvar form = container.find('form').serializeFormData();\n\t\t\tform.role = $('[name=\"roleMenu\"]').val();\n\t\t\tvar errorExists = container.find('form').validationEngine('validate');\n\t\t\tif (errorExists != false) {\n\t\t\t\tvar progress = jQuery.progressIndicator();\n\t\t\t\tthisInstance.save('createMenu', form).done(function (data) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: data.result.message});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tthisInstance.loadContent();\n\t\t\t\t\tprogress.progressIndicator({'mode': 'hide'});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tcontainer.find('form').on('submit', function (event) {\n\t\t\tevent.preventDefault();\n\t\t});\n\t},\n\tsave: function (mode, data) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['action'] = 'SaveAjax';\n\t\tparams['source'] = $('.js-source').val();\n\t\tparams['mode'] = mode;\n\t\tparams['mdata'] = data;\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (textStatus, errorThrown) {\n\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tremoveMenu: function (id, inst) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.save('removeMenu', id).done(function (data) {\n\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: data.result.message});\n\t\t\tinst.delete_node(id);\n\t\t\tthisInstance.loadContent();\n\t\t});\n\t},\n\tregisterHotkeys: function (container) {\n\t\tcontainer.find('.testBtn').on('click', function (e) {\n\t\t\tvar testBtn = $(this);\n\t\t\tvar key = container.find('[name=\"hotkey\"]').val();\n\t\t\ttestBtn.addClass('active').removeClass('btn-default').addClass('btn-warning');\n\t\t\tMousetrap.bind(key, function () {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: app.vtranslate('JS_TEST_HOTKEY_OK')});\n\t\t\t\ttestBtn.removeClass('btn-warning').addClass('btn-success').removeClass('active');\n\t\t\t\tMousetrap.unbind(key);\n\t\t\t});\n\t\t});\n\t},\n\tregisterHiddenInput: function (container) {\n\t\tif (container.find('#menuType').val() == 'CustomFilter') {\n\t\t\tvar tabid = container.find('select[name=\"dataurl\"] option:selected').data('tabid');\n\t\t\tcontainer.find('[name=\"module\"]').val(tabid);\n\t\t\tcontainer.on('change', 'select[name=\"dataurl\"]', function (e) {\n\t\t\t\tvar tabid = container.find('select[name=\"dataurl\"] option:selected').data('tabid');\n\t\t\t\tcontainer.find('[name=\"module\"]').val(tabid);\n\t\t\t});\n\n\t\t}\n\t},\n\tcacheFilters: false,\n\tregisterFilters: function (container) {\n\t\tvar thisInstance = this;\n\t\tif (container.find('#menuType').val() == 'Module') {\n\t\t\tthisInstance.cacheFilters = container.find('[name=\"filters\"]').clone(true, true);\n\t\t\tcontainer.find('[name=\"module\"]').on('change', function (e) {\n\t\t\t\tthisInstance.loadFilters(container, $(this));\n\t\t\t});\n\t\t\tthisInstance.loadFilters(container, container.find('[name=\"module\"]'));\n\t\t}\n\t},\n\tloadFilters: function (container, module) {\n\t\tvar thisInstance = this;\n\t\tcontainer.find('[name=\"filters\"]').html(thisInstance.cacheFilters.html());\n\t\tcontainer.find('[name=\"filters\"] option').each(function (index) {\n\t\t\tif ($(this).data('tabid') != module.val()) {\n\t\t\t\t$(this).remove();\n\t\t\t}\n\t\t});\n\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('[name=\"filters\"]'), {width: '100%'});\n\t},\n\tregisterModalButton: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = jQuery('.menuConfigContainer');\n\n\t\tcontainer.find('.copyMenu').on('click', function () {\n\n\t\t\tvar myModal = container.find('.copyMenuModal').clone(true, true);\n\t\t\tvar callBackFunction = function (data) {\n\n\t\t\t\tvar selectElement = data.find(\"[name='roles']\");\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(selectElement);\n\t\t\t\tvar form = data.find('form');\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\t\tvar role = currentTarget.find('#roleList');\n\t\t\t\t\tif (role.length && role.val()) {\n\t\t\t\t\t\tthisInstance.copyMenu(role.val());\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t})\n\t\t\t}\n\t\t\tapp.showModalWindow(myModal, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t},\n\tcopyMenu: function (fromRole) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar toRole = $('[name=\"roleMenu\"]').val()\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['action'] = 'SaveAjax';\n\t\tparams['mode'] = 'copyMenu';\n\t\tparams['fromRole'] = fromRole;\n\t\tparams['toRole'] = toRole;\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tapp.hideModalWindow();\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tthisInstance.loadContent();\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.treeInstance = false;\n\t\tthisInstance.loadMenuTree();\n\t\tthisInstance.registerChangeRoleMenu();\n\t\tthisInstance.registerAddMenu();\n\t\tthisInstance.registerModalButton();\n\t}\n});\n"],"names":["jQuery","Class","thisInstance","this","treeInstance","data","JSON","parse","$","val","length","showMessage","text","app","vtranslate","jstree","id","reference","get_selected","progress","progressIndicator","showModalWindow","container","registerEditMenu","mode","inst","ids","showInfo","i","get_node","children","modal","clone","callBackFunction","find","removeClass","on","e","removeMenu","registerMenuChanges","obj","json","menus","getChildrenMenu","save","stringify","done","type","result","message","loadContent","childrens","parent","roleMenu","each","key","value","menu","s","p","r","c","push","selectedRole","aDeferred","Deferred","params","getModuleName","getParentModuleName","getViewName","requestPjax","resolve","fail","error","reject","promise","registerStep1","contentsDiv","getMenuData","html","Fields","Picklist","showSelect2ElementView","registerEvents","validationEngine","validationEngineOptions","registerHotkeys","registerHiddenInput","registerFilters","registerSelectIcons","form","serializeFormData","hideModalWindow","event","preventDefault","registerStep2","iconSelect","icon","when","Settings_Vtiger_Index_Js","selectIcon","role","request","textStatus","errorThrown","delete_node","testBtn","addClass","bind","unbind","tabid","cacheFilters","loadFilters","module","index","remove","width","myModal","selectElement","currentTarget","copyMenu","fromRole","progressIndicatorElement","toRole","loadMenuTree","registerChangeRoleMenu","registerAddMenu","registerModalButton"],"mappings":"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"}