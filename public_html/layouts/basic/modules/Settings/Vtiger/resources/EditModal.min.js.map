{"version":3,"file":"EditModal.min.js","sources":["EditModal.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js('Settings_Vtiger_EditModal_Js', {}, {\n\tgetForm: function () {\n\t\tif (this.formElement == false) {\n\t\t\tthis.setForm(jQuery('#modalEditModal'));\n\t\t}\n\t\treturn this.formElement;\n\t},\n\tregisterEvents: function () {\n\t\tvar container = this.getForm();\n\t\tthis.registerBasicEvents(container);\n\t\tthis.registerSubmit();\n\t},\n\tregisterSubmit: function () {\n\t\tvar container = this.getForm();\n\t\tvar form = container.find('form');\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\tapp.saveAjax('', formData, {record: container.find('[name=\"record\"]').val()}).done(function (data) {\n\t\t\t\t\tif (data.result) {\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_SAVE_SUCCESS')});\n\t\t\t\t\t\tvar moduleClassName = \"Settings_\" + app.getModuleName() + \"_List_Js\";\n\t\t\t\t\t\tif (typeof window[moduleClassName] === \"undefined\") {\n\t\t\t\t\t\t\tmoduleClassName = \"Settings_Vtiger_List_Js\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar instance = new window[moduleClassName]();\n\t\t\t\t\t\tinstance.getListViewRecords().done(function () {\n\t\t\t\t\t\t\tinstance.updatePagination();\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'));\n\t\t\t\t\t}\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n});\njQuery(document).ready(function (e) {\n\tsetTimeout(function () {\n\t\tvar moduleClassName = \"Settings_\" + app.getModuleName() + \"_EditModal_Js\";\n\t\tif (typeof window[moduleClassName] === \"undefined\") {\n\t\t\tmoduleClassName = \"Settings_Vtiger_EditModal_Js\";\n\t\t}\n\t\tvar instance = new window[moduleClassName]();\n\t\tinstance.registerEvents();\n\t}, 200);\n});\n"],"names":["Vtiger_Edit_Js","formElement","setForm","jQuery","container","getForm","registerBasicEvents","registerSubmit","form","find","on","e","preventDefault","validationEngine","formData","serializeFormData","saveAjax","record","val","done","data","result","showMessage","text","app","vtranslate","moduleClassName","getModuleName","window","instance","getListViewRecords","updatePagination","showPnotify","hideModalWindow","document","ready","registerEvents"],"mappings":";;AAAA;AACA;AAEAA,eAAe,8BAAf,EAA+C,EAA/C,EAAmD;UACzC,mBAAY;MAChB,KAAKC,WAAL,IAAoB,KAAxB,EAA+B;QACzBC,OAAL,CAAaC,OAAO,iBAAP,CAAb;;SAEM,KAAKF,WAAZ;EALiD;iBAOlC,0BAAY;MACvBG,YAAY,KAAKC,OAAL,EAAhB;OACKC,mBAAL,CAAyBF,SAAzB;OACKG,cAAL;EAViD;iBAYlC,0BAAY;MACvBH,YAAY,KAAKC,OAAL,EAAhB;MACIG,OAAOJ,UAAUK,IAAV,CAAe,MAAf,CAAX;OACKC,EAAL,CAAQ,QAAR,EAAkB,UAAUC,CAAV,EAAa;KAC5BC,cAAF;OACIJ,KAAKK,gBAAL,CAAsB,UAAtB,CAAJ,EAAuC;QAClCC,WAAWN,KAAKO,iBAAL,EAAf;QACIC,QAAJ,CAAa,EAAb,EAAiBF,QAAjB,EAA2B,EAACG,QAAQb,UAAUK,IAAV,CAAe,iBAAf,EAAkCS,GAAlC,EAAT,EAA3B,EAA8EC,IAA9E,CAAmF,UAAUC,IAAV,EAAgB;SAC9FA,KAAKC,MAAT,EAAiB;+BACSC,WAAzB,CAAqC,EAACC,MAAMC,IAAIC,UAAJ,CAAe,iBAAf,CAAP,EAArC;UACIC,kBAAkB,cAAcF,IAAIG,aAAJ,EAAd,GAAoC,UAA1D;UACI,OAAOC,OAAOF,eAAP,CAAP,KAAmC,WAAvC,EAAoD;yBACjC,yBAAlB;;UAEGG,WAAW,IAAID,OAAOF,eAAP,CAAJ,EAAf;eACSI,kBAAT,GAA8BX,IAA9B,CAAmC,YAAY;gBACrCY,gBAAT;OADD;MAPD,MAUO;uBACWC,WAAjB,CAA6BR,IAAIC,UAAJ,CAAe,UAAf,CAA7B;;SAEGQ,eAAJ;KAdD;;GAJF;;CAfF;AAuCA9B,OAAO+B,QAAP,EAAiBC,KAAjB,CAAuB,UAAUxB,CAAV,EAAa;YACxB,YAAY;MAClBe,kBAAkB,cAAcF,IAAIG,aAAJ,EAAd,GAAoC,eAA1D;MACI,OAAOC,OAAOF,eAAP,CAAP,KAAmC,WAAvC,EAAoD;qBACjC,8BAAlB;;MAEGG,WAAW,IAAID,OAAOF,eAAP,CAAJ,EAAf;WACSU,cAAT;EAND,EAOG,GAPH;CADD"}