{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\n$.Class(\"Settings_Vtiger_Index_Js\", {\n\tshowMessage: function (customParams) {\n\t\tlet params = {\n\t\t\ttype: 'success',\n\t\t\ttitle: app.vtranslate('JS_MESSAGE')\n\t\t};\n\t\tif (typeof customParams !== \"undefined\") {\n\t\t\tparams = $.extend(params, customParams);\n\t\t}\n\t\tVtiger_Helper_Js.showPnotify(params);\n\t},\n\tselectIcon: function () {\n\t\tvar aDeferred = $.Deferred();\n\t\tapp.showModalWindow({\n\t\t\tid: 'iconsModal',\n\t\t\turl: 'index.php?module=Vtiger&view=IconsModal&parent=Settings',\n\t\t\tcb: function (container) {\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('#iconsList'), {\n\t\t\t\t\ttemplateSelection: function (data) {\n\t\t\t\t\t\tif (!data.id) {\n\t\t\t\t\t\t\treturn (data.text);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar type = $(data.element).data('type');\n\t\t\t\t\t\tcontainer.find('.iconName').text(data.id);\n\t\t\t\t\t\tcontainer.find('#iconName').val(data.id);\n\t\t\t\t\t\tcontainer.find('#iconType').val(type);\n\t\t\t\t\t\tif (type === 'icon') {\n\t\t\t\t\t\t\tcontainer.find('.iconExample').html('<span class=\"' + data.element.value + '\" aria-hidden=\"true\"></span>');\n\t\t\t\t\t\t} else if (type === 'image') {\n\t\t\t\t\t\t\tcontainer.find('.iconName').text(data.text);\n\t\t\t\t\t\t\tcontainer.find('#iconName').val(data.element.value);\n\t\t\t\t\t\t\tcontainer.find('.iconExample').html('<img width=\"24px\" src=\"' + data.element.value + '\"/>')\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t},\n\t\t\t\t\ttemplateResult: function (data) {\n\t\t\t\t\t\tif (!data.id) {\n\t\t\t\t\t\t\treturn (data.text);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar type = $(data.element).data('type');\n\t\t\t\t\t\tvar option;\n\t\t\t\t\t\tif (type === 'icon') {\n\t\t\t\t\t\t\toption = $('<span class=\"' + data.element.value + '\" aria-hidden=\"true\"></span><span> - ' + $(data.element).data('class') + '</span>');\n\t\t\t\t\t\t} else if (type === 'image') {\n\t\t\t\t\t\t\toption = $('<img width=\"24px\" src=\"' + data.element.value + '\" title=\"' + data.text + '\" /><span> - ' + data.text + '</span>');\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn option;\n\t\t\t\t\t},\n\t\t\t\t\tcloseOnSelect: true\n\t\t\t\t});\n\t\t\t\tcontainer.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\t\taDeferred.resolve({\n\t\t\t\t\t\ttype: container.find('#iconType').val(),\n\t\t\t\t\t\tname: container.find('#iconName').val(),\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow(container, 'iconsModal');\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\tshowWarnings: function () {\n\t\t$('li[data-mode=\"systemWarnings\"] a').click();\n\t},\n\tshowSecurity: function () {\n\t\t$('li[data-mode=\"security\"] a').click();\n\t},\n}, {\n\tregisterDeleteShortCutEvent: function (shortCutBlock) {\n\t\tvar thisInstance = this;\n\t\tif (typeof shortCutBlock === \"undefined\") {\n\t\t\tshortCutBlock = $('div#settingsShortCutsContainer')\n\t\t}\n\t\tshortCutBlock.on('click', '.unpin', function (e) {\n\t\t\tvar actionEle = $(e.currentTarget);\n\t\t\tvar closestBlock = actionEle.closest('.moduleBlock');\n\t\t\tvar fieldId = actionEle.data('id');\n\t\t\tvar shortcutBlockActionUrl = closestBlock.data('actionurl');\n\t\t\tvar actionUrl = shortcutBlockActionUrl + '&pin=false';\n\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(actionUrl).done(function (data) {\n\t\t\t\tif (data.result.SUCCESS == 'OK') {\n\t\t\t\t\tclosestBlock.remove();\n\t\t\t\t\tthisInstance.registerSettingShortCutAlignmentEvent();\n\t\t\t\t\tvar menuItemId = '#' + fieldId + '_menuItem';\n\t\t\t\t\tvar shortCutActionEle = $(menuItemId);\n\t\t\t\t\tvar imagePath = shortCutActionEle.data('pinimageurl');\n\t\t\t\t\tshortCutActionEle.attr('src', imagePath).data('action', 'pin');\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t'mode': 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_SUCCESSFULLY_UNPINNED'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tthisInstance.registerReAlign();\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t}\n\t\t\t});\n\t\t\te.stopPropagation();\n\t\t});\n\t},\n\tregisterPinShortCutEvent: function (element) {\n\t\tvar id = element.data('id');\n\t\tvar url = 'index.php?module=Vtiger&parent=Settings&action=Basic&mode=updateFieldPinnedStatus&pin=true&fieldid=' + id;\n\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\tif (data.result.SUCCESS == 'OK') {\n\t\t\t\tvar params = {\n\t\t\t\t\t'fieldid': id,\n\t\t\t\t\t'mode': 'getSettingsShortCutBlock',\n\t\t\t\t\t'module': 'Vtiger',\n\t\t\t\t\t'parent': 'Settings',\n\t\t\t\t\t'view': 'IndexAjax'\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tvar shortCutsMainContainer = $('#settingsShortCutsContainer');\n\t\t\t\t\tvar existingDivBlock = $('#settingsShortCutsContainer');\n\t\t\t\t\t$(data).appendTo(existingDivBlock);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t'mode': 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_SUCCESSFULLY_PINNED')\n\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterSettingsShortcutClickEvent: function () {\n\t\t$('#settingsShortCutsContainer').on('click', '.moduleBlock', function (e) {\n\t\t\tvar url = $(e.currentTarget).data('url');\n\t\t\twindow.location.href = url;\n\t\t});\n\t},\n\tregisterSettingShortCutAlignmentEvent: function () {\n\t\t$('#settingsShortCutsContainer').find('.moduleBlock').removeClass('marginLeftZero');\n\t\t$('#settingsShortCutsContainer').find('.moduleBlock:nth-child(3n+1)').addClass('marginLeftZero');\n\t},\n\tregisterWidgetsEvents: function () {\n\t\tvar widgets = $('div.widgetContainer');\n\t\twidgets.on('shown.bs.collapse', function (e) {\n\t\t\tvar widgetContainer = $(e.currentTarget);\n\t\t\tvar quickWidgetHeader = widgetContainer.closest('.quickWidget').find('.quickWidgetHeader');\n\t\t\tvar imageEle = quickWidgetHeader.find('.imageElement')\n\t\t\tvar imagePath = imageEle.data('downimage');\n\t\t\timageEle.attr('src', imagePath);\n\t\t});\n\t\twidgets.on('hidden.bs.collapse', function (e) {\n\t\t\tvar widgetContainer = $(e.currentTarget);\n\t\t\tvar quickWidgetHeader = widgetContainer.closest('.quickWidget').find('.quickWidgetHeader');\n\t\t\tvar imageEle = quickWidgetHeader.find('.imageElement')\n\t\t\tvar imagePath = imageEle.data('rightimage');\n\t\t\timageEle.attr('src', imagePath);\n\t\t});\n\t},\n\tregisterAddShortcutDragDropEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar elements = $(\".js-menu__item .js-menu__link--draggable\");\n\t\tvar classes = 'ui-draggable-menuShortcut bg-warning';\n\t\telements.draggable({\n\t\t\tcontainment: \"#page\",\n\t\t\tappendTo: \"body\",\n\t\t\thelper: \"clone\",\n\t\t\tstart: function (e, ui) {\n\t\t\t\t$(ui.helper).addClass(classes);\n\t\t\t},\n\t\t\tzIndex: 99999\n\t\t});\n\t\t$(\"#settingsShortCutsContainer\").droppable({\n\t\t\tactiveClass: \"ui-state-default\",\n\t\t\thoverClass: \"ui-state-hover\",\n\t\t\taccept: \".js-menu__item .js-menu__link--draggable\",\n\t\t\tdrop: function (event, ui) {\n\t\t\t\tvar url = ui.draggable.attr('href');\n\t\t\t\tvar isExist = false;\n\t\t\t\t$('#settingsShortCutsContainer [id^=\"shortcut\"]').each(function () {\n\t\t\t\t\tvar shortCutUrl = $(this).data('url');\n\t\t\t\t\tif (shortCutUrl == url) {\n\t\t\t\t\t\tisExist = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (isExist) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_SHORTCUT_ALREADY_ADDED'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.registerPinShortCutEvent(ui.draggable.parent());\n\t\t\t\t\tthisInstance.registerSettingShortCutAlignmentEvent();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\tregisterReAlign: function () {\n\n\t\tvar params = {\n\t\t\t'mode': 'realignSettingsShortCutBlock',\n\t\t\t'module': 'Vtiger',\n\t\t\t'parent': 'Settings',\n\t\t\t'view': 'IndexAjax'\n\t\t}\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\t$('#settingsShortCutsContainer').html(data);\n\t\t});\n\t},\n\tloadEditorElement: function () {\n\t\tnew App.Fields.Text.Editor($('.js-editor'), {});\n\t},\n\tregisterSaveIssues: function () {\n\t\tvar container = $('.addIssuesModal');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\tvar title = $('#titleIssues');\n\t\tvar CKEditorInstance = CKEDITOR.instances['bodyIssues'];\n\t\tvar thisInstance = this;\n\t\tvar saveBtn = container.find('.saveIssues');\n\t\tsaveBtn.on('click', function () {\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar body = CKEditorInstance.document.getBody().getHtml();\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'Github',\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveIssuesAjax',\n\t\t\t\t\ttitle: title.val(),\n\t\t\t\t\tbody: body\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tthisInstance.reloadContent();\n\t\t\t\t\tif (data.result.success == true) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_ADDED_ISSUE_COMPLETE'),\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t$('[name=\"confirmRegulations\"]').on('click', function () {\n\t\t\tvar currentTarget = $(this);\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t} else {\n\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t}\n\t\t});\n\t},\n\treloadContent: function () {\n\t\t$('.js-tabs li .active').trigger('click');\n\t},\n\tresisterSaveKeys: function (modal) {\n\t\tvar thisInstance = this;\n\t\tvar container = modal.find('.authModalContent');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\tcontainer.find('.saveKeys').on('click', function () {\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'Github',\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveKeysAjax',\n\t\t\t\t\tusername: $('[name=\"username\"]').val(),\n\t\t\t\t\tclient_id: $('[name=\"client_id\"]').val(),\n\t\t\t\t\ttoken: $('[name=\"token\"]').val()\n\t\t\t\t};\n\t\t\t\tcontainer.progressIndicator({});\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\tcontainer.progressIndicator({mode: 'hide'});\n\t\t\t\t\tif (data.result.success == false) {\n\t\t\t\t\t\tvar errorDiv = container.find('.errorMsg');\n\t\t\t\t\t\terrorDiv.removeClass('d-none');\n\t\t\t\t\t\terrorDiv.html(app.vtranslate('JS_ERROR_KEY'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tthisInstance.reloadContent();\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_AUTHORIZATION_COMPLETE'),\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t}\n\t\t\t\t}).fail(function (error, err) {\n\t\t\t\t\tcontainer.progressIndicator({mode: 'hide'});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterTabEvents: function () {\n\t\tvar thisInstance = this;\n\t\t$('.js-tabs li').on('click', function () {\n\t\t\tthisInstance.loadContent($(this).data('mode'), false, $(this).data('params'));\n\t\t});\n\t},\n\tregisterPagination: function () {\n\t\tvar page = $('.pagination .pageNumber');\n\t\tvar thisInstance = this;\n\t\tpage.on('click', function () {\n\t\t\tthisInstance.loadContent('github', $(this).data('id'));\n\t\t});\n\t},\n\tregisterAuthorizedEvent: function () {\n\t\tvar thisInstance = this;\n\t\t$('.showModal').on('click', function () {\n\t\t\tapp.showModalWindow($('.authModal'), function (container) {\n\t\t\t\tthisInstance.resisterSaveKeys(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterGithubEvents: function (container) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerAuthorizedEvent();\n\t\tthisInstance.registerPagination();\n\t\tcontainer.find('.js-switch--state, .js-switch--author').on('change', () => {\n\t\t\tthisInstance.loadContent('github', 1);\n\t\t});\n\t\t$('.addIssuesBtn').on('click', function () {\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Github',\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'AddIssue'\n\t\t\t};\n\t\t\tcontainer.progressIndicator({});\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tcontainer.progressIndicator({mode: 'hide'});\n\t\t\t\tapp.showModalWindow(data, function () {\n\t\t\t\t\tthisInstance.loadEditorElement();\n\t\t\t\t\tthisInstance.registerSaveIssues();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsAlert: function () {\n\t\tconst alertsContainer = $('#systemWarningAletrs');\n\t\tif (alertsContainer.length) {\n\t\t\tapp.showModalWindow(alertsContainer, function () {\n\t\t\t\talertsContainer.find('.warning').first().removeClass('d-none');\n\t\t\t\talertsContainer.find('.warning .btn').on('click', function (e) {\n\t\t\t\t\tlet btn = $(this),\n\t\t\t\t\t\tsave = true,\n\t\t\t\t\t\tparams;\n\t\t\t\t\tif (btn.hasClass('ajaxBtn')) {\n\t\t\t\t\t\tif (btn.data('params') === undefined) {\n\t\t\t\t\t\t\tlet form = btn.closest('form');\n\t\t\t\t\t\t\tif (form.hasClass('validateForm') && !form.validationEngine('validate')) {\n\t\t\t\t\t\t\t\tsave = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparams = btn.closest('form').serializeArray().reduce(function (obj, item) {\n\t\t\t\t\t\t\t\tobj[item.name] = item.value;\n\t\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t\t}, {});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tparams = btn.data('params');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (save) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\taction: 'SystemWarnings',\n\t\t\t\t\t\t\t\tmode: 'update',\n\t\t\t\t\t\t\t\tid: btn.closest('.warning').data('id'),\n\t\t\t\t\t\t\t\tparams: params,\n\t\t\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\t\t\tif (data.result.result) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({text: data.result.message, type: 'success'});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({text: data.result.message, type: 'error'});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (btn.hasClass('cancel')) {\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\taction: 'SystemWarnings',\n\t\t\t\t\t\t\tmode: 'cancel'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (save) {\n\t\t\t\t\t\talertsContainer.find('.warning').first().remove();\n\t\t\t\t\t\tif (alertsContainer.find('.warning').length) {\n\t\t\t\t\t\t\talertsContainer.find('.warning').first().removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.hideModalWindow(alertsContainer);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talertsContainer.find('.input-group-addon input[type=\"checkbox\"]').on('click', function (e) {\n\t\t\t\t\tlet btn = $(this),\n\t\t\t\t\t\tgroup = btn.closest('.input-group')\n\t\t\t\t\tif (this.checked) {\n\t\t\t\t\t\tgroup.find('input[type=\"text\"]').attr(\"disabled\", false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgroup.find('input[type=\"text\"]').attr(\"disabled\", true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t},\n\tregisterSystemWarningsEvents: function (container) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerWarningsFolders(container);\n\t},\n\tregisterWarningsFolders: function (container) {\n\t\tvar thisInstance = this;\n\t\tvar data = [];\n\t\tvar treeValues = container.find('#treeValues').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer.find('#jstreeContainer').jstree({\n\t\t\tcore: {\n\t\t\t\tdata: data,\n\t\t\t\tthemes: {\n\t\t\t\t\tname: 'proton',\n\t\t\t\t\tresponsive: true,\n\t\t\t\t\ticons: false\n\t\t\t\t},\n\t\t\t\tcheck_callback: true\n\t\t\t},\n\t\t\tplugins: [\"checkbox\"]\n\t\t}).on(\"loaded.jstree\", function (event, data) {\n\t\t\t$(this).jstree(\"open_all\");\n\t\t}).on('changed.jstree', function (e, data) {\n\t\t\tif (data.action != 'model') {\n\t\t\t\tthisInstance.getWarningsList();\n\t\t\t}\n\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tgetWarningsList: function () {\n\t\tvar thisInstance = this;\n\t\tvar selected = thisInstance.getSelectedFolders();\n\t\tvar container = $('#warningsContent');\n\t\tvar progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: {enabled: true}\n\t\t});\n\t\tvar active = $('.warningsIndexPage .js-switch--warnings').first().is(':checked');\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: 'Index',\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: active,\n\t\t\tfolder: selected\n\t\t}).done(function (data) {\n\t\t\tcontainer.html(data);\n\t\t\tthisInstance.registerWarningsList(container);\n\t\t\tprogressIndicator.progressIndicator({mode: 'hide'});\n\t\t}).fail(function (error) {\n\t\t\tprogressIndicator.progressIndicator({mode: 'hide'});\n\t\t});\n\t},\n\tregisterWarningsList: function (container) {\n\t\tvar thisInstance = this;\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [[2, 'desc']]\n\t\t});\n\t\tapp.showPopoverElementView(container.find('.js-popover-tooltip'));\n\t\tcontainer.find('.showDescription').on('click', function (e) {\n\t\t\tvar html = $(this).closest('td').find('.showDescriptionContent').html();\n\t\t\tapp.showModalWindow(html);\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', function (e) {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tvar data = $(this).closest('tr').data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status,\n\t\t\t}).done(function (data) {\n\t\t\t\tthisInstance.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tgetSelectedFolders: function () {\n\t\tvar selected = [];\n\t\t$.each($('#jstreeContainer').jstree(\"get_selected\", true), function (index, value) {\n\t\t\tselected.push(value.original.subPath);\n\t\t});\n\t\treturn selected;\n\t},\n\tloadContent: function (mode, page, modeParams) {\n\t\tvar thisInstance = this;\n\t\tvar container = $('.indexContainer');\n\t\tvar state = container.find('.js-switch--state');\n\t\tvar author = container.find('.js-switch--author');\n\t\tvar params = {\n\t\t\tmode: mode,\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: 'Index'\n\t\t};\n\t\tif (page) {\n\t\t\tparams.page = page;\n\t\t}\n\t\tif (modeParams) {\n\t\t\tparams.params = modeParams;\n\t\t}\n\t\tif (state.last().is(':checked')) {\n\t\t\tparams.state = 'closed';\n\t\t} else {\n\t\t\tparams.state = 'open';\n\t\t}\n\t\tparams.author = author.first().is(':checked');\n\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true,\n\t\t\t\t'elementToBlock': container\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\tcontainer.html(data);\n\t\t\tif (mode == 'index') {\n\t\t\t\tthisInstance.registerSettingsShortcutClickEvent();\n\t\t\t\tthisInstance.registerDeleteShortCutEvent();\n\t\t\t\tthisInstance.registerWidgetsEvents();\n\t\t\t\tthisInstance.registerAddShortcutDragDropEvent();\n\t\t\t\tthisInstance.registerSettingShortCutAlignmentEvent();\n\t\t\t\tthisInstance.registerWarningsAlert();\n\t\t\t} else if (mode == 'github') {\n\t\t\t\tthisInstance.registerGithubEvents(container);\n\t\t\t} else if (mode == 'systemWarnings') {\n\t\t\t\tthisInstance.registerSystemWarningsEvents(container);\n\t\t\t} else if (mode == 'security') {\n\t\t\t\tapp.showPopoverElementView(container.find('.js-popover-tooltip'));\n\t\t\t}\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tthis.registerTabEvents();\n\t\tthis.reloadContent();\n\t}\n});\n"],"names":["$","Class","showMessage","customParams","type","title","app","vtranslate","params","extend","Vtiger_Helper_Js","showPnotify","selectIcon","Deferred","showModalWindow","id","url","cb","container","App","Fields","Picklist","showSelect2ElementView","find","templateSelection","data","text","element","val","html","value","templateResult","option","closeOnSelect","on","aDeferred","resolve","name","hideModalWindow","promise","showWarnings","click","showSecurity","registerDeleteShortCutEvent","shortCutBlock","e","currentTarget","closestBlock","actionEle","closest","fieldId","shortcutBlockActionUrl","progressIndicatorElement","progressIndicator","AppConnector","request","done","result","SUCCESS","remove","thisInstance","registerSettingShortCutAlignmentEvent","imagePath","shortCutActionEle","attr","registerReAlign","stopPropagation","registerPinShortCutEvent","existingDivBlock","appendTo","Settings_Vtiger_Index_Js","registerSettingsShortcutClickEvent","window","location","href","removeClass","addClass","registerWidgetsEvents","widgets","quickWidgetHeader","widgetContainer","imageEle","registerAddShortcutDragDropEvent","elements","draggable","containment","helper","start","ui","zIndex","droppable","activeClass","hoverClass","accept","drop","event","isExist","each","shortCutUrl","parent","loadEditorElement","Text","Editor","registerSaveIssues","validationEngine","validationEngineOptions","CKEditorInstance","CKEDITOR","instances","saveBtn","document","getBody","getHtml","module","getParentModuleName","action","body","reloadContent","success","is","removeAttr","trigger","resisterSaveKeys","modal","username","client_id","token","mode","errorDiv","fail","registerTabEvents","loadContent","registerPagination","page","registerAuthorizedEvent","registerGithubEvents","view","registerWarningsAlert","alertsContainer","length","first","btn","save","hasClass","form","serializeArray","reduce","obj","item","getModuleName","message","group","checked","registerSystemWarningsEvents","registerWarningsFolders","treeValues","JSON","parse","jstree","core","themes","responsive","icons","check_callback","plugins","getWarningsList","fn","dataTable","defaults","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","selected","getSelectedFolders","blockInfo","enabled","active","folder","registerWarningsList","order","showPopoverElementView","popover","status","index","push","original","subPath","modeParams","state","author","last","position","registerEvents"],"mappings":"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"}