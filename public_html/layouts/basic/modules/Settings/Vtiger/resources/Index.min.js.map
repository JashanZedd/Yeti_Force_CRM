{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\n$.Class(\n\t'Settings_Vtiger_Index_Js',\n\t{\n\t\tshowMessage: function(customParams) {\n\t\t\tlet params = {\n\t\t\t\ttype: 'success',\n\t\t\t\ttitle: app.vtranslate('JS_MESSAGE')\n\t\t\t};\n\t\t\tif (typeof customParams !== 'undefined') {\n\t\t\t\tparams = $.extend(params, customParams);\n\t\t\t}\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t},\n\t\tselectIcon: function() {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tapp.showModalWindow({\n\t\t\t\tid: 'iconsModal',\n\t\t\t\turl: 'index.php?module=Vtiger&view=IconsModal&parent=Settings',\n\t\t\t\tcb: container => {\n\t\t\t\t\tthis.registerIconsSelect(container);\n\t\t\t\t\tcontainer.find('[name=\"saveButton\"]').on('click', function(e) {\n\t\t\t\t\t\taDeferred.resolve({\n\t\t\t\t\t\t\ttype: container.find('#iconType').val(),\n\t\t\t\t\t\t\tname: container.find('#iconName').val()\n\t\t\t\t\t\t});\n\t\t\t\t\t\tapp.hideModalWindow(container, 'iconsModal');\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tregisterIconsSelect(container) {\n\t\t\tconst params = { module: app.getModuleName(), parent: app.getParentModuleName(), action: 'Icons' };\n\t\t\tAppConnector.request(params).done(({ result }) => {\n\t\t\t\tlet id = 0;\n\t\t\t\tconst data = Object.keys(result).map(key => {\n\t\t\t\t\tif (key.startsWith('img-')) {\n\t\t\t\t\t\treturn { id: id++, text: key.slice(4), key: key, url: result[key], type: 'image' };\n\t\t\t\t\t}\n\t\t\t\t\treturn { id: id++, text: result[key], key: key, type: 'icon' };\n\t\t\t\t});\n\t\t\t\tconst selectParams = {\n\t\t\t\t\ttemplateSelection: function(data) {\n\t\t\t\t\t\tif (!data.id) {\n\t\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontainer.find('.iconName').text(data.text);\n\t\t\t\t\t\tcontainer.find('#iconName').val(data.text);\n\t\t\t\t\t\tcontainer.find('#iconType').val(data.type);\n\t\t\t\t\t\tif (data.type === 'icon') {\n\t\t\t\t\t\t\tcontainer\n\t\t\t\t\t\t\t\t.find('.iconExample')\n\t\t\t\t\t\t\t\t.html(`<span class=\"${data.text}\" aria-hidden=\"true\"></span>`);\n\t\t\t\t\t\t\treturn $(\n\t\t\t\t\t\t\t\t`<span class=\"${data.text}\" aria-hidden=\"true\"></span><span> - ${data.text}</span>`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (data.type === 'image') {\n\t\t\t\t\t\t\tcontainer.find('.iconName').text(data.text);\n\t\t\t\t\t\t\tcontainer.find('#iconName').val(data.text);\n\t\t\t\t\t\t\tcontainer.find('.iconExample').html(`<img width=\"24px\" src=\"${data.url}\"/>`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t},\n\t\t\t\t\ttemplateResult: function(data) {\n\t\t\t\t\t\tif (data.loading) {\n\t\t\t\t\t\t\treturn data.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet option;\n\t\t\t\t\t\tif (data.type === 'icon') {\n\t\t\t\t\t\t\toption = $(\n\t\t\t\t\t\t\t\t`<span class=\"${data.text}\" aria-hidden=\"true\"></span><span> - ${data.text}</span>`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else if (data.type === 'image') {\n\t\t\t\t\t\t\toption = $(\n\t\t\t\t\t\t\t\t`<img width=\"24px\" src=\"${data.url}\" title=\"${data.text}\" /><span> - ${data.text}</span>`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn option;\n\t\t\t\t\t},\n\t\t\t\t\tcloseOnSelect: true\n\t\t\t\t};\n\t\t\t\tconst params = { lazyElements: 50, data, selectParams };\n\t\t\t\tApp.Fields.Picklist.showLazySelect(container.find('#iconsList'), params);\n\t\t\t});\n\t\t},\n\t\tshowWarnings: function() {\n\t\t\t$('li[data-mode=\"systemWarnings\"] a').click();\n\t\t},\n\t\tshowSecurity: function() {\n\t\t\tapp.openUrl(\n\t\t\t\t'index.php?module=Log&parent=' + app.getParentModuleName() + '&view=Index&type=access_for_admin'\n\t\t\t);\n\t\t}\n\t},\n\t{\n\t\tregisterDeleteShortCutEvent: function(shortcutsContainer = $('.js-shortcuts')) {\n\t\t\tshortcutsContainer.on('click', '.unpin', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar actionEle = $(e.currentTarget);\n\t\t\t\tvar closestBlock = actionEle.closest('.js-shortcut');\n\t\t\t\tvar fieldId = actionEle.data('id');\n\t\t\t\tvar shortcutBlockActionUrl = closestBlock.data('actionurl');\n\t\t\t\tvar actionUrl = shortcutBlockActionUrl + '&pin=false';\n\t\t\t\tvar progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(actionUrl).done(data => {\n\t\t\t\t\tif (data.result.SUCCESS == 'OK') {\n\t\t\t\t\t\tclosestBlock.remove();\n\t\t\t\t\t\tvar menuItemId = '#' + fieldId + '_menuItem';\n\t\t\t\t\t\tvar shortCutActionEle = $(menuItemId);\n\t\t\t\t\t\tvar imagePath = shortCutActionEle.data('pinimageurl');\n\t\t\t\t\t\tshortCutActionEle.attr('src', imagePath).data('action', 'pin');\n\t\t\t\t\t\tthis.updateShortcutsStorage(shortcutsContainer);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SUCCESSFULLY_UNPINNED'),\n\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterPinShortCutEvent: function(element) {\n\t\t\tconst id = element.data('id');\n\t\t\tconst url =\n\t\t\t\t'index.php?module=Vtiger&parent=Settings&action=Basic&mode=updateFieldPinnedStatus&pin=true&fieldid=' +\n\t\t\t\tid;\n\t\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(url).done(data => {\n\t\t\t\tif (data.result.SUCCESS == 'OK') {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tfieldid: id,\n\t\t\t\t\t\tmode: 'getSettingsShortCutBlock',\n\t\t\t\t\t\tmodule: 'Vtiger',\n\t\t\t\t\t\tparent: 'Settings',\n\t\t\t\t\t\tview: 'IndexAjax'\n\t\t\t\t\t}).done(data => {\n\t\t\t\t\t\tconst shortcutsContainer = $('.js-shortcuts');\n\t\t\t\t\t\t$(data).appendTo(shortcutsContainer);\n\t\t\t\t\t\tthis.updateShortcutsStorage(shortcutsContainer);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SUCCESSFULLY_PINNED')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterWidgetsEvents: function() {\n\t\t\tvar widgets = $('div.widgetContainer');\n\t\t\twidgets.on('shown.bs.collapse', function(e) {\n\t\t\t\tvar widgetContainer = $(e.currentTarget);\n\t\t\t\tvar quickWidgetHeader = widgetContainer.closest('.quickWidget').find('.quickWidgetHeader');\n\t\t\t\tvar imageEle = quickWidgetHeader.find('.imageElement');\n\t\t\t\tvar imagePath = imageEle.data('downimage');\n\t\t\t\timageEle.attr('src', imagePath);\n\t\t\t});\n\t\t\twidgets.on('hidden.bs.collapse', function(e) {\n\t\t\t\tvar widgetContainer = $(e.currentTarget);\n\t\t\t\tvar quickWidgetHeader = widgetContainer.closest('.quickWidget').find('.quickWidgetHeader');\n\t\t\t\tvar imageEle = quickWidgetHeader.find('.imageElement');\n\t\t\t\tvar imagePath = imageEle.data('rightimage');\n\t\t\t\timageEle.attr('src', imagePath);\n\t\t\t});\n\t\t},\n\t\tregisterAddShortcutDragDropEvent: function() {\n\t\t\tvar elements = $('.js-menu__item .js-menu__link--draggable');\n\t\t\tvar self = this;\n\t\t\tvar classes = 'ui-draggable-menuShortcut bg-warning';\n\t\t\telements.draggable({\n\t\t\t\tcontainment: '#page',\n\t\t\t\tappendTo: 'body',\n\t\t\t\thelper: 'clone',\n\t\t\t\tstart: function(e, ui) {\n\t\t\t\t\t$(ui.helper).addClass(classes);\n\t\t\t\t},\n\t\t\t\tzIndex: 99999\n\t\t\t});\n\t\t\tconst shortcutsContainer = $('.js-shortcuts');\n\t\t\tshortcutsContainer.droppable({\n\t\t\t\tactiveClass: 'ui-state-default',\n\t\t\t\thoverClass: 'ui-state-hover',\n\t\t\t\taccept: '.js-menu__item .js-menu__link--draggable',\n\t\t\t\tdrop: function(event, ui) {\n\t\t\t\t\tvar url = ui.draggable.attr('href');\n\t\t\t\t\tvar isExist = false;\n\t\t\t\t\t$('.js-shortcuts [id^=\"shortcut\"]').each(function() {\n\t\t\t\t\t\tvar shortCutUrl = $(this).data('url');\n\t\t\t\t\t\tif (shortCutUrl == url) {\n\t\t\t\t\t\t\tisExist = true;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (isExist) {\n\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SHORTCUT_ALREADY_ADDED'),\n\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.registerPinShortCutEvent(ui.draggable.parent());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tshortcutsContainer.sortable({\n\t\t\t\thandle: '.js-drag-handler',\n\t\t\t\tstop: (event, element) => {\n\t\t\t\t\tself.updateShortcutsStorage(shortcutsContainer);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (Quasar.plugins.LocalStorage.has('yf-settings-shortcuts')) {\n\t\t\t\tthis.alignShortcuts(shortcutsContainer);\n\t\t\t}\n\t\t},\n\t\talignShortcuts(container) {\n\t\t\tfor (let item of Quasar.plugins.LocalStorage.getItem('yf-settings-shortcuts')) {\n\t\t\t\tcontainer.append(container.find('#' + item));\n\t\t\t}\n\t\t},\n\t\tupdateShortcutsStorage(container) {\n\t\t\tQuasar.plugins.LocalStorage.set('yf-settings-shortcuts', container.sortable('toArray'));\n\t\t},\n\t\tregisterCollapsiblePanels() {\n\t\t\tconst panels = this.container.find('.js-collapse');\n\t\t\tif (Quasar.plugins.LocalStorage.has('yf-settings-panels')) {\n\t\t\t\tthis.setPanels(panels);\n\t\t\t} else {\n\t\t\t\tpanels.collapse('show');\n\t\t\t\tQuasar.plugins.LocalStorage.set('yf-settings-panels', {\n\t\t\t\t\t'marketplace-collapse': 'shown',\n\t\t\t\t\t'system-monitoring-collapse': 'shown',\n\t\t\t\t\t'my-shortcuts-collapse': 'shown'\n\t\t\t\t});\n\t\t\t}\n\t\t\tpanels.on('hidden.bs.collapse shown.bs.collapse', e => {\n\t\t\t\tthis.updatePanelsStorage(e.target.id, e.type);\n\t\t\t});\n\t\t},\n\t\tupdatePanelsStorage(id, type) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem('yf-settings-panels');\n\t\t\tpanelsStorage[id] = type;\n\t\t\tQuasar.plugins.LocalStorage.set('yf-settings-panels', panelsStorage);\n\t\t},\n\t\tsetPanels(panels) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem('yf-settings-panels');\n\t\t\tpanels.each((i, item) => {\n\t\t\t\tif (panelsStorage[item.id] === 'shown') {\n\t\t\t\t\t$(item).collapse('show');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadEditorElement: function() {\n\t\t\tnew App.Fields.Text.Editor($('.js-editor'), {});\n\t\t},\n\t\tregisterSaveIssues: function() {\n\t\t\tvar container = $('.addIssuesModal');\n\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\tvar title = $('#titleIssues');\n\t\t\tvar CKEditorInstance = CKEDITOR.instances['bodyIssues'];\n\t\t\tvar thisInstance = this;\n\t\t\tvar saveBtn = container.find('.saveIssues');\n\t\t\tsaveBtn.on('click', function() {\n\t\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\t\tvar body = CKEditorInstance.document.getBody().getHtml();\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\tmodule: 'Github',\n\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\taction: 'SaveIssuesAjax',\n\t\t\t\t\t\ttitle: title.val(),\n\t\t\t\t\t\tbody: body\n\t\t\t\t\t};\n\t\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tthisInstance.reloadContent();\n\t\t\t\t\t\tif (data.result.success == true) {\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ADDED_ISSUE_COMPLETE'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('[name=\"confirmRegulations\"]').on('click', function() {\n\t\t\t\tvar currentTarget = $(this);\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t} else {\n\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\treloadContent: function() {\n\t\t\t$('.js-tabs li .active').trigger('click');\n\t\t},\n\t\tregisterTabEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\t$('.js-tabs li').on('click', function() {\n\t\t\t\tthisInstance.loadContent($(this).data('mode'), false, $(this).data('params'));\n\t\t\t});\n\t\t},\n\t\tregisterWarningsAlert: function() {\n\t\t\tconst alertsContainer = $('#systemWarningAletrs');\n\t\t\tif (alertsContainer.length) {\n\t\t\t\tapp.showModalWindow(alertsContainer, function() {\n\t\t\t\t\talertsContainer\n\t\t\t\t\t\t.find('.warning')\n\t\t\t\t\t\t.first()\n\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\talertsContainer.find('.warning .btn').on('click', function(e) {\n\t\t\t\t\t\tlet btn = $(this),\n\t\t\t\t\t\t\tsave = true,\n\t\t\t\t\t\t\tparams;\n\t\t\t\t\t\tif (btn.hasClass('ajaxBtn')) {\n\t\t\t\t\t\t\tif (btn.data('params') === undefined) {\n\t\t\t\t\t\t\t\tlet form = btn.closest('form');\n\t\t\t\t\t\t\t\tif (form.hasClass('validateForm') && !form.validationEngine('validate')) {\n\t\t\t\t\t\t\t\t\tsave = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tparams = btn\n\t\t\t\t\t\t\t\t\t.closest('form')\n\t\t\t\t\t\t\t\t\t.serializeArray()\n\t\t\t\t\t\t\t\t\t.reduce(function(obj, item) {\n\t\t\t\t\t\t\t\t\t\tobj[item.name] = item.value;\n\t\t\t\t\t\t\t\t\t\treturn obj;\n\t\t\t\t\t\t\t\t\t}, {});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tparams = btn.data('params');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (save) {\n\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\t\taction: 'SystemWarnings',\n\t\t\t\t\t\t\t\t\tmode: 'update',\n\t\t\t\t\t\t\t\t\tid: btn.closest('.warning').data('id'),\n\t\t\t\t\t\t\t\t\tparams: params\n\t\t\t\t\t\t\t\t}).done(function(data) {\n\t\t\t\t\t\t\t\t\tif (data.result.result) {\n\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({ text: data.result.message, type: 'success' });\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({ text: data.result.message, type: 'error' });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (btn.hasClass('cancel')) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\taction: 'SystemWarnings',\n\t\t\t\t\t\t\t\tmode: 'cancel'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (save) {\n\t\t\t\t\t\t\talertsContainer\n\t\t\t\t\t\t\t\t.find('.warning')\n\t\t\t\t\t\t\t\t.first()\n\t\t\t\t\t\t\t\t.remove();\n\t\t\t\t\t\t\tif (alertsContainer.find('.warning').length) {\n\t\t\t\t\t\t\t\talertsContainer\n\t\t\t\t\t\t\t\t\t.find('.warning')\n\t\t\t\t\t\t\t\t\t.first()\n\t\t\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tapp.hideModalWindow(alertsContainer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\talertsContainer.find('.input-group-addon input[type=\"checkbox\"]').on('click', function(e) {\n\t\t\t\t\t\tlet btn = $(this),\n\t\t\t\t\t\t\tgroup = btn.closest('.input-group');\n\t\t\t\t\t\tif (this.checked) {\n\t\t\t\t\t\t\tgroup.find('input[type=\"text\"]').attr('disabled', false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tgroup.find('input[type=\"text\"]').attr('disabled', true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetSelectedFolders: function() {\n\t\t\tvar selected = [];\n\t\t\t$.each($('#jstreeContainer').jstree('get_selected', true), function(index, value) {\n\t\t\t\tselected.push(value.original.subPath);\n\t\t\t});\n\t\t\treturn selected;\n\t\t},\n\t\tloadContent: function(mode, page, modeParams) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet container = $('.indexContainer');\n\t\t\tlet state = container.find('.js-switch--state');\n\t\t\tlet author = container.find('.js-switch--author');\n\t\t\tlet params = {\n\t\t\t\tmode: mode,\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: app.getViewName()\n\t\t\t};\n\t\t\tif (page) {\n\t\t\t\tparams.page = page;\n\t\t\t}\n\t\t\tif (modeParams) {\n\t\t\t\tparams.params = modeParams;\n\t\t\t}\n\t\t\tif (state.last().is(':checked')) {\n\t\t\t\tparams.state = 'closed';\n\t\t\t} else {\n\t\t\t\tparams.state = 'open';\n\t\t\t}\n\t\t\tparams.author = author.first().is(':checked');\n\t\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: container\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerEventsLoadContent(thisInstance, mode, container);\n\t\t\t});\n\t\t},\n\t\tregisterEventsLoadContent: function(thisInstance, mode, container) {\n\t\t\tif (mode == 'index') {\n\t\t\t\tthisInstance.registerWidgetsEvents();\n\t\t\t\tthisInstance.registerDeleteShortCutEvent();\n\t\t\t\tthisInstance.registerAddShortcutDragDropEvent();\n\t\t\t\tthisInstance.registerWarningsAlert();\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tthis.container = $('.js-dashboard-container');\n\t\t\tthis.registerTabEvents();\n\t\t\tthis.reloadContent();\n\t\t\tthis.registerWarningsAlert();\n\t\t\tthis.registerDeleteShortCutEvent();\n\t\t\tthis.registerAddShortcutDragDropEvent();\n\t\t\tthis.registerCollapsiblePanels();\n\t\t\tnew window.Settings_YetiForce_Shop_Js().registerEvents();\n\t\t}\n\t}\n);\n"],"names":["$","Class","customParams","params","app","vtranslate","extend","showPnotify","aDeferred","Deferred","showModalWindow","registerIconsSelect","container","find","on","e","resolve","val","hideModalWindow","promise","module","getModuleName","parent","getParentModuleName","action","request","done","result","id","lazyElements","data","Object","keys","map","key","startsWith","text","slice","url","type","selectParams","html","loading","option","Fields","Picklist","showLazySelect","click","openUrl","shortcutsContainer","preventDefault","actionEle","currentTarget","closestBlock","closest","fieldId","actionUrl","progressIndicatorElement","progressIndicator","SUCCESS","remove","shortCutActionEle","imagePath","attr","updateShortcutsStorage","element","appendTo","showMessage","widgets","imageEle","elements","self","this","draggable","ui","helper","addClass","droppable","event","isExist","each","registerPinShortCutEvent","sortable","Quasar","plugins","LocalStorage","has","alignShortcuts","getItem","item","append","set","panels","setPanels","collapse","updatePanelsStorage","target","panelsStorage","i","App","Text","Editor","validationEngine","validationEngineOptions","title","CKEditorInstance","CKEDITOR","instances","thisInstance","saveBtn","body","document","getBody","getHtml","reloadContent","success","is","removeAttr","trigger","loadContent","alertsContainer","length","first","removeClass","btn","save","hasClass","undefined","form","serializeArray","reduce","obj","name","value","message","group","checked","selected","jstree","index","push","original","subPath","mode","page","modeParams","state","author","getViewName","last","registerEventsLoadContent","registerWidgetsEvents","registerDeleteShortCutEvent","registerAddShortcutDragDropEvent","registerWarningsAlert","registerTabEvents","registerCollapsiblePanels","window","Settings_YetiForce_Shop_Js","registerEvents"],"mappings":"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"}