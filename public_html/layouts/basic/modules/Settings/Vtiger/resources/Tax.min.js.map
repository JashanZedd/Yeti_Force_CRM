{"version":3,"file":"Tax.min.js","sources":["Tax.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\"Settings_Vtiger_Tax_Js\", {}, {\n\n\t//Stored history of TaxName and duplicate check result\n\tduplicateCheckCache: {},\n\n\t/**\n\t * This function will show the model for Add/Edit tax\n\t */\n\teditTax: function (url, currentTrElement) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar thisInstance = this;\n\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tAppConnector.request(url).done(function (data) {\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\t//cache should be empty when modal opened\n\t\t\t\tthisInstance.duplicateCheckCache = {};\n\t\t\t\tvar form = jQuery('#editTax');\n\n\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tthisInstance.saveTaxDetails(form, currentTrElement);\n\t\t\t\t\t\treturn valid;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tform.validationEngine(params);\n\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {'width': '500px'});\n\t\t}).fail(function (error) {\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/*\n\t * Function to Save the Tax Details\n\t */\n\tsaveTaxDetails: function (form, currentTrElement) {\n\t\tvar thisInstance = this;\n\t\tvar params = form.serializeFormData();\n\n\t\tif (typeof params === \"undefined\") {\n\t\t\tparams = {};\n\t\t}\n\t\tthisInstance.validateTaxName(params).done(function (data) {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparams.module = app.getModuleName();\n\t\t\tparams.parent = app.getParentModuleName();\n\t\t\tparams.action = 'TaxAjax';\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\t//Adding or update the tax details in the list\n\t\t\t\tif (form.find('.addTaxView').val() == \"true\") {\n\t\t\t\t\tthisInstance.addTaxDetails(data['result']);\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.updateTaxDetails(data['result'], currentTrElement);\n\t\t\t\t}\n\t\t\t\t//show notification after tax details saved\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: app.vtranslate('JS_TAX_SAVED_SUCCESSFULLY')\n\t\t\t\t};\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t});\n\t\t});\n\t},\n\n\t/*\n\t * Function to add the Tax Details in the list after saving\n\t */\n\taddTaxDetails: function (details) {\n\t\tlet container = jQuery('#TaxCalculationsContainer'),\n\t\t\ttaxTable;\n\n\t\t//Based on tax type, we will add the tax details row\n\t\tif (details.type === '0') {\n\t\t\ttaxTable = jQuery('.inventoryTaxTable', container);\n\t\t} else {\n\t\t\ttaxTable = jQuery('.shippingTaxTable', container);\n\t\t}\n\n\t\tlet trElementForTax =\n\t\t\tjQuery('<tr class=\"opacity\" data-taxid=\"' + details.taxid + '\" data-taxtype=\"' +\n\t\t\t\tdetails.type + '\"><td style=\"border-left: none;\" class=\"textAlignCenter ' +\n\t\t\t\tdetails.row_type + '\"><label class=\"taxLabel\">' + details.taxlabel +\n\t\t\t\t'</label></td><td style=\"border-left: none;\" class=\"textAlignCenter ' +\n\t\t\t\tdetails.row_type + '\"><span class=\"taxPercentage\">' + details.percentage +\n\t\t\t\t'%</span></td><td style=\"border-left: none;\" class=\"textAlignCenter ' +\n\t\t\t\tdetails.row_type + '\"><input class=\"editTaxStatus\" type=\"checkbox\" checked>' +\n\t\t\t\t'<div class=\"pull-right actions\"><a class=\"editTax u-cursor-pointer\" data-url=\"' +\n\t\t\t\tdetails._editurl + '\"><i class=\"fas fa-edit alignBottom\" title=\"' +\n\t\t\t\tapp.vtranslate('JS_EDIT') + '\"></i></a></div></td></tr>');\n\t\ttaxTable.append(trElementForTax);\n\t},\n\n\t/*\n\t * Function to update the tax details in the list after edit\n\t */\n\tupdateTaxDetails: function (data, currentTrElement) {\n\t\tcurrentTrElement.find('.taxLabel').text(data['taxlabel']);\n\t\tcurrentTrElement.find('.taxPercentage').text(data['percentage'] + '%');\n\t\tif (data['deleted'] == '0') {\n\t\t\tcurrentTrElement.find('.editTaxStatus').attr('checked', 'true');\n\t\t} else {\n\t\t\tcurrentTrElement.find('.editTaxStatus').removeAttr('checked');\n\t\t}\n\t},\n\n\t/*\n\t * Function to validate the TaxName to avoid duplicates\n\t */\n\tvalidateTaxName: function (data) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar taxName = data.taxlabel;\n\t\tvar form = jQuery('#editTax');\n\t\tvar taxLabelElement = form.find('[name=\"taxlabel\"]');\n\n\t\tif (!(taxName in thisInstance.duplicateCheckCache)) {\n\t\t\tthisInstance.checkDuplicateName(data).done(function (data) {\n\t\t\t\tthisInstance.duplicateCheckCache[taxName] = data['success'];\n\t\t\t\taDeferred.resolve();\n\t\t\t}).fail(function (data, err) {\n\t\t\t\tthisInstance.duplicateCheckCache[taxName] = data['success'];\n\t\t\t\tthisInstance.duplicateCheckCache['message'] = data['message'];\n\t\t\t\ttaxLabelElement.validationEngine('showPrompt', data['message'], 'error', 'bottomLeft', true);\n\t\t\t\taDeferred.reject(data);\n\t\t\t});\n\t\t} else {\n\t\t\tif (thisInstance.duplicateCheckCache[taxName] == true) {\n\t\t\t\tvar result = thisInstance.duplicateCheckCache['message'];\n\t\t\t\ttaxLabelElement.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t\taDeferred.reject();\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t}\n\t\treturn aDeferred.promise();\n\t},\n\n\t/*\n\t * Function to check Duplication of Tax Name\n\t */\n\tcheckDuplicateName: function (details) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar taxName = details.taxlabel;\n\t\tvar taxId = details.taxid;\n\t\tvar moduleName = app.getModuleName();\n\t\tvar params = {\n\t\t\t'module': moduleName,\n\t\t\t'parent': app.getParentModuleName(),\n\t\t\t'action': 'TaxAjax',\n\t\t\t'mode': 'checkDuplicateName',\n\t\t\t'taxlabel': taxName,\n\t\t\t'taxid': taxId,\n\t\t\t'type': details.type\n\t\t}\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar result = response['success'];\n\t\t\tif (result == true) {\n\t\t\t\taDeferred.reject(response);\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(response);\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/*\n\t * Function to update tax status as enabled or disabled\n\t */\n\tupdateTaxStatus: function (currentTarget) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar currentTrElement = currentTarget.closest('tr');\n\t\tvar taxId = currentTrElement.data('taxid');\n\t\tvar taxType = currentTrElement.data('taxtype');\n\t\tvar deleted = currentTarget.is(':checked') ? 0 : 1;\n\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tvar params = {\n\t\t\t'module': app.getModuleName(),\n\t\t\t'parent': app.getParentModuleName(),\n\t\t\t'action': 'TaxAjax',\n\t\t\t'taxid': taxId,\n\t\t\t'type': taxType,\n\t\t\t'deleted': deleted\n\t\t}\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/*\n\t * Function to register all actions in the Tax List\n\t */\n\tregisterActions: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = jQuery('#TaxCalculationsContainer');\n\n\t\t//register click event for Add New Tax button\n\t\tcontainer.find('.addTax').on('click', function (e) {\n\t\t\tvar addTaxButton = jQuery(e.currentTarget);\n\t\t\tvar createTaxUrl = addTaxButton.data('url') + '&type=' + addTaxButton.data('type');\n\t\t\tthisInstance.editTax(createTaxUrl);\n\t\t});\n\n\t\t//register event for edit tax icon\n\t\tcontainer.on('click', '.editTax', function (e) {\n\t\t\tvar editTaxButton = jQuery(e.currentTarget);\n\t\t\tvar currentTrElement = editTaxButton.closest('tr');\n\t\t\tthisInstance.editTax(editTaxButton.data('url'), currentTrElement);\n\t\t});\n\n\t\t//register event for checkbox to change the tax Status\n\t\tcontainer.on('click', '.editTaxStatus', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\n\t\t\tthisInstance.updateTaxStatus(currentTarget).done(function (data) {\n\t\t\t\tvar params = {};\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tparams.text = app.vtranslate('JS_TAX_ENABLED');\n\t\t\t\t} else {\n\t\t\t\t\tparams.text = app.vtranslate('JS_TAX_DISABLED');\n\t\t\t\t}\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t});\n\t\t});\n\n\t},\n\n\tregisterEvents: function () {\n\t\tthis.registerActions();\n\t}\n\n});\n\njQuery(document).ready(function (e) {\n\tvar taxInstance = new Settings_Vtiger_Tax_Js();\n\ttaxInstance.registerEvents();\n})\n"],"names":["jQuery","Class","url","currentTrElement","aDeferred","Deferred","thisInstance","progressIndicatorElement","progressIndicator","request","done","data","callBackFunction","duplicateCheckCache","form","params","app","validationEngineOptions","onValidationComplete","valid","saveTaxDetails","validationEngine","on","e","preventDefault","showModalWindow","fail","error","reject","promise","serializeFormData","validateTaxName","module","getModuleName","parent","getParentModuleName","action","hideModalWindow","find","val","addTaxDetails","updateTaxDetails","vtranslate","showMessage","details","container","taxTable","type","trElementForTax","taxid","row_type","taxlabel","percentage","_editurl","append","text","attr","removeAttr","taxName","taxLabelElement","checkDuplicateName","resolve","err","result","taxId","moduleName","response","currentTarget","closest","taxType","deleted","is","addTaxButton","createTaxUrl","editTax","editTaxButton","updateTaxStatus","registerActions","document","ready","taxInstance","Settings_Vtiger_Tax_Js","registerEvents"],"mappings":";;AAAA;;;;;;;;AAQA;AAEAA,OAAOC,KAAP,CAAa,wBAAb,EAAuC,EAAvC,EAA2C;;;sBAGrB,EAHqB;;;;;UAQjC,iBAAUC,GAAV,EAAeC,gBAAf,EAAiC;MACrCC,YAAYJ,OAAOK,QAAP,EAAhB;MACIC,eAAe,IAAnB;;MAEIC,2BAA2BP,OAAOQ,iBAAP,CAAyB;eAC3C,MAD2C;gBAE1C;eACD;;GAHkB,CAA/B;;eAOaC,OAAb,CAAqBP,GAArB,EAA0BQ,IAA1B,CAA+B,UAAUC,IAAV,EAAgB;OAC1CC,mBAAmB,SAAnBA,gBAAmB,CAAUD,IAAV,EAAgB;;iBAEzBE,mBAAb,GAAmC,EAAnC;QACIC,OAAOd,OAAO,UAAP,CAAX;;QAEIe,SAASC,IAAIC,uBAAjB;WACOC,oBAAP,GAA8B,UAAUJ,IAAV,EAAgBK,KAAhB,EAAuB;SAChDA,KAAJ,EAAW;mBACGC,cAAb,CAA4BN,IAA5B,EAAkCX,gBAAlC;aACOgB,KAAP;;KAHF;SAMKE,gBAAL,CAAsBN,MAAtB;;SAEKO,EAAL,CAAQ,QAAR,EAAkB,UAAUC,CAAV,EAAa;OAC5BC,cAAF;KADD;IAdD;;4BAmByBhB,iBAAzB,CAA2C,EAAC,QAAQ,MAAT,EAA3C;OACIiB,eAAJ,CAAoBd,IAApB,EAA0B,UAAUA,IAAV,EAAgB;QACrC,OAAOC,gBAAP,IAA2B,UAA/B,EAA2C;sBACzBD,IAAjB;;IAFF,EAIG,EAAC,SAAS,OAAV,EAJH;GArBD,EA0BGe,IA1BH,CA0BQ,UAAUC,KAAV,EAAiB;aACdC,MAAV,CAAiBD,KAAjB;GA3BD;SA6BOvB,UAAUyB,OAAV,EAAP;EAhDyC;;;;;iBAsD1B,wBAAUf,IAAV,EAAgBX,gBAAhB,EAAkC;MAC7CG,eAAe,IAAnB;MACIS,SAASD,KAAKgB,iBAAL,EAAb;;MAEI,OAAOf,MAAP,KAAkB,WAAtB,EAAmC;YACzB,EAAT;;eAEYgB,eAAb,CAA6BhB,MAA7B,EAAqCL,IAArC,CAA0C,UAAUC,IAAV,EAAgB;OACrDJ,2BAA2BP,OAAOQ,iBAAP,CAAyB;gBAC3C,MAD2C;iBAE1C;gBACD;;IAHkB,CAA/B;;UAOOwB,MAAP,GAAgBhB,IAAIiB,aAAJ,EAAhB;UACOC,MAAP,GAAgBlB,IAAImB,mBAAJ,EAAhB;UACOC,MAAP,GAAgB,SAAhB;gBACa3B,OAAb,CAAqBM,MAArB,EAA6BL,IAA7B,CAAkC,UAAUC,IAAV,EAAgB;6BACxBH,iBAAzB,CAA2C,EAAC,QAAQ,MAAT,EAA3C;QACI6B,eAAJ;;QAEIvB,KAAKwB,IAAL,CAAU,aAAV,EAAyBC,GAAzB,MAAkC,MAAtC,EAA8C;kBAChCC,aAAb,CAA2B7B,KAAK,QAAL,CAA3B;KADD,MAEO;kBACO8B,gBAAb,CAA8B9B,KAAK,QAAL,CAA9B,EAA8CR,gBAA9C;;;QAGGY,SAAS;WACNC,IAAI0B,UAAJ,CAAe,2BAAf;KADP;6BAGyBC,WAAzB,CAAqC5B,MAArC;IAbD;GAXD;EA7DyC;;;;;gBA6F3B,uBAAU6B,OAAV,EAAmB;MAC7BC,YAAY7C,OAAO,2BAAP,CAAhB;MACC8C,iBADD;;;MAIIF,QAAQG,IAAR,KAAiB,GAArB,EAA0B;cACd/C,OAAO,oBAAP,EAA6B6C,SAA7B,CAAX;GADD,MAEO;cACK7C,OAAO,mBAAP,EAA4B6C,SAA5B,CAAX;;;MAGGG,kBACHhD,OAAO,qCAAqC4C,QAAQK,KAA7C,GAAqD,kBAArD,GACNL,QAAQG,IADF,GACS,0DADT,GAENH,QAAQM,QAFF,GAEa,4BAFb,GAE4CN,QAAQO,QAFpD,GAGN,qEAHM,GAINP,QAAQM,QAJF,GAIa,gCAJb,GAIgDN,QAAQQ,UAJxD,GAKN,qEALM,GAMNR,QAAQM,QANF,GAMa,yDANb,GAON,gFAPM,GAQNN,QAAQS,QARF,GAQa,8CARb,GASNrC,IAAI0B,UAAJ,CAAe,SAAf,CATM,GASsB,4BAT7B,CADD;WAWSY,MAAT,CAAgBN,eAAhB;EAnHyC;;;;;mBAyHxB,0BAAUrC,IAAV,EAAgBR,gBAAhB,EAAkC;mBAClCmC,IAAjB,CAAsB,WAAtB,EAAmCiB,IAAnC,CAAwC5C,KAAK,UAAL,CAAxC;mBACiB2B,IAAjB,CAAsB,gBAAtB,EAAwCiB,IAAxC,CAA6C5C,KAAK,YAAL,IAAqB,GAAlE;MACIA,KAAK,SAAL,KAAmB,GAAvB,EAA4B;oBACV2B,IAAjB,CAAsB,gBAAtB,EAAwCkB,IAAxC,CAA6C,SAA7C,EAAwD,MAAxD;GADD,MAEO;oBACWlB,IAAjB,CAAsB,gBAAtB,EAAwCmB,UAAxC,CAAmD,SAAnD;;EA/HwC;;;;;kBAsIzB,yBAAU9C,IAAV,EAAgB;MAC5BL,eAAe,IAAnB;MACIF,YAAYJ,OAAOK,QAAP,EAAhB;;MAEIqD,UAAU/C,KAAKwC,QAAnB;MACIrC,OAAOd,OAAO,UAAP,CAAX;MACI2D,kBAAkB7C,KAAKwB,IAAL,CAAU,mBAAV,CAAtB;;MAEI,EAAEoB,WAAWpD,aAAaO,mBAA1B,CAAJ,EAAoD;gBACtC+C,kBAAb,CAAgCjD,IAAhC,EAAsCD,IAAtC,CAA2C,UAAUC,IAAV,EAAgB;iBAC7CE,mBAAb,CAAiC6C,OAAjC,IAA4C/C,KAAK,SAAL,CAA5C;cACUkD,OAAV;IAFD,EAGGnC,IAHH,CAGQ,UAAUf,IAAV,EAAgBmD,GAAhB,EAAqB;iBACfjD,mBAAb,CAAiC6C,OAAjC,IAA4C/C,KAAK,SAAL,CAA5C;iBACaE,mBAAb,CAAiC,SAAjC,IAA8CF,KAAK,SAAL,CAA9C;oBACgBU,gBAAhB,CAAiC,YAAjC,EAA+CV,KAAK,SAAL,CAA/C,EAAgE,OAAhE,EAAyE,YAAzE,EAAuF,IAAvF;cACUiB,MAAV,CAAiBjB,IAAjB;IAPD;GADD,MAUO;OACFL,aAAaO,mBAAb,CAAiC6C,OAAjC,KAA6C,IAAjD,EAAuD;QAClDK,SAASzD,aAAaO,mBAAb,CAAiC,SAAjC,CAAb;oBACgBQ,gBAAhB,CAAiC,YAAjC,EAA+C0C,MAA/C,EAAuD,OAAvD,EAAgE,YAAhE,EAA8E,IAA9E;cACUnC,MAAV;IAHD,MAIO;cACIiC,OAAV;;;SAGKzD,UAAUyB,OAAV,EAAP;EAjKyC;;;;;qBAuKtB,4BAAUe,OAAV,EAAmB;MAClCxC,YAAYJ,OAAOK,QAAP,EAAhB;MACIqD,UAAUd,QAAQO,QAAtB;MACIa,QAAQpB,QAAQK,KAApB;MACIgB,aAAajD,IAAIiB,aAAJ,EAAjB;MACIlB,SAAS;aACFkD,UADE;aAEFjD,IAAImB,mBAAJ,EAFE;aAGF,SAHE;WAIJ,oBAJI;eAKAuB,OALA;YAMHM,KANG;WAOJpB,QAAQG;GAPjB;;eAUatC,OAAb,CAAqBM,MAArB,EAA6BL,IAA7B,CAAkC,UAAUC,IAAV,EAAgB;OAC7CuD,WAAWvD,KAAK,QAAL,CAAf;OACIoD,SAASG,SAAS,SAAT,CAAb;OACIH,UAAU,IAAd,EAAoB;cACTnC,MAAV,CAAiBsC,QAAjB;IADD,MAEO;cACIL,OAAV,CAAkBK,QAAlB;;GANF,EAQGxC,IARH,CAQQ,UAAUC,KAAV,EAAiBmC,GAAjB,EAAsB;aACnBlC,MAAV,CAAiBD,KAAjB,EAAwBmC,GAAxB;GATD;SAWO1D,UAAUyB,OAAV,EAAP;EAjMyC;;;;;kBAuMzB,yBAAUsC,aAAV,EAAyB;MACrC/D,YAAYJ,OAAOK,QAAP,EAAhB;;MAEIF,mBAAmBgE,cAAcC,OAAd,CAAsB,IAAtB,CAAvB;MACIJ,QAAQ7D,iBAAiBQ,IAAjB,CAAsB,OAAtB,CAAZ;MACI0D,UAAUlE,iBAAiBQ,IAAjB,CAAsB,SAAtB,CAAd;MACI2D,UAAUH,cAAcI,EAAd,CAAiB,UAAjB,IAA+B,CAA/B,GAAmC,CAAjD;;MAEIhE,2BAA2BP,OAAOQ,iBAAP,CAAyB;eAC3C,MAD2C;gBAE1C;eACD;;GAHkB,CAA/B;;MAOIO,SAAS;aACFC,IAAIiB,aAAJ,EADE;aAEFjB,IAAImB,mBAAJ,EAFE;aAGF,SAHE;YAIH6B,KAJG;WAKJK,OALI;cAMDC;GANZ;;eASa7D,OAAb,CAAqBM,MAArB,EAA6BL,IAA7B,CAAkC,UAAUC,IAAV,EAAgB;4BACxBH,iBAAzB,CAA2C,EAAC,QAAQ,MAAT,EAA3C;aACUqD,OAAV,CAAkBlD,IAAlB;GAFD,EAGGe,IAHH,CAGQ,UAAUC,KAAV,EAAiBmC,GAAjB,EAAsB;4BACJtD,iBAAzB,CAA2C,EAAC,QAAQ,MAAT,EAA3C;aACUoB,MAAV,CAAiBD,KAAjB;GALD;SAOOvB,UAAUyB,OAAV,EAAP;EAtOyC;;;;;kBA4OzB,2BAAY;MACxBvB,eAAe,IAAnB;MACIuC,YAAY7C,OAAO,2BAAP,CAAhB;;;YAGUsC,IAAV,CAAe,SAAf,EAA0BhB,EAA1B,CAA6B,OAA7B,EAAsC,UAAUC,CAAV,EAAa;OAC9CiD,eAAexE,OAAOuB,EAAE4C,aAAT,CAAnB;OACIM,eAAeD,aAAa7D,IAAb,CAAkB,KAAlB,IAA2B,QAA3B,GAAsC6D,aAAa7D,IAAb,CAAkB,MAAlB,CAAzD;gBACa+D,OAAb,CAAqBD,YAArB;GAHD;;;YAOUnD,EAAV,CAAa,OAAb,EAAsB,UAAtB,EAAkC,UAAUC,CAAV,EAAa;OAC1CoD,gBAAgB3E,OAAOuB,EAAE4C,aAAT,CAApB;OACIhE,mBAAmBwE,cAAcP,OAAd,CAAsB,IAAtB,CAAvB;gBACaM,OAAb,CAAqBC,cAAchE,IAAd,CAAmB,KAAnB,CAArB,EAAgDR,gBAAhD;GAHD;;;YAOUmB,EAAV,CAAa,OAAb,EAAsB,gBAAtB,EAAwC,UAAUC,CAAV,EAAa;OAChD4C,gBAAgBnE,OAAOuB,EAAE4C,aAAT,CAApB;;gBAEaS,eAAb,CAA6BT,aAA7B,EAA4CzD,IAA5C,CAAiD,UAAUC,IAAV,EAAgB;QAC5DI,SAAS,EAAb;QACIoD,cAAcI,EAAd,CAAiB,UAAjB,CAAJ,EAAkC;YAC1BhB,IAAP,GAAcvC,IAAI0B,UAAJ,CAAe,gBAAf,CAAd;KADD,MAEO;YACCa,IAAP,GAAcvC,IAAI0B,UAAJ,CAAe,iBAAf,CAAd;;6BAEwBC,WAAzB,CAAqC5B,MAArC;IAPD;GAHD;EA/PyC;;iBA+Q1B,0BAAY;OACtB8D,eAAL;;;CAhRF;;AAqRA7E,OAAO8E,QAAP,EAAiBC,KAAjB,CAAuB,UAAUxD,CAAV,EAAa;KAC/ByD,cAAc,IAAIC,sBAAJ,EAAlB;aACYC,cAAZ;CAFD"}