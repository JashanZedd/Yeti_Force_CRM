{"version":3,"file":"LeadMapping.min.js","sources":["LeadMapping.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce S.A.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Settings_LeadMapping_Js',\n\t{\n\t\t/**\n\t\t * Function to register event to edit leads mapping\n\t\t */\n\t\ttriggerEdit: function (editUrl) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tAppConnector.request(editUrl)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tvar detailContentsHolder = jQuery('.contentsDiv');\n\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tvar leadMappingInstance = new Settings_LeadMapping_Js();\n\t\t\t\t\tleadMappingInstance.registerEventsForEditView();\n\t\t\t\t})\n\t\t\t\t.fail(function (error) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/**\n\t\t * Function to register event for delete lead mapping\n\t\t */\n\t\ttriggerDelete: function (event, url) {\n\t\t\tvar element = jQuery(event.currentTarget);\n\t\t\tvar mappingContainer = element.closest('.listViewEntries');\n\t\t\tvar mappingId = mappingContainer.data('cfmid');\n\t\t\tvar deleteUrl = url + '&mappingId=' + mappingId;\n\t\t\tAppConnector.request(deleteUrl).done(function (data) {\n\t\t\t\tvar message = data.result[0];\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: message\n\t\t\t\t};\n\t\t\t\tif (data.success) {\n\t\t\t\t\tmappingContainer.remove();\n\t\t\t\t} else {\n\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t}\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\t/**\n\t\t * Function to register events for edit view of leads mapping\n\t\t */\n\t\tregisterEventsForEditView: function () {\n\t\t\tvar form = jQuery('#leadsMapping');\n\t\t\tvar select2Elements = form.find('.select2');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(select2Elements);\n\t\t\tthis.registerEventForAddingNewMapping();\n\t\t\tthis.registerOnChangeEventForSourceModule();\n\t\t\tthis.registerEventToDeleteMapping();\n\t\t\tthis.registerEventForFormSubmit();\n\t\t\tthis.registerOnChangeEventOfTargetModule();\n\t\t\tjQuery('select.accountsFields.select2,select.contactFields.select2').trigger('change', false);\n\t\t},\n\n\t\t/**\n\t\t * Function to register event for adding new convert to lead mapping\n\t\t */\n\t\tregisterEventForAddingNewMapping: function () {\n\t\t\tjQuery('#addMapping').on('click', function (e) {\n\t\t\t\tvar convertLeadMappingTable = jQuery('#convertLeadMapping');\n\t\t\t\tvar lastSequenceNumber = convertLeadMappingTable\n\t\t\t\t\t.find('tr:not(.newMapping):last[sequence-number]')\n\t\t\t\t\t.attr('sequence-number');\n\t\t\t\tvar newSequenceNumber = parseInt(lastSequenceNumber) + 1;\n\t\t\t\tvar newMapping = jQuery('.newMapping').clone(true, true);\n\t\t\t\tnewMapping.attr('sequence-number', newSequenceNumber);\n\t\t\t\tnewMapping.find('select.leadsFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][lead]');\n\t\t\t\tnewMapping.find('select.accountsFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][account]');\n\t\t\t\tnewMapping.find('select.contactFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][contact]');\n\t\t\t\tnewMapping.removeClass('d-none newMapping');\n\t\t\t\tnewMapping.appendTo(convertLeadMappingTable);\n\t\t\t\tnewMapping.find('.newSelect').removeClass('newSelect').addClass('select2');\n\t\t\t\tvar select2Elements = newMapping.find('.select2');\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(select2Elements);\n\t\t\t\tjQuery('select.accountsFields.select2,select.contactFields.select2', newMapping).trigger('change', false);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register on change event for select2 element\n\t\t */\n\t\tregisterOnChangeEventForSourceModule: function () {\n\t\t\tvar form = jQuery('#leadsMapping');\n\t\t\tform.on('change', '.leadsFields', function (e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar container = jQuery(element.closest('tr'));\n\t\t\t\tvar selectedValue = element.val();\n\t\t\t\tvar selectedOption = element.find('option[value=\"' + selectedValue + '\"]');\n\t\t\t\tvar selectedDataType = selectedOption.data('type');\n\t\t\t\tvar accountFieldsSelectElement = container.find('select.accountsFields.select2');\n\t\t\t\tvar contactFieldsSelectElement = container.find('select.contactFields.select2');\n\n\t\t\t\tvar accountFieldsBasedOnType = form\n\t\t\t\t\t.find('.newMapping')\n\t\t\t\t\t.find('.accountsFields')\n\t\t\t\t\t.children()\n\t\t\t\t\t.filter('[data-type=\"' + selectedDataType + '\"]')\n\t\t\t\t\t.clone(true, true);\n\t\t\t\tvar contactFieldsBasedOnType = form\n\t\t\t\t\t.find('.newMapping')\n\t\t\t\t\t.find('.contactFields')\n\t\t\t\t\t.children()\n\t\t\t\t\t.filter('option[data-type=\"' + selectedDataType + '\"]')\n\t\t\t\t\t.clone(true, true);\n\t\t\t\tselectedDataType = app.vtranslate('JS_' + selectedDataType);\n\t\t\t\tcontainer.find('.selectedFieldDataType').html(selectedDataType);\n\n\t\t\t\tvar noneValue = app.vtranslate('JS_NONE');\n\t\t\t\taccountFieldsSelectElement.html(accountFieldsBasedOnType);\n\t\t\t\tcontactFieldsSelectElement.html(contactFieldsBasedOnType);\n\n\t\t\t\tif (selectedDataType != 'None') {\n\t\t\t\t\taccountFieldsSelectElement.prepend(\n\t\t\t\t\t\t'<option data-type=\"' +\n\t\t\t\t\t\t\tnoneValue +\n\t\t\t\t\t\t\t'\" label=\"' +\n\t\t\t\t\t\t\tnoneValue +\n\t\t\t\t\t\t\t'\" value=\"0\" selected>' +\n\t\t\t\t\t\t\tnoneValue +\n\t\t\t\t\t\t\t'</option>'\n\t\t\t\t\t);\n\t\t\t\t\tcontactFieldsSelectElement.prepend(\n\t\t\t\t\t\t'<option data-type=\"' +\n\t\t\t\t\t\t\tnoneValue +\n\t\t\t\t\t\t\t'\" label=\"' +\n\t\t\t\t\t\t\tnoneValue +\n\t\t\t\t\t\t\t'\" value=\"0\" selected>' +\n\t\t\t\t\t\t\tnoneValue +\n\t\t\t\t\t\t\t'</option>'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\taccountFieldsSelectElement.trigger('change');\n\t\t\t\tcontactFieldsSelectElement.trigger('change');\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register event to delete mapping\n\t\t */\n\t\tregisterEventToDeleteMapping: function () {\n\t\t\tvar form = jQuery('#leadsMapping');\n\t\t\tform.on('click', '.deleteMapping', function (e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar mappingContainer = element.closest('tr');\n\t\t\t\tvar mappingContainerSequenceNumber = mappingContainer.attr('sequence-number');\n\t\t\t\tvar deletableName = 'mapping[' + mappingContainerSequenceNumber + '][deletable]';\n\t\t\t\tmappingContainer.prepend('<input type=\"hidden\" name=\"' + deletableName + '\" />');\n\t\t\t\tmappingContainer.data('deletable', true).hide('slow');\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: app.vtranslate('JS_MAPPING_DELETED_SUCCESSFULLY')\n\t\t\t\t};\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to handle edit view convert lead form submit\n\t\t */\n\t\tregisterEventForFormSubmit: function () {\n\t\t\tjQuery('#leadsMapping').on('submit', function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar mappingDetails = jQuery(this).serializeFormData();\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'MappingSave',\n\t\t\t\t\tmapping: mappingDetails\n\t\t\t\t};\n\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\tvar detailViewParams = {\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\t\tview: 'MappingDetail'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tAppConnector.request(detailViewParams).done(function (data) {\n\t\t\t\t\t\t\t\tvar detailContentsHolder = jQuery('.contentsDiv');\n\t\t\t\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet notifyParams;\n\t\t\t\t\t\tif (!data.result.status) {\n\t\t\t\t\t\t\tnotifyParams = {\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_INVALID_MAPPING'),\n\t\t\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotifyParams = {\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MAPPING_SAVED_SUCCESSFULLY'),\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify(notifyParams);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Function to register on chnage event of target module\n\t\t */\n\t\tregisterOnChangeEventOfTargetModule: function () {\n\t\t\tvar form = jQuery('#leadsMapping');\n\t\t\tform.on('change', 'select.accountsFields.select2,select.contactFields.select2', function (e, executeChange) {\n\t\t\t\tif (typeof executeChange === 'undefined') {\n\t\t\t\t\texecuteChange = true;\n\t\t\t\t}\n\t\t\t\tvar selectElement = jQuery(e.currentTarget);\n\t\t\t\tvar selectedValue = selectElement.children().filter('option:selected').text();\n\t\t\t\tvar selectedOptionId = selectElement.children().filter('option:selected').val();\n\t\t\t\tvar mappingContainer = selectElement.closest('tr');\n\n\t\t\t\tvar duplicateOption = false;\n\t\t\t\tvar existingIdElement;\n\t\t\t\tif (selectedOptionId == '0') {\n\t\t\t\t\tselectedOptionId = 'false';\n\t\t\t\t}\n\n\t\t\t\tif (!executeChange || selectedOptionId == 'false') {\n\t\t\t\t\tselectElement.attr('selectedId', selectedOptionId);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//check for source module field\n\t\t\t\tvar sourceModuleSelect = mappingContainer.find('select.leadsFields.select2');\n\t\t\t\tvar sourceModuleSelectedField = sourceModuleSelect.val();\n\t\t\t\tvar sourceModuleSelectedFieldLabel = sourceModuleSelect\n\t\t\t\t\t.find('option[value=\"' + sourceModuleSelectedField + '\"]')\n\t\t\t\t\t.text();\n\t\t\t\tif (sourceModuleSelectedField == '0') {\n\t\t\t\t\tduplicateOption = true;\n\t\t\t\t\tvar errorParams = {\n\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\tapp.vtranslate('JS_CANT_MAP') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tselectedValue +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tapp.vtranslate('JS_WITH') +\n\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\tsourceModuleSelectedFieldLabel,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(errorParams);\n\t\t\t\t}\n\n\t\t\t\tif (selectElement.hasClass('accountsFields')) {\n\t\t\t\t\texistingIdElement = jQuery('select.accountsFields.select2[selectedid=\"' + selectedOptionId + '\"]');\n\t\t\t\t} else {\n\t\t\t\t\texistingIdElement = jQuery('select.contactFields.select2[selectedid=\"' + selectedOptionId + '\"]');\n\t\t\t\t}\n\n\t\t\t\tif (existingIdElement.length > 0) {\n\t\t\t\t\tduplicateOption = true;\n\t\t\t\t}\n\n\t\t\t\tif (duplicateOption) {\n\t\t\t\t\tvar selectedFieldId = selectElement.attr('selectedid');\n\t\t\t\t\tif (selectedFieldId == 'false') {\n\t\t\t\t\t\tselectElement.attr('selectedId', 'false');\n\t\t\t\t\t} else if (selectedFieldId != 'false') {\n\t\t\t\t\t\tselectElement.attr('selectedId', selectedFieldId);\n\t\t\t\t\t}\n\t\t\t\t\tvar warningMessage = selectedValue + ' ' + app.vtranslate('JS_IS_ALREADY_BEEN_MAPPED');\n\t\t\t\t\tvar notificationParams = {\n\t\t\t\t\t\ttext: warningMessage,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(notificationParams);\n\t\t\t\t\tselectElement.val(0).trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tselectElement.attr('selectedId', selectedOptionId);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","triggerEdit","editUrl","Deferred","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","request","done","data","detailContentsHolder","html","mode","leadMappingInstance","Settings_LeadMapping_Js","registerEventsForEditView","fail","aDeferred","promise","triggerDelete","event","url","currentTarget","mappingContainer","element","closest","mappingId","AppConnector","message","result","params","text","success","remove","Settings_Vtiger_Index_Js","showMessage","select2Elements","form","find","App","Fields","Picklist","showSelect2ElementView","registerEventForAddingNewMapping","registerOnChangeEventForSourceModule","registerEventToDeleteMapping","registerEventForFormSubmit","registerOnChangeEventOfTargetModule","trigger","on","lastSequenceNumber","convertLeadMappingTable","attr","newSequenceNumber","parseInt","newMapping","clone","removeClass","appendTo","addClass","e","container","selectedValue","val","selectedOption","selectedDataType","accountFieldsSelectElement","contactFieldsSelectElement","accountFieldsBasedOnType","children","filter","contactFieldsBasedOnType","app","vtranslate","noneValue","prepend","mappingContainerSequenceNumber","hide","preventDefault","serializeFormData","module","getModuleName","parent","getParentModuleName","action","mapping","mappingDetails","detailViewParams","view","notifyParams","status","title","type","showNotify","executeChange","selectElement","selectedOptionId","duplicateOption","sourceModuleSelect","sourceModuleSelectedField","sourceModuleSelectedFieldLabel","errorParams","existingIdElement","hasClass","length","selectedFieldId","warningMessage"],"mappings":"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"}