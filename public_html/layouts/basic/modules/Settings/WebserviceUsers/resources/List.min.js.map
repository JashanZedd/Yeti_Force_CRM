{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_WebserviceUsers_List_Js',\n\t{},\n\t{\n\t\tgetDeleteParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'DeleteAjax',\n\t\t\t\ttypeApi: Vtiger_List_Js.getInstance().getActiveTypeApi()\n\t\t\t};\n\t\t},\n\t\tcontainer: false,\n\t\tclipBoardInstances: false,\n\n\t\tgetContainer: function () {\n\t\t\tif (!this.container) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tgetActiveTypeApi: function () {\n\t\t\treturn this.getContainer().find('.tabApi .active').closest('.tabApi').data('typeapi');\n\t\t},\n\t\tgetListViewRecords: function (urlParams) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (typeof urlParams === 'undefined') {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tthis.reloadTab(urlParams)\n\t\t\t\t.done(function (data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePagination: function (pageNumber) {\n\t\t\tpageNumber = typeof pageNumber !== 'undefined' ? pageNumber : 1;\n\t\t\tlet params = this.getDefaultParams();\n\t\t\tparams.view = 'Pagination';\n\t\t\tparams.page = pageNumber;\n\t\t\tparams.mode = 'getPagination';\n\t\t\tparams.totalCount = this.getContainer().find('.pagination').data('totalCount');\n\t\t\tparams.noOfEntries = this.getContainer().find('#noOfEntries').val();\n\t\t\tAppConnector.request(params).done((data) => {\n\t\t\t\t$('.paginationDiv').html(data);\n\t\t\t\tthis.registerPageNavigationEvents();\n\t\t\t});\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tpage: jQuery('#pageNumber').val(),\n\t\t\t\tview: 'List',\n\t\t\t\torderby: jQuery('#orderBy').val(),\n\t\t\t\tsortorder: jQuery('#sortOrder').val(),\n\t\t\t\ttypeApi: this.getActiveTypeApi()\n\t\t\t};\n\t\t},\n\t\treloadTab: function (urlParams) {\n\t\t\tconst aDeferred = jQuery.Deferred();\n\t\t\tif (urlParams == undefined) {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tlet tabContainer = this.getContainer().find('.listViewContent');\n\t\t\tlet params = jQuery.extend(this.getDefaultParams(), urlParams);\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((data) => {\n\t\t\t\t\ttabContainer.html(data);\n\t\t\t\t\tVtiger_Header_Js.getInstance().registerFooTable();\n\t\t\t\t\tthis.registerPageNavigationEvents();\n\t\t\t\t\tthis.registerClipboard();\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Register Clipboard\n\t\t */\n\t\tregisterClipboard: function () {\n\t\t\tif (typeof this.clipBoardInstances === 'object') {\n\t\t\t\tthis.clipBoardInstances.destroy();\n\t\t\t}\n\t\t\tthis.clipBoardInstances = App.Fields.Text.registerCopyClipboard(this.getContainer().find('.listViewContent'));\n\t\t},\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('li.tabApi')\n\t\t\t\t.on('click', (e) => {\n\t\t\t\t\tthis.reloadTab({ typeApi: e.currentTarget.dataset.typeapi, page: 1 });\n\t\t\t\t});\n\t\t\tthis.registerClipboard();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","getDeleteParams","module","app","getModuleName","parent","getParentModuleName","action","typeApi","Vtiger_List_Js","getInstance","getActiveTypeApi","container","clipBoardInstances","getContainer","jQuery","find","closest","data","getListViewRecords","urlParams","Deferred","reloadTab","done","aDeferred","resolve","fail","textStatus","errorThrown","reject","promise","updatePagination","pageNumber","getDefaultParams","params","view","page","mode","totalCount","noOfEntries","val","AppConnector","request","$","html","registerPageNavigationEvents","orderby","sortorder","extend","tabContainer","Vtiger_Header_Js","registerFooTable","registerClipboard","errorLog","destroy","App","Fields","Text","registerCopyClipboard","registerEvents","_super","on","e","currentTarget","dataset","typeapi"],"mappings":"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"}