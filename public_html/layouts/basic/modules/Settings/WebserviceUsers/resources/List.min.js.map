{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_WebserviceUsers_List_Js',\n\t{},\n\t{\n\t\tgetDeleteParams: function() {\n\t\t\treturn {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'DeleteAjax',\n\t\t\t\ttypeApi: Vtiger_List_Js.getInstance().getActiveTypeApi()\n\t\t\t};\n\t\t},\n\t\tcontainer: false,\n\t\tgetContainer: function() {\n\t\t\tif (this.container == false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tgetActiveTypeApi: function() {\n\t\t\treturn this.getContainer()\n\t\t\t\t.find('.tabApi .active')\n\t\t\t\t.closest('.tabApi')\n\t\t\t\t.data('typeapi');\n\t\t},\n\t\tgetListViewRecords: function(urlParams) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (typeof urlParams === 'undefined') {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tthis.reloadTab(urlParams)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePagination: function(pageNumber) {\n\t\t\tpageNumber = typeof pageNumber !== 'undefined' ? pageNumber : 1;\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = this.getDefaultParams();\n\t\t\tparams.view = 'Pagination';\n\t\t\tparams.page = pageNumber;\n\t\t\tparams.mode = 'getPagination';\n\t\t\tparams.totalCount = $('.pagination').data('totalCount');\n\t\t\tparams.noOfEntries = jQuery('#noOfEntries').val();\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\t\tthisInstance.registerPageNavigationEvents();\n\t\t\t});\n\t\t},\n\t\tgetDefaultParams: function() {\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tpage: jQuery('#pageNumber').val(),\n\t\t\t\tview: 'List',\n\t\t\t\torderby: jQuery('#orderBy').val(),\n\t\t\t\tsortorder: jQuery('#sortOrder').val(),\n\t\t\t\ttypeApi: this.getActiveTypeApi()\n\t\t\t};\n\t\t\treturn params;\n\t\t},\n\t\treloadTab: function(urlParams) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (urlParams == undefined) {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tvar tabContainer = this.getContainer().find('.listViewContent');\n\t\t\tvar defaultParams = this.getDefaultParams();\n\t\t\tvar params = jQuery.extend(defaultParams, urlParams);\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\ttabContainer.html(data);\n\t\t\t\t\tVtiger_Header_Js.getInstance().registerFooTable();\n\t\t\t\t\tthisInstance.registerPageNavigationEvents();\n\t\t\t\t\tApp.Fields.Text.registerCopyClipboard(tabContainer);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthis._super();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('li.tabApi')\n\t\t\t\t.on('click', function(e) {\n\t\t\t\t\tthisInstance.reloadTab({ typeApi: jQuery(this).data('typeapi') });\n\t\t\t\t});\n\t\t\tApp.Fields.Text.registerCopyClipboard(this.getContainer().find('.listViewContent'));\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","app","getModuleName","getParentModuleName","Vtiger_List_Js","getInstance","getActiveTypeApi","container","jQuery","getContainer","find","closest","data","urlParams","aDeferred","Deferred","reloadTab","done","resolve","fail","textStatus","errorThrown","reject","promise","pageNumber","thisInstance","params","getDefaultParams","view","page","mode","totalCount","$","noOfEntries","val","request","html","registerPageNavigationEvents","undefined","tabContainer","defaultParams","extend","registerFooTable","Fields","Text","registerCopyClipboard","errorLog","_super","on","e","typeApi"],"mappings":"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"}