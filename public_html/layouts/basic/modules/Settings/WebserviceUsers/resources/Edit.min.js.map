{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js('Settings_WebserviceUsers_Edit_Js', {}, {\n\tgetForm: function () {\n\t\tif (this.formElement == false) {\n\t\t\tthis.setForm(jQuery('#modalEdit'));\n\t\t}\n\t\treturn this.formElement;\n\t},\n\tshowHideFields: function (typeElement) {\n\t\tvar elementContainer = this.getForm().find('[name=\"crmid\"]').closest('.form-group');\n\t\tif (typeElement.val() === '1') {\n\t\t\telementContainer.addClass('d-none').find('.clearReferenceSelection').trigger('click');\n\t\t} else {\n\t\t\telementContainer.removeClass('d-none');\n\t\t}\n\t},\n\tregisterEvents: function () {\n\t\tconst self = this,\n\t\t\tcontainer = this.getForm();\n\t\tthis.registerBasicEvents(container);\n\t\tlet form = container.find('form');\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\tAppConnector.request(formData).done(function (data) {\n\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_SAVE_SUCCESS')});\n\t\t\t\t\t\t\tlet listInstance = Settings_WebserviceUsers_List_Js.getInstance();\n\t\t\t\t\t\t\tlistInstance.reloadTab();\n\t\t\t\t\t\t\tapp.hideModalWindow();\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (data.result.message) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.result.message);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tlet typeElement = form.find('[name=\"type\"]');\n\t\tself.showHideFields(typeElement);\n\t\ttypeElement.on('change', function (e) {\n\t\t\tself.showHideFields(jQuery(e.currentTarget));\n\t\t});\n\t}\n})\njQuery(document).ready(function (e) {\n\tvar instance = new Settings_WebserviceUsers_Edit_Js();\n\tinstance.registerEvents();\n})\n"],"names":["Vtiger_Edit_Js","this","formElement","setForm","jQuery","typeElement","elementContainer","getForm","find","closest","val","addClass","trigger","removeClass","self","container","registerBasicEvents","form","on","e","preventDefault","validationEngine","formData","serializeFormData","request","done","data","result","success","showMessage","text","app","vtranslate","Settings_WebserviceUsers_List_Js","getInstance","reloadTab","hideModalWindow","message","showPnotify","showHideFields","currentTarget","document","ready","Settings_WebserviceUsers_Edit_Js","registerEvents"],"mappings":"aAGAA,eAAe,mCAAoC,GAAI,SAC7C,kBACgB,GAApBC,KAAKC,kBACHC,QAAQC,OAAO,eAEdH,KAAKC,4BAEG,SAAUG,iBACrBC,iBAAmBL,KAAKM,UAAUC,KAAK,kBAAkBC,QAAQ,eAC3C,MAAtBJ,YAAYK,uBACEC,SAAS,UAAUH,KAAK,4BAA4BI,QAAQ,0BAE5DC,YAAY,0BAGf,eACTC,KAAOb,KACZc,UAAYd,KAAKM,eACbS,oBAAoBD,eACrBE,KAAOF,UAAUP,KAAK,aACrBU,GAAG,UAAU,SAAUC,QACzBC,iBACEH,KAAKI,iBAAiB,YAAa,KAClCC,SAAWL,KAAKM,iCACPC,QAAQF,UAAUG,MAAK,SAAUC,MACzCA,KAAKC,OAAOC,kCACWC,YAAY,CAACC,KAAMC,IAAIC,WAAW,qBACxCC,iCAAiCC,cACvCC,gBACTC,mBAEAV,KAAKC,OAAOU,yBACEC,YAAYZ,KAAKC,OAAOU,0BAExBC,YAAYP,IAAIC,WAAW,wBAM9C3B,YAAcY,KAAKT,KAAK,sBACvB+B,eAAelC,yBACRa,GAAG,UAAU,SAAUC,QAC7BoB,eAAenC,OAAOe,EAAEqB,sBAIhCpC,OAAOqC,UAAUC,OAAM,SAAUvB,IACjB,IAAIwB,kCACVC"}