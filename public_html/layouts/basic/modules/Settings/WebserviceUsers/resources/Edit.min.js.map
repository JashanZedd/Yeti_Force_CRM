{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nVtiger_Edit_Js('Settings_WebserviceUsers_Edit_Js', {}, {\n\tgetForm: function () {\n\t\tif (this.formElement == false) {\n\t\t\tthis.setForm(jQuery('#modalEdit'));\n\t\t}\n\t\treturn this.formElement;\n\t},\n\tshowHideFields: function (typeElement) {\n\t\tvar elementContainer = this.getForm().find('[name=\"crmid\"]').closest('.form-group');\n\t\tif (typeElement.val() === '1') {\n\t\t\telementContainer.addClass('d-none').find('.clearReferenceSelection').trigger('click');\n\t\t} else {\n\t\t\telementContainer.removeClass('d-none');\n\t\t}\n\t},\n\tregisterEvents: function () {\n\t\tconst self = this,\n\t\t\tcontainer = this.getForm();\n\t\tthis.registerBasicEvents(container);\n\t\tlet form = container.find('form');\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (form.validationEngine('validate')) {\n\t\t\t\tlet formData = form.serializeFormData();\n\t\t\t\tAppConnector.request(formData).done(function (data) {\n\t\t\t\t\tif (data.result.success) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_SAVE_SUCCESS')});\n\t\t\t\t\t\t\tlet listInstance = Settings_WebserviceUsers_List_Js.getInstance();\n\t\t\t\t\t\t\tlistInstance.reloadTab();\n\t\t\t\t\t\t\tapp.hideModalWindow();\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (data.result.message) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.result.message);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify(app.vtranslate('JS_ERROR'));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tlet typeElement = form.find('[name=\"type\"]');\n\t\tself.showHideFields(typeElement);\n\t\ttypeElement.on('change', function (e) {\n\t\t\tself.showHideFields(jQuery(e.currentTarget));\n\t\t});\n\t}\n})\njQuery(document).ready(function (e) {\n\tvar instance = new Settings_WebserviceUsers_Edit_Js();\n\tinstance.registerEvents();\n})\n"],"names":["Vtiger_Edit_Js","formElement","setForm","jQuery","typeElement","elementContainer","getForm","find","closest","val","addClass","trigger","removeClass","self","container","registerBasicEvents","form","on","e","preventDefault","validationEngine","formData","serializeFormData","request","done","data","result","success","showMessage","text","app","vtranslate","listInstance","Settings_WebserviceUsers_List_Js","getInstance","reloadTab","hideModalWindow","message","showPnotify","showHideFields","currentTarget","document","ready","instance","Settings_WebserviceUsers_Edit_Js","registerEvents"],"mappings":";;AAAA;AACA;AAEAA,eAAe,kCAAf,EAAmD,EAAnD,EAAuD;UAC7C,mBAAY;MAChB,KAAKC,WAAL,IAAoB,KAAxB,EAA+B;QACzBC,OAAL,CAAaC,OAAO,YAAP,CAAb;;SAEM,KAAKF,WAAZ;EALqD;iBAOtC,wBAAUG,WAAV,EAAuB;MAClCC,mBAAmB,KAAKC,OAAL,GAAeC,IAAf,CAAoB,gBAApB,EAAsCC,OAAtC,CAA8C,aAA9C,CAAvB;MACIJ,YAAYK,GAAZ,OAAsB,GAA1B,EAA+B;oBACbC,QAAjB,CAA0B,QAA1B,EAAoCH,IAApC,CAAyC,0BAAzC,EAAqEI,OAArE,CAA6E,OAA7E;GADD,MAEO;oBACWC,WAAjB,CAA6B,QAA7B;;EAZoD;iBAetC,0BAAY;MACrBC,OAAO,IAAb;MACCC,YAAY,KAAKR,OAAL,EADb;OAEKS,mBAAL,CAAyBD,SAAzB;MACIE,OAAOF,UAAUP,IAAV,CAAe,MAAf,CAAX;OACKU,EAAL,CAAQ,QAAR,EAAkB,UAAUC,CAAV,EAAa;KAC5BC,cAAF;OACIH,KAAKI,gBAAL,CAAsB,UAAtB,CAAJ,EAAuC;QAClCC,WAAWL,KAAKM,iBAAL,EAAf;iBACaC,OAAb,CAAqBF,QAArB,EAA+BG,IAA/B,CAAoC,UAAUC,IAAV,EAAgB;SAC/CA,KAAKC,MAAL,CAAYC,OAAhB,EAAyB;+BACEC,WAAzB,CAAqC,EAACC,MAAMC,IAAIC,UAAJ,CAAe,iBAAf,CAAP,EAArC;UACIC,eAAeC,iCAAiCC,WAAjC,EAAnB;mBACaC,SAAb;UACIC,eAAJ;MAJF,MAKQ;UACFX,KAAKC,MAAL,CAAYW,OAAhB,EAAyB;wBACPC,WAAjB,CAA6Bb,KAAKC,MAAL,CAAYW,OAAzC;OADD,MAEO;wBACWC,WAAjB,CAA6BR,IAAIC,UAAJ,CAAe,UAAf,CAA7B;;;KAVJ;;GAJF;MAoBI3B,cAAcY,KAAKT,IAAL,CAAU,eAAV,CAAlB;OACKgC,cAAL,CAAoBnC,WAApB;cACYa,EAAZ,CAAe,QAAf,EAAyB,UAAUC,CAAV,EAAa;QAChCqB,cAAL,CAAoBpC,OAAOe,EAAEsB,aAAT,CAApB;GADD;;CA1CF;AA+CArC,OAAOsC,QAAP,EAAiBC,KAAjB,CAAuB,UAAUxB,CAAV,EAAa;KAC/ByB,WAAW,IAAIC,gCAAJ,EAAf;UACSC,cAAT;CAFD"}