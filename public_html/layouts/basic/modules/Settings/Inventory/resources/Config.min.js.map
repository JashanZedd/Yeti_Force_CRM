{"version":3,"file":"Config.min.js","sources":["Config.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n$.Class(\"Settings_Inventory_Config_Js\", {}, {\n\tregisterChangeVal: function($container) {\n\t\t$container.on('change', 'select', (e) => {\n\t\t\tlet $target = $(e.currentTarget);\n\t\t\tlet isMultiple = $target.attr('multiple');\n\t\t\tif ($target.validationEngine('validate')) {\n\t\t\t\tlet prevValue = $target.data('prevvalue').toString();\n\t\t\t\tprevValue = isMultiple ? prevValue.split() : prevValue;\n\t\t\t\t$target.val(prevValue);\n\t\t\t\t$target.change();\n\t\t\t} else {\n\t\t\t\tlet value = $target.val();\n\t\t\t\tvalue = isMultiple ? value.join() : value.toString();\n\t\t\t\tlet params = {\n\t\t\t\t\tparam: {\n\t\t\t\t\t\t'value': value,\n\t\t\t\t\t\t'param': $target.attr('name'),\n\t\t\t\t\t},\n\t\t\t\t\tview: app.getViewName(),\n\t\t\t\t}\n\t\t\t\tapp.saveAjax('saveConfig', params).done((data) => {\n\t\t\t\t\t$target.data('prevvalue', value);\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: app.vtranslate('JS_SAVE_CHANGES')});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterValidationsFields: function($container) {\n\t\tlet params = app.validationEngineOptionsForRecord;\n\t\t$container.validationEngine(params);\n\t},\n\n\tregisterEvents: function() {\n\t\tlet $container = $('#configForm');\n\t\tthis.registerValidationsFields($container);\n\t\tthis.registerChangeVal($container);\n\t}\n\n});\n\n$(document).ready((e) => {\n\tlet instance = new Settings_Inventory_Config_Js();\n\tinstance.registerEvents();\n});\n"],"names":["$","Class","registerChangeVal","$container","on","e","currentTarget","isMultiple","$target","attr","validationEngine","data","toString","prevValue","split","val","change","value","join","param","view","app","getViewName","saveAjax","params","done","Settings_Vtiger_Index_Js","showMessage","type","text","vtranslate","registerValidationsFields","validationEngineOptionsForRecord","registerEvents","document","ready","instance"],"mappings":";;AAGAA,EAAEC,KAAF,CAAQ,8BAAR,CAAwC,EAAxC,CAA4C,CAC3CC,kBAAmB,2BAASC,UAAT,CAAqB,CACvCA,WAAWC,EAAX,CAAc,QAAd,CAAwB,QAAxB,CAAkC,SAACC,CAAD,CAAO,aAC1BL,EAAEK,EAAEC,aAAJ,CAD0B,CAEpCC,WAAaC,QAAQC,IAAR,CAAa,UAAb,CAFuB,CAGxC,GAAID,QAAQE,gBAAR,CAAyB,UAAzB,CAAJ,CAA0C,CACzC,cAAgBF,QAAQG,IAAR,CAAa,WAAb,EAA0BC,QAA1B,EAAhB,CACAC,UAAYN,WAAaM,UAAUC,KAAV,EAAb,CAAiCD,SAFJ,CAGzCL,QAAQO,GAAR,CAAYF,SAAZ,CAHyC,CAIzCL,QAAQQ,MAAR,GACA,CALD,KAKO,CACN,UAAYR,QAAQO,GAAR,EAAZ,CACAE,MAAQV,WAAaU,MAAMC,IAAN,EAAb,CAA4BD,MAAML,QAAN,EAF9B,CAGN,WAAa,CACZO,MAAO,CACN,MAASF,KADH,CAEN,MAAST,QAAQC,IAAR,CAAa,MAAb,CAFH,CADK,CAKZW,KAAMC,IAAIC,WAAJ,EALM,CAAb,CAOAD,IAAIE,QAAJ,CAAa,YAAb,CAA2BC,MAA3B,EAAmCC,IAAnC,CAAwC,UAAU,CACjDjB,QAAQG,IAAR,CAAa,WAAb,CAA0BM,KAA1B,CADiD,CAEjDS,yBAAyBC,WAAzB,CAAqC,CAACC,KAAM,SAAP,CAAkBC,KAAMR,IAAIS,UAAJ,CAAe,iBAAf,CAAxB,CAArC,EACA,CAHD,EAIA,CACD,CAvBD,EAwBA,CA1B0C,CA4B3CC,0BAA2B,mCAAS5B,UAAT,CAAqB,CAC/C,WAAakB,IAAIW,gCAAjB,CACA7B,WAAWO,gBAAX,CAA4Bc,MAA5B,EACA,CA/B0C,CAiC3CS,eAAgB,yBAAW,CAC1B,eAAiBjC,EAAE,aAAF,CAAjB,CACA,KAAK+B,yBAAL,CAA+B5B,UAA/B,CAF0B,CAG1B,KAAKD,iBAAL,CAAuBC,UAAvB,EACA,CArC0C,CAA5C,EAyCAH,EAAEkC,QAAF,EAAYC,KAAZ,CAAkB,UAAO,CACxB,aAAe,gCAAf,CACAC,SAASH,cAAT,GACA,CAHD"}