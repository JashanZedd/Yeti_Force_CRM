{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Logs_Index_Js', {\n\tgetWarningsList: function() {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.js-warnings-content');\n\t\tconst progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName(),\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: $('.js-warnings-index-page .js-switch--warnings')\n\t\t\t\t.first()\n\t\t\t\t.is(':checked'),\n\t\t\tfolder: thisInstance.getSelectedFolders()\n\t\t})\n\t\t\t.done(data => {\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerWarningsList(container);\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\tregisterWarningsList: function(container) {\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [[2, 'desc'], [1, 'asc']],\n\t\t\tlengthMenu: [20, 40, 60, 80, 100],\n\t\t\tpageLength: 20\n\t\t});\n\t\tcontainer.find('.showDescription').on('click', e => {\n\t\t\tapp.showModalWindow(\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('td')\n\t\t\t\t\t.find('.showDescriptionContent')\n\t\t\t\t\t.html()\n\t\t\t);\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', e => {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tconst data = $(e.currentTarget)\n\t\t\t\t.closest('tr')\n\t\t\t\t.data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status\n\t\t\t}).done(() => {\n\t\t\t\tthis.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsFolders: function(container) {\n\t\tconst thisInstance = this;\n\t\tlet data = [];\n\t\tconst treeValues = container.find('.js-tree-values').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer\n\t\t\t.find('#jstreeContainer')\n\t\t\t.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\ticons: false\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true\n\t\t\t\t},\n\t\t\t\tplugins: ['checkbox']\n\t\t\t})\n\t\t\t.on('loaded.jstree', function(event, data) {\n\t\t\t\t$(this).jstree('open_all');\n\t\t\t})\n\t\t\t.on('changed.jstree', function(e, data) {\n\t\t\t\tif (data.action != 'model') {\n\t\t\t\t\tthisInstance.getWarningsList();\n\t\t\t\t}\n\t\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tregisterEventsLoadContent: function(thisInstance, mode, container) {\n\t\tthisInstance.registerWarningsFolders(container);\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","thisInstance","this","container","$","progressIndicator","app","vtranslate","enabled","request","getModuleName","getParentModuleName","getViewName","first","is","getSelectedFolders","done","html","data","registerWarningsList","mode","fail","find","dataTable","on","showModalWindow","e","currentTarget","closest","popover","id","status","getWarningsList","treeValues","val","JSON","parse","jstree","event","action","extend","fn","defaults","registerWarningsFolders"],"mappings":"aAGAA,yBAAyB,yBAA0B,iBACjC,eACVC,aAAeC,KACfC,UAAYC,EAAE,wBACdC,kBAAoBD,EAAEC,kBAAkB,SACpCC,IAAIC,WAAW,mCACb,CAAEC,SAAS,kBAEVC,QAAQ,QACZH,IAAII,uBACJJ,IAAIK,2BACNL,IAAIM,mBACJ,yBACER,EAAE,gDACRS,QACAC,GAAG,mBACGb,aAAac,uBAEpBC,MAAK,yBACKC,KAAKC,mBACFC,qBAAqBhB,6BAChBE,kBAAkB,CAAEe,KAAM,YAE5CC,MAAK,6BACahB,kBAAkB,CAAEe,KAAM,kCAGzB,SAASjB,oCACpBmB,KAAK,SAASC,UAAU,OAC1B,CAAC,CAAC,EAAG,QAAS,CAAC,EAAG,mBACb,CAAC,GAAI,GAAI,GAAI,GAAI,gBACjB,eAEHD,KAAK,oBAAoBE,GAAG,SAAS,gBAC1CC,gBACHrB,EAAEsB,EAAEC,eACFC,QAAQ,MACRN,KAAK,2BACLL,qBAGMK,KAAK,cAAcE,GAAG,SAAS,sBAC9BF,KAAK,uBAAuBO,QAAQ,YACxCX,KAAOd,EAAEsB,EAAEC,eACfC,QAAQ,MACRV,oBACWT,QAAQ,QACZH,IAAII,uBACJJ,IAAIK,6BACJ,sBACF,YACFO,KAAKY,UACDZ,KAAKa,SACXf,MAAK,iBACFgB,gBAAgB7B,0CAIC,SAASA,eAC3BF,aAAeC,KACjBgB,KAAO,GACLe,WAAa9B,UAAUmB,KAAK,mBAAmBY,MACjDD,kBACIE,KAAKC,MAAMH,uBAGjBX,KAAK,oBACLe,OAAO,MACD,MACCnB,YACE,MACD,qBACM,SACL,mBAEQ,WAER,CAAC,cAEVM,GAAG,iBAAiB,SAASc,MAAOpB,QAClChB,MAAMmC,OAAO,eAEfb,GAAG,kBAAkB,SAASE,EAAGR,MACd,SAAfA,KAAKqB,qBACKP,uBAGdQ,OAAOpC,EAAEqC,GAAGlB,UAAUmB,SAAU,UACvB,aACIpC,IAAIC,WAAW,iCACdD,IAAIC,WAAW,6BACtBD,IAAIC,WAAW,wBACVD,IAAIC,WAAW,2BAClBD,IAAIC,WAAW,yBACXD,IAAIC,WAAW,qCACbD,IAAIC,WAAW,sCACbD,IAAIC,WAAW,qCACnBD,IAAIC,WAAW,mCACjB,QACFD,IAAIC,WAAW,wBACZD,IAAIC,WAAW,uBACnBD,IAAIC,WAAW,mBACfD,IAAIC,WAAW,oBAEhB,gBACUD,IAAIC,WAAW,uCACdD,IAAIC,WAAW,sCAIzBe,KAAK,wBAAwBE,GAAG,UAAU,wBACtCQ,gDAGY,SAAS/B,aAAcmB,KAAMjB,wBAC1CwC,wBAAwBxC"}