{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Logs_Index_Js', {\n\tgetWarningsList: function() {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.js-warnings-content');\n\t\tconst progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName(),\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: $('.js-warnings-index-page .js-switch--warnings')\n\t\t\t\t.first()\n\t\t\t\t.is(':checked'),\n\t\t\tfolder: thisInstance.getSelectedFolders()\n\t\t})\n\t\t\t.done(data => {\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerWarningsList(container);\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\tregisterWarningsList: function(container) {\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [[2, 'desc'], [1, 'asc']],\n\t\t\tlengthMenu: [20, 40, 60, 80, 100],\n\t\t\tpageLength: 20\n\t\t});\n\t\tcontainer.find('.showDescription').on('click', e => {\n\t\t\tapp.showModalWindow(\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('td')\n\t\t\t\t\t.find('.showDescriptionContent')\n\t\t\t\t\t.html()\n\t\t\t);\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', e => {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tconst data = $(e.currentTarget)\n\t\t\t\t.closest('tr')\n\t\t\t\t.data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status\n\t\t\t}).done(() => {\n\t\t\t\tthis.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsFolders: function(container) {\n\t\tconst thisInstance = this;\n\t\tlet data = [];\n\t\tconst treeValues = container.find('.js-tree-values').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer\n\t\t\t.find('#jstreeContainer')\n\t\t\t.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\ticons: false\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true\n\t\t\t\t},\n\t\t\t\tplugins: ['checkbox']\n\t\t\t})\n\t\t\t.on('loaded.jstree', function(event, data) {\n\t\t\t\t$(this).jstree('open_all');\n\t\t\t})\n\t\t\t.on('changed.jstree', function(e, data) {\n\t\t\t\tif (data.action != 'model') {\n\t\t\t\t\tthisInstance.getWarningsList();\n\t\t\t\t}\n\t\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tregisterEventsLoadContent: function(thisInstance, mode, container) {\n\t\tthisInstance.registerWarningsFolders(container);\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","thisInstance","container","$","progressIndicator","app","vtranslate","enabled","request","getModuleName","getParentModuleName","getViewName","first","is","getSelectedFolders","done","html","data","registerWarningsList","mode","fail","find","dataTable","on","showModalWindow","e","currentTarget","closest","popover","id","status","getWarningsList","treeValues","val","JSON","parse","jstree","event","action","extend","fn","defaults","registerWarningsFolders"],"mappings":"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"}