{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 5.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Logs_Index_Js', {\n\tgetWarningsList: function () {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.js-warnings-content');\n\t\tconst progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName(),\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: $('.js-warnings-index-page .js-switch--warnings').first().is(':checked'),\n\t\t\tfolder: thisInstance.getSelectedFolders()\n\t\t})\n\t\t\t.done((data) => {\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerWarningsList(container);\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\tregisterWarningsList: function (container) {\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [\n\t\t\t\t[2, 'desc'],\n\t\t\t\t[1, 'asc']\n\t\t\t],\n\t\t\tlengthMenu: [20, 40, 60, 80, 100],\n\t\t\tpageLength: 20\n\t\t});\n\t\tcontainer.find('.js-show-description').on('click', (e) => {\n\t\t\tapp.showModalWindow($(e.currentTarget).closest('td').find('.js-show-description-content').html());\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', (e) => {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tconst data = $(e.currentTarget).closest('tr').data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status\n\t\t\t}).done(() => {\n\t\t\t\tthis.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsFolders: function (container) {\n\t\tconst thisInstance = this;\n\t\tlet data = [];\n\t\tconst treeValues = container.find('.js-tree-values').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer\n\t\t\t.find('#jstreeContainer')\n\t\t\t.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\ticons: false\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true\n\t\t\t\t},\n\t\t\t\tplugins: ['checkbox']\n\t\t\t})\n\t\t\t.on('loaded.jstree', function (event, data) {\n\t\t\t\t$(this).jstree('open_all');\n\t\t\t})\n\t\t\t.on('changed.jstree', function (e, data) {\n\t\t\t\tif (data.action != 'model') {\n\t\t\t\t\tthisInstance.getWarningsList();\n\t\t\t\t}\n\t\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tregisterEventsLoadContent: function (thisInstance, mode, container) {\n\t\tthisInstance.registerWarningsFolders(container);\n\t},\n\treloadContent: function () {\n\t\t$('.js-tabs li .active').trigger('click');\n\t},\n\tregisterTabEvents: function () {\n\t\tvar thisInstance = this;\n\t\t$('.js-tabs li').on('click', function () {\n\t\t\tthisInstance.loadContent($(this).data('mode'), false, $(this).data('params'));\n\t\t});\n\t},\n\tgetSelectedFolders: function () {\n\t\tvar selected = [];\n\t\t$.each($('#jstreeContainer').jstree('get_selected', true), function (index, value) {\n\t\t\tselected.push(value.original.subPath);\n\t\t});\n\t\treturn selected;\n\t},\n\tloadContent: function (mode, page, modeParams) {\n\t\tconst thisInstance = this;\n\t\tlet container = $('.indexContainer');\n\t\tlet params = {\n\t\t\tmode: mode,\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName()\n\t\t};\n\t\tif (page) {\n\t\t\tparams.page = page;\n\t\t}\n\t\tif (modeParams) {\n\t\t\tparams.params = modeParams;\n\t\t}\n\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true,\n\t\t\t\telementToBlock: container\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\tcontainer.html(data);\n\t\t\tthisInstance.registerEventsLoadContent(thisInstance, mode, container);\n\t\t});\n\t},\n\t/**\n\t * Register events\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerTabEvents();\n\t\tthis.reloadContent();\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","getWarningsList","thisInstance","container","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","AppConnector","request","module","getModuleName","parent","getParentModuleName","view","getViewName","mode","active","first","is","folder","getSelectedFolders","done","data","html","registerWarningsList","fail","find","dataTable","order","lengthMenu","pageLength","on","e","showModalWindow","currentTarget","closest","popover","action","id","params","status","registerWarningsFolders","treeValues","val","JSON","parse","jstree","core","themes","name","responsive","icons","check_callback","plugins","extend","fn","defaults","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","registerEventsLoadContent","reloadContent","trigger","registerTabEvents","loadContent","selected","each","index","value","push","original","subPath","page","modeParams","position","elementToBlock","progressIndicatorElement","registerEvents"],"mappings":"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"}