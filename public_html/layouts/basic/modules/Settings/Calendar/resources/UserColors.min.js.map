{"version":3,"file":"UserColors.min.js","sources":["UserColors.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nvar Settings_UserColors_Js = {\n\tinitEvants: function () {\n\t\t$('.UserColors #update_event').on('click', Settings_UserColors_Js.updateEvent);\n\t},\n\tupdateEvent: function (e) {\n\t\tvar progress = $.progressIndicator({\n\t\t\t'message': app.vtranslate('Update labels'),\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar target = $(e.currentTarget);\n\t\tvar metod = target.data('metod');\n\t\tvar value = 0;\n\t\tif (target.prop('checked')) {\n\t\t\tvalue = 1;\n\t\t}\n\t\tvar params = {};\n\t\tparams.color = value;\n\t\tparams.id = target.attr('id');\n\t\tparams = jQuery.extend({}, params);\n\t\tSettings_UserColors_Js.registerSaveEvent(metod, params);\n\t\tprogress.progressIndicator({'mode': 'hide'});\n\t},\n\tregisterSaveEvent: function (mode, data) {\n\t\tvar params = {}\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: 'SaveAjax',\n\t\t\tmode: mode,\n\t\t\tparams: data\n\t\t}\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar params = {\n\t\t\t\ttext: response['message'],\n\t\t\t\ttype: 'success'\n\t\t\t};\n\t\t\tapp.hideModalWindow();\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\treturn response;\n\t\t});\n\t},\n\tregisterSaveWorkingDays: function (content) {\n\t\tcontent.find('.workignDaysField').on('change', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar params = {};\n\t\t\tparams['type'] = target.data('type');\n\t\t\tparams['param'] = target.attr('name');\n\t\t\tif (target.attr('type') == 'checkbox') {\n\t\t\t\tparams['val'] = this.checked;\n\t\t\t} else {\n\t\t\t\tparams['val'] = target.val();\n\t\t\t}\n\t\t\tapp.saveAjax('updateNotWorkingDays', params).done(function (data) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: data.result.message});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tSettings_UserColors_Js.initEvants();\n\t\tvar content = $('.workingDaysTable');\n\t\tthis.registerSaveWorkingDays(content);\n\t}\n}\n$(document).ready(function () {\n\tSettings_UserColors_Js.registerEvents();\n})\n"],"names":["Settings_UserColors_Js","on","updateEvent","e","progress","$","progressIndicator","app","vtranslate","target","currentTarget","metod","data","value","prop","params","color","id","attr","jQuery","extend","registerSaveEvent","mode","getModuleName","getParentModuleName","async","dataType","request","done","response","hideModalWindow","showPnotify","content","find","this","checked","val","saveAjax","showMessage","type","text","result","message","initEvants","registerSaveWorkingDays","document","ready","registerEvents"],"mappings":"aAGA,IAAIA,uBAAyB,YAChB,aACT,6BAA6BC,GAAG,QAASD,uBAAuBE,0BAEtD,SAAUC,OAClBC,SAAWC,EAAEC,kBAAkB,SACvBC,IAAIC,WAAW,2BACb,UACD,KAGTC,OAASJ,EAAEF,EAAEO,eACbC,MAAQF,OAAOG,KAAK,SACpBC,MAAQ,EACRJ,OAAOK,KAAK,mBACP,OAELC,OAAS,UACNC,MAAQH,aACRI,GAAKR,OAAOS,KAAK,aACfC,OAAOC,OAAO,GAAIL,+BACJM,kBAAkBV,MAAOI,iBACvCT,kBAAkB,CAACgB,KAAQ,4BAElB,SAAUA,KAAMV,UAC9BG,OAAS,UACNH,KAAO,QACLL,IAAIgB,uBACJhB,IAAIiB,6BACJ,gBACFF,YACEV,aAEFa,OAAQ,SACRC,SAAW,oBACLC,QAAQZ,QAAQa,MAAK,SAAUhB,UACvCiB,SAAWjB,KAAA,OACXG,OAAS,MACNc,SAAA,aACA,sBAEHC,mCACaC,YAAYhB,QACtBc,qCAGgB,SAAUG,iBAC1BC,KAAK,qBAAqBhC,GAAG,UAAU,SAAUE,OACpDM,OAASJ,EAAEF,EAAEO,eACbK,OAAS,UACb,KAAiBN,OAAOG,KAAK,eAC7B,MAAkBH,OAAOS,KAAK,QACH,YAAvBT,OAAOS,KAAK,eACf,IAAgBgB,KAAKC,eAErB,IAAgB1B,OAAO2B,UAEpBC,SAAS,uBAAwBtB,QAAQa,MAAK,SAAUhB,+BAClC0B,YAAY,CAACC,KAAM,UAAWC,KAAM5B,KAAK6B,OAAOC,gCAI5D,kCACQC,iBACnBX,QAAU3B,EAAE,0BACXuC,wBAAwBZ,WAG/B3B,EAAEwC,UAAUC,OAAM,kCACMC"}