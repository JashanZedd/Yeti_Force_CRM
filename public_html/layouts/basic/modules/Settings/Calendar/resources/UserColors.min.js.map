{"version":3,"file":"UserColors.min.js","sources":["UserColors.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nvar Settings_UserColors_Js = {\n\tinitEvants: function () {\n\t\t$('.UserColors #update_event').on('click', Settings_UserColors_Js.updateEvent);\n\t},\n\tupdateEvent: function (e) {\n\t\tvar progress = $.progressIndicator({\n\t\t\t'message': app.vtranslate('Update labels'),\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\t\tvar target = $(e.currentTarget);\n\t\tvar metod = target.data('metod');\n\t\tvar value = 0;\n\t\tif (target.prop('checked')) {\n\t\t\tvalue = 1;\n\t\t}\n\t\tvar params = {};\n\t\tparams.color = value;\n\t\tparams.id = target.attr('id');\n\t\tparams = jQuery.extend({}, params);\n\t\tSettings_UserColors_Js.registerSaveEvent(metod, params);\n\t\tprogress.progressIndicator({'mode': 'hide'});\n\t},\n\tregisterSaveEvent: function (mode, data) {\n\t\tvar params = {}\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: 'SaveAjax',\n\t\t\tmode: mode,\n\t\t\tparams: data\n\t\t}\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar params = {\n\t\t\t\ttext: response['message'],\n\t\t\t\ttype: 'success'\n\t\t\t};\n\t\t\tapp.hideModalWindow();\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\treturn response;\n\t\t});\n\t},\n\tregisterSaveWorkingDays: function (content) {\n\t\tcontent.find('.workignDaysField').on('change', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar params = {};\n\t\t\tparams['type'] = target.data('type');\n\t\t\tparams['param'] = target.attr('name');\n\t\t\tif (target.attr('type') == 'checkbox') {\n\t\t\t\tparams['val'] = this.checked;\n\t\t\t} else {\n\t\t\t\tparams['val'] = target.val();\n\t\t\t}\n\t\t\tapp.saveAjax('updateNotWorkingDays', params).done(function (data) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({type: 'success', text: data.result.message});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tSettings_UserColors_Js.initEvants();\n\t\tvar content = $('.workingDaysTable');\n\t\tthis.registerSaveWorkingDays(content);\n\t}\n}\n$(document).ready(function () {\n\tSettings_UserColors_Js.registerEvents();\n})\n"],"names":["Settings_UserColors_Js","on","updateEvent","e","progress","$","progressIndicator","app","vtranslate","target","currentTarget","metod","data","value","prop","params","color","id","attr","jQuery","extend","registerSaveEvent","mode","getModuleName","getParentModuleName","async","dataType","request","done","response","hideModalWindow","showPnotify","content","find","checked","val","saveAjax","showMessage","type","text","result","message","initEvants","registerSaveWorkingDays","document","ready","registerEvents"],"mappings":";;AAAA;AACA;AAEA,IAAIA,yBAAyB;aAChB,sBAAY;IACrB,2BAAF,EAA+BC,EAA/B,CAAkC,OAAlC,EAA2CD,uBAAuBE,WAAlE;EAF2B;cAIf,qBAAUC,CAAV,EAAa;MACrBC,WAAWC,EAAEC,iBAAF,CAAoB;cACvBC,IAAIC,UAAJ,CAAe,eAAf,CADuB;gBAErB;eACD;;GAHE,CAAf;MAMIC,SAASJ,EAAEF,EAAEO,aAAJ,CAAb;MACIC,QAAQF,OAAOG,IAAP,CAAY,OAAZ,CAAZ;MACIC,QAAQ,CAAZ;MACIJ,OAAOK,IAAP,CAAY,SAAZ,CAAJ,EAA4B;WACnB,CAAR;;MAEGC,SAAS,EAAb;SACOC,KAAP,GAAeH,KAAf;SACOI,EAAP,GAAYR,OAAOS,IAAP,CAAY,IAAZ,CAAZ;WACSC,OAAOC,MAAP,CAAc,EAAd,EAAkBL,MAAlB,CAAT;yBACuBM,iBAAvB,CAAyCV,KAAzC,EAAgDI,MAAhD;WACST,iBAAT,CAA2B,EAAC,QAAQ,MAAT,EAA3B;EAtB2B;oBAwBT,2BAAUgB,IAAV,EAAgBV,IAAhB,EAAsB;MACpCG,SAAS,EAAb;SACOH,IAAP,GAAc;WACLL,IAAIgB,aAAJ,EADK;WAELhB,IAAIiB,mBAAJ,EAFK;WAGL,UAHK;SAIPF,IAJO;WAKLV;GALT;SAOOa,KAAP,GAAe,KAAf;SACOC,QAAP,GAAkB,MAAlB;eACaC,OAAb,CAAqBZ,MAArB,EAA6Ba,IAA7B,CAAkC,UAAUhB,IAAV,EAAgB;OAC7CiB,WAAWjB,KAAK,QAAL,CAAf;OACIG,SAAS;UACNc,SAAS,SAAT,CADM;UAEN;IAFP;OAIIC,eAAJ;oBACiBC,WAAjB,CAA6BhB,MAA7B;UACOc,QAAP;GARD;EAnC2B;0BA8CH,iCAAUG,OAAV,EAAmB;UACnCC,IAAR,CAAa,mBAAb,EAAkChC,EAAlC,CAAqC,QAArC,EAA+C,UAAUE,CAAV,EAAa;OACvDM,SAASJ,EAAEF,EAAEO,aAAJ,CAAb;OACIK,SAAS,EAAb;UACO,MAAP,IAAiBN,OAAOG,IAAP,CAAY,MAAZ,CAAjB;UACO,OAAP,IAAkBH,OAAOS,IAAP,CAAY,MAAZ,CAAlB;OACIT,OAAOS,IAAP,CAAY,MAAZ,KAAuB,UAA3B,EAAuC;WAC/B,KAAP,IAAgB,KAAKgB,OAArB;IADD,MAEO;WACC,KAAP,IAAgBzB,OAAO0B,GAAP,EAAhB;;OAEGC,QAAJ,CAAa,sBAAb,EAAqCrB,MAArC,EAA6Ca,IAA7C,CAAkD,UAAUhB,IAAV,EAAgB;6BACxCyB,WAAzB,CAAqC,EAACC,MAAM,SAAP,EAAkBC,MAAM3B,KAAK4B,MAAL,CAAYC,OAApC,EAArC;IADD;GAVD;EA/C2B;iBA8DZ,0BAAY;yBACJC,UAAvB;MACIV,UAAU3B,EAAE,mBAAF,CAAd;OACKsC,uBAAL,CAA6BX,OAA7B;;CAjEF;AAoEA3B,EAAEuC,QAAF,EAAYC,KAAZ,CAAkB,YAAY;wBACNC,cAAvB;CADD"}