{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/**\n * SlaPolicy Edit Js class\n *\n * @package     Edit\n *\n * @description SlaPolicy Edit View scripts\n * @license     YetiForce Public License 5.0\n * @author      Rafal Pospiech <r.pospiech@yetiforce.com>\n */\n'use strict';\nSettings_Vtiger_List_Js(\n\t'Settings_Wapro_List_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Register button to create record\n\t\t */\n\t\tregisterButtons: function () {\n\t\t\tconst container = this.getListViewContainer();\n\t\t\tcontainer.on('click', '.js-add-record-modal, .js-edit-record-modal', (e) => {\n\t\t\t\tapp.showModalWindow({\n\t\t\t\t\turl: e.currentTarget.dataset.url,\n\t\t\t\t\tsendByAjaxCb: (_, responseData) => {\n\t\t\t\t\t\tthis.getListViewRecords();\n\t\t\t\t\t\tif (responseData['result']) {\n\t\t\t\t\t\t\tthis.showListModal(responseData['result']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register list modal\n\t\t */\n\t\tregisterListModal: function () {\n\t\t\tthis.getListViewContainer().on('click', '.js-list-sync', (e) => {\n\t\t\t\tthis.showListModal(e.currentTarget.dataset.id);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show list modal\n\t\t * @param {int} id\n\t\t */\n\t\tshowListModal: function (id) {\n\t\t\tapp.showModalWindow(\n\t\t\t\tnull,\n\t\t\t\t'index.php?parent=Settings&module=Wapro&view=ListSynchronizerModal&id=' + id,\n\t\t\t\t(modalContainer) => {\n\t\t\t\t\tmodalContainer.find('.js-modal__save').on('click', () => {\n\t\t\t\t\t\tlet synchronizer = [];\n\t\t\t\t\t\tmodalContainer.find('.js-synchronizer:checked').each(function () {\n\t\t\t\t\t\t\tsynchronizer.push($(this).val());\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\tmode: 'updateSynchronizer',\n\t\t\t\t\t\t\tid: id,\n\t\t\t\t\t\t\tsynchronizer: synchronizer\n\t\t\t\t\t\t}).done(() => {\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Function to register events\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tthis._super();\n\t\t\tthis.registerListModal();\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","registerButtons","container","getListViewContainer","on","e","app","showModalWindow","url","currentTarget","dataset","sendByAjaxCb","_","responseData","getListViewRecords","showListModal","registerListModal","id","modalContainer","find","synchronizer","each","push","$","val","AppConnector","request","module","getModuleName","parent","getParentModuleName","action","mode","done","hideModalWindow","registerEvents","_super"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,YAAY,CACZA,uBAAuB,CACtB,wBAAwB,CACxB,EAAE,CACF;AAED;AACA,KACEC,eAAe,CAAE,SAAY,eAAA,EAAA,CAAA,IAAA,KAAA,CAAA,IAAA,CACtBC,SAAS,CAAG,IAAI,CAACC,oBAAoB,EAAE,CAC7CD,SAAS,CAACE,EAAE,CAAC,OAAO,CAAE,6CAA6C,CAAE,SAACC,CAAC,CAAK,CAC3EC,GAAG,CAACC,eAAe,CAAC,CACnBC,GAAG,CAAEH,CAAC,CAACI,aAAa,CAACC,OAAO,CAACF,GAAG,CAChCG,YAAY,CAAE,SAACC,YAAAA,CAAAA,CAAC,CAAEC,YAAY,CAAK,CAClC,KAAI,CAACC,kBAAkB,EAAE,CACrBD,YAAY,CAAA,MAAU,EACzB,KAAI,CAACE,aAAa,CAACF,YAAY,CAAA,MAAU,EAE3C,CACD,CAAC,EACF,CAAC,EACF,CAAC;AAEH;AACA,KACEG,iBAAiB,CAAE,SAAY,iBAAA,EAAA,CAAA,IAAA,MAAA,CAAA,IAAA,CAC9B,IAAI,CAACb,oBAAoB,EAAE,CAACC,EAAE,CAAC,OAAO,CAAE,eAAe,CAAE,SAACC,CAAC,CAAK,CAC/D,MAAI,CAACU,aAAa,CAACV,CAAC,CAACI,aAAa,CAACC,OAAO,CAACO,EAAE,EAC9C,CAAC,EACF,CAAC;AAEH;AACA;AACA,KACEF,aAAa,CAAE,SAAA,aAAA,CAAUE,EAAE,CAAE,CAC5BX,GAAG,CAACC,eAAe,CAClB,IAAI,CACJ,uEAAuE,CAAGU,EAAE,CAC5E,SAACC,cAAc,CAAK,CACnBA,cAAc,CAACC,IAAI,CAAC,iBAAiB,CAAC,CAACf,EAAE,CAAC,OAAO,CAAE,UAAM,CACxD,IAAIgB,YAAY,CAAG,EAAE,CACrBF,cAAc,CAACC,IAAI,CAAC,0BAA0B,CAAC,CAACE,IAAI,CAAC,UAAY,CAChED,YAAY,CAACE,IAAI,CAACC,CAAC,CAAC,IAAI,CAAC,CAACC,GAAG,EAAE,EAChC,CAAC,CAAC,CACFC,YAAY,CAACC,OAAO,CAAC,CACpBC,MAAM,CAAErB,GAAG,CAACsB,aAAa,EAAE,CAC3BC,MAAM,CAAEvB,GAAG,CAACwB,mBAAmB,EAAE,CACjCC,MAAM,CAAE,UAAU,CAClBC,IAAI,CAAE,oBAAoB,CAC1Bf,EAAE,CAAEA,EAAE,CACNG,YAAY,CAAEA,YACf,CAAC,CAAC,CAACa,IAAI,CAAC,UAAM,CACb3B,GAAG,CAAC4B,eAAe,GACpB,CAAC,EACF,CAAC,EACF,CAAC,EAEH,CAAC;AAEH;AACA,KACEC,cAAc,CAAE,SAAY,cAAA,EAAA,CAC3B,IAAI,CAACC,MAAM,EAAE,CACb,IAAI,CAACpB,iBAAiB,GACvB,CACD,CAAC,CACD;;"}