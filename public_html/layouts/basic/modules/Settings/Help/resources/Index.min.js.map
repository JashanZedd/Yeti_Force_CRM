{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Help_Index_Js', {\n\tregisterPagination: function() {\n\t\tvar page = $('.pagination .pageNumber');\n\t\tvar thisInstance = this;\n\t\tpage.on('click', function() {\n\t\t\tthisInstance.loadContent('github', $(this).data('id'));\n\t\t});\n\t},\n\tresisterSaveKeys: function(modal) {\n\t\tvar thisInstance = this;\n\t\tvar container = modal.find('.authModalContent');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\tcontainer.find('.saveKeys').on('click', function() {\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'Github',\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveKeysAjax',\n\t\t\t\t\tusername: $('[name=\"username\"]').val(),\n\t\t\t\t\tclient_id: $('[name=\"client_id\"]').val(),\n\t\t\t\t\ttoken: $('[name=\"token\"]').val()\n\t\t\t\t};\n\t\t\t\tcontainer.progressIndicator({});\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (data.result.success == false) {\n\t\t\t\t\t\t\tvar errorDiv = container.find('.errorMsg');\n\t\t\t\t\t\t\terrorDiv.removeClass('d-none');\n\t\t\t\t\t\t\terrorDiv.html(app.vtranslate('JS_ERROR_KEY'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tthisInstance.reloadContent();\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_AUTHORIZATION_COMPLETE'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterAuthorizedEvent: function() {\n\t\tvar thisInstance = this;\n\t\t$('.showModal').on('click', function() {\n\t\t\tapp.showModalWindow($('.authModal'), function(container) {\n\t\t\t\tthisInstance.resisterSaveKeys(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterGithubEvents: function(container) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerAuthorizedEvent();\n\t\tthisInstance.registerPagination();\n\t\tcontainer.find('.js-switch--state, .js-switch--author').on('change', () => {\n\t\t\tthisInstance.loadContent('github', 1);\n\t\t});\n\t\t$('.addIssuesBtn').on('click', function() {\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Github',\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'AddIssue'\n\t\t\t};\n\t\t\tcontainer.progressIndicator({});\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\tapp.showModalWindow(data, function() {\n\t\t\t\t\tthisInstance.loadEditorElement();\n\t\t\t\t\tthisInstance.registerSaveIssues();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEventsLoadContent: function(thisInstance, mode, container) {\n\t\tthisInstance.registerGithubEvents(container);\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","page","$","thisInstance","this","on","loadContent","data","modal","container","find","validationEngine","app","validationEngineOptions","params","getParentModuleName","val","progressIndicator","request","done","mode","result","success","errorDiv","removeClass","html","vtranslate","hideModalWindow","reloadContent","showMessage","fail","error","err","showModalWindow","resisterSaveKeys","registerAuthorizedEvent","registerPagination","loadEditorElement","registerSaveIssues","registerGithubEvents"],"mappings":"aAGAA,yBAAyB,yBAA0B,oBAC9B,eACfC,KAAOC,EAAE,2BACTC,aAAeC,UACdC,GAAG,SAAS,wBACHC,YAAY,SAAUJ,EAAEE,MAAMG,KAAK,4BAGhC,SAASC,WACtBL,aAAeC,KACfK,UAAYD,MAAME,KAAK,+BACjBC,iBAAiBC,IAAIC,mCACrBH,KAAK,aAAaL,GAAG,SAAS,cACnCI,UAAUE,iBAAiB,YAAa,KACvCG,OAAS,QACJ,gBACAF,IAAIG,6BACJ,wBACEb,EAAE,qBAAqBc,gBACtBd,EAAE,sBAAsBc,YAC5Bd,EAAE,kBAAkBc,iBAElBC,kBAAkB,iBACfC,QAAQJ,QACnBK,MAAK,SAASZ,mBACJU,kBAAkB,CAAEG,KAAM,SACT,GAAvBb,KAAKc,OAAOC,QAAkB,KAC7BC,SAAWd,UAAUC,KAAK,sBACrBc,YAAY,mBACZC,KAAKb,IAAIc,WAAW,qBACvB,KACFC,+BACSC,oBACTd,OAAS,OACLF,IAAIc,WAAW,0BAChBd,IAAIc,WAAW,kCACf,4BAEUG,YAAYf,YAG9BgB,MAAK,SAASC,MAAOC,eACXf,kBAAkB,CAAEG,KAAM,aAChCO,kDAKgB,eACpBxB,aAAeC,OACjB,cAAcC,GAAG,SAAS,eACvB4B,gBAAgB/B,EAAE,eAAe,SAASO,wBAChCyB,iBAAiBzB,uCAIX,SAASA,eAC1BN,aAAeC,kBACN+B,uCACAC,+BACH1B,KAAK,yCAAyCL,GAAG,UAAU,wBACvDC,YAAY,SAAU,QAElC,iBAAiBD,GAAG,SAAS,eAC1BS,OAAS,QACJ,gBACAF,IAAIG,2BACN,sBAEGE,kBAAkB,iBACfC,QAAQJ,QAAQK,MAAK,SAASZ,gBAChCU,kBAAkB,CAAEG,KAAM,aAChCa,gBAAgB1B,MAAM,wBACZ8B,iCACAC,yDAKU,SAASnC,aAAciB,KAAMX,wBAC1C8B,qBAAqB9B"}