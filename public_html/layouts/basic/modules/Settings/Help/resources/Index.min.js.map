{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Help_Index_Js', {\n\tregisterPagination: function() {\n\t\tvar page = $('.pagination .pageNumber');\n\t\tvar thisInstance = this;\n\t\tpage.on('click', function() {\n\t\t\tthisInstance.loadContent('github', $(this).data('id'));\n\t\t});\n\t},\n\tresisterSaveKeys: function(modal) {\n\t\tvar thisInstance = this;\n\t\tvar container = modal.find('.authModalContent');\n\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\tcontainer.find('.saveKeys').on('click', function() {\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: 'Github',\n\t\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\t\taction: 'SaveKeysAjax',\n\t\t\t\t\tusername: $('[name=\"username\"]').val(),\n\t\t\t\t\tclient_id: $('[name=\"client_id\"]').val(),\n\t\t\t\t\ttoken: $('[name=\"token\"]').val()\n\t\t\t\t};\n\t\t\t\tcontainer.progressIndicator({});\n\t\t\t\tAppConnector.request(params)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tif (data.result.success == false) {\n\t\t\t\t\t\t\tvar errorDiv = container.find('.errorMsg');\n\t\t\t\t\t\t\terrorDiv.removeClass('d-none');\n\t\t\t\t\t\t\terrorDiv.html(app.vtranslate('JS_ERROR_KEY'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\tthisInstance.reloadContent();\n\t\t\t\t\t\t\tvar params = {\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_AUTHORIZATION_COMPLETE'),\n\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterAuthorizedEvent: function() {\n\t\tvar thisInstance = this;\n\t\t$('.showModal').on('click', function() {\n\t\t\tapp.showModalWindow($('.authModal'), function(container) {\n\t\t\t\tthisInstance.resisterSaveKeys(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterGithubEvents: function(container) {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerAuthorizedEvent();\n\t\tthisInstance.registerPagination();\n\t\tcontainer.find('.js-switch--state, .js-switch--author').on('change', () => {\n\t\t\tthisInstance.loadContent('github', 1);\n\t\t});\n\t\t$('.addIssuesBtn').on('click', function() {\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Github',\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'AddIssue'\n\t\t\t};\n\t\t\tcontainer.progressIndicator({});\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tcontainer.progressIndicator({ mode: 'hide' });\n\t\t\t\tapp.showModalWindow(data, function() {\n\t\t\t\t\tthisInstance.loadEditorElement();\n\t\t\t\t\tthisInstance.registerSaveIssues();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEventsLoadContent: function(thisInstance, mode, container) {\n\t\tthisInstance.registerGithubEvents(container);\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","page","$","thisInstance","on","loadContent","data","modal","container","find","validationEngine","app","validationEngineOptions","params","getParentModuleName","val","progressIndicator","request","done","mode","result","success","errorDiv","removeClass","html","vtranslate","hideModalWindow","reloadContent","showMessage","fail","error","err","showModalWindow","resisterSaveKeys","registerAuthorizedEvent","registerPagination","loadEditorElement","registerSaveIssues","registerGithubEvents"],"mappings":";;AAAA;AACA;AAEAA,yBAAyB,wBAAzB,EAAmD;qBAC9B,8BAAW;MAC1BC,OAAOC,EAAE,yBAAF,CAAX;MACIC,eAAe,IAAnB;OACKC,EAAL,CAAQ,OAAR,EAAiB,YAAW;gBACdC,WAAb,CAAyB,QAAzB,EAAmCH,EAAE,IAAF,EAAQI,IAAR,CAAa,IAAb,CAAnC;GADD;EAJiD;mBAQhC,0BAASC,KAAT,EAAgB;MAC7BJ,eAAe,IAAnB;MACIK,YAAYD,MAAME,IAAN,CAAW,mBAAX,CAAhB;YACUC,gBAAV,CAA2BC,IAAIC,uBAA/B;YACUH,IAAV,CAAe,WAAf,EAA4BL,EAA5B,CAA+B,OAA/B,EAAwC,YAAW;OAC9CI,UAAUE,gBAAV,CAA2B,UAA3B,CAAJ,EAA4C;QACvCG,SAAS;aACJ,QADI;aAEJF,IAAIG,mBAAJ,EAFI;aAGJ,cAHI;eAIFZ,EAAE,mBAAF,EAAuBa,GAAvB,EAJE;gBAKDb,EAAE,oBAAF,EAAwBa,GAAxB,EALC;YAMLb,EAAE,gBAAF,EAAoBa,GAApB;KANR;cAQUC,iBAAV,CAA4B,EAA5B;iBACaC,OAAb,CAAqBJ,MAArB,EACEK,IADF,CACO,UAASZ,IAAT,EAAe;eACVU,iBAAV,CAA4B,EAAEG,MAAM,MAAR,EAA5B;SACIb,KAAKc,MAAL,CAAYC,OAAZ,IAAuB,KAA3B,EAAkC;UAC7BC,WAAWd,UAAUC,IAAV,CAAe,WAAf,CAAf;eACSc,WAAT,CAAqB,QAArB;eACSC,IAAT,CAAcb,IAAIc,UAAJ,CAAe,cAAf,CAAd;MAHD,MAIO;UACFC,eAAJ;mBACaC,aAAb;UACId,SAAS;cACLF,IAAIc,UAAJ,CAAe,mBAAf,CADK;aAENd,IAAIc,UAAJ,CAAe,2BAAf,CAFM;aAGN;OAHP;uBAKiBG,WAAjB,CAA6Bf,MAA7B;;KAfH,EAkBEgB,IAlBF,CAkBO,UAASC,KAAT,EAAgBC,GAAhB,EAAqB;eAChBf,iBAAV,CAA4B,EAAEG,MAAM,MAAR,EAA5B;SACIO,eAAJ;KApBF;;GAXF;EAZiD;0BAgDzB,mCAAW;MAC/BvB,eAAe,IAAnB;IACE,YAAF,EAAgBC,EAAhB,CAAmB,OAAnB,EAA4B,YAAW;OAClC4B,eAAJ,CAAoB9B,EAAE,YAAF,CAApB,EAAqC,UAASM,SAAT,EAAoB;iBAC3CyB,gBAAb,CAA8BzB,SAA9B;IADD;GADD;EAlDiD;uBAwD5B,8BAASA,SAAT,EAAoB;MACrCL,eAAe,IAAnB;eACa+B,uBAAb;eACaC,kBAAb;YACU1B,IAAV,CAAe,uCAAf,EAAwDL,EAAxD,CAA2D,QAA3D,EAAqE,YAAM;gBAC7DC,WAAb,CAAyB,QAAzB,EAAmC,CAAnC;GADD;IAGE,eAAF,EAAmBD,EAAnB,CAAsB,OAAtB,EAA+B,YAAW;OACrCS,SAAS;YACJ,QADI;YAEJF,IAAIG,mBAAJ,EAFI;UAGN;IAHP;aAKUE,iBAAV,CAA4B,EAA5B;gBACaC,OAAb,CAAqBJ,MAArB,EAA6BK,IAA7B,CAAkC,UAASZ,IAAT,EAAe;cACtCU,iBAAV,CAA4B,EAAEG,MAAM,MAAR,EAA5B;QACIa,eAAJ,CAAoB1B,IAApB,EAA0B,YAAW;kBACvB8B,iBAAb;kBACaC,kBAAb;KAFD;IAFD;GAPD;EA/DiD;4BA+EvB,mCAASlC,YAAT,EAAuBgB,IAAvB,EAA6BX,SAA7B,EAAwC;eACrD8B,oBAAb,CAAkC9B,SAAlC;;CAhFF"}