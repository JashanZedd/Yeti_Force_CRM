{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_OSSMailScanner_Index_Js',\n\t{},\n\t{\n\t\tregisterColorField: function(field) {\n\t\t\tlet params = {};\n\t\t\tparams.tags = true;\n\t\t\tparams.templateSelection = function(object) {\n\t\t\t\tlet selectedId = object.id,\n\t\t\t\t\ttabValue = selectedId.split('@'),\n\t\t\t\t\tstate = object.text;\n\t\t\t\tif (!tabValue[0]) {\n\t\t\t\t\tstate = $('<span class=\"domain\">' + object.text + '</span>');\n\t\t\t\t}\n\t\t\t\treturn state;\n\t\t\t};\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(field, params);\n\t\t},\n\t\tregisterEditFolders: function(container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.find('.editFolders').on('click', function() {\n\t\t\t\tconst url =\n\t\t\t\t\t\t'index.php?module=OSSMailScanner&parent=Settings&view=Folders' +\n\t\t\t\t\t\t'&record=' +\n\t\t\t\t\t\t$(this).data('user'),\n\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tmessage: app.vtranslate('LBL_LOADING_LIST_OF_FOLDERS'),\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tapp.showModalWindow('', url, function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet recurrenceTree = new App.Components.Tree.Basic();\n\t\t\t\t\tdata.find('[name=\"saveButton\"]').on('click', function(e) {\n\t\t\t\t\t\tconst selectedFolders = self.getSelectedFolders(recurrenceTree.treeInstance);\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: 'OSSMailScanner',\n\t\t\t\t\t\t\tparent: 'Settings',\n\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\tmode: 'updateFolders',\n\t\t\t\t\t\t\tuser: data.find('.modal-body').data('user'),\n\t\t\t\t\t\t\tfolders: selectedFolders\n\t\t\t\t\t\t}).done(function(data) {\n\t\t\t\t\t\t\tlet response = data['result'],\n\t\t\t\t\t\t\t\temptyFoldersAlert = $('.js-empty-folders-alert'),\n\t\t\t\t\t\t\t\tmessageType = 'info';\n\t\t\t\t\t\t\tif (!response['success']) {\n\t\t\t\t\t\t\t\tmessageType = 'error';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttext: response['message'],\n\t\t\t\t\t\t\t\ttype: messageType\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (Object.keys(selectedFolders).length) {\n\t\t\t\t\t\t\t\temptyFoldersAlert.addClass('d-none');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\temptyFoldersAlert.removeClass('d-none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetSelectedFolders(treeInstance) {\n\t\t\tconsole.log(treeInstance.jstree('get_selected', true));\n\t\t\tlet folders = {};\n\t\t\tfor (let value of treeInstance.jstree('get_selected', true)) {\n\t\t\t\tif (!Array.isArray(folders[value.original.db_type])) {\n\t\t\t\t\tfolders[value.original.db_type] = [];\n\t\t\t\t}\n\t\t\t\tif (value.original.db_id !== undefined) {\n\t\t\t\t\tfolders[value.original.db_type].push(value.original.db_id);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn folders;\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tconst thisIstance = this,\n\t\t\t\tcontainer = jQuery('.contentsDiv');\n\t\t\tthisIstance.registerColorField($('#exceptions select'));\n\t\t\tthisIstance.registerEditFolders(container);\n\t\t\t$('#exceptions select')\n\t\t\t\t.on('select2:select', function(e) {\n\t\t\t\t\tlet value = e.params.data.id;\n\t\t\t\t\tif (!!thisIstance.domainValidateToExceptions(value) || !!thisIstance.email_validate(value)) {\n\t\t\t\t\t\tthisIstance.saveWidgetConfig(\n\t\t\t\t\t\t\tjQuery(this).attr('name'),\n\t\t\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t\t\t.val()\n\t\t\t\t\t\t\t\t.join(),\n\t\t\t\t\t\t\t'exceptions'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthisIstance.registerColorField(jQuery(this));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tjQuery(this)\n\t\t\t\t\t\t\t.find(\"option[value='\" + value + \"']\")\n\t\t\t\t\t\t\t.remove();\n\t\t\t\t\t\tjQuery(this).trigger('change');\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_mail_error'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on('select2:unselect', function() {\n\t\t\t\t\tthisIstance.saveWidgetConfig(jQuery(this).attr('name'), jQuery(this).val(), 'exceptions');\n\t\t\t\t});\n\n\t\t\t$('#status').on('change', function() {\n\t\t\t\t$('#confirm').attr('disabled', !this.checked);\n\t\t\t});\n\n\t\t\tjQuery('.conftabChangeTicketStatus').on('click', function() {\n\t\t\t\tif ($(this).data('active') == '1') {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t$('.conftabChangeTicketStatus').data('active', 0);\n\t\t\t\t$(this).data('active', 1);\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tasync: true,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: 'OSSMailScanner',\n\t\t\t\t\t\taction: 'SaveRcConfig',\n\t\t\t\t\t\tct: 'emailsearch',\n\t\t\t\t\t\ttype: 'changeTicketStatus',\n\t\t\t\t\t\tvale: $(this).val()\n\t\t\t\t\t}\n\t\t\t\t}).done(\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttext: data.result.data,\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfunction(data, err) {}\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tjQuery('.delate_accont').on('click', function() {\n\t\t\t\tif (window.confirm(app.vtranslate('whether_remove_an_identity'))) {\n\t\t\t\t\tconst userId = jQuery(this).data('user-id');\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tdata: { module: 'OSSMailScanner', action: 'AccontRemove', id: userId },\n\t\t\t\t\t\tasync: true\n\t\t\t\t\t}).done(function(data) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttext: data.result.data,\n\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tjQuery('#row_account_' + userId).hide();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tjQuery('.identities_del').on('click', function() {\n\t\t\t\tconst button = this;\n\t\t\t\tif (window.confirm(app.vtranslate('whether_remove_an_identity'))) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tdata: { module: 'OSSMailScanner', action: 'IdentitiesDel', id: jQuery(this).data('id') },\n\t\t\t\t\t\tasync: true\n\t\t\t\t\t}).done(\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttext: app.vtranslate('removed_identity'),\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tjQuery(button)\n\t\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t\t.remove();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(data, err) {}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tjQuery('.expand-hide').on('click', function() {\n\t\t\t\tlet userId = jQuery(this).data('user-id'),\n\t\t\t\t\ttr = jQuery('tr[data-user-id=\"' + userId + '\"]');\n\n\t\t\t\tif ('none' == tr.css('display')) {\n\t\t\t\t\ttr.show();\n\t\t\t\t} else {\n\t\t\t\t\ttr.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.alert').alert();\n\t\t\tjQuery(\"select[id^='function_list_']\").on('change', function() {\n\t\t\t\tthisIstance.saveActions(jQuery(this).data('user-id'), jQuery(this).val());\n\t\t\t});\n\t\t\tjQuery(\"select[id^='user_list_']\").on('change', function() {\n\t\t\t\tthisIstance.saveCRMuser(jQuery(this).data('user'), jQuery(this).val());\n\t\t\t});\n\t\t\tjQuery('#email_search').on('change', function() {\n\t\t\t\tthisIstance.saveEmailSearchList(jQuery('#email_search').val());\n\t\t\t});\n\t\t\tjQuery('#tab_email_view_widget_limit').on('blur', function() {\n\t\t\t\tthisIstance.saveWidgetConfig('widget_limit', jQuery(this).val(), 'email_list');\n\t\t\t});\n\t\t\tjQuery('#tab_email_view_open_window').on('change', function() {\n\t\t\t\tthisIstance.saveWidgetConfig('target', jQuery(this).val(), 'email_list');\n\t\t\t});\n\t\t\tjQuery('[name=\"email_to_notify\"]').on('blur', function() {\n\t\t\t\tlet value = jQuery(this).val();\n\t\t\t\tif (!!thisIstance.email_validate(value)) {\n\t\t\t\t\tthisIstance.saveWidgetConfig('email', value, 'cron');\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_mail_error'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tjQuery('[name=\"time_to_notify\"]').on('blur', function() {\n\t\t\t\tlet value = jQuery(this).val();\n\t\t\t\tif (!!thisIstance.number_validate(value)) {\n\t\t\t\t\tthisIstance.saveWidgetConfig('time', jQuery(this).val(), 'cron');\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_time_error'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.find('.js-page-num').on('change', function() {\n\t\t\t\tthisIstance.reloadLogTable($(this).val() - 1);\n\t\t\t});\n\t\t\tcontainer.find('.js-run-cron').on('click', function() {\n\t\t\t\tlet buttonInstance = $(this);\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: app.vtranslate('start_cron'),\n\t\t\t\t\ttype: 'info',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t\tbuttonInstance.attr('disabled', true);\n\t\t\t\tlet ajaxParams = {};\n\t\t\t\tajaxParams.data = { module: 'OSSMailScanner', action: 'Cron' };\n\t\t\t\tajaxParams.async = true;\n\t\t\t\tAppConnector.request(ajaxParams).done(function(data) {\n\t\t\t\t\tlet params = {};\n\t\t\t\t\tif (data.success && 'ok' === data.result) {\n\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\ttext: app.vtranslate('end_cron_ok'),\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams = {\n\t\t\t\t\t\t\ttitle: app.vtranslate('end_cron_error'),\n\t\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\tbuttonInstance.attr('disabled', false);\n\t\t\t\t\tthisIstance.reloadLogTable(container.find('.js-page-num').val() - 1);\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.on('click', '.js-stop-cron', function(e) {\n\t\t\t\tlet ajaxParams = {},\n\t\t\t\t\tscanId = $(e.currentTarget).data('scan-id');\n\t\t\t\tajaxParams.data = { module: 'OSSMailScanner', action: 'RestartCron', scanId: scanId };\n\t\t\t\tajaxParams.async = true;\n\t\t\t\tAppConnector.request(ajaxParams).done(function(data) {\n\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttext: data.result.data,\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcontainer.find('.js-run-cron').attr('disabled', false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthisIstance.reloadLogTable(container.find('.js-page-num').val() - 1);\n\t\t\t});\n\t\t},\n\t\tsaveActions: function(userid, vale) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'OSSMailScanner',\n\t\t\t\taction: 'SaveActions',\n\t\t\t\tuserid: userid,\n\t\t\t\tvale: vale\n\t\t\t}).done(function(data) {\n\t\t\t\tlet response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response['data']\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tsaveCRMuser: function(userid, value) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'OSSMailScanner',\n\t\t\t\taction: 'SaveCRMuser',\n\t\t\t\tuserid: userid,\n\t\t\t\tvalue: value\n\t\t\t}).done(function(data) {\n\t\t\t\tlet response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response['data']\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tisEmpty: function(val) {\n\t\t\tif (!!val || val === 0) {\n\t\t\t\treturn val;\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\tsaveEmailSearchList: function(vale) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'OSSMailScanner',\n\t\t\t\taction: 'SaveEmailSearchList',\n\t\t\t\tvale: vale\n\t\t\t}).done(function(data) {\n\t\t\t\tlet response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response['data']\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdomainValidateToExceptions: function(src) {\n\t\t\tlet regex = /^@([a-zA-Z0-9.-]+\\.)+[a-zA-Z0-9.-]{2,63}$/;\n\t\t\treturn regex.test(src);\n\t\t},\n\t\temail_validate: function(src) {\n\t\t\tlet regex = /^[a-zA-Z0-9._-]+@([a-zA-Z0-9.-]+\\.)+[a-zA-Z0-9.-]{2,63}$/;\n\t\t\treturn regex.test(src);\n\t\t},\n\t\tnumber_validate: function(value) {\n\t\t\tlet valid = !/^\\s*$/.test(value) && !isNaN(value);\n\t\t\treturn valid;\n\t\t},\n\t\tsaveWidgetConfig: function(name, value, type) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'OSSMailScanner',\n\t\t\t\taction: 'SaveWidgetConfig',\n\t\t\t\tconf_type: type,\n\t\t\t\tname: name,\n\t\t\t\tvalue: value\n\t\t\t}).done(function(data) {\n\t\t\t\tlet response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response['data']\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to reload table with given data from request\n\t\t * @param {int} page\n\t\t */\n\t\treloadLogTable: function(page) {\n\t\t\tconst self = this;\n\t\t\tlet container = $('.contentsDiv'),\n\t\t\t\tlimit = 30;\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'OSSMailScanner',\n\t\t\t\taction: 'GetLog',\n\t\t\t\tstart_number: page * limit\n\t\t\t}).done(function(data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tlet tab = container.find('table.js-log-list');\n\t\t\t\t\ttab.find('tbody tr').remove();\n\t\t\t\t\tfor (let i = 0; i < data.result.length; i++) {\n\t\t\t\t\t\tlet html =\n\t\t\t\t\t\t\t'<tr>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(data.result[i]['id']) +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(data.result[i]['start_time']) +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(data.result[i]['end_time']) +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(app.vtranslate(data.result[i]['status'])) +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(data.result[i]['user']) +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(data.result[i]['count']) +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(data.result[i]['stop_user']) +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(data.result[i]['action']) +\n\t\t\t\t\t\t\t'</td>' +\n\t\t\t\t\t\t\t'<td class=\"p-1\">' +\n\t\t\t\t\t\t\tself.isEmpty(data.result[i]['info']) +\n\t\t\t\t\t\t\t'</td><td>';\n\t\t\t\t\t\tif (data.result[i]['status'] === 'In progress') {\n\t\t\t\t\t\t\thtml +=\n\t\t\t\t\t\t\t\t'<button type=\"button\" class=\"btn btn-danger js-stop-cron\" data-scan-id=\"' +\n\t\t\t\t\t\t\t\tdata.result[i]['id'] +\n\t\t\t\t\t\t\t\t'\"';\n\t\t\t\t\t\t\tif (container.find('.js-run-cron').data('button-status')) {\n\t\t\t\t\t\t\t\thtml += ' disabled';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtml += '>' + app.vtranslate('JS_StopCron') + '</button>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml += '</td></tr>';\n\t\t\t\t\t\ttab.append(html);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","field","params","object","tabValue","id","split","state","text","$","Fields","Picklist","showSelect2ElementView","container","self","this","find","on","url","data","progressIndicatorElement","progressIndicator","app","vtranslate","showModalWindow","mode","recurrenceTree","App","Components","Tree","Basic","e","selectedFolders","getSelectedFolders","treeInstance","request","done","response","emptyFoldersAlert","messageType","showPnotify","Object","keys","length","addClass","removeClass","hideModalWindow","log","jstree","folders","value","Array","isArray","original","db_type","undefined","db_id","push","thisIstance","registerColorField","registerEditFolders","domainValidateToExceptions","email_validate","saveWidgetConfig","attr","val","join","remove","trigger","checked","success","result","err","window","confirm","userId","module","action","hide","button","parent","tr","css","show","alert","saveActions","saveCRMuser","saveEmailSearchList","number_validate","reloadLogTable","buttonInstance","ajaxParams","scanId","currentTarget","async","userid","vale","src","test","isNaN","name","type","page","tab","i","html","isEmpty","append"],"mappings":"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"}