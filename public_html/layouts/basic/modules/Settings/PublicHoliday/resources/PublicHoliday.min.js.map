{"version":3,"file":"PublicHoliday.min.js","sources":["PublicHoliday.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_PublicHoliday_Js', {}, {\n\n\t/**\n\t * Function that deletes holiday from list\n\t */\n\tregisterDeleteHoliday: function (element) {\n\t\tconst thisInstance = this;\n\t\telement.find('.deleteHoliday').each(function () {\n\t\t\tjQuery(this).on('click', function () {\n\t\t\t\tthisInstance.deleteHoliday(jQuery(this).data('holiday-id'));\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Delete chosen holiday date\n\t */\n\tdeleteHoliday: function (holidayId) {\n\t\tconst thisInstance = this,\n\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: \"Holiday\",\n\t\t\tmode: \"delete\",\n\t\t\tid: holidayId\n\t\t}).done(function (data) {\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tview: 'Configuration',\n\t\t\t\tasync: false\n\t\t\t}).done(function (data) {\n\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\tthisInstance.registerEvents();\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t\tSettings_Vtiger_Index_Js.showMessage({text: data.result.message});\n\t\t}).fail(function () {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\t/**\n\t * Function to register click event for add custom block button\n\t */\n\tregisterAddDate: function () {\n\t\tconst thisInstance = this,\n\t\t\tcontents = jQuery('#layoutDashBoards');\n\t\tcontents.find('.addDateWindow').on('click', function (e) {\n\t\t\tlet addBlockContainer = contents.find('.addDateWindowModal').clone(true, true),\n\t\t\t\ttranslate = app.vtranslate('JS_ADD_NEW_HOLIDAY');\n\t\t\taddBlockContainer.find('.modal-title').text(translate);\n\t\t\tlet callBackFunction = function (data) {\n\t\t\t\tdata.find('.addDateWindowModal').removeClass('d-none').show();\n\t\t\t\tlet form = data.find('.addDateWindowForm');\n\t\t\t\tjQuery('[name=\"holidayId\"]').val('');\n\t\t\t\tjQuery(document).find('div.blockOverlay').on('click', function () {\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t'position': 'html',\n\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\tview: 'Configuration',\n\t\t\t\t\t\tparent: app.getParentModuleName()\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tjQuery('.cancelLink').on('click', function () {\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t'position': 'html',\n\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\tview: 'Configuration',\n\t\t\t\t\t\tparent: app.getParentModuleName()\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t'position': 'html',\n\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.saveNewDate(form).done(function (data) {\n\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: data['result']['message']});\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tview: 'Configuration',\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName()\n\t\t\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: data['result']['message'],\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\treturn true;\n\t\t\t\t})\n\t\t\t};\n\t\t\tapp.showModalWindow(addBlockContainer, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {'width': '1000px'});\n\t\t});\n\t},\n\n\t/**\n\t * Function to register click event for add custom block button\n\t */\n\tregisterEditDate: function () {\n\t\tconst thisInstance = this,\n\t\t\tcontents = jQuery('#layoutDashBoards');\n\t\tcontents.find('.editHoliday').on('click', function (e) {\n\t\t\tlet addBlockContainer = contents.find('.addDateWindowModal').clone(true, true),\n\t\t\t\tdateElement = jQuery(this).closest('.holidayElement');\n\t\t\taddBlockContainer.find('[name=\"holidayId\"]').val(dateElement.data('holiday-id'));\n\t\t\taddBlockContainer.find('[name=\"holidayDate\"]').val(dateElement.data('holiday-date'));\n\t\t\taddBlockContainer.find('[name=\"holidayName\"]').val(dateElement.data('holiday-name'));\n\t\t\taddBlockContainer.find('[name=\"holidayType\"]').val(dateElement.data('holiday-type'));\n\t\t\tlet translate = app.vtranslate('JS_EDIT_HOLIDAY');\n\t\t\taddBlockContainer.find('.modal-title').text(translate);\n\n\t\t\tlet callBackFunction = function (data) {\n\t\t\t\tdata.find('.addDateWindowModal').removeClass('d-none').show();\n\t\t\t\tlet form = data.find('.addDateWindowForm');\n\t\t\t\tjQuery('[name=\"saveButton\"]').on('click', function () {\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t'position': 'html',\n\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthisInstance.saveNewDate(form).done(function (data) {\n\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: data['result']['message']});\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\tview: 'Configuration',\n\t\t\t\t\t\t\t\tparent: app.getParentModuleName()\n\t\t\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\t\ttext: data['result']['message'],\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\n\t\t\t\tjQuery(document).find('div.blockOverlay').on('click', function () {\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t'position': 'html',\n\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\tview: 'Configuration',\n\t\t\t\t\t\tparent: app.getParentModuleName()\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tjQuery('.cancelLink').on('click', function () {\n\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\t'position': 'html',\n\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\tview: 'Configuration',\n\t\t\t\t\t\tparent: app.getParentModuleName()\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\t\t\tthisInstance.registerEvents();\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t};\n\t\t\tapp.showModalWindow(addBlockContainer, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {'width': '1000px'});\n\t\t});\n\t},\n\n\t/**\n\t * Function to save the new custom block details\n\t */\n\tsaveNewDate: function (form) {\n\t\tconst thisInstance = this,\n\t\t\tparams = form.serializeFormData();\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['action'] = 'Holiday';\n\t\tparams['mode'] = 'save';\n\n\t\tif (params['holidayName'] == '' || params['holidayDate'] == '') {\n\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\ttext: app.vtranslate('JS_FILL_FORM_ERROR'),\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Configuration',\n\t\t\t\tparent: app.getParentModuleName()\n\t\t\t}).done(function (data) {\n\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\tthisInstance.registerEvents();\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t} else {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t}).fail(function (error) {\n\t\t\t\taDeferred.reject(error);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t}\n\n\t\treturn true;\n\t},\n\n\tregisterChangeDate: function () {\n\t\tconst thisInstance = this,\n\t\t\tdateFilter = jQuery('.dateFilter');\n\t\tApp.Fields.Date.registerRange(dateFilter, {ranges: false});\n\t\tdateFilter.on('apply.daterangepicker', function (ev, picker) {\n\t\t\tlet format = jQuery(ev.currentTarget).data('dateFormat').toUpperCase();\n\t\t\t$(this).val(picker.startDate.format(format) + ',' + picker.endDate.format(format));\n\t\t\tlet progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Configuration',\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tdate: '[\"' + picker.startDate.format(format) + '\",\"' + picker.endDate.format(format) + '\"]'\n\t\t\t}).done(function (data) {\n\t\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\t\tthisInstance.registerEvents();\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * register events for layout editor\n\t */\n\tregisterEvents: function () {\n\t\tthis.registerDeleteHoliday(jQuery('#moduleBlocks'));\n\t\tthis.registerAddDate();\n\t\tthis.registerEditDate();\n\t\tthis.registerChangeDate();\n\t}\n});\n\njQuery(document).ready(function () {\n\tlet instance = new Settings_PublicHoliday_Js();\n\tinstance.registerEvents();\n});\n"],"names":["jQuery","Class","element","thisInstance","find","each","on","deleteHoliday","data","holidayId","progressIndicatorElement","progressIndicator","request","app","getModuleName","getParentModuleName","done","html","registerEvents","showMessage","text","result","message","fail","contents","e","addBlockContainer","clone","translate","vtranslate","callBackFunction","removeClass","show","form","val","document","preventDefault","saveNewDate","hideModalWindow","showModalWindow","dateElement","closest","params","serializeFormData","aDeferred","Deferred","resolve","error","reject","promise","dateFilter","Fields","Date","registerRange","ranges","ev","picker","format","currentTarget","toUpperCase","startDate","endDate","mode","registerDeleteHoliday","registerAddDate","registerEditDate","registerChangeDate","ready","instance","Settings_PublicHoliday_Js"],"mappings":"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"}