{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["'use strict';\n\n$.Class(\n\t'Settings_RecordCollector_List_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * register onClick event.\n\t\t */\n\t\tregisterChangeStatusEvent: function (container) {\n\t\t\tcontainer.find('.js-status-change').on('click', function () {\n\t\t\t\tlet configButton = $(this).closest('tr').find('button');\n\t\t\t\tif(configButton.length) {\n\t\t\t\t\tif (this.checked) {\n\t\t\t\t\t\tconfigButton.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconfigButton.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'RecordCollector',\n\t\t\t\t\tparent: 'Settings',\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\tmode: 'changeStatus',\n\t\t\t\t\tcollector: this.value,\n\t\t\t\t\tstatus: this.checked\n\t\t\t\t}).done((data) => {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * register function for showing config modal.\n\t\t */\n\t\tregisterConfigModal: function (container) {\n\t\t\tcontainer.find('.js-show-config-modal').on('click', function () {\n\t\t\t\tconst recordCollectorName = this.dataset.name;\n\t\t\t\tapp.showModalWindow(null, 'index.php?module=RecordCollector&parent=Settings&view=ConfigModal&recordCollectorName=' + recordCollectorName,  function (modal) {\n\t\t\t\t\tmodal.on('click', \".js-modal__save\", function() {\n\t\t\t\t\t\tlet form = modal.find('form');\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: 'RecordCollector',\n\t\t\t\t\t\t\tparent: 'Settings',\n\t\t\t\t\t\t\taction: 'SaveConfig',\n\t\t\t\t\t\t\tcollector: recordCollectorName,\n\t\t\t\t\t\t\tconfig: form.serializeFormData(),\n\t\t\t\t\t\t}).done((data) => {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\t\ttext: data.result.message\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t}).fail((data) => {\n\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\ttext: data\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * register events.\n\t\t */\n\t\tregisterEvents: function () {\n\t\t\tconst container = $('.js-config-table');\n\t\t\tthis.registerChangeStatusEvent(container);\n\t\t\tthis.registerConfigModal(container);\n\t\t}\n\t}\n);\n"],"names":["$","Class","registerChangeStatusEvent","container","find","on","configButton","closest","length","checked","removeClass","addClass","AppConnector","request","module","parent","action","mode","collector","value","status","done","data","app","showNotify","type","text","result","message","registerConfigModal","recordCollectorName","dataset","name","showModalWindow","modal","form","config","serializeFormData","hideModalWindow","fail","registerEvents"],"mappings":";;AAAA,YAEAA,CAAAA,CAAC,CAACC,KAAF,CACC,kCADD,CAEC,EAFD,CAGC;AAED;AACA,KACEC,yBAAyB,CAAE,SAAA,yBAAA,CAAUC,SAAV,CAAqB,CAC/CA,SAAS,CAACC,IAAV,CAAe,mBAAf,CAAoCC,CAAAA,EAApC,CAAuC,OAAvC,CAAgD,UAAY,CAC3D,IAAIC,YAAY,CAAGN,CAAC,CAAC,IAAD,CAAD,CAAQO,OAAR,CAAgB,IAAhB,CAAA,CAAsBH,IAAtB,CAA2B,QAA3B,CAAnB,CACGE,YAAY,CAACE,MAF2C,GAGtD,IAAA,CAAKC,OAHiD,CAIzDH,YAAY,CAACI,WAAb,CAAyB,QAAzB,CAJyD,CAMzDJ,YAAY,CAACK,QAAb,CAAsB,QAAtB,CANyD,CAAA,CAS3DC,YAAY,CAACC,OAAb,CAAqB,CACpBC,MAAM,CAAE,iBADY,CAEpBC,MAAM,CAAE,UAFY,CAGpBC,MAAM,CAAE,UAHY,CAIpBC,IAAI,CAAE,cAJc,CAKpBC,SAAS,CAAE,IAAA,CAAKC,KALI,CAMpBC,MAAM,CAAE,IAAKX,CAAAA,OANO,CAArB,CAAA,CAOGY,IAPH,CAOQ,SAACC,IAAD,CAAU,CACjBC,GAAG,CAACC,UAAJ,CAAe,CACdC,IAAI,CAAE,SADQ,CAEdC,IAAI,CAAEJ,IAAI,CAACK,MAAL,CAAYC,OAFJ,CAAf,EAIA,CAZD,EAaA,CAtBD,EAuBA,CA5BF;AA8BD;AACA,KACEC,mBAAmB,CAAE,SAAU1B,mBAAAA,CAAAA,SAAV,CAAqB,CACzCA,SAAS,CAACC,IAAV,CAAe,uBAAf,CAAA,CAAwCC,EAAxC,CAA2C,OAA3C,CAAoD,UAAY,CAC/D,IAAMyB,mBAAmB,CAAG,IAAA,CAAKC,OAAL,CAAaC,IAAzC,CACAT,GAAG,CAACU,eAAJ,CAAoB,IAApB,CAA0B,yFAA2FH,mBAArH,CAA2I,SAAUI,KAAV,CAAiB,CAC3JA,KAAK,CAAC7B,EAAN,CAAS,OAAT,CAAkB,iBAAlB,CAAqC,UAAW,CAC/C,IAAI8B,IAAI,CAAGD,KAAK,CAAC9B,IAAN,CAAW,MAAX,CAAX,CACAQ,YAAY,CAACC,OAAb,CAAqB,CACpBC,MAAM,CAAE,iBADY,CAEpBC,MAAM,CAAE,UAFY,CAGpBC,MAAM,CAAE,YAHY,CAIpBE,SAAS,CAAEY,mBAJS,CAKpBM,MAAM,CAAED,IAAI,CAACE,iBAAL,EALY,CAArB,CAMGhB,CAAAA,IANH,CAMQ,SAACC,IAAD,CAAU,CACjBC,GAAG,CAACC,UAAJ,CAAe,CACdC,IAAI,CAAE,SADQ,CAEdC,IAAI,CAAEJ,IAAI,CAACK,MAAL,CAAYC,OAFJ,CAAf,CADiB,CAKjBL,GAAG,CAACe,eAAJ,GACA,CAZD,CAYGC,CAAAA,IAZH,CAYQ,SAACjB,IAAD,CAAU,CACjBC,GAAG,CAACC,UAAJ,CAAe,CACdC,IAAI,CAAE,OADQ,CAEdC,IAAI,CAAEJ,IAFQ,CAAf,EAIA,CAjBD,EAkBA,CApBD,EAqBA,CAtBD,EAuBA,CAzBD,EA0BA,CA3DF;AA6DD;AACA,KACEkB,cAAc,CAAE,SAAA,cAAA,EAAY,CAC3B,IAAMrC,SAAS,CAAGH,CAAC,CAAC,kBAAD,CAAnB,CACA,KAAKE,yBAAL,CAA+BC,SAA/B,CAF2B,CAG3B,IAAA,CAAK0B,mBAAL,CAAyB1B,SAAzB,EACA,CAnEF,CAHD;;"}