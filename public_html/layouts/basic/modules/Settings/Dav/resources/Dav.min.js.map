{"version":3,"file":"Dav.min.js","sources":["Dav.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Dav_Keys_Js', {}, {\n\t//This will store the MenuEditor Container\n\tmobileContainer: false,\n\t/**\n\t * Function to get the MenuEditor container\n\t */\n\tgetContainer: function () {\n\t\tif (this.mobileContainer == false) {\n\t\t\tthis.mobileContainer = jQuery('#DavKeysContainer');\n\t\t}\n\t\treturn this.mobileContainer;\n\t},\n\taddKey: function (e) {\n\t\tvar container = jQuery('#DavKeysContainer');\n\t\tvar editColorModal = container.find('.addKeyContainer');\n\t\tvar clonedContainer = editColorModal.clone(true, true);\n\t\tvar callBackFunction = function (data) {\n\t\t\tdata.find('.addKeyContainer').removeClass('d-none').show();\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('.select'));\n\t\t\tdata.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\tvar form = data.find('form');\n\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('Adding a Key'),\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\t\tsettingMobileInstance.registerSaveEvent('addKey', formData, true);\n\t\t\t\tprogress.progressIndicator({mode: 'hide'});\n\t\t\t});\n\t\t}\n\t\tapp.showModalWindow(clonedContainer, function (data) {\n\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\tcallBackFunction(data);\n\t\t\t}\n\t\t}, {'width': '1000px'});\n\t},\n\tdeleteKey: function (e) {\n\t\tvar target = $(e.currentTarget);\n\t\tvar closestTrElement = target.closest('.js-tr-row');\n\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\tsettingMobileInstance.registerSaveEvent('deleteKey', {\n\t\t\tuser: closestTrElement.data('user')\n\t\t});\n\t\tclosestTrElement.remove();\n\t},\n\tregisterSaveEvent: function (mode, data, reload) {\n\t\tvar params = {}\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: 'SaveAjax',\n\t\t\tmode: mode\n\t\t};\n\t\tif (typeof data !== \"undefined\") {\n\t\t\tfor (var i in data) {\n\t\t\t\tparams.data[i] = data[i];\n\t\t\t}\n\t\t}\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar params = {\n\t\t\t\ttext: response['message'],\n\t\t\t};\n\t\t\tif (response.success == true) {\n\t\t\t\tparams.type = 'success'\n\t\t\t} else {\n\t\t\t\tparams.type = 'error'\n\t\t\t}\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\tif (reload == true && response.success == true) {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t}).fail(function (data, err) {\n\t\t});\n\t},\n\tregisterEvents: function (e) {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContainer();\n\t\tcontainer.find('.js-add-key').on('click', thisInstance.addKey);\n\t\tcontainer.find('.js-delete-key').on('click', thisInstance.deleteKey);\n\t\tApp.Fields.Text.registerCopyClipboard(container);\n\t}\n});\n"],"names":["jQuery","Class","this","mobileContainer","e","clonedContainer","find","clone","callBackFunction","data","removeClass","show","Fields","Picklist","showSelect2ElementView","on","formData","serializeFormData","progress","$","progressIndicator","app","vtranslate","Settings_Dav_Keys_Js","registerSaveEvent","mode","showModalWindow","width","closestTrElement","currentTarget","closest","remove","reload","params","getModuleName","getParentModuleName","i","async","dataType","request","done","response","success","type","showPnotify","location","fail","err","container","getContainer","addKey","deleteKey","Text","registerCopyClipboard"],"mappings":"aAGAA,OAAOC,MAAM,uBAAwB,GAAI,kBAEvB,eAIH,kBACe,GAAxBC,KAAKC,uBACHA,gBAAkBH,OAAO,sBAExBE,KAAKC,wBAEL,SAAUC,OAGbC,gBAFYL,OAAO,qBACQM,KAAK,oBACCC,OAAM,GAAM,GAC7CC,iBAAmB,SAAUC,WAC3BH,KAAK,oBAAoBI,YAAY,UAAUC,WAChDC,OAAOC,SAASC,uBAAuBL,KAAKH,KAAK,iBAChDA,KAAK,uBAAuBS,GAAG,SAAS,SAAUX,OAElDY,SADOP,KAAKH,KAAK,QACDW,oBAChBC,SAAWC,EAAEC,kBAAkB,SACzBC,IAAIC,WAAW,0BACb,UACD,MAGiB,IAAIC,sBACVC,kBAAkB,SAAUR,UAAU,YACnDI,kBAAkB,CAACK,KAAM,iBAGhCC,gBAAgBrB,iBAAiB,SAAUI,uBAE5BA,QAEhB,CAACkB,MAAS,sBAEH,SAAUvB,OAEhBwB,iBADST,EAAEf,EAAEyB,eACaC,QAAQ,eACV,IAAIP,sBACVC,kBAAkB,YAAa,MAC9CI,iBAAiBnB,KAAK,2BAEZsB,4BAEC,SAAUN,KAAMhB,KAAMuB,YACpCC,OAAS,aACNxB,KAAO,QACLY,IAAIa,uBACJb,IAAIc,6BACJ,gBACFV,WAEa,IAAThB,SACL,IAAI2B,KAAK3B,YACNA,KAAK2B,GAAK3B,KAAK2B,UAGjBC,OAAQ,SACRC,SAAW,oBACLC,QAAQN,QAAQO,MAAK,SAAU/B,UACvCgC,SAAWhC,KAAA,OACXwB,OAAS,MACNQ,SAAA,SAEiB,GAApBA,SAASC,eACLC,KAAO,iBAEPA,KAAO,yBAEEC,YAAYX,QACf,GAAVD,QAAsC,GAApBS,SAASC,gBACvBG,SAASb,YAEfc,MAAK,SAAUrC,KAAMsC,yBAGT,SAAU3C,OAErB4C,UADe9C,KACU+C,yBACnB3C,KAAK,eAAeS,GAAG,QAFdb,KAEoCgD,kBAC7C5C,KAAK,kBAAkBS,GAAG,QAHjBb,KAGuCiD,eACtDvC,OAAOwC,KAAKC,sBAAsBL"}