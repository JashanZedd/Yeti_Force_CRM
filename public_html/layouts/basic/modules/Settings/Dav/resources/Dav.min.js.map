{"version":3,"file":"Dav.min.js","sources":["Dav.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Dav_Keys_Js', {}, {\n\t//This will store the MenuEditor Container\n\tmobileContainer: false,\n\t/**\n\t * Function to get the MenuEditor container\n\t */\n\tgetContainer: function () {\n\t\tif (this.mobileContainer == false) {\n\t\t\tthis.mobileContainer = jQuery('#DavKeysContainer');\n\t\t}\n\t\treturn this.mobileContainer;\n\t},\n\taddKey: function (e) {\n\t\tvar container = jQuery('#DavKeysContainer');\n\t\tvar editColorModal = container.find('.addKeyContainer');\n\t\tvar clonedContainer = editColorModal.clone(true, true);\n\t\tvar callBackFunction = function (data) {\n\t\t\tdata.find('.addKeyContainer').removeClass('d-none').show();\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(data.find('.select'));\n\t\t\tdata.find('[name=\"saveButton\"]').on('click', function (e) {\n\t\t\t\tvar form = data.find('form');\n\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\tvar progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('Adding a Key'),\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\t\t\tsettingMobileInstance.registerSaveEvent('addKey', formData, true);\n\t\t\t\tprogress.progressIndicator({mode: 'hide'});\n\t\t\t});\n\t\t}\n\t\tapp.showModalWindow(clonedContainer, function (data) {\n\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\tcallBackFunction(data);\n\t\t\t}\n\t\t}, {'width': '1000px'});\n\t},\n\tdeleteKey: function (e) {\n\t\tvar target = $(e.currentTarget);\n\t\tvar closestTrElement = target.closest('.js-tr-row');\n\t\tvar settingMobileInstance = new Settings_Dav_Keys_Js();\n\t\tsettingMobileInstance.registerSaveEvent('deleteKey', {\n\t\t\tuser: closestTrElement.data('user')\n\t\t});\n\t\tclosestTrElement.remove();\n\t},\n\tregisterSaveEvent: function (mode, data, reload) {\n\t\tvar params = {}\n\t\tparams.data = {\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: 'SaveAjax',\n\t\t\tmode: mode\n\t\t};\n\t\tif (typeof data !== \"undefined\") {\n\t\t\tfor (var i in data) {\n\t\t\t\tparams.data[i] = data[i];\n\t\t\t}\n\t\t}\n\t\tparams.async = false;\n\t\tparams.dataType = 'json';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar params = {\n\t\t\t\ttext: response['message'],\n\t\t\t};\n\t\t\tif (response.success == true) {\n\t\t\t\tparams.type = 'success'\n\t\t\t} else {\n\t\t\t\tparams.type = 'error'\n\t\t\t}\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\tif (reload == true && response.success == true) {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t}).fail(function (data, err) {\n\t\t});\n\t},\n\tregisterEvents: function (e) {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContainer();\n\t\tcontainer.find('.js-add-key').on('click', thisInstance.addKey);\n\t\tcontainer.find('.js-delete-key').on('click', thisInstance.deleteKey);\n\t\tApp.Fields.Text.registerCopyClipboard(container);\n\t}\n});\n"],"names":["jQuery","Class","mobileContainer","e","container","editColorModal","find","clonedContainer","clone","callBackFunction","data","removeClass","show","Fields","Picklist","showSelect2ElementView","on","form","formData","serializeFormData","progress","$","progressIndicator","app","vtranslate","settingMobileInstance","Settings_Dav_Keys_Js","registerSaveEvent","mode","showModalWindow","target","currentTarget","closestTrElement","closest","remove","reload","params","getModuleName","getParentModuleName","i","async","dataType","request","done","response","success","type","showPnotify","location","fail","err","thisInstance","getContainer","addKey","deleteKey","Text","registerCopyClipboard"],"mappings":";;AAAA;AACA;AAEAA,OAAOC,KAAP,CAAa,sBAAb,EAAqC,EAArC,EAAyC;;kBAEvB,KAFuB;;;;eAM1B,wBAAY;MACrB,KAAKC,eAAL,IAAwB,KAA5B,EAAmC;QAC7BA,eAAL,GAAuBF,OAAO,mBAAP,CAAvB;;SAEM,KAAKE,eAAZ;EAVuC;SAYhC,gBAAUC,CAAV,EAAa;MAChBC,YAAYJ,OAAO,mBAAP,CAAhB;MACIK,iBAAiBD,UAAUE,IAAV,CAAe,kBAAf,CAArB;MACIC,kBAAkBF,eAAeG,KAAf,CAAqB,IAArB,EAA2B,IAA3B,CAAtB;MACIC,mBAAmB,SAAnBA,gBAAmB,CAAUC,IAAV,EAAgB;QACjCJ,IAAL,CAAU,kBAAV,EAA8BK,WAA9B,CAA0C,QAA1C,EAAoDC,IAApD;OACIC,MAAJ,CAAWC,QAAX,CAAoBC,sBAApB,CAA2CL,KAAKJ,IAAL,CAAU,SAAV,CAA3C;QACKA,IAAL,CAAU,qBAAV,EAAiCU,EAAjC,CAAoC,OAApC,EAA6C,UAAUb,CAAV,EAAa;QACrDc,OAAOP,KAAKJ,IAAL,CAAU,MAAV,CAAX;QACIY,WAAWD,KAAKE,iBAAL,EAAf;QACIC,WAAWC,EAAEC,iBAAF,CAAoB;cACzBC,IAAIC,UAAJ,CAAe,cAAf,CADyB;gBAEvB;eACD;;KAHI,CAAf;QAMIC,wBAAwB,IAAIC,oBAAJ,EAA5B;0BACsBC,iBAAtB,CAAwC,QAAxC,EAAkDT,QAAlD,EAA4D,IAA5D;aACSI,iBAAT,CAA2B,EAACM,MAAM,MAAP,EAA3B;IAXD;GAHD;MAiBIC,eAAJ,CAAoBtB,eAApB,EAAqC,UAAUG,IAAV,EAAgB;OAChD,OAAOD,gBAAP,IAA2B,UAA/B,EAA2C;qBACzBC,IAAjB;;GAFF,EAIG,EAAC,SAAS,QAAV,EAJH;EAjCuC;YAuC7B,mBAAUP,CAAV,EAAa;MACnB2B,SAAST,EAAElB,EAAE4B,aAAJ,CAAb;MACIC,mBAAmBF,OAAOG,OAAP,CAAe,YAAf,CAAvB;MACIR,wBAAwB,IAAIC,oBAAJ,EAA5B;wBACsBC,iBAAtB,CAAwC,WAAxC,EAAqD;SAC9CK,iBAAiBtB,IAAjB,CAAsB,MAAtB;GADP;mBAGiBwB,MAAjB;EA9CuC;oBAgDrB,2BAAUN,IAAV,EAAgBlB,IAAhB,EAAsByB,MAAtB,EAA8B;MAC5CC,SAAS,EAAb;SACO1B,IAAP,GAAc;WACLa,IAAIc,aAAJ,EADK;WAELd,IAAIe,mBAAJ,EAFK;WAGL,UAHK;SAIPV;GAJP;MAMI,OAAOlB,IAAP,KAAgB,WAApB,EAAiC;QAC3B,IAAI6B,CAAT,IAAc7B,IAAd,EAAoB;WACZA,IAAP,CAAY6B,CAAZ,IAAiB7B,KAAK6B,CAAL,CAAjB;;;SAGKC,KAAP,GAAe,KAAf;SACOC,QAAP,GAAkB,MAAlB;eACaC,OAAb,CAAqBN,MAArB,EAA6BO,IAA7B,CAAkC,UAAUjC,IAAV,EAAgB;OAC7CkC,WAAWlC,KAAK,QAAL,CAAf;OACI0B,SAAS;UACNQ,SAAS,SAAT;IADP;OAGIA,SAASC,OAAT,IAAoB,IAAxB,EAA8B;WACtBC,IAAP,GAAc,SAAd;IADD,MAEO;WACCA,IAAP,GAAc,OAAd;;oBAEgBC,WAAjB,CAA6BX,MAA7B;OACID,UAAU,IAAV,IAAkBS,SAASC,OAAT,IAAoB,IAA1C,EAAgD;WACxCG,QAAP,CAAgBb,MAAhB;;GAZF,EAcGc,IAdH,CAcQ,UAAUvC,IAAV,EAAgBwC,GAAhB,EAAqB,EAd7B;EA/DuC;iBAgFxB,wBAAU/C,CAAV,EAAa;MACxBgD,eAAe,IAAnB;MACI/C,YAAY+C,aAAaC,YAAb,EAAhB;YACU9C,IAAV,CAAe,aAAf,EAA8BU,EAA9B,CAAiC,OAAjC,EAA0CmC,aAAaE,MAAvD;YACU/C,IAAV,CAAe,gBAAf,EAAiCU,EAAjC,CAAoC,OAApC,EAA6CmC,aAAaG,SAA1D;MACIzC,MAAJ,CAAW0C,IAAX,CAAgBC,qBAAhB,CAAsCpD,SAAtC;;CArFF"}