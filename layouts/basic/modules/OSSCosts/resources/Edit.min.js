
jQuery(document).ready(function(a){a("#myModal").css("z-index","999999999");a("#myModal .okay-button").click(function(){var b=a("#confirm").attr("disabled");if(typeof b=="undefined"){a("#myModal").modal("hide");a("#uninstall #EditView").submit()}});a("#status").change(function(){a("#confirm").attr("disabled",!this.checked)})});Inventory_Edit_Js("OSSCosts_Edit_Js",{},{getPopUpParams:function(a){var f=this._super(a);var d=jQuery('input[class="sourceField"]',a);if(d.attr("name")=="ticketid"||d.attr("name")=="potentialid"||d.attr("name")=="projectid"){var c=this.getForm();var e=c.find('[name="relategid"]');if(e.length>0&&e.val().length>0){var b=e.closest(".fieldValue");f.related_parent_id=e.val();f.related_parent_module=b.find('[name="popupReferenceModule"]').val()}}return f},searchModuleNames:function(e){var a=jQuery.Deferred();if(typeof e.module=="undefined"){e.module=app.getModuleName()}if(typeof e.action=="undefined"){e.action="BasicAjax"}if(e.search_module=="HelpDesk"||e.search_module=="Potentials"||e.search_module=="Project"){var c=this.getForm();var d=c.find('[name="relategid"]');if(d.length>0&&d.val().length>0){var b=d.closest(".fieldValue");e.parent_id=d.val();e.parent_module=b.find('[name="popupReferenceModule"]').val()}}AppConnector.request(e).then(function(f){a.resolve(f)},function(f){a.reject()});return a.promise()},registerReferenceSelectionEvent:function(a){this._super(a);var b=this;jQuery('input[name="relategid"]',a).on(Vtiger_Edit_Js.referenceSelectionEvent,function(d,c){})},registerQuantityChangeEventHandler:function(){var b=this;var a=this.getLineItemContentsContainer();a.on("focusout",".qty",function(g){var c=jQuery(g.currentTarget);var f=c.closest("tr."+b.rowClass);var d=f.data("quantityInStock");if(typeof d!="undefined"){f.find(".stockAlert").removeClass("hide").find(".maxQuantity").text(d)}b.quantityChangeActions(f)})},addressCostsFieldsMapping:["buildingnumber","localnumber","country","state","addresslevel3","addresslevel4","city","addresslevel6","code","street","pobox"],copyAddress:function(q,g,p,f){var e=false;var j=this;var i=this.getForm();var a=this.addressFieldsMapping;var d=this.addressCostsFieldsMapping;var c=this.addressFieldsMappingBlockID;from=c[q];if(p===false||f===false){from=c[q]}to=c[g];for(var l in a){var m=a[l]+from;var o=d[l];if(p){var h=j.addressFieldsData[m];var n=j.addressFieldsData[m+"_label"]}else{var h=i.find('[name="'+m+'"]').val();var n=i.find('[name="'+m+'_display"]').val()}var b=i.find('[name="'+o+'"]');var k=i.find('[name="'+o+'_display"]');if(h!=""&&h!="0"&&h!=undefined){if(k.length>0){k.attr("readonly",true)}e=true;b.val(h);k.val(n)}else{b.attr("readonly",false)}}if(e==false){if(f=="Accounts"){errorMsg="JS_SELECTED_ACCOUNT_DOES_NOT_HAVE_AN_ADDRESS"}else{if(f=="Contacts"){errorMsg="JS_SELECTED_CONTACT_DOES_NOT_HAVE_AN_ADDRESS"}else{errorMsg="JS_DOES_NOT_HAVE_AN_ADDRESS"}}Vtiger_Helper_Js.showPnotify(app.vtranslate(errorMsg))}},registerEvents:function(){this._super();this.registerQuantityChangeEventHandler()}});